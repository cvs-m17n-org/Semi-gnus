2001-09-11  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* lisp/gnus-art.el (gnus-request-article-this-buffer): Copy an
	article from `gnus-original-article-buffer' to
	`gnus-article-buffer'.  Generate `gnus-original-article-buffer'
	safely.

2001-09-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-bbdb.el (gnus-bbdb/pop-up-bbdb-buffer): Use
	`bbdb-display-layout' or `bbdb-pop-up-display-layout' instead of
	`bbdb-elided-display' or `bbdb-pop-up-elided-display' when BBDB
	v2.33 or later is running.

2001-08-29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-util.el (gnus-truncate-string): Abolished.

2001-08-18  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* lisp/nnshimbun.el (gnus-group-make-shimbun-group): Call
	`shimbun-groups' to detect avaiable groups of specified server.

2001-08-17  KANEMATSU Daiji  <kanematu@sra.co.jp>

	* lisp/message.el (message-signature-separator-for-insertion): New
	customizable variable which is used for signature separator.
	* lisp/message.el (message-insert-signature): Use variable
	`message-signature-separator-for-insertion' instead of hard code.

2001-08-15  Yoichi NAKAYAMA  <yoichi@eken.phys.nagoya-u.ac.jp>

	* texi/gnus-ja.texi (Browsing the Web): Fix typo.

2001-08-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 05.

2001-08-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-art.el (gnus-request-article-this-buffer): Insert an
	article into `gnus-original-article-buffer' instead of
	`gnus-article-buffer'.

2001-07-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-sum.el (gnus-select-newsgroup): Don't examine cached
	articles with `gnus-cache-articles-in-group' even if the current
	group is not a virtual group (see ChangeLog.1 1999-03-02).

2001-07-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 04.

	* lisp/nnmh.el (nnmh-retrieve-parsed-headers): Abolished.

	* lisp/gnus-sum.el (gnus-get-newsgroup-headers-xover): Don't use
	`gnus-retrieve-parsed-headers'.
	(gnus-fetch-headers): Ditto.

	* lisp/gnus-int.el (gnus-retrieve-parsed-headers): Abolished.

	* lisp/gnus-cache.el (gnus-cache-braid-headers): Abolished.
	(gnus-cache-retrieve-parsed-headers): Abolished.

2001-07-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-request-expire-articles): Bind
	`nnmail-expiry-wait-function' to nil if the group's parameter
	`expiry-wait' is specified by the user or the shimbun's default
	value is provided.

2001-07-27  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-msg.el (gnus-message-make-user-agent): New
	implementation.

2001-07-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 03.

	* lisp/nntp.el (nntp-request-newgroups): Use UTC date for
	NEWGROUPS command.

	* lisp/gnus-start.el (gnus-find-new-newsgroups): Use
	`message-make-date' instead of `current-time-string'.
	(gnus-ask-server-for-new-groups): Ditto.
	(gnus-check-first-time-used): Ditto.

2001-07-12  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/message.el (message-yank-original): Unwind-protect while
	suspending font-lock.
	(message-mode): Modify for the following changes.
	(message-font-lock-keywords-2): Abolished.
	(message-font-lock-keywords-1): Abolished.
	(message-font-lock-keywords): Unified.
	(message-font-lock-cited-text-matcher): Abolished.
	(font-lock-after-change-function): Don't advise it.
	(message-font-lock-last-position): Abolished.
	(message-font-lock-citation-name-max-column): Abolished.
	(message-font-lock-cited-text-regexp) Abolished.
	(message-font-lock-fence-close-position): Abolished.
	(message-font-lock-fence-open-position): Abolished.
	(message-font-lock-fence-close-regexp): Abolished.
	(message-font-lock-fence-open-regexp): Abolished.

2001-07-10  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/message.el (message-font-lock-keywords-1): Replace regexp
	for mml tags with `mime-edit-tag-regexp'.

2001-07-10  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/message.el (message-font-lock-keywords-2): Move definitions
	for cited texts and mml tags to `message-font-lock-keywords-1'.

2001-07-09  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/dgnushack.el: Add the parent directory of the directory
	where the APEL modules are installed to `load-path' according to
	the description of the file Mule23@1934.

2001-07-09  Akihiro Arisawa  <ari@atesoft.advantest.co.jp>

	* README.semi: Modify URI of emacs-w3m.
	* README.semi.ja: Ditto.
	* Mule23@1934.en: Ditto.
	* Mule23@1934.ja: Ditto.
	* lisp/nnshimbun.el: Ditto.

	* texi/gnus-ja.texi (Top, Article Treatment): Fix typo.
	(Web Newspaper): Modify URI of emacs-w3m.

2001-07-06  KITAGAWA Takurou  <i30x1641@ip.media.kyoto-u.ac.jp>

	* lisp/Makefile.in (clever): Use `if test... then' instead of
	`test... &&'.

2001-07-06  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/Makefile.in (clever): Change the quoting style for the
	elisp form to check for XEmacs-p.

	* lisp/dgnushack.el: Require `path-util' first, and then search
	for the path if it is not found.

2001-06-28  Akitada Koyama  <cx2@kh.rim.or.jp>

	* texi/gnus-ja.texi (Web Newspaper): Add a description how to show
	html documents inline.

2001-06-28  Katsumi Yamaoka <yamaoka@jpl.org>

	* texi/message-ja.texi (message-suspend-font-lock-when-citing): Add
	a description.
	* texi/message.texi (message-suspend-font-lock-when-citing): Ditto.

	* lisp/message.el (message-yank-original): Suspend font-lock'ing
	while citing an original message.
	(message-suspend-font-lock-when-citing): New user option.

2001-06-25  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-clfns.el (find-cl-run-time-functions): New
	implementation.

2001-06-22  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-art.el (article-display-x-face): Don't gather X-Face
	fields in `gnus-original-article-buffer'.

2001-06-18  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-find-parameter): Undo the last
	bogus changes; use the value of `nnshimbun-pre-fetch-article' if
	the value of the group parameter `prefetch-articles' is nil; do
	likewise for `encapsulate-images'.

2001-06-18  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-find-parameter): Use the value of
	`nnshimbun-pre-fetch-article' if the value of the group parameter
	`prefetch-articles' is `off'; do likewise for `encapsulate-images'.

2001-06-18  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-encapsulate-images): Fix a
	doc-string that both the values `off' and nil specifies not to
	encapsulate images.
	(nnshimbun-encapsulate-images): Fix a doc-string that both the
	values `off' and nil specifies not to encapsulate images.
	(nnshimbun-pre-fetch-article): Default to `off'.

2001-06-18  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-encapsulate-images): Renamed from
	`nnshimbun-encapsulate-article'.
	(nnshimbun-request-article-1): Replace `encapsulate-article' with
	`encapsulate-images'.
	(nnshimbun-find-parameter): Ditto.
	(nnshimbun-group-parameters): Ditto.
	(nnshimbun-group-parameters-custom): Ditto.

2001-06-15  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* lisp/nnshimbun.el (nnshimbun-group-parameters-custom): Add
	`encapsulate-article' as a customizable option, and modified
	`prefetch-articles'.
	(nnshimbun-group-parameters): Add document for
	`encapsulate-article'.
	(nnshimbun-encapsulate-article): New server variable.
	(nnshimbun-find-parameter): Add code for `encapsulate-article'.
	(nnshimbun-request-article-1): Refer `encapsulate-article' group
	parameter to control `shimbun-encapsulate-article' value when
	`shimbun-article' is called.

2001-06-14  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 02.

2001-06-14  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-request-expire-articles): Use
	`nnshimbun-find-parameter'.
	(nnshimbun-generate-nov-database): Bind a full group name while
	processing.
	(nnshimbun-find-parameter): New implementation to refer to the
	nnshimbun group parameters.
	(nnshimbun-index-range): Add a document that it's just a default.
	(nnshimbun-pre-fetch-article): Ditto.
	(nnshimbun-group-parameters): Specify a parameter type as `list'.
	(TopLevel): Remove the local variable "-*- coding: junet; -*-".

2001-06-13  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-group-parameters): New group
	parameter.  It also provides the user option
	`nnshimbun-group-parameters-alist' and the function
	`nnshimbun-find-group-parameters'.
	(nnshimbun-group-parameters-custom): New variable.
	(TopLevel): Require `gnus' expressly.

2001-06-12  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/nnshimbun.el (nnshimbun-find-parameter): New macro.
	(nnshimbun-generate-nov-database): Use `nnshimbun-find-parameter'.
	(nnshimbun-request-expire-articles): Fixed.

2001-06-12  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (Gnus-p): Use `file-exists-p' instead of
	`locate-library' to check for the existence of mailcap.el in the
	same directory of gnus.el.
	(nnshimbun-retrieve-headers-with-nov): Remove a redundant check
	that I made.

2001-06-11  Akihiro Arisawa  <ari@atesoft.advantest.co.jp>

	* lisp/nnshimbun.el (nnshimbun-request-expire-articles): Fix
	inhibiting the expiring when `nnshimbun-keep-unparsable-dated-articles'
	is nil.

2001-06-11  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/gnus-group.el (toplevel): Removed autoload code for
	"nnshimbun".

	* texi/gnus-ja.texi (Web Newspaper): Add documents about
	`nnshimbun-index-range'.

2001-06-11  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-request-expire-articles): Don't
	refer to the variable `nnshimbun-keep-last-article', we should
	keep the last article anyway.
	(nnshimbun-keep-last-article): Abolished.

	* lisp/gnus.el: Autoload "nnshimbun" for the command `gnus-group-
	make-shimbun-group'.

2001-06-11  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/nnshimbun.el: Remove some garbage.

2001-06-10  Katsumi Yamaoka <yamaoka@jpl.org>

	* texi/message-ja.texi: Use `iso-2022-7bit' instead of
	`iso-2022-7bit-ss2' to keep a compatibility between XEmacsen and
	FSF Emacsen.
	* texi/gnus-ja.texi: Ditto.

2001-06-09  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/nnshimbun.el (top-level): Updated comments.
	(nnshimbun): New customize group.
	(nnshimbun-keep-last-article): Defined as customize variable.
	(nnshimbun-keep-unparsable-dated-articles): Ditto.
	(nnshimbun-insert-nov): Use `when' instead of `if'.
	(gnus-group-shimbun-server-history): Imported from
	`gnus-group.el'.
	(gnus-group-make-shimbun-group): Ditto.

	* lisp/gnus-group.el (gnus-group-make-shimbun-group): Its real
	definition is moved to `nnshimbun.el' and autload code is added.
	(gnus-group-shimbun-server-history): Its definition is moved to
	`nnshimbun.el'.

2001-06-08  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/nnshimbun.el (nnshimbun-use-entire-index): Removed.
	(nnshimbun-index-range): New variable.
	(nnshimbun-close-server): Check status strictly to close server
	safely.
	(nnshimbun-generate-nov-database): Refer the group paramter
	`nnshimbun-index-range' as the second parameter of
	`shimbun-headers'.
	(shimbun-mua-use-entire-index): Removed.
	(nnshimbun-request-article-1): Replace a date string in
	`gnus-newsgroup-data' only when article header has non-nil value.
	(nnshimbun-insert-nov): Fixed condition to decide whether
	`X-Nnshimbun-Id' should be inseted or not.

2001-06-08  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-expire-nov-databases): Removed.
	(nnshimbun-request-expire-articles): Simplified; refer to the
	shimbun's default expiration days.

2001-06-07  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-request-expire-articles): Prefer the
	group parameter `expiry-wait' when expiring a closed group.

2001-06-07  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-request-article-1): Replace a date
	string in `gnus-newsgroup-data' based on the newly retrieved
	article.

2001-06-07  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-request-expire-articles): Fix
	inhibiting the expiring.

2001-06-06  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-expire-nov-databases): New command.
	(nnshimbun-request-expire-articles): New function.
	(nnshimbun-keep-unparsable-dated-articles): New variable.
	(nnshimbun-keep-last-article): New variable.
	(nnshimbun-insert-nov): Rewrite using `nnshimbun-string-or'.
	(nnshimbun-string-or): New macro.
	(nnshimbun-tmp-string): New internal variable.
	(TopLevel): Require `message' for `message-make-date'.

2001-05-30  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-clfns.el (find-cl-run-time-functions): Remove a
	useless non-global var; scroll the output window automatically.

2001-05-31  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/nnshimbun.el (nnshimbun-header-xref): Removed.
	(nnshimbun-check-header): Removed.
	(nnshimbun-make-shimbun-header): Don't call
	`nnshimbun-header-xref'.
	(nnshimbun-request-group): Simplified.
	(nnshimbun-request-article-1): Call `nnshimbun-replace-nov-entry'
	instead of `nnshimbun-check-header'.
	(nnshimbun-insert-nov): New function.
	(nnshimbun-generate-nov-database): Call `nnshimbun-insert-nov'
	instead of `nnheader-insert-nov'.
	(nnshimbun-replace-nov-entry): New function.

2001-05-29  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-clfns.el (find-cl-run-time-functions): Add a parser for
	`dolist'; protect against errors.

2001-05-29  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-retrieve-headers-with-nov): Don't
	use `last'.
	(nnshimbun-make-shimbun-header): Use the following macros.
	(nnshimbun-mail-header-from): New macro whose definition will be
	changed statically for Gnus or gnus.
	(nnshimbun-mail-header-subject): Ditto.
	(TopLevel): Don't require `gnus-clfns'.

	* lisp/gnus.el: Add autoload for `find-cl-run-time-functions'.

	* lisp/gnus-clfns.el (find-cl-run-time-functions): New command for
	the developers.
	(cl-run-time-functions): New variable.
	(TopLevel): Don't require `cl' at run-time.

2001-05-28  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* texi/gnus-ja.texi (Web Newspaper): Updated.

2001-05-28  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/dgnushack.el (dgnushack-unexporting-files): Add
	"nnshimbun.el" if the library "shimbun" is not found.
	(TopLevel): Add "/somewhere/apel/" to `load-path' if it is needed.
	(locate-library): Redefine it for Mule before it is called.

	* README.semi.ja: Update for the use of Emacs-W3M.
	* README.semi: Ditto.
	* Mule23@1934.ja: Ditto.
	* Mule23@1934.en: Ditto.

2001-05-28  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/nnshimbun.el: Reconstructed to use `shimbun'.

	* lisp/gnus-group.el (gnus-group-make-shimbun-group):
	Reconstructed to use `shimbun'.

	* lisp/dgnushack.el (toplevel): Add paths if and only if APEL and
	FLIM can't be found.

2001-05-16  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/dgnushack.el (dgnushack-bind-colon-keywords): Don't ignore
	`widget-convert-button', `widget-create' and `widget-put'; ignore
	`defface'.

2001-05-14  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus.el: Require `base64' if `base64-encode-string' is not a
	built-in function.

	* lisp/dgnushack.el (dgnushack-bind-colon-keywords): Ignore
	`defgroup'.

2001-05-14  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 01.

	* lisp/nnmail.el: Don't bind the colon keywords here.
	* lisp/gnus.el (gnus-colon-keywords): New variable which will
	default to the value of `dgnushack-colon-keywords'; bind them.
	* lisp/dgnushack.el (dgnushack-unexporting-files): Add
	dgnuskwds.el.
	(dgnushack-colon-keywords): New constant which will have the colon
	keywords shuld be bound at run-time for old Emacsen; cache them in
	the file dgnuskwds.el and bind them.
	(dgnushack-bind-colon-keywords): New function.
	(locate-library): Make the function to be silent for Mule.
	* lisp/Makefile.in (clean): Remove dgnuskwds.el.

2001-05-07  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/message.el (message-maybe-encode): Don't use
	`end-of-invisible'.

2001-05-07  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el: T-gnus 6.15.3 revision 00.

2001-04-27  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 01.

	* lisp/gnus-art.el (gnus-article-mime-edit-exit): Set buffer to
	`gnus-article-buffer' just before `gnus-article-prepare-display' is
	called.
	(gnus-article-mime-edit-article-setup): Ditto.
	(gnus-article-prepare-display): Don't bind `buffer-read-only'
	because of `inhibit-read-only'; don't set the value of
	`gnus-article-current-summary' here; delete all extents or overlays
	and clear the value of `gnus-button-marker-list' in advance; make
	it to run in `gnus-article-buffer'.
	(gnus-article-prepare): Make it to run in `gnus-article-buffer'.
	(article-toggle-headers): Don't bind `buffer-read-only' because of
	`inhibit-read-only'.
	(article-hide-headers): Ditto.

2001-04-16  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el: T-gnus 6.15.2 revision 00.

2001-04-16  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el: T-gnus 6.15.1 revision 00.

2001-04-13  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/lpath.el: Fbind `xml-parse-region' for XEmacsen and old FSF
	Emacsen; don't bind `mh-lib-progs'.

2001-04-10  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el: Enclose w3m stuff with `eval-and-compile';
	bind `w3m-work-buffer-name' and `w3m-retrieve' when compiling.

2001-04-09  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 10.

2001-04-03  TSUCHIYA Masatoshi  <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* lisp/nnshimbun.el (nnshimbun-type-definition: Follow changes in
	asahi.com.
	(nnshimbun-asahi-get-headers): Ditto.
	(nnshimbun-retrieve-url): Use `w3m-retrieve' if it is available.

2001-04-02  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-msg.el (gnus-inews-yank-articles): Make it to work with
	multiple articles even if there is a detached minibuffer frame on
	some window managers.

2001-03-21  Thierry Emery <thierry.emery@club-internet.fr>

	* lisp/mm-decode.el (mm-copy-to-buffer): Copy buffer in unibyte
	mode.

2001-03-19  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-kill.el (gnus-execute): Work with the extra headers.
	* lisp/gnus-sum.el (gnus-summary-execute-command): Ditto.

2001-03-13  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/message.el (message-fix-before-sending): Hide again the
	invisible property of encoded binary data parts after checking is
	done.
	(message-find-invisible-regions): New function.
	(message-save-drafts, message-send): Inherit the invisible property
	of encoded binary data parts to make MIME-Edit find the MIME part
	boundaries.

	* lisp/dgnushack.el (dgnushack-compose-package): Tidy up.
	(dgnushack-make-load): Ditto.

2001-03-12  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/dgnushack.el (dgnushack-compose-package): New function.
	(dgnushack-make-load): Add autoload for cus-load if it is missing.

	* lisp/Makefile.in (compose-package): Use
	`dgnushack-compose-package'.
	(clean, clever): Remove custom-load.el.

	* Makefile.in (elclean): Remove custom-load.el.

2001-03-08  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-art.el (gnus-article-prepare-display): Setup MIME
	entity even if `gnus-show-mime' is nil.

2001-03-08  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/dgnushack.el: Load gnus-clfns.el after `load-path' is
	adjusted.

	* lisp/gnus-clfns.el (string): New compiler macro.
	(string): Defun-maybe as an ordinary function since it won't be
	provided in cl.
	* lisp/gnus-score.el (gnus-score-find-bnews): Use it as Gnus does.

2001-03-06  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-retrieve-url): Check if
	`url-current-mime-charset' is bound.

2001-03-04  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-info-find-node): Pretend to be
	`gnus-article-mode' in the article buffer.

2001-03-02  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-kinsoku-eol-list): Simplified.
	(nnshimbun-kinsoku-bol-list): Ditto.

2001-03-01  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 09.

	* lisp/gnus-offline.el (gnus-offline-get-menu-items): Rewrite using
	`dolist'.

	* lisp/gnus-group.el (gnus-group-make-shimbun-group): Simplified.

	* lisp/dgnushack.el: Load cl-macs to ensure that the macro `dolist'
	is defined properly.

2001-02-28  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnwfm.el: Require `gnus-clfns' when compiling.
	* lisp/nnshimbun.el: Ditto.
	* lisp/nnfolder.el: Ditto.
	* lisp/mm-util.el: Ditto.
	* lisp/gnus-vers.el: Ditto.
	* lisp/gnus-sum.el: Ditto.
	* lisp/gnus-score.el: Ditto.
	* lisp/gnus-nocem.el: Ditto.

	* lisp/gnus-ofsetup.el: Don't require `gnus-clfns'.
	(gnus-ofsetup-customize-done): Use `dolist' instead of `mapc'.
	(gnus-setup-for-offline): Ditto.

	* lisp/gnus-offline.el: Don't use `mapc' for binding some vars;
	don't require `gnus-clfns'.

	* lisp/gnus-clfns.el (subseq, merge, coerce, butlast): New compiler
	macros.
	(mapc): Remove.

	* lisp/gnus-art.el: Use `dolist' instead of `mapcar' for defining
	`gnus-article-read-summary-keys'.

2001-02-28  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-art.el (gnus-article-mime-edit-article-setup): Leave
	the forwarded parts undecoded.
	(gnus-article-decode-article-as-default-mime-charset): Set the
	value of `default-mime-charset' buffer-locally.

2001-02-27  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus.el: Add autoloads for
	`gnus-summary-digest-post-forward' and
	`gnus-summary-digest-mail-forward'.

	* lisp/gnus-sum.el (gnus-summary-post-menu): Replace
	`gnus-uu-digest-mail-forward' and `gnus-uu-digest-post-forward'
	with `gnus-summary-digest-post-forward' and
	`gnus-summary-digest-mail-forward'.

	* lisp/gnus-msg.el (gnus-summary-digest-post-forward): Restore and
	repair the command `gnus-summary-post-digest' and rename it.
	(gnus-summary-digest-mail-forward): Ditto.
	(gnus-summary-send-map): Replace `gnus-uu-digest-mail-forward' and
	`gnus-uu-digest-post-forward' with
	`gnus-summary-digest-post-forward' and
	`gnus-summary-digest-mail-forward'.

2001-02-27  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-sum.el (gnus-summary-show-article): Bind
	`gnus-inhibit-treatment' to t while fetching the raw article.

	* lisp/gnus-art.el (gnus-article-mime-edit-exit): Bind
	`mime-edit-insert-user-agent-field' to nil while `mime-edit-exit'
	is being done;  turn off font-lock first;  query if the buffer is
	modified.
	(gnus-article-mime-edit-done): New function.
	(gnus-article-mime-edit-article-setup): Make the window fill its
	frame;  clear the buffere modified flag;  substitute key definition
	`gnus-article-edit-done' with `gnus-article-mime-edit-done';  don't
	turn off font-lock here;  bind `mime-edit-insert-user-agent-field'
	to nil while `mime-edit-exit' is being done.
	(gnus-article-mime-edit-article-unwind): Turn off font-lock first.

2001-02-23  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/dgnushack.el: Don't require `emu'.

2001-02-16  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/message.el (message-forward-subject-author-subject): Decode
	`From' field.

2001-02-16  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 08.

	* lisp/gnus-sum.el (gnus-get-newsgroup-headers-xover): Don't use
	`gnus-retrieve-parsed-headers' when the backend is nnimap.  It is
	only a temporary fix for an infloop on nnimap.  FIXME!!!
	(gnus-select-newsgroup): Ditto.

2001-02-16  Katsumi Yamaoka <yamaoka@jpl.org>

	* texi/gnus-ja.texi (New features in Gnus 5.8): Remove annotation
	about `gnus-article-display-hook.'
	* texi/gnus-faq-ja.texi (Q2.1): Remove mention of
	`gnus-article-display-hook.'

	* lisp/gnus.el (gnus-article-display-hook): Abolished.

	* lisp/gnus-uu.el (gnus-uu-grab-articles): Don't care about
	`gnus-article-display-hook'.
	* lisp/gnus-sum.el (gnus-summary-show-article): Ditto.
	(gnus-summary-search-article): Ditto.

	* lisp/gnus-bbdb.el (gnus-bbdb-insinuate): Use
	`gnus-article-prepare-hook' instead of `gnus-article-display-hook'.

	* lisp/gnus-art.el (gnus-article-prepare-display): Evaluate
	`gnus-article-prepare-hook' after an article has been prepared;
	don't evaluate `gnus-article-display-hook'.

2001-02-15  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/message.el (message-cite-original-without-signature):
	Extract from field for the simple citation line.

2001-02-14  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 07.

	* lisp/dgnushack.el (dgnushack-make-autoloads): Remove function.
	(dgnushack-make-load): Ignore cus-load.el if it does not exist.
	(dgnushack-make-auto-load): Remove auto-autoloads.el.
	(dgnushack-make-cus-load): Do nothing if loading cus-dep is failed.

	* lisp/Makefile.in (clean): Remove gnus-load.el instead of
	custom-load.el.
	(compose-package): Call `gnus-load.elc' and then rename
	gnus-load.el(c) to auto-autoloads.el(c) instead of the use of
	`dgnushack-make-autoloads'.
	(clever): No need to remove custom-load.el.

	* Makefile.in (elclean): Remove gnus-load.el instead of
	custom-load.el.

	* aclocal.m4 (AC_CHECK_URL): Ignore cache.

2001-02-13  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 06.

2001-02-11 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* GNUS-NEWS: Copyright and others.

2001-02-09 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* aclocal.m4 (AC_CHECK_URL): Add.

	* configure.in: Use it.

2001-02-08  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnshimbun.el (nnshimbun-fml-get-headers): Fix unbalanced
	parentheses.

2001-02-08  Akihiro Arisawa  <ari@atesoft.advantest.co.jp>

	* lisp/nnshimbun.el: Add `bbdb-ml' support.

2001-02-02  Akihiro Arisawa  <ari@atesoft.advantest.co.jp>

	* lisp/nnshimbun.el (nnshimbun-type-definition): Follow URL change
	of `xemacs'.
	(nnshimbun-xemacs-get-headers): Ditto.

2001-02-06  Katsumi Yamaoka <yamaoka@jpl.org>

	* README-gnus-bbdb.{en,ja}: Update the patch for BBDB v2.2.

2001-02-01  Katsumi Yamaoka <yamaoka@jpl.org>

	* texi/Makefile.in (.texi, %.info): Don't use makeinfo command when
	gnus-ja.texi or message-ja.texi is given.  It is needed for some
	make command if which can not understand "%-ja:" or "%-ja.info:".

2001-01-31  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-sum.el (gnus-summary-display-article): Replace
	`mm-enable-multibyte-mule4' with `set-buffer-multibyte'.

2001-01-29  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-art.el (gnus-article-mime-edit-exit): Use
	`buffer-substring-no-properties' instead of `format'.

2001-01-23  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* texi/ptexinfmt.el: Support @letterpaper and @afivepaper.

2001-01-22  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 05.

	* Makefile.in (install-package-lisp): Use
	`install-without-compiling' instead of `install'.

	* lisp/Makefile.in (install): Use `install-without-compiling'.
	(install-without-compiling): New target.

2001-01-22  Katsumi Yamaoka <yamaoka@jpl.org>

	* texi/Makefile.in (.texi, %.info, %-ja.info, %-ja): Use
	`infohack-texi-format'.

	* texi/infohack: (infohack-texi-format): New function.
	* lisp/dgnushack.el (dgnushack-texi-format): Move to
	texi/infohack.el and rename.
	(dgnushack-texi-add-suffix-and-format): Remove.

	* texi/ptexinfmt.el: New file.
	* lisp/ptexinfmt.el: Move to texi/.

2001-01-18  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 04.

2001-01-17  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/dgnushack.el (dgnushack-make-autoloads): Do nothing if the
	files for autoloads already exist.
	(dgnushack-unexporting-files): More useful message.

	* lisp/Makefile.in (install): Call `clever' before installing.
	(install-lisp): Remove.
	(clever): Check for whether the all elc files should be recompiled.

	* Makefile.in (xclever): New target.
	(install-package-lisp): Replace `install-lisp' with `install'.
	(install-package-ja): Replace `xlick' with `xclever'.
	(install-package): Ditto.

2001-01-17  KOSEKI Yoshinori  <kose@wizard.tamra.co.jp>

	* Makefile.in: Unset `PWD' for Meadow/NTEmacs.

2001-01-15  Jesper Harder <harder@ifa.au.dk>

	* make.bat: Fix doc.

2001-01-15  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/nnheader.el: Require `pces', `poem' and `std11' to reduce
	the required value of `recursive-load-depth-limit' for Emacs 21.

	* lisp/message.el (message-followup): Handle "Mail-Copies-To:"
	correctly.
	(message-get-reply-headers): Ditto.

2001-01-15  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/gnus-bbdb.el (gnus-bbdb/update-record): Save excursion
	while `bbdb-annotate-message-sender' is being done.

2001-01-13  Kinji Itoh  <kinji-i@ma.neweb.ne.jp>

	* Makefile.in (install-package-lisp): Specify EMACS=$(XEMACS).

2001-01-11  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-msg.el (gnus-copy-article-buffer): Remove smiley
	extents for XEmacs 21.1 using `format'.

	* lisp/dgnushack.el (dgnushack-texi-format): Cancel last change.

2001-01-10  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 03.

	* lisp/gnus.el: Don't autoload "smiley" for `smiley-toggle-buffer';
	don't autoload "gnus-bitmap" or "x-face-mule" when Emacs 21 is
	running.

	* lisp/gnus-art.el (TopLevel): Autoload "gnus-bitmap" for
	`smiley-toggle-buffer' when compiling.
	(gnus-treatment-function-alist): Use `gnus-smiley-display' for
	`gnus-treat-display-smileys' by default when XEmacs or Emacs 21 is
	running.
	(gnus-treat-display-smileys): Check for `smiley-mule' instead of
	`gnus-bitmap'.
	(gnus-article-x-face-command): Don't check for xbm for x-face-e21.

2001-01-05  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 02.

	* lisp/dgnushack.el (dgnushack-texi-format): Remove "@anchor" if it
	is not supported.

2000-12-26  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus.el: Bind `:parameter-type', `:parameter-document',
	`:function', `:function-document', `:variable',
	`:variable-document', `:variable-group', `:variable-type' and
	`:variable-default' for old Emacsen.

2000-12-22  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el (gnus-revision-number): Increment to 01.

	* configure: Regenerate.
	* configure.in: Add `AC_PATH_ETCDIR'.
	* Makefile.in (install-etc): New target.

	* lisp/nnheader.el (mm-image-load-path): Alias to
	`nnheader-image-load-path'.
	(nnheader-image-load-path): New function copied from
	the function `mm-image-load-path' in mm-util.el.

	* lisp/drums.el: Remove.

2000-12-22 03:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* configure.in: Add etc/Makefile.

2000-12-22  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-msg.el (gnus-debug): Use `sit-for' in the inside of
	`save-excursion'.
	(gnus-bug): Pop up the sending buffer first.

	* lisp/gnus-art.el (article-treat-dumbquotes): Quote backslashes in
	doc-string.

	* lisp/dgnushack.el
	(byte-compile-file-form-custom-declare-variable): Use `defvar'
	instead of `custom-declare-variable' to make the variable
	uncustomizable if the arguments has the keyword `:version'.

2000-12-22  Katsuhiro Hermit Endo  <hermit@koka-in.org>

	* README.semi.ja: Fix typo.

2000-12-21  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/lpath.el: Fbind `compose-mail' for Mule.

	* lisp/dgnushack.el (TopLevel): Byte-optimize
	`custom-declare-variable', `custom-declare-group, and
	`custom-declare-face' to omit unsupported keywords when Mule is
	running.

2000-12-20  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-vers.el: T-gnus 6.15.0 revision 00.

	* lisp/dgnushack.el (TopLevel): Advise `custom-handle-keyword' not
	to signal an error when Mule is running.
	(TopLevel): Bind `:ascent', `:foreground', `:help', `:version' and
	`:set-after' if colon keyword is not available.
	(TopLevel): Require `custom'.

	* lisp/lpath.el (TopLevel): Fbind `shell-command-to-string' for
	Mule.
	(TopLevel): Don't require `custom' here.

2000-12-20  Jesper Harder <jesper_harder@hotmail.com>

	* make.bat: set max-lisp-eval-depth.

See ChangeLog.3 for earlier changes.
