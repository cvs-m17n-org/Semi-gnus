2002-07-03  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.31 (This is alpha status.)
	Error on `Advanced Scoring', fixed.
	Fix creation rule for In-Reply-To.
	Sync up gnus-namazu.el with T-gnus. (I forgot commit it.  Sorry.)

	* lisp/gnus-namazu.el: Sync up with T-gnus.

	* lisp/message.el (message-subject-re-regexp): Modify matching
	pattern.
	(message-yank-original): Don't add new Messagd-Id to In-Reply-To
	field when it was already exists.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.31.

	* lisp/gnus-logic.el (gnus-advanced-index): Use
	`luna-class-slot-index'.

2002-01-22  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.30 (This is alpha status.)
	Change user operation when open the large group.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.30.

	* lisp/gnus-sum.el (gnus-summary-default-select-to-read): New variable.
	(gnus-summary-select-to-read-help-winconf): Ditto.
	(gnus-summary-select-to-read): Rename from
	`gnus-summary-read-number-from-minibuffer' and rewrite.
	(gnus-summary-select-to-read-kill-help-buffer): New function.
	(gnus-articles-to-read): Use `gnus-summary-select-to-read'.

2002-01-16  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.29 (This is alpha status.)
	Sync. up `nnshimbun.el' with T-gnus.
	Change user operation when open the large group.  (This is
	preliminary.)

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.29.

	* lisp/gnus-sum.el (gnus-summary-read-number-from-minibuffer): New
	function.
	(gnus-articles-to-read): Use
	`gnus-summary-read-number-from-minibuffer'.

2002-01-10  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/nnshimbun.el: Sync up with T-gnus.

2002-01-10  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.28 (This is alpha status.)
	Sync. up `gnus-namazu.el' with T-gnus.
	Sync. up `nnshimbun.el' with T-gnus.  Require `Emacs-W3M' and the
	external command W3M, see the commentary in `nnshimbun.el' for
	these packages.

	* lisp/nnshimbun.el: Sync up with T-gnus.

	* lisp/gnus.el (gnus-define-group-parameter): Import from Oort
	gnus.
	(TopLevel): Add autoload of `gnus-group-make-shimbun-group'.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.28.

	* lisp/gnus-namazu.el: Sync up with T-gnus.

	* lisp/gnus-group.el (gnus-group-gourp-map): Bind
	`gnus-group-make-shimbun-group' to `G n'.
	(gnus-group-group-menu): Add `gnus-group-make-shimbun-group' to
	``Foreign groups'' in ``Groups' menu.

	* lisp/dgnushack.el (dgnushack-compile): Don't compile
	`nnshimbun.el' when `shimbun' package is not installed.

2001-12-25  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.27 (This is alpha status.)
	Import `gnus-namazu.el' from T-gnus. (Thanks Tsuchiya-SAN.)
	Fix a bug.

	* lisp/gnus-namazu.el: Import from T-gnus.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.27.

	* lisp/gnus-group.el (gnus-group-mode-map): Define "\C-c\C-n" as
	`gnus-namazu-search'.

	* lisp/gnus-sum.el (gnus-summary-mode-map): Ditto.

	* lisp/gnus.el (TopLevel): Add autoload of `gnus-namazu-search'.

	* lisp/message.el (message-cancel-news): Could not cancel article,
	fixed.

2001-09-17  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.26 (This is alpha status.)
	Set unibyte mode to `gnus-article-buffer' while parsing article.
	Adopt RFC2822 for `References' and `In-Reply-To' field.
	Fix a bug.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.26.

	* lisp/mm-decode.el (mm-copy-to-buffer): Disable multibyte in
	` *mm*' buffer.

	* lisp/message.el: Adopt RFC2822 for `References' and
	`In-Reply-To' field.
	(message-yank-add-new-references): Change initial value to nil
	instead of t.
	(message-header-format-alist): Format `In-Reply-To' field as same
	as `References' field.
	(message-yank-original): Add message id to `In-Reply-To' field
	instead of `References'.
	(message-replace-reference): New function.
	(message-make-in-reply-to): Return only `Message-Id'.
	(message-reply): Insert `In-Reply-To' field.

	* lisp/gnus-bbdb.el (gnus-bbdb/insert-address-regexp):
	`regexp-quote' for each addresses.

	* lisp/gnus-art.el (gnus-article-prepare): Disable multibyte in
	`*Article*' buffer while parsing article.
	(gnus-display-mime): Ditto.

2001-07-25  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/mm-decode.el (mm-dissect-buffer): Could not handle
	message/partial message, fixed.

2001-07-25  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.25 (This is alpha status.)
	Set unibyte mode to `gnus-original-article-buffer'.
	Fix bugs. (Thanks to Yamaoka-san.)

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.25.

	* lisp/nntp.el (nntp-possibly-change-group): Clean up trash string
	when connect to the server.

	* lisp/message.el (message-make-date): `format-time-string' does
	not depend `system-time-locale' on Eamcs 21.

	* lisp/gnus-sum.el (gnus-build-sparse-threads): Use
	`make-full-mail-header-from-decoded-header' instead of
	`make-full-mail-header'.

	* lisp/gnus-art.el, lisp/gnus-bbeb.el: Set unibyte mode to
	`gnus-original-article-buffer'.

2001-07-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lisp/nntp.el (nntp-request-newgroups): Use UTC date for
	NEWGROUPS command.

	* lisp/gnus-start.el (gnus-find-new-newsgroups): Use
	`message-make-date' instead of `current-time-string'.
	(gnus-ask-server-for-new-groups): Ditto.
	(gnus-check-first-time-used): Ditto.

2000-08-23  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.24 (This is alpha status.)
	Sync up with T-gnus.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.24.

*2000-08-23  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-group.el (gnus-group-rename-group): Inhibit renaming of
	zombie or killed groups.

2000-07-18  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.23 (This is alpha status.)
	Changes for Chao 1.14 and REMI 1.14.
	`message-mail-follow-up-address-checker'. (same as Nana-gnus 6.x)
	`gnus-bbdb/show-to' and `gnus-bbdb/edit-notes-to' to `[' and `]'
	in `gnus-summary-mode-map'.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.23.

	* lisp/mmgnus.el (TopLevel): Require `mmgeneric' always.
	(mmgnus-entiry::mime-entity-fetch-field): Define method.
	(mmgnus-entiry::mime-entity-body): Do not error.
	(mmgnus-entiry::mime-insert-text-content): Define method.
	(mmgnus-entiry::mime-insert-entity-body): Ditto.
	(mime-gnus-entity::mime-entity-fetch-field): Ditto.
	(mime-gnus-entity::mime-entity-body): Ditto.
	(mime-gnus-entity::mime-entity-content): Ditto.
	(mime-gnus-entity::mime-insert-entity-content): Ditto.
	(mime-gnus-entity::mime-insert-text-content): Ditto.
	(mime-gnus-entity::mime-write-entity-content): Ditto.
	(mime-gnus-entity::mime-insert-entity): Ditto.
	(mime-gnus-entity::mime-write-entity): Ditto.
	(mime-gnus-entity::mime-insert-entity-body): Ditto.
	(mime-gnus-entity::mime-write-entity-body): Ditto.

	* lisp/mm-decode.el (mm-dissect-buffer-header): Use
	`mime-entry-fetch-field' instead of `mail-fetch-field'.

	* lisp/message.el (message-get-reply-headers): Use
	`message-mail-follow-up-address-checker'. (same as Nana-gnus 6.x)

*1999-02-08  Masatoshi Tsuchiya  <tsuchiya@pine.kuee.kyoto-u.ac.jp>,
            Katsumi Yamaoka   <yamaoka@jpl.org>,
            Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/gnus-sum.el (gnus-articles-to-read): If the number of
	unread articles is more than `gnus-large-newsgroup', use it in
	default instead of the maximum number.

*2000-07-14  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* lisp/gnus-bbdb.el (gnus-bbdb/ignore-sender): New function.

	* lisp/gnus-bbdb.el (gnus-bbdb/edit-notes-to): Ditto.

	* lisp/gnus-bbdb.el (gnus-bbdb/show-to): Ditto.

	* lisp/gnus-bbdb.el (gnus-bbdb-insinuate): Bind
	`gnus-bbdb/show-to' and `gnus-bbdb/edit-notes-to' to `[' and `]'
	in `gnus-summary-mode-map'.

*2000-06-13  Hirokazu FUKUI  <hfukui@sannet.ne.jp>

	* lisp/gnus-bbdb.el(gnus-bbdb/update-record): Fix to fetch last
	mail field.

2000-06-15  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.22 (This is alpha status.)
	Fix bugs.

	* lisp/nnshimbun.el (nnshimbun-retrieve-url): Do not disable
	buffer multibyte, when use cached url content. (CAUTION: This is
	``ad hok''. Please check ``WHY''.)

	* lisp/mmgnus.el (mmgnus-entity-body): Change to method
	`mime-entity-body'.
	(mime-entity-content): Use `mime-entity-body' instead of
	`mmgnus-entity-body'.
	(mime-write-entity-content): Ditto.
	(mime-insert-entity): Ditto.
	(mime-write-entity-body): Ditto.

	* lisp/message.el (message-fix-before-sending): Enable invisible
	checking.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.22.

2000-05-25  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.21 (This is alpha status.)
	You can use `nnshimbun' backend.

	* lisp/nnshimbun.el: New file; import from T-gnus.

	* lisp/gnus-group.el (gnus-group-make-shimbun-group): New
	function; import from T-gnus.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.21.

2000-05-10  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.20 (This is alpha status.)
	Fix a bug.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.20.

	* lisp/message.el (message-list-references): Do not insert
	duplicate Message-Id, when specified
	`message-list-references-add-position'.

2000-05-10  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.19 (This is alpha status.)
	`gnus-bbdb/split-mail' supports group address.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.19.

	* lisp/gnus-bbdb.el (gnus-bbdb/split-mail): Support group address.
	(gnus-bbdb/insert-address-regexp): New function.

2000-04-27  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.18 (This is alpha status.)
	Fix a bug.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.18.

	* lisp/pop3.el (pop3-retr): Fix bug.
	(pop3-movemail):  Fix bug.

2000-04-27  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.17 (This is alpha status.)
	Only sync up with Gnus 5.8.5.

	* GNUS-NEWS, README, aclocal.m4, make.bat, lisp/ChangeLog,
	lisp/base64.el, lisp/dgnushack.el, lisp/fill-flowed.el,
	lisp/flow-fill.el, lisp/format-spec.el, lisp/gnus-agent.el,
	lisp/gnus-art.el, lisp/gnus-async.el, lisp/gnus-bcklg.el,
	lisp/gnus-cache.el, lisp/gnus-cite.el, lisp/gnus-cus.el,
	lisp/gnus-draft.el, lisp/gnus-dup.el, lisp/gnus-eform.el,
	lisp/gnus-ems.el, lisp/gnus-group.el, lisp/gnus-int.el,
	lisp/gnus-kill.el, lisp/gnus-logic.el, lisp/gnus-mh.el,
	lisp/gnus-mlspl.el, lisp/gnus-move.el, lisp/gnus-msg.el,
	lisp/gnus-score.el, lisp/gnus-spec.el, lisp/gnus-srvr.el,
	lisp/gnus-start.el, lisp/gnus-sum.el, lisp/gnus-topic.el,
	lisp/gnus-util.el, lisp/gnus-uu.el, lisp/gnus-win.el,
	lisp/gnus-xmas.el, lisp/gnus.el, lisp/ietf-drums.el, lisp/imap.el,
	lisp/lpath.el, lisp/mail-parse.el, lisp/mail-prsvr.el,
	lisp/mail-source.el, lisp/message.el, lisp/mm-bodies.el,
	lisp/mm-decode.el, lisp/mm-encode.el, lisp/mm-util.el,
	lisp/mm-uu.el, lisp/mm-view.el, lisp/nnagent.el, lisp/nndoc.el,
	lisp/nndraft.el, lisp/nnfolder.el, lisp/nnheader.el,
	lisp/nnimap.el, lisp/nnmail.el, lisp/nnml.el, lisp/nnslashdot.el,
	lisp/nnspool.el, lisp/nntp.el, lisp/nnultimate.el,
	lisp/nnvirtual.el, lisp/nnwarchive.el, lisp/nnweb.el,
	lisp/parse-time.el, lisp/pop3.el, lisp/qp.el, lisp/rfc1843.el,
	lisp/rfc2047.el, lisp/smiley.el, lisp/time-date.el,
	lisp/webmail.el, texi/ChangeLog, texi/Makefile.in, texi/gnus.texi,
	texi/message.texi, texi/refcard.tex: Sync up with Gnus 5.8.5.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.17.

2000-04-13  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.16 (This is alpha status.)
	Fix bugs.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.16.

	* lisp/gnus-spec.el (gnus-update-format): Fix a bug in last
	modification.
	(gnus-search-or-regist-spec): Change interface.

	* lisp/message.el (message-buffers): New function. (copy from Gnus
	5.8.3)

2000-04-11  Keiichi Suzuki  <keiichi@mdcnet.co.jp>

	* Nana-gnus: Version 7.1.0.15 (This is alpha status.)
	Fix a bug.  Modify internal cache data structures.

	* lisp/mess-lcl.el (message-mime-charset-recover-by-ask):
	Abolished argments.

	* lisp/gnus.el (gnus-version): Restore string format.
	(gnus-product-variable-file-list): Update file compatibility
	version numbers.

	* lisp/gnus-vers.el (gnus-vers): Update to 7.1.0.15.
	(gnus-product-name): Revived.
	(gnus-version-number): Likewise.

	* lisp/gnus-start.el (gnus-product-directory): Use
	`gnus-product-name'.
	(gnus-product-variable-touch): Support multiple arguments.

	* lisp/gnus-spec.el (gnus-format-specs): Modify data structure.
	(gnus-format-specs-compiled): Likewise.
	(gnus-update-format): Support new data structure of
	`gnus-format-specs'.
	(gnus-update-format-specification-1): Support new data structure
	of `gnus-format-specs-compiled'.
	(gnus-update-format-specifications): Likewise.
	(gnus-search-or-regist-spec): New utility macro.

2000-03-14  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.14 (This is alpha status.)
	Require `product' in APEL 10.0 or later.
	Will be created ``~/News/.Nana-gnus/'' directory automatically by
	default.   You can customize location by `gnus-product-directory'.
	``cache'' and  ``strict-cache'' files will be created under the
	directory.

	* lisp/gnus.el (TopLevel): Require `gnus-vers'.
	(gnus-product-name): Abolished.
	(gnus-version-number): Ditto.
	(gnus-version): Use `product-string'. (Format changed)
	(gnus-variable-list): Delete `gnus-format-specs'.
	(gnus-product-variable-file-list): New variable.
	(TopLevel): Use `product-provide'.

	* lisp/gnus-vers.el: New file.  Nana-gnus version 7.1.0.14.

	* lisp/gnus-start.el (gnus-product-directory): New user option.
	(gnus-clear-quick-file-variables): New function.
	(gnus-clear-system): Use `gnus-clear-quick-file-variables'.
	(gnus-read-newsrc-file): Likewise.
	(gnus-read-newsrc-el-file): Read product's variable files.
	(gnus-product-read-variable-file-1): New function.
	(gnus-save-newsrc-file): Save product's variable files.
	(gnus-product-variable-touch): New function.
	(gnus-product-variables-dirty-p): Ditto.
	(gnus-product-save-variable-file): Ditto.
	(gnus-product-save-variable-file-1): Ditto.
	(gnus-product-quick-file-format): Ditto.

	* lisp/gnus-spec.el (gnus-update-format): Use
	`gnus-product-variable-touch'.
	(gnus-update-format-specification-1): Likewise.
	(gnus-update-format-specifications): Do not check `emacs-version'
	and `gnus-newsrc-file-version'.  Use
	`gnus-product-variable-touch'.

	* lisp/gnus-msg.el (gnus-inews-add-send-actions): Use
	`product-string'.

2000-03-10  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.13 (This is alpha status.)
	CAUTION: Changed coding system of ``~/.newsrc.eld''.

	If you are using Nana-gnus 7.  Check your ~/.newsrc.eld before
	start up after this version.
	1. Quit your gnus.
	2. Backup your ~/.newsrc.eld.
	2. Find ~/.newsrc.eld with `binary' coding system.
	3. If you used `gnus-compile', delete a line which start
	   `(setq gnus-format-specs'.
	4. Change buffer file coding system to `ctext'.
	5. Save buffer.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.13.

	* lisp/gnus-start.el (gnus-startup-file-coding-system): Use
	`ctext' instead of `binaly'.

* 2000-03-09  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-compile-user-specs): New user option.

	* lisp/gnus-spec.el (gnus-compile): Modify the actual format specs
	as well; don't bind `gnus-tmp-func'.
	(gnus-update-format-specifications): Use
	`gnus-update-format-specification-1'.
	(gnus-update-format-specification-1): New function.
	(gnus-format-specs-compiled): Modify the form.
	(TopLevel): Require `alist'.

* 2000-03-09  Katsumi Yamaoka <yamaoka@jpl.org>

	* lisp/gnus-spec.el (gnus-compile): Don't modify the value of
	`gnus-format-specs', generate compiled specs in
	`gnus-format-specs-compiled' instead; don't touch the dribble
	buffer.
	(gnus-format-specs-compiled): New internal variable.

2000-03-05  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.12 (This is alpha status.)
	Fix a bug.

	* lisp/message.el (message-send): Encode header fields, when did
	not send message.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.12.

	* lisp/gnus-spec.el (gnus-update-format-specifications): Fix bug
	in latest changes.

2000-03-05  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.11 (This is alpha status.)
	Fix bugs.

	* lisp/gnus-spec.el (gnus-update-format-specifications): Force
	update format specifications, when differ `gnus-version' and
	`gnus-newsrc-file-version' instead of `gnus-version' and
	`gnus-vertsion' in `gnus-format-specs'.
	Do not add `gnus-version' into `gnus-format-specs'.
	(gnus-compile): Remove `gnus-version' from `gnus-format-specs'.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.11.
	(gnus-continuum-version): Return version number of based Gnus.

2000-03-04  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.10 (This is alpha status.)
	Fix a bug.

	* lisp/message.el (message-narrow-to-headers-or-head): Copy from
	Gnus 5.8.3.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.10.

2000-03-03  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.9 (This is alpha status.)
	Fix a bug.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.9.

	* lisp/mmgnus.el (TopLevel): Require `mmgeneric' when installed
	it.

	* lisp/mm-decode.el (mm-mailcap-command): Do not use
	`mime-parameter' (in flim-1_13-rfc2231).

2000-02-22  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.8 (This is alpha status.)
	I tested `nnvirtual'.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.8.

* 2000-02-21  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* nnvirtual.el (nnvirtual-request-article):
	Bind gnus-override-method to nil.
	(nnvirtual-request-update-mark): Don't update mark when
	article is not there.

2000-02-14  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.7 (This is alpha status.)
	See announcement of 7.1.0.3.

	Sync up with T-gnus 6.14 around POP3 mail retrieving.

	I tested `gnus-agent'. It's probably fine.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.7.

	* lisp/mail-source.el (mail-source-keyword-map): Sync up with
	T-gnus 6.14 for supporting `pop3-connection-type'.
	(mail-source-fetch-pop): Likewise.

	* lisp/pop3.el: Sync up with T-gnus 6.14 for supporting
	`pop3-connection-type', `pop3-leave-mail-on-server',
	`pop3-maximum-message-size' and `pop3-except-header-regexp'.

2000-02-11  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.6 (This is alpha status.)
	See announcement of 7.1.0.3.

	Maybe use `gnus-agent'.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.6.

	* lisp/nnmh.el (nnmh-request-accept-article): Do not add dummy
	Message-Id to message which accept to `queue' to `draft' group.

2000-02-08  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.5 (This is alpha status.)
	See announcement of 7.1.0.3.

	Only sync up with Gnus 5.8.3.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.5.

	* lisp/ChangeLog, lisp/base64.el, lisp/binhex.el,
	lisp/dgnushack.el, lisp/gnus-agent.el, lisp/gnus-art.el,
	lisp/gnus-async.el, lisp/gnus-audio.el, lisp/gnus-bcklg.el,
	lisp/gnus-cache.el, lisp/gnus-cite.el, lisp/gnus-cus.el,
	lisp/gnus-demon.el, lisp/gnus-draft.el, lisp/gnus-ems.el,
	lisp/gnus-gl.el, lisp/gnus-group.el, lisp/gnus-kill.el,
	lisp/gnus-load.el, lisp/gnus-mh.el, lisp/gnus-mlspl.el,
	lisp/gnus-msg.el, lisp/gnus-nocem.el, lisp/gnus-picon.el,
	lisp/gnus-range.el, lisp/gnus-salt.el, lisp/gnus-score.el,
	lisp/gnus-setup.el, lisp/gnus-soup.el, lisp/gnus-spec.el,
	lisp/gnus-srvr.el, lisp/gnus-start.el, lisp/gnus-sum.el,
	lisp/gnus-topic.el, lisp/gnus-undo.el, lisp/gnus-util.el,
	lisp/gnus-uu.el, lisp/gnus-win.el, lisp/gnus-xmas.el,
	lisp/gnus.el, lisp/ietf-drums.el, lisp/imap.el, lisp/lpath.el,
	lisp/mail-prsvr.el, lisp/mail-source.el, lisp/md5.el,
	lisp/message.el, lisp/messcompat.el, lisp/mm-bodies.el,
	lisp/mm-decode.el, lisp/mm-encode.el, lisp/mm-mailcap.el,
	lisp/mm-util.el, lisp/mm-uu.el, lisp/mm-view.el, lisp/nnagent.el,
	lisp/nnbabyl.el, lisp/nndb.el, lisp/nndoc.el, lisp/nndraft.el,
	lisp/nneething.el, lisp/nnfolder.el, lisp/nnheader.el,
	lisp/nnimap.el, lisp/nnkiboze.el, lisp/nnlistserv.el,
	lisp/nnmail.el, lisp/nnmbox.el, lisp/nnmh.el, lisp/nnml.el,
	lisp/nnslashdot.el, lisp/nnsoup.el, lisp/nnspool.el, lisp/nntp.el,
	lisp/nnultimate.el, lisp/nnvirtual.el, lisp/nnwarchive.el,
	lisp/nnweb.el, lisp/parse-time.el, lisp/pop3.el, lisp/qp.el,
	lisp/rfc1843.el, lisp/rfc2047.el, lisp/rfc2104.el, lisp/smiley.el,
	lisp/uudecode.el, lisp/webmail.el, , texi/ChangeLog,
	texi/emacs-mime.texi, texi/gnus.texi, texi/message.texi: Sync up
	with gnus-5_8_3.

2000-01-12  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.4 (This is alpha status.)
	See announcement of 7.1.0.3.

	Only fixed a bug.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.4.

	* lisp/gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): Do not
	decode extra header field.

2000-01-05  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.3 (This is alpha status.)
	I tested only `nntp',`nnml (with pop3)' backend and `Message'
	mode.

	You can use ``extruct current entity''.  But can not use ``follow
	current entity''.

	* lisp/gnus-art.el (gnus-article-header-presentation-method): New
	function.
	(mime-header-presentation-method-alist): Add
	`gnus-article-header-presentation-method'.
	(gnus-mime-preview-quitting-method): New function.
	(mime-preview-quitting-method-alist): Add
	`gnus-mime-preview-quitting-method'.
	(gnus-following-method): New function.
	(mime-preview-following-method-alist): Add
	`gnus-following-method'.

	* lisp/mmgnus.el (mmgnus-entity-body): New function.
	(mime-entity-content): Use `mmgnus-entity-body'.
	(mime-insert-entity-content): New method.
	(mime-write-entity-content): Likewise.
	(mime-insert-entity): Likewise.
	(mime-write-entity): Likewise.
	(mime-write-entity-body): Likewise.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.3.

1999-12-26  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/gnus-art.el (gnus-mime-display-part-with-mime-view): Bind
	`mime-display-text/plain-hook' for `gnus-treat-article'.

1999-12-26  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.2 (This is very alpha status.)
	See announcement of 7.1.0.0.

	You can use both MIME-View mode and Gnus native viewer from this
	version.   If you would like to use MIME-View mode, set
	`gnus-mime-display-part-with-mime-view' to
	`gnus-mime-display-part-function' by default.  Otherwise, set
	`gnus-mime-display-part-with-Gnus'.

	* lisp/mmgnus.el (TopLevel): Require `mime' and `eword-deocode'
	instead of `mmbuffer'.
	(mmgnus-entity): Rename from `mime-gnus-handle-entity' and use
	`mime-entity' as parent class.  Add slot `body' and `header'.
	(mmgnus-visible-field-p): New function. (copy from
	`mime-visible-field-p' in FLIM's mmbuffer.el)
	(mmgnus-insert-header-from-string): New function.
	(mime-insert-header): Define new method.
	(mime-entity-content): Likewise.
	(mime-gnus-entity): Use `mmgnus-entity' as parent class.

	* lisp/mm-view.el (mm-inline-message): Set parent to the child.

	* lisp/mm-decode.el: Rename `mime-gnus-handle-*' to `mmgnus-*'.
	(mm-handle-body): Rename from `mm-handle-buffer'.
	(mm-handle-set-body): Rename from `mm-handle-set-buffer'.
	(mm-make-handle): New argument `parent' and `header'.  If encoding
	is `nil', do not convert to string.
	(mm-dissect-buffer-header): Rename argument `parent' to
	`handle'.  Set raw header string to header slot of `mmgnus-entity'.
	(mm-dissect-buffer): Rename argument `parent' to `handle'.  When
	use `MIME-View' mode as viewer, parse `message/*' part.
	(mm-dissect-singlepart): Use `mm-handle-set-body' and
	`mm-handle-body'.
	(mm-dissect-message): New function.
	(mm-dissect-multipart): Rename argument `parent' to `handle'.
	(mm-dissect-multipart): Set node ID for each parts.
	(mm-destroy-part): Use `mm-handle-body' and `mm-handle-set-body'.
	(mm-insert-part): Likewise.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.2.

	* lisp/gnus-art.el (gnus-insert-mime-button): Rename
	`mm-handle-buffer' to `mm-handle-body'.
	(gnus-article-decode-hook): Do not decode message header.
	(gnus-mime-display-part-function): New variable
	`gnus-mime-display-part-function'.
	(gnus-display-mime): Use `gnus-mime-display-part-function'.
	(gnus-mime-display-part-with-mime-view): New function for
	`gnus-mime-display-part-function'.
	(gnus-mime-display-part-with-Gnus): Likewise.

1999-12-25  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/mm-decode.el (mm-dissect-buffer-header): Correspondence
	with FLIM.

	* lisp/gnus-art.el (gnus-article-decode-hook): Do not decode
	message body.
	(gnus-mime-view-all-parts): If single part message and only
	remove part in `mm-display-part', then retry display this part.
	(gnus-display-mime): Even if single part message, display message
	body by handle.

1999-12-24  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.1 (This is very alpha status.)
	See announcement of 7.1.0.0.

	* lisp/nnheader.el (make-full-mail-header): If field decoder does
	not found, then do not decode field body.

	* lisp/mm-mailcap.el (mm-mailcap-mime-info): If `string' is
	invalid content type format, use `string' as major content type.

	* lisp/mm-decode.el (mm-dissect-buffer): Use `result' instead of
	`parent'.

	* lisp/gnus-art.el (gnus-mime-view-all-parts): Correspondence with
	FLIM.

	* lisp/mail-parse.el (mail-decode-encoded-word-region): Use
	`mime-decode-header-in-region'.

	* lisp/gnus-sum.el (TopLevel): Require `mcharset'.
	(gnus-group-charset-alist): Use content of `default-mime-charset'
	instead of `iso-8859-1' for default group charset.

	* lisp/gnus-msg.el (gnus-setup-message): Restore to Gnus 5.8.2,
	and use `default-mime-charset' instead of
	`message-posting-charset'. (Do not need this part, probably.)

	* lisp/gnus-art.el (gnus-decode-header-function): Use
	`mail-decode-encoded-word-region'.
	(article-decode-encoded-words): Bind `default-mime-charset'
	instead of `mail-parse-charset'.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.1.

1999-12-23  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/dgnushack.el (dgnushack-compile): Do not compile
	`webmail.el'. (temporarily)

	* lisp/gnus-bbdb.el (gnus-bbdb/update-record): Fix timing of
	`save-restriction'.

1999-12-23  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.0 (This is very alpha status.)
	I tested only `nntp',`nnml (with pop3)' backend and `Message'
	mode.

	The test of implement that based on `luna' and the other FLIM
	functions. But could not use MIME-View currently.

	* lisp/score-mode.el (score-mode-coding-system): Do not specify
	the coding system for score file in default.

	* lisp/pop3.el (pop3-read-passwd): Check bounded function, before
	load file.

	* lisp/nnmail.el (nnmail-get-new-mail): Use `sources' insted of
	`nnmail-spool-file'. (Maybe BUG of Gnus 5.8.2)

	* lisp/nnimap.el (nnimap-retrieve-headers-progress): Use
	`make-full-mail-header'.

	* lisp/nnheader.el: Sync with Nana-gnus 6.13.

	* lisp/nndraft.el (nndraft-request-article): Use
	`nnheader-file-coding-system'.

	* lisp/mml.el: Abolished.

	* lisp/mmgnus.el: Copy from Nana-gnus 6.13.
	(mime-gnus-handle-entity): New class.
	(mime-gnus-entity): Use `mime-gnus-handle-entity'.

	* lisp/mm-view.el: Rename `mailcap-*' to `mm-mailcap-*'.
	(mm-inline-message): Correspondence with FLIM.

	* lisp/mm-uu.el: Rename `mailcap-*' to `mm-mailcap-*'.

	* lisp/mm-mailcap.el:  Rename from `mailcap.el'.

	* lisp/mm-encode.el: Rename `mailcap-*' to `mm-mailcap-*'.

	* lisp/mm-decode.el (mm-handle-p): New inline funtion.
	(mm-handle-set-buffer): Likewise.
	(mm-handle-multipart/mixed-p): Likewise.
	(mm-handle-type-parameters): Likewise.
	(mm-handle-disposition-type): Likewise.
	(mm-handle-disposition-parameters): Likewise.
	(mm-handle-buffer): Correspondence with FLIM.
	(mm-handle-type): Likewise.
	(mm-handle-media-type): Likewise.
	(mm-handle-media-supertype): Likewise.
	(mm-handle-media-subtype): Likewise.
	(mm-handle-undisplayer): Likewise.
	(mm-handle-set-undisplayer): Likewise.
	(mm-handle-disposition): Likewise.
	(mm-handle-description): Likewise.
	(mm-handle-cache): Likewise.
	(mm-handle-set-cache): Likewise.
	(mm-handle-id): Likewise.
	(mm-make-handle): Likewise.
	(mm-mailcap-command): Likewise.
	(mm-remove-parts): Likewise.
	(mm-destroy-parts): Likewise.
	(mm-remove-part): Likewise.
	(mm-destroy-part): Likewise.
	(mm-preferred-alternative): Likewise.
	(mm-handle-child): New alias.
	(mm-handle-set-child): Likewise.
	(mm-dissect-buffer-header): New function.
	(mm-dissect-buffer): Use
	`mm-dissect-buffer-header'. Correspondence with FLIM.
	(mm-dissect-singlepart): Change arguments. Correspondence with
	FLIM.
	(mm-dissect-multipart): New required argument. Correspondence with
	FLIM.
	(mm-display-part): Rename `mailcap-*' to `mm-mailcap-*'. Use
	`mm-handle-media-subtype'.
	(mm-display-external): Rename `mailcap-*' to `mm-mailcap-*'.
	(mm-interactively-view-part): Likewise.

	* lisp/mm-bodies.el (TopLevel): Require `mm-encode'.

	* lisp/message.el: Copy from Nana-gnus 6.13.

	* lisp/mess-lcl.el: Copy from Nana-gnus 6.13.

	* lisp/mess-bbdb.el: Ditto.

	* lisp/mailcap.el: Rename to mm-mailcap.el

	* lisp/mail-parse.el (mail-header-parse-content-type): Use
	`mime-parse-Content-Type'.
	(mail-header-parse-content-disposition): Use
	`mime-parse-Content-Disposition'.
	(mail-content-type-get): Use `mime-content-type-parameter'.

	* lisp/gnus.el: Sync with Nana-gnus 6.13.
	(gnus-version-number): Version 7.1.0.0.

	* lisp/gnus-sum.el: Sync with Nana-gnus 6.13.
	(gnus-update-summary-mark-positions): Correspondence with FLIM.
	(gnus-nov-parse-line): Likewise.
	(gnus-get-newsgroup-headers): Likewise.
	(gnus-summary-save-parts): Likewise.

	* lisp/gnus-spec.el: Sync with Nana-gnus 6.13.

	* lisp/gnus-soup.el (gnus-soup-send-packet): Do not use
	`message-newsreader' and `message-mailer'.

	* lisp/gnus-score.el: Sync with Nana-gnus 6.13.
	(gnus-score-save): Do not replace file name character in base
	path.

	* lisp/gnus-msg.el: Sync with Nana-gnus 6.13.

	* lisp/gnus-int.el (gnus-request-accept-article): Do not encode
	message.

	* lisp/gnus-draft.el: Sync with Nana-gnus 6.13.

	* lisp/gnus-cache.el (gnus-cache-file-name): Do not replace file
	name character in base path.

	* lisp/gnus-bbdb.el: Copy from Nana-gnus 6.13.

	* lisp/gnus-art.el (gnus-decode-header-function): Use
	`mime-decode-header-in-region'.
	(article-decode-charset): Correspondence with FLIM.
	(gnus-article-prepare): Likewise.
	(gnus-article-prepare-display): New optional argument.
	(gnus-mime-view-part-as-type): Rename `mailcap-*' to
	`mm-mailcap-*'.
	(gnus-display-mime): New required argument. Correspondence with
	FLIM.
	(gnus-mime-display-part): Likewise.
	(gnus-mime-display-single): Likewise.
	(gnus-mime-display-alternative): Likewise.
	(gnus-mime-display-alternative): Likewise.

	* lisp/dgnushack.el (dgnushack-compile): When BBDB is not
	installed, do not compile `gnus-bbdb.el' and `mess-bbdb.el'.

	*  (Repository): New branch Nana7 from gnus-5.8.2.
