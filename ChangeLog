1999-08-30  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 01.

	* lisp/lpath.el (babel-as-string): Bind it.

	* lisp/gnus-sum.el (gnus-summary-search-article): Keep the
	original X-Face field while searching.  It is done for only FSF
	Emacsen.
	(gnus-summary-search-article-highlight-matched-text): Ditto.
	(gnus-summary-search-article-matched-data): Bind it explicitly.

1999-08-29  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-version-number): Update to 6.13.1.
	(gnus-revision-number): Clear to 00.

	* README.T-gnus: Update.

	* README: Sync up with Pterodactyl Gnus v0.96.
	* lisp/{smiley.el,nntp.el,nnmail.el,nnfolder.el,mml.el,mm-view.el,
	mm-uu.el,mm-util.el,mm-encode.el,mm-decode.el,mm-bodies.el,
	gnus-uu.el,gnus-util.el,gnus-sum.el,gnus-start.el,gnus-score.el,
	gnus-mlspl.el,gnus-group.el,gnus-bcklg.el,gnus-art.el,
	gnus-agent.el,ChangeLog}: Ditto.
	* texi/{gnus.texi,gnus-ja.texi,ChangeLog}: Ditto.

1999-08-27  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/pop3.el (pop3-movemail): If the argument `crashbox' is t,
	don't retrieve any incoming mails.; Don't filter articles here.
	Use `convert-standard-filename' to generate fresh UIDL file names.
	(pop3-get-message-numbers): Rewrite.
	(pop3-save-uidls): Clear UIDL hash.; Use `with-temp-file' instead
	of `with-temp-buffer'.

1999-08-27  Tsukamoto Tetsuo  <czkmt@remus.dti.ne.jp>

	* README-offline.ja : Fix.

	* lisp/gnus-offline.el (gnus-offline-agent-automatic-expire):
	Fix typo.

	* lisp/gnus-ofsetup.el : Remove gnus-cus from compile time
	requirements; Enclose the autoload for `gnus-custom-mode' with
	`eval-and-compile'.

1999-08-27  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 15.

	* lisp/dgnushack.el (char-before, char-after): Optimize byte code
	for them before lpath.el is loaded.  Because lpath.el requires
	`poe' via `path-util'.  [cf. <tm-ja:5051>]

	* lisp/gnus-sum.el (gnus-summary-search-article): Search for
	X-Face image if the regexp "^X-Face:" is specified.
	(gnus-summary-search-article-highlight-matched-text): Use
	`gnus-summary-search-article-highlight-goto-x-face'; maybe display
	X-Face image if it is requested.
	(gnus-summary-search-article-highlight-goto-x-face): New macro.

1999-08-26  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 14.

	* lisp/gnus-sum.el (gnus-summary-search-article): Treat and
	recenter the article when touchdown; popup the article buffer if
	it is disappeared.
	(gnus-summary-search-article-highlight-matched-text): Treat the
	article before highlighting; use old style backquote syntax.
	(gnus-summary-search-article-position-point): Fix the beginning
	position; use old style backquote syntax.
	(gnus-summary-select-article): Undo the last change.
	(gnus-summary-display-article): Bind
	`gnus-summary-search-article-matched-data' in the article buffer
	locally.  It is moved from `gnus-summary-select-article'.

1999-08-25  NAKAJI Hiroyuki  <nakaji@tutrp.tut.ac.jp>

	* texi/Makefile.in (EMACS): Use @EMACS@, not emacs directly.
	(clean): Remove formatted info files.
	(distclean): Just remove Makefile.

1999-08-25  Tsukamoto Tetsuo  <czkmt@remus.dti.ne.jp>

	* lisp/gnus.el (gnus-revision-number): Increment to 13.

	* lisp/gnus-agent.el (gnus-agent-large-newsgroup): New variable.
	(gnus-agent-fetch-headers): Limit downloadable articles if the
	number of unread articles exceeds `gnus-agent-large-newsgroup'.
	(gnus-agent-expire): Do not expire saved or replied articles when
	`gnus-agent-expire-all' is nil.

	* lisp/gnus-offline.el (gnus-offline-agent-automatic-expire): New
	variable.
	(gnus-offline-agent-expire): Check it; Bind
	`gnus-agent-expire-all' to nil if `gnus-agent-expire-days' is 0.
	(gnus-offline-after-jobs-done): Don't check
	`gnus-agent-expire-all'.

	* lisp/gnus-ofsetup.el (gnus-offline-setting-file): Check if
	`user-login-name' and `user-real-login-name' returns the same
	value or not.
	(gnus-ofsetup-prepare-for-miee): Write forms as a variable.
	(gnus-ofsetup-update-setting-file): Ditto.
	(gnus-ofsetup-prepare): New macro.
	(gnus-setup-for-offline): Use it.
	(gnus-ofsetup-customize-done): Ditto.

1999-08-25  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 12.

	* lisp/gnus-sum.el (gnus-summary-search-article): Rearrange.
	(gnus-summary-search-article-highlight-matched-text): Rearrange.
	(gnus-summary-search-article-position-point): New macro.
	(gnus-summary-search-article-matched-data): Rename from
	`gnus-summary-search-article-matched-text'.
	(gnus-summary-isearch-article): Bind `gnus-inhibit-treatment' to t;
	use `gnus-article-show-all-headers' for exposing the visited
	article.
	(gnus-summary-select-article): Bind
	`gnus-summary-search-article-matched-data' in the article buffer
	locally.

	* lisp/gnus-art.el (gnus-treat-article): Don't treat the article
	if the value of `gnus-inhibit-treatment' is non-nil.
	(article-toggle-headers): Don't redisplay X-Face if the value of
	`gnus-inhibit-treatment' is non-nil.
	(gnus-article-treat-custom): Add new treatment variable `mime'.

1999-08-25  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/gnus-group.el (gnus-group-line-format): Fix typo in
	documentation.

	* lisp/gnus-sum.el (gnus-summary-mode): Don't set
	`gnus-newsgroup-incorporated' explicitly.

1999-08-24  Katsumi Yamaoka   <yamaoka@jpl.org>

	* README.semi: Update for the recent a-ftp sites and directories.
	* README.semi.ja: Ditto.
	* texi/gnus-faq.texi: Ditto.
	* texi/gnus-faq-ja.texi: Ditto.

1999-08-24  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/gnus.el (gnus-revision-number): Increment to 11.
	(gnus-summary-incorporated-face): New face spec.

	* lisp/gnus-group.el (gnus-group-line-format-alist): Add
	entry about the format specifier `w'.
	(gnus-group-line-format): Fix documentation.

	* lisp/gnus-sum.el (gnus-summary-highlight): Highlight lines on
	newly incorporated mails with `gnus-summary-incorporated-face'.
	(gnus-newsgroup-incorporated): New variable.
	(gnus-summary-local-variables): Add `gnus-newsgroup-incorporated'.
	(gnus-summary-mode): Set `gnus-newsgroup-incorporated'.

	* lisp/nnmail.el (nnmail-new-mail-numbers): New function.

	* lisp/gnus-srvr.el (gnus-browse-foreign-server): Don't prepend
	`K' if the group has already been subscribed.

1999-08-24  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus-sum.el (gnus-summary-isearch-article): Set
	`isearch-lazy-highlight' t in the buffer locally; goto the
	beginning of the buffer before searching.

	* lisp/gnus-util.el (gnus-eval-in-buffer-window): Select the last
	selected frame.

1999-08-23  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 10.

	* lisp/gnus-sum.el (gnus-summary-search-article): Highlight
	matched text after the searching is done; call
	`gnus-summary-select-article' with the args nil and t; bind
	`gnus-treat-*' to nil.
	(gnus-summary-search-article-highlight-matched-text): New macro
	for highlighting matched text.  It is bound at the compile time
	only.
	(gnus-summary-isearch-article): Call `gnus-summary-select-article'
	with the args nil and t; bind `gnus-treat-*' to nil.

	* lisp/gnus-ems.el (gnus-x-splash): Change the foreground color of
	`gnus-splash' to "Brown"; use `with-temp-buffer' instead of
	`with-temp-file'; use `insert-file-contents-as-binary' instead of
	`insert-file-contents'.

1999-08-20  Tsukamoto Tetsuo  <czkmt@remus.dti.ne.jp>

	* lisp/gnus.el (gnus-revision-number): Increment to 09.

	* lisp/gnus-offline.el: Fix comments.
	(TopLevel): Delete the code for emulating custom. Do not inhibit
	byte-compile-warnings, but hide useless ones.
	(gnus-offline-dialup-program-arguments): defvar instead of
	defcustom.
	(gnus-offline-hangup-program-arguments): Ditto.
	(gnus-offline-interval-time): Ditto.
	(gnus-offline-dialup-program, gnus-offline-hangup-program,
	gnus-offline-drafts-queue-type, gnus-offline-MTA-type): defvar.
	(gnus-offline-disable-fetch-mail): Remove pop3-fma dependent
	codes.
	Set `mail-sources' instead of `nnmail-spool-file'.
	(gnus-offline-enable-fetch-mail): Ditto.
	(gnus-offline-toggle-movemail-program): Abolish.
	(gnus-offline-define-menu-and-key): Modify according to it.
	(gnus-offline-define-menu-on-miee): Ditto.
	(gnus-offline-define-menu-on-agent): Ditto.
	(gnus-offline-message-add-header): Bind temporary variables.
	(gnus-offline-add-custom-header): Ditto.
	(gnus-offline-restore-mail-group-level): Ditto.

	* lisp/gnus-ofsetup.el (TopLevel): Require gnus-cus and
	gnus-offline at the compile time. Do not inhibit
	byte-compile-warnings.
	(gnus-setup-for-offline): Really bind all temporary variables.
	(gnus-ofsetup-write-settting-file): Check if interval is a
	integer.
	Use `mail-sources' instead of `nnmail-spool-file'.
	(gnus-ofsetup-update-setting-file): Redefine as a macro.
	(gnus-ofsetup-prepare-for-miee): Ditto.

	* README-offline.en : Update.
	* README-offline.ja : Ditto.

1999-08-20  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/gnus-sum.el (gnus-wheel-summary-scroll): Bind
	`inhibit-read-only' to t; bind `buffer-read-only' to nil.

1999-08-20  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 08.

1999-08-19  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/nnmail.el (nnmail-split-it): Match whole word for getting
	group name with `\N'.

1999-08-19  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/gnus.el (gnus-revision-number): Increment to 07.

	* lisp/pop3.el (pop3-except-header-regexp): New variable.
	(pop3-movemail): Don't retrieve messages whose headers are
	matching `pop3-except-header-regexp'.
	(pop3-top): New function.
	(pop3-retr): Don't use `save-restriction'.

1999-08-18  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/pop3.el (pop3-get-extended-response): Fix regexp.

1999-08-18  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 06.

	* lisp/gnus-art.el (mime-preview-over-to-next-method-alist): Use
	`gnus-article-next-page' when the last page is not displayed.
	(mime-preview-over-to-previous-method-alist): Use
	`gnus-article-prev-page' when the first page is not displayed.
	(gnus-next-page-map): Use `make-sparse-keymap' instead of
	`make-keymap'; don't use `suppress-keymap'.
	(gnus-insert-next-page-button, gnus-insert-prev-page-button):
	Succeed to the value of the text property `mime-view-situation' in
	the Next/Prev buttons; make `gnus-{next|prev}-page-map' have the
	current local map as a parent under FSF Emacsen.

1999-08-18  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/pop3.el (pop3-retr): Undo last change.

1999-08-17  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/gnus.el (gnus-revision-number): Increment to 05.

	* lisp/pop3.el (pop3-get-extended-response): Enable timeout of
	`accept-process-output'; Move point to the end of the normal
	response.
	(pop3-movemail): Add suffix to `pop3-uidl-file-name'.
	(pop3-get-list): Abolish.
	(pop3-retr): Don't use `save-restriction'.
	(pop3-uidl): Don't use `condition-case' when checking UIDL support.
	(pop3-list): Likewise.

1999-08-17  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 04.

	* lisp/gnus-sum.el (gnus-wheel-summary-scroll): Use
	`event-basic-type' instead of `event-button' under FSF Emacsen.

1999-08-16  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 03.

1999-08-16  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* lisp/gnus-sum.el: Add `gnus-wheel-install' to
	`gnus-summary-mode-hook'.
	(gnus-use-wheel): New variable.
	(gnus-wheel-scroll-amount): New variable.
	(gnus-wheel-edge-resistance): New variable.
	(gnus-wheel-summary-scroll): New function.
	(gnus-wheel-install): New function.

1999-08-16  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el (gnus-revision-number): Increment to 02.

	* lisp/nnheader.el (make-full-mail-header-from-decoded-header): Use
	`defun' instead of `defsubst'.
	(make-full-mail-header): Ditto.

	* lisp/dgnushack.el (dgnushack-texi-format): Fold up long lines.
	(TopLevel): Autoload "texinfmt" for avoiding byte compile warning.

1999-08-16  Tsukamoto Tetsuo  <czkmt@remus.dti.ne.jp>

	* lisp/gnus.el (gnus-revision-number): Increment to 01.

	* lisp/gnus-draft.el (gnus-group-send-drafts): Say which message
	is being sent.

	* lisp/gnus-ofsetup.el (gnus-ofsetup-completing-read-symbol): New
	function from Nana-gnus.
	(gnus-setup-for-offline): Rewrite. Bind all temporary variables.
	(gnus-ofsetup-update-setting-file): Rename from
	`gnus-ofsetup-write-setting-file'.
	(gnus-ofsetup-find-parameters): Rename from
	`gnus-ofsetup-parameters'.
	(gnus-ofsetup-customize-done): Rewrite.

1999-08-15  Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* pop3.el: Sync up with pop3.el version 2.04.
	(pop3-leave-mail-on-server): New variable.
	(pop3-maximum-message-size): New variable.
	(pop3-uidl-file-name): New variable.
	(pop3-uidl-support): New variable.
	(pop3-uidl-obarray): New variable.
	(pop3-movemail): Check message size on every retrieval.
	(pop3-open-ssl-stream-1): Use new style macro.
	(pop3-get-message-numbers): New function.
	(pop3-get-list): New function.
	(pop3-get-uidl): New function.
	(pop3-get-unread-message-numbers): New function.
	(pop3-save-uidls): New function.
	(pop3-retr): Use `pop3-get-extended-response'.
	(pop3-list): New implementation.
	(pop3-uidl): New function.
	(pop3-get-extended-response): New function.

1999-08-04  Katsumi Yamaoka   <yamaoka@jpl.org>

	* lisp/gnus.el: T-gnus 6.13.0 is released.

1999-08-04  Katsumi Yamaoka   <yamaoka@jpl.org>

	* ChangeLog.2: New file, rename from ChangeLog.

	* lisp/dgnushack.el (TopLevel): Rearrange.

	* README.branch.ja: Update for t-gnus-6_12 and t-gnus-6_13 branch.
	* README.branch: Ditto.

	* texi/gnus-faq.texi: Replace ftp.jaist.ac.jp with ftp.etl.go.jp.

	* texi/gnus-faq-ja.texi: Modify for T-gnus 6.13.
	* texi/message-ja.texi: Ditto.
	* texi/message.texi: Ditto.
	* texi/gnus-ja.texi: Ditto.
	* texi/gnus.texi: Ditto.
	* README-offline.ja: Ditto.
	* README-offline.en: Ditto.
	* README.semi.ja: Ditto.
	* README.semi: Ditto.
	* README.T-gnus: Ditto.

	* t-gnus-6_13: NEW PUBLIC BRANCH.

See ChangeLog.2 for earlier changes.
