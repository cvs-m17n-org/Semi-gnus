2000-02-11  Keiichi Suzuki  <kei-suzu@mail.wbs.ne.jp>

	* Nana-gnus: Version 7.1.0.6 (This is alpha status.)
	See announcement of 7.1.0.3.

	Maybe use `gnus-agent'.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.6.

	* lisp/nnmh.el (nnmh-request-accept-article): Do not add dummy
	Message-Id to message which accept to `queue' to `draft' group.

2000-02-08  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.5 (This is alpha status.)
	See announcement of 7.1.0.3.

	Only sync up with Gnus 5.6.3.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.5.

	* lisp/ChangeLog, lisp/base64.el, lisp/binhex.el,
	lisp/dgnushack.el, lisp/gnus-agent.el, lisp/gnus-art.el,
	lisp/gnus-async.el, lisp/gnus-audio.el, lisp/gnus-bcklg.el,
	lisp/gnus-cache.el, lisp/gnus-cite.el, lisp/gnus-cus.el,
	lisp/gnus-demon.el, lisp/gnus-draft.el, lisp/gnus-ems.el,
	lisp/gnus-gl.el, lisp/gnus-group.el, lisp/gnus-kill.el,
	lisp/gnus-load.el, lisp/gnus-mh.el, lisp/gnus-mlspl.el,
	lisp/gnus-msg.el, lisp/gnus-nocem.el, lisp/gnus-picon.el,
	lisp/gnus-range.el, lisp/gnus-salt.el, lisp/gnus-score.el,
	lisp/gnus-setup.el, lisp/gnus-soup.el, lisp/gnus-spec.el,
	lisp/gnus-srvr.el, lisp/gnus-start.el, lisp/gnus-sum.el,
	lisp/gnus-topic.el, lisp/gnus-undo.el, lisp/gnus-util.el,
	lisp/gnus-uu.el, lisp/gnus-win.el, lisp/gnus-xmas.el,
	lisp/gnus.el, lisp/ietf-drums.el, lisp/imap.el, lisp/lpath.el,
	lisp/mail-prsvr.el, lisp/mail-source.el, lisp/md5.el,
	lisp/message.el, lisp/messcompat.el, lisp/mm-bodies.el,
	lisp/mm-decode.el, lisp/mm-encode.el, lisp/mm-mailcap.el,
	lisp/mm-util.el, lisp/mm-uu.el, lisp/mm-view.el, lisp/nnagent.el,
	lisp/nnbabyl.el, lisp/nndb.el, lisp/nndoc.el, lisp/nndraft.el,
	lisp/nneething.el, lisp/nnfolder.el, lisp/nnheader.el,
	lisp/nnimap.el, lisp/nnkiboze.el, lisp/nnlistserv.el,
	lisp/nnmail.el, lisp/nnmbox.el, lisp/nnmh.el, lisp/nnml.el,
	lisp/nnslashdot.el, lisp/nnsoup.el, lisp/nnspool.el, lisp/nntp.el,
	lisp/nnultimate.el, lisp/nnvirtual.el, lisp/nnwarchive.el,
	lisp/nnweb.el, lisp/parse-time.el, lisp/pop3.el, lisp/qp.el,
	lisp/rfc1843.el, lisp/rfc2047.el, lisp/rfc2104.el, lisp/smiley.el,
	lisp/uudecode.el, lisp/webmail.el, , texi/ChangeLog,
	texi/emacs-mime.texi, texi/gnus.texi, texi/message.texi: Sync up
	with gnus-5_8_3.

2000-01-12  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.4 (This is alpha status.)
	See announcement of 7.1.0.3.

	Only fixed a bug.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.4.

	* lisp/gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): Do not
	decode extra header field.

2000-01-05  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.3 (This is alpha status.)
	I tested only `nntp',`nnml (with pop3)' backend and `Message'
	mode.

	You can use ``extruct current entity''.  But can not use ``follow
	current entity''.

	* lisp/gnus-art.el (gnus-article-header-presentation-method): New
	function.
	(mime-header-presentation-method-alist): Add
	`gnus-article-header-presentation-method'.
	(gnus-mime-preview-quitting-method): New function.
	(mime-preview-quitting-method-alist): Add
	`gnus-mime-preview-quitting-method'.
	(gnus-following-method): New function.
	(mime-preview-following-method-alist): Add
	`gnus-following-method'.

	* lisp/mmgnus.el (mmgnus-entity-body): New function.
	(mime-entity-content): Use `mmgnus-entity-body'.
	(mime-insert-entity-content): New method.
	(mime-write-entity-content): Likewise.
	(mime-insert-entity): Likewise.
	(mime-write-entity): Likewise.
	(mime-write-entity-body): Likewise.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.3.

1999-12-26  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/gnus-art.el (gnus-mime-display-part-with-mime-view): Bind
	`mime-display-text/plain-hook' for `gnus-treat-article'.

1999-12-26  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.2 (This is very alpha status.)
	See announcement of 7.1.0.0.

	You can use both MIME-View mode and Gnus native viewer from this
	version.   If you would like to use MIME-View mode, set
	`gnus-mime-display-part-with-mime-view' to
	`gnus-mime-display-part-function' by default.  Otherwise, set
	`gnus-mime-display-part-with-Gnus'.

	* lisp/mmgnus.el (TopLevel): Require `mime' and `eword-deocode'
	instead of `mmbuffer'.
	(mmgnus-entity): Rename from `mime-gnus-handle-entity' and use
	`mime-entity' as parent class.  Add slot `body' and `header'.
	(mmgnus-visible-field-p): New function. (copy from
	`mime-visible-field-p' in FLIM's mmbuffer.el)
	(mmgnus-insert-header-from-string): New function.
	(mime-insert-header): Define new method.
	(mime-entity-content): Likewise.
	(mime-gnus-entity): Use `mmgnus-entity' as parent class.

	* lisp/mm-view.el (mm-inline-message): Set parent to the child.

	* lisp/mm-decode.el: Rename `mime-gnus-handle-*' to `mmgnus-*'.
	(mm-handle-body): Rename from `mm-handle-buffer'.
	(mm-handle-set-body): Rename from `mm-handle-set-buffer'.
	(mm-make-handle): New argument `parent' and `header'.  If encoding
	is `nil', do not convert to string.
	(mm-dissect-buffer-header): Rename argument `parent' to
	`handle'.  Set raw header string to header slot of `mmgnus-entity'.
	(mm-dissect-buffer): Rename argument `parent' to `handle'.  When
	use `MIME-View' mode as viewer, parse `message/*' part.
	(mm-dissect-singlepart): Use `mm-handle-set-body' and
	`mm-handle-body'.
	(mm-dissect-message): New function.
	(mm-dissect-multipart): Rename argument `parent' to `handle'.
	(mm-dissect-multipart): Set node ID for each parts.
	(mm-destroy-part): Use `mm-handle-body' and `mm-handle-set-body'.
	(mm-insert-part): Likewise.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.2.

	* lisp/gnus-art.el (gnus-insert-mime-button): Rename
	`mm-handle-buffer' to `mm-handle-body'.
	(gnus-article-decode-hook): Do not decode message header.
	(gnus-mime-display-part-function): New variable
	`gnus-mime-display-part-function'.
	(gnus-display-mime): Use `gnus-mime-display-part-function'.
	(gnus-mime-display-part-with-mime-view): New function for
	`gnus-mime-display-part-function'.
	(gnus-mime-display-part-with-Gnus): Likewise.

1999-12-25  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/mm-decode.el (mm-dissect-buffer-header): Correspondence
	with FLIM.

	* lisp/gnus-art.el (gnus-article-decode-hook): Do not decode
	message body.
	(gnus-mime-view-all-parts): If single part message and only
	remove part in `mm-display-part', then retry display this part.
	(gnus-display-mime): Even if single part message, display message
	body by handle.

1999-12-24  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.1 (This is very alpha status.)
	See announcement of 7.1.0.0.

	* lisp/nnheader.el (make-full-mail-header): If field decoder does
	not found, then do not decode field body.

	* lisp/mm-mailcap.el (mm-mailcap-mime-info): If `string' is
	invalid content type format, use `string' as major content type.

	* lisp/mm-decode.el (mm-dissect-buffer): Use `result' instead of
	`parent'.

	* lisp/gnus-art.el (gnus-mime-view-all-parts): Correspondence with
	FLIM.

	* lisp/mail-parse.el (mail-decode-encoded-word-region): Use
	`mime-decode-header-in-region'.

	* lisp/gnus-sum.el (TopLevel): Require `mcharset'.
	(gnus-group-charset-alist): Use content of `default-mime-charset'
	instead of `iso-8859-1' for default group charset.

	* lisp/gnus-msg.el (gnus-setup-message): Restore to Gnus 5.8.2,
	and use `default-mime-charset' instead of
	`message-posting-charset'. (Do not need this part, probably.)

	* lisp/gnus-art.el (gnus-decode-header-function): Use
	`mail-decode-encoded-word-region'.
	(article-decode-encoded-words): Bind `default-mime-charset'
	instead of `mail-parse-charset'.

	* lisp/gnus.el (gnus-version-number): Update to 7.1.0.1.

1999-12-23  Keiichi Suzuki  <keiichi@nanap.org>

	* lisp/dgnushack.el (dgnushack-compile): Do not compile
	`webmail.el'. (temporarily)

	* lisp/gnus-bbdb.el (gnus-bbdb/update-record): Fix timing of
	`save-restriction'.

1999-12-23  Keiichi Suzuki  <keiichi@nanap.org>

	* Nana-gnus: Version 7.1.0.0 (This is very alpha status.)
	I tested only `nntp',`nnml (with pop3)' backend and `Message'
	mode.

	The test of implement that based on `luna' and the other FLIM
	functions. But could not use MIME-View currently.

	* lisp/score-mode.el (score-mode-coding-system): Do not specify
	the coding system for score file in default.

	* lisp/pop3.el (pop3-read-passwd): Check bounded function, before
	load file.

	* lisp/nnmail.el (nnmail-get-new-mail): Use `sources' insted of
	`nnmail-spool-file'. (Maybe BUG of Gnus 5.8.2)

	* lisp/nnimap.el (nnimap-retrieve-headers-progress): Use
	`make-full-mail-header'.

	* lisp/nnheader.el: Sync with Nana-gnus 6.13.

	* lisp/nndraft.el (nndraft-request-article): Use
	`nnheader-file-coding-system'.

	* lisp/mml.el: Abolished.

	* lisp/mmgnus.el: Copy from Nana-gnus 6.13.
	(mime-gnus-handle-entity): New class.
	(mime-gnus-entity): Use `mime-gnus-handle-entity'.

	* lisp/mm-view.el: Rename `mailcap-*' to `mm-mailcap-*'.
	(mm-inline-message): Correspondence with FLIM.

	* lisp/mm-uu.el: Rename `mailcap-*' to `mm-mailcap-*'.

	* lisp/mm-mailcap.el:  Rename from `mailcap.el'.

	* lisp/mm-encode.el: Rename `mailcap-*' to `mm-mailcap-*'.

	* lisp/mm-decode.el (mm-handle-p): New inline funtion.
	(mm-handle-set-buffer): Likewise.
	(mm-handle-multipart/mixed-p): Likewise.
	(mm-handle-type-parameters): Likewise.
	(mm-handle-disposition-type): Likewise.
	(mm-handle-disposition-parameters): Likewise.
	(mm-handle-buffer): Correspondence with FLIM.
	(mm-handle-type): Likewise.
	(mm-handle-media-type): Likewise.
	(mm-handle-media-supertype): Likewise.
	(mm-handle-media-subtype): Likewise.
	(mm-handle-undisplayer): Likewise.
	(mm-handle-set-undisplayer): Likewise.
	(mm-handle-disposition): Likewise.
	(mm-handle-description): Likewise.
	(mm-handle-cache): Likewise.
	(mm-handle-set-cache): Likewise.
	(mm-handle-id): Likewise.
	(mm-make-handle): Likewise.
	(mm-mailcap-command): Likewise.
	(mm-remove-parts): Likewise.
	(mm-destroy-parts): Likewise.
	(mm-remove-part): Likewise.
	(mm-destroy-part): Likewise.
	(mm-preferred-alternative): Likewise.
	(mm-handle-child): New alias.
	(mm-handle-set-child): Likewise.
	(mm-dissect-buffer-header): New function.
	(mm-dissect-buffer): Use
	`mm-dissect-buffer-header'. Correspondence with FLIM.
	(mm-dissect-singlepart): Change arguments. Correspondence with
	FLIM.
	(mm-dissect-multipart): New required argument. Correspondence with
	FLIM.
	(mm-display-part): Rename `mailcap-*' to `mm-mailcap-*'. Use
	`mm-handle-media-subtype'.
	(mm-display-external): Rename `mailcap-*' to `mm-mailcap-*'.
	(mm-interactively-view-part): Likewise.

	* lisp/mm-bodies.el (TopLevel): Require `mm-encode'.

	* lisp/message.el: Copy from Nana-gnus 6.13.

	* lisp/mess-lcl.el: Copy from Nana-gnus 6.13.

	* lisp/mess-bbdb.el: Ditto.

	* lisp/mailcap.el: Rename to mm-mailcap.el

	* lisp/mail-parse.el (mail-header-parse-content-type): Use
	`mime-parse-Content-Type'.
	(mail-header-parse-content-disposition): Use
	`mime-parse-Content-Disposition'.
	(mail-content-type-get): Use `mime-content-type-parameter'.

	* lisp/gnus.el: Sync with Nana-gnus 6.13.
	(gnus-version-number): Version 7.1.0.0.

	* lisp/gnus-sum.el: Sync with Nana-gnus 6.13.
	(gnus-update-summary-mark-positions): Correspondence with FLIM.
	(gnus-nov-parse-line): Likewise.
	(gnus-get-newsgroup-headers): Likewise.
	(gnus-summary-save-parts): Likewise.

	* lisp/gnus-spec.el: Sync with Nana-gnus 6.13.

	* lisp/gnus-soup.el (gnus-soup-send-packet): Do not use
	`message-newsreader' and `message-mailer'.

	* lisp/gnus-score.el: Sync with Nana-gnus 6.13.
	(gnus-score-save): Do not replace file name character in base
	path.

	* lisp/gnus-msg.el: Sync with Nana-gnus 6.13.

	* lisp/gnus-int.el (gnus-request-accept-article): Do not encode
	message.

	* lisp/gnus-draft.el: Sync with Nana-gnus 6.13.

	* lisp/gnus-cache.el (gnus-cache-file-name): Do not replace file
	name character in base path.

	* lisp/gnus-bbdb.el: Copy from Nana-gnus 6.13.

	* lisp/gnus-art.el (gnus-decode-header-function): Use
	`mime-decode-header-in-region'.
	(article-decode-charset): Correspondence with FLIM.
	(gnus-article-prepare): Likewise.
	(gnus-article-prepare-display): New optional argument.
	(gnus-mime-view-part-as-type): Rename `mailcap-*' to
	`mm-mailcap-*'.
	(gnus-display-mime): New required argument. Correspondence with
	FLIM.
	(gnus-mime-display-part): Likewise.
	(gnus-mime-display-single): Likewise.
	(gnus-mime-display-alternative): Likewise.
	(gnus-mime-display-alternative): Likewise.

	* lisp/dgnushack.el (dgnushack-compile): When BBDB is not
	installed, do not compile `gnus-bbdb.el' and `mess-bbdb.el'.

	*  (Repository): New branch Nana7 from gnus-5.8.2.
