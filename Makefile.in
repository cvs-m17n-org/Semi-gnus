srcdir = @srcdir@

@SET_MAKE@
EMACS = emacs
XEMACS = xemacs

all: lick info

lick:
	cd lisp && $(MAKE) EMACS=$(EMACS) all

install:
	cd lisp && $(MAKE) EMACS=$(EMACS) install
	cd texi && $(MAKE) EMACS=$(EMACS) install

# Rule for Lars and nobody else.
some:
	cd lisp && $(MAKE) EMACS=$(EMACS) some
l:
	cd lisp && $(MAKE) EMACS=$(EMACS) clever

info:
	cd texi && $(MAKE) EMACS=$(EMACS) all

clean:
	rm -f */*.orig */*.rej *.orig *.rej

xsome:
	cd lisp && $(MAKE) EMACS=$(XEMACS) some

elclean:
	rm lisp/*.elc

x:
	make EMACS=xemacs

distclean:
	make clean
	rm -r *~
	for i in lisp texi; do (cd $$i; make distclean); done
	rm -f config.log config.status Makefile

osome:
	make EMACS=emacs-19.34 some

config.status: $(srcdir)/configure
	$(SHELL) ./config.status --recheck
$(srcdir)/configure: $(srcdir)/configure.in
	cd $(srcdir) && autoconf
Makefile: $(srcdir)/Makefile.in config.status
	CONFIG_FILES=$@ CONFIG_HEADERS= $(SHELL) ./config.status

# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
