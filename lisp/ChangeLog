2002-11-25  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>
	From Kevin Greiner <kgreiner@xpediantsolutions.com>.

	* gnus-range.el (gnus-range-difference): New function.
	* gnus-sum.el (gnus-summary-insert-old-articles): Use it.

2002-11-24  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-sum.el (gnus-summary-insert-old-articles): Use
	gnus-remove-from-range instead of gnus-range-difference which
	doesn't exist.

2002-11-23  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>
	From Kevin Greiner <kgreiner@xpediantsolutions.com>.

	* gnus-agent.el (gnus-agent-downloaded-article-face): New face,
	used for showing which articles have been downloaded.
	(gnus-agent-article-alist): Format change.  Add documentation.
	(gnus-agent-summary-mode-map): New keybinding `J s' for fetching
	process-marked articles.
	(gnus-agent-summary-fetch-series): Command for `J s'.
	(gnus-agent-synchronize-flags-server, gnus-agent-add-server): Use
	gnus-message instead of message.
	(gnus-agent-read-servers): Use file lib/methods instead of
	lib/servers.  TODO: Why?
	(gnus-summary-set-agent-mark): Adapt to new agent-alist format.
	(gnus-agent-get-undownloaded-list): Remove articles that appear to
	come from the agent.  This means that they are not downloaded.
	TODO: Correct?
	(gnus-agent-fetch-selected-article): Don't use history.
	(gnus-agent-save-history, gnus-agent-enter-history)
	(gnus-agent-article-in-history-p, gnus-agent-history-path):
	Removed function; history is not used anymore.
	(gnus-agent-fetch-articles): Fix handling of crossposted articles.
	(gnus-agent-crosspost): TODO: What happened here?
	(gnus-agent-check-overview-buffer): Some sanity checks on the
	agent overview buffer.  This is a safety net used during
	development.
	(gnus-agent-flush-cache): The gnus-agent-article-alist format has
	changed, write a number to the file indicating this.
	(gnus-agent-fetch-headers): Rewrite to respect
	gnus-agent-consider-all-articles without relying on the
	`.fetched' files.  Make it fast.
	(gnus-agent-braid-nov): Change resulting from
	gnus-agent-fetch-headers change.
	(gnus-agent-load-alist, gnus-agent-save-alist): Don't use
	`.fetched' files.
	(gnus-agent-read-agentview): New function, used by
	gnus-agent-load-alist.
	(gnus-agent-load-fetched-headers): Remove.
	(gnus-agent-save-alist): Rewrite to accomodate new format.
	(gnus-agent-fetch-group-1): Make sure list of articles is in the
	same order as in gnus-newsgroup-headers.
	(gnus-agent-expire): Document and implement extra args ARTICLES,
	GROUP, FORCE.  Do not restrict usage.
	(gnus-agent-uncached-articles): New function.
	(gnus-agent-retrieve-headers): Use it.
	(gnus-agent-regenerate-group): Rewrite.  TODO: Why?
	(gnus-agent-regenerate): Ditto.  TODO: Why?

	* gnus-start.el (gnus-make-ascending-articles-unread): New
	function, for efficient mass-marking.

	* gnus-sum.el (gnus-summary-highlight): Use new face for
	downloaded articles.
	(gnus-article-mark): Prefer to indicate read/unread status over
	downloaded status.
	(gnus-summary-highlight-line-0): New function, maybe rehighlights
	line.
	(gnus-summary-highlight-line): Use new face for downloaded
	articles.
	(gnus-summary-insert-old-articles): TODO: What does this change
	do?

2002-11-18  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-category-mode): Typo in doc string.

2002-11-21  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el:
	added patch from Andreas Fuchs <asf@void.at> to prevent apply errors

	* spam.el: added `M s t' and `M s x' key mappings

2002-11-20  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-morse-message): Narrow to body.

2002-11-19  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-morse-message): Load
	morse.el (unmorse-region not autoloaded in Emacs 20 nor XEmacs).
	(unmorse-region): Autoload it instead.

2002-11-18  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-morse-message): New function.
	(gnus-summary-wash-map): Bind to `W m'.
	(gnus-summary-make-menu-bar): Add.

	* nnimap.el (nnimap-request-expire-articles): Compress sequence
	before storing \Deleted mark on expired articles.

2002-11-17   Markus Rost  <rost@math.ohio-state.edu>

	* gnus-sum.el (gnus-summary-goto-unread): Doc fix - escape open
	parens in column 0.

2002-11-17  Juanma Barranquero  <lektu@terra.es>

	* nnweb.el (nnweb-google-create-mapping): Fix typo.

	* nnlistserv.el (nnlistserv-kk-create-mapping): Likewise.

	* gnus-nocem.el (gnus-nocem-liberal-fetch): Likewise.

2002-11-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-set-auto-save-file-name): Use
	make-directory, to avoid the dependence on gnus-util.

2002-11-16  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-callback-callback-function):
	(nnimap-callback-buffer): Removed, these cannot be global but must
	be embedded into the callback.
	(nnimap-make-callback): New.  Embedd article number, callback and
	buffer in function.
	(nnimap-callback, nnimap-request-article-part): Update.

2002-11-15  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mml.el (mml-preview): Bind message-this-is-mail if it is mail.

2002-11-13  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus.el (gnus-summary-line-format): Document %C.

2002-11-11  Simon Josefsson  <jas@extundo.com>

	* pgg.el (pgg-encrypt, pgg-decrypt, pgg-sign, pgg-verify): Display
	output when called interactively.

2002-11-08  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-edit-exit): Kill local variables.

	* message.el (message-draft-coding-system): Improve comment; use
	mm-auto-save-coding-system for the default value.

	* nndraft.el (nndraft-request-article): Revert to the state before
	2002-10-29; regexp-quote mail-header-separator.

2002-11-06  Jesper Harder  <harder@ifa.au.dk>

	* gnus-draft.el (gnus-draft-setup): Set gnus-message-group-art to
	allow editing of drafts from an nnvirtual group.

2002-11-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nndraft.el (nndraft-request-article): Replace emacs-mule with
	mm-auto-save-coding-system.

	* message.el (message-draft-coding-system): Default to
	iso-2022-7bit.

	* mm-util.el (mm-auto-save-coding-system): Undo last change to
	restore the default value to emacs-mule or escape-quoted.

2002-11-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-encrypt-body): Inhibit encrypting of
	a delayed or a queued article as well as a draft.

	* gnus-sum.el (gnus-summary-edit-article): Inhibit editing of a
	delayed or a queued article in the raw format; treat a delayed
	article as a raw article as well as a draft.
	(gnus-summary-setup-default-charset): Clear gnus-newsgroup-charset
	for the delayed group.

	* nndraft.el (nndraft-request-article): Ignore auto save files for
	a delayed or a queued article; don't bother to decode a queued
	article; don't bind nnmail-file-coding-system for a queued article.

	* nnmail.el (nnmail-split-fancy-with-parent): Ignore the delayed
	and the queue group.

2002-11-04  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-delete-group):
	gnus-cache-active-hashtb might be void.

2002-11-02  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-encrypt-region): Makes PGG respect the
	setting of the default user ID.  From Raymond Scholz
	<ray-2002@zonix.de>.

2002-11-01  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-body-encoding): Don't return 8bit for 7bit
	charset.

2002-10-31  Ted Zlatanov <tzz@lifelogs.com>
	From Alex Schroeder <alex@emacswiki.org>
	* spam-stat.el (spam-stat-process-directory): add dir to message
	(spam-stat-reduce-size): No longer remove words
	with values close to 0.5, because the default value is 0.2.

2002-10-31  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-util.el (gnus-user-date-format-alist): Clarify and correct
	documentation.

2002-10-28  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-fetched-headers)
	(gnus-agent-load-fetched-headers)
	(gnus-agent-save-fetched-headers): Remove variable and two
	functions.  Kevin Greiner's version of gnus-agent-fetch-headers
	works better.
	(gnus-agent-fetch-headers): New implementation from Kevin
	Greiner.  Uses gnus-agent-article-alist to store information
	about fetched messages which aren't on the server anymore.  The
	trick is to return a list of considered messages to the caller,
	but to only fetch those which haven't been fetched yet.

2002-10-30  Simon Josefsson  <jas@extundo.com>

	* pgg-def.el (pgg-passphrase-cache-expiry): New, defcustom.

	* pgg.el (pgg-passphrase-cache-expiry): Removed.

2002-10-30  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* mm-view.el (mm-w3m-local-map-property): Make it work with older
	versions of emacs-w3m than 1.3.3.

	* lpath.el: Bind w3m-minor-mode-map.

	* mm-view.el (mm-w3m-mode-command-alist)
	(mm-w3m-mode-dont-bind-keys, mm-w3m-mode-ignored-keys): Removed.
	(mm-w3m-mode-map): Undefined for Emacs21 and XEmacs.
	(mm-setup-w3m): Simplified.
	(mm-w3m-local-map-property): New function.
	(mm-inline-text-html-render-with-w3m): Use it.

	* gnus-art.el (gnus-article-wash-html-with-w3m): Use
	mm-w3m-local-map-property.

2002-10-29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-util.el (mm-auto-save-coding-system): Default to
	iso-2022-7bit.

	* nndraft.el (nndraft-request-article): Decode an article using
	the coding-system emacs-mule if it seems to have been saved using
	emacs-mule.
	(nndraft-request-replace-article): Use message-draft-coding-system
	instead of mm-auto-save-coding-system for the draft or delayed
	group.

2002-10-28  Josh  <huber@alum.wpi.edu>

	* mml.el (mml-mode-map): Fixed keybindings for mml-secure-*
	functions.

2002-10-28  Katsumi Yamaoka  <yamaoka@jpl.org>
	From mah@everybody.org (Mark A. Hershberger).

	* mm-url.el (mm-url-insert-file-contents): Make it return the same
	type values ("url" size) regardless of the values of
	mm-url-use-external.

2002-10-26  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* nnimap.el (nnimap-request-article-part): Try harder to show
	group name in debugging message.

2002-10-25  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-save-fetched-headers): Create
	directory if it doesn't exist.
	(gnus-agent-fetch-headers): Remove old cruft that tried to
	abstain from downloading articles more than once if
	gnus-agent-consider-all-articles was true.  This is now done
	properly via the .fetched files.

2002-10-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nndraft.el (nndraft-request-article): Treat delayed articles
	like drafts.

2002-10-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-agent.el (gnus-agent-load-alist): Fix parenthesis.

2002-10-24  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-save-alist, gnus-agent-load-alist):
	Remove unused optional arg DIR and corresponding code.

	* nnimap.el (nnimap-request-article-part): Include group name in
	debugging output.

2002-10-24  Paul Jarc  <prj@po.cwru.edu>

	* gnus-agent.el (gnus-agent-fetch-headers): Add some comments.

2002-10-23  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-fetched-headers): New variable,
	contains range of headers that have been fetched by the agent
	already.  Compare gnus-agent-article-alist.
	(gnus-agent-file-header-cache): Like
	gnus-agent-file-loading-cache, but for gnus-agent-fetched-headers.
	(gnus-agent-fetch-headers): Improve comment.  Revert to old
	seen/recent logic.
	Remember which headers have been fetched before and don't fetch
	them again the next time round.
	(gnus-agent-load-fetched-headers)
	(gnus-agent-save-fetched-headers): New functions, for remembering
	which headers have been fetched before.

2002-10-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Remove useless bindings.

2002-10-22  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-execute-command): Disable visual
	features while searching.

2002-10-22  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* pgg.el (pgg-snarf-keys): Do not refer unbinded local variables.

2002-10-22  Simon Josefsson  <jas@extundo.com>

	* pgg.el (pgg-encrypt, pgg-decrypt, pgg-sign, pgg-verify)
	(pgg-snarf-keys): Add.

2002-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind bbdb-records.

	* spam.el: Don't autoload bbdb-records.

2002-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam.el: Set autoload for bbdb-records after loading bbdb-com to
	prevent inf-loop.

2002-10-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el: Removed some test lines.
	More test.

2002-10-21  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-headers): Remove articles that
	are known to be downloaded already.

2002-10-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-text-html-renderer-alist): Add w3m-standalone.
	(mm-text-html-washer-alist): Ditto.

2002-10-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nnheader.el (nnheader-remove-body): Fix an error of detecting
	boundary between headers and body.
	* nnml.el (nnml-parse-head): Ditto.

2002-10-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-generate-active): Ignore any bogus
	entries.

	* gnus-group.el (gnus-fetch-group): Allow an optional
	specification of the articles to select.

	* gnus-srvr.el (gnus-server-prepare): Removed superfluous cdr.

2002-10-20  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-group-1): After fetching
	headers from the group, update variable `articles' to contain
	only those numbers where headers exist.  (When fetching all
	articles in a group, Gnus creates lots of numbers where there is
	no articles.)

2002-10-20  Steve Youngs  <youngs@xemacs.org>

	* pgg-parse.el (pgg-parse-public-key-algorithm-alist): XEmacs
	doesn't have the 'alist custom type, use cons cells instead.
	(pgg-parse-symmetric-key-algorithm-alist): Ditto.
	(pgg-parse-hash-algorithm-alist): Ditto.
	(pgg-parse-compression-algorithm-alist): Ditto.
	(pgg-parse-signature-type-alist): Ditto.

	* pgg-gpg.el (pgg-gpg-extra-args): Fix custom mismatch.

	* pgg-pgp5.el (pgg-pgp5-extra-args): Ditto.

	* pgg-pgp.el (pgg-pgp-extra-args): Ditto.

2002-10-19  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-open-server): Check imap-state in IMAP server
	buffer.

2002-10-18  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-spec.el (gnus-make-format-preserve-properties)
	(gnus-xmas-format, gnus-parse-simple-format): Preserve text
	properties also on XEmacs.  `gnus-xmas-format' is like format but
	preserves text properties on XEmacs (though it only understands
	simple format specs).  The variable
	`gnus-make-format-preserve-properties' controls whether the
	function is used, and is checked in `gnus-parse-simple-format'.
	Patch by Paul Moore <gustav@morpheus.demon.co.uk>.

	* gnus-agent.el (gnus-agent-fetch-articles): More debugging
	output.
	(gnus-agent-consider-all-articles): New variable.
	(gnus-agent-get-undownloaded-list): Comment that marks todo item.
	(gnus-agent-fetch-headers): Depending on
	gnus-agent-consider-all-articles, maybe get all articles.
	(gnus-category-predicate-alist, gnus-agent-read-p): New predicate
	`read'.
	(gnus-predicate-imples-unread): New function.
	(gnus-agent-fetch-headers): Optimize to call
	gnus-list-of-unread-articles if that is sufficient.
	Check unseen and recent instead of seen and recent.
	(gnus-agent-fetch-headers): Abstain from calling
	gnus-list-range-intersection if range (a . b) would have (> a b).

2002-10-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-send-mail): Make it possible to perform
	edebug-defun.

2002-10-18  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-man-handler): Change default to
	`manual-entry' (defined in both emacsen).
	(gnus-button-man-handler): Remove emacsen difference and use
	`manual-entry'.

2002-10-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam.el: Wrap autoload settings for bbdb-records,
	executable-find and ifile-spam-filter with eval-and-compile.
	(spam-display-buffer-contents): Remove.
	(spam-bogofilter-score): Merge spam-display-buffer-contents.

2002-10-17  Ted Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-display-buffer-contents): New function.
	(spam-bogofilter-score): use spam-display-buffer-contents, patch
	from Katsumi Yamaoka <yamaoka@jpl.org>.

2002-10-17  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nnheader.el (nnheader-parse-naked-head): New function.
	(nnheader-parse-head): Use the above function, in order to handle
	continuation lines properly.
	(nnheader-remove-body): New function.
	(nnheader-remove-cr-followed-by-lf): New function.
	(nnheader-ms-strip-cr): Use the above function.

	* gnus-agent.el (gnus-agent-regenerate-group): Call
	`nnheader-remove-body'; use `nnheader-parse-naked-head' instead of
	`nnheader-parse-head'.
	* gnus-cache.el (gnus-cache-possibly-enter-article): Ditto.

	* gnus-msg.el (gnus-inews-yank-articles): Do not unfold
	continuation lines by itself; call `nnheader-parse-naked-head'
	instead of `nnheader-parse-head'.
	* nndiary.el (nndiary-parse-head): Ditto.
	* nnfolder.el (nnfolder-parse-head): Ditto.
	* nnimap.el (nnimap-retrieve-headers-progress): Ditto.
	* nnmaildir.el (nnmaildir--update-nov): Ditto.
	* nnml.el (nnml-parse-head): Ditto.

2002-10-17  Steve Youngs  <youngs@xemacs.org>

	* gnus-art.el (gnus-button-man-handler): Add 'manual-entry' for
	XEmacs, default to it if featurep 'xemacs.

2002-10-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam-stat.el: Check for the existence of hash functions instead
	of the Emacs version to decide whether to load cl.  Suggested by
	Kai Gro,A_(Bjohann.

2002-10-15  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Open history
	if it isn't open yet.

2002-10-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el: Require mm-url only when compiling.
	(gnus-group-fetch-charter): Require mm-url.

	* spam-stat.el: Require cl for the functions gethash,
	hash-table-count, make-hash-table and mapc for Emacs 20.
	(puthash): Alias to cl-puthash for Emacs 20.
	(with-syntax-table): New macro for Emacs 20.

2002-10-12  Jesper Harder  <harder@ifa.au.dk>

	* gnus-spec.el (gnus-pad-form): Use gnus-string-width-function.

2002-10-11  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el (spam-check-ifile): added ifile as a spam checking
	backend, and spam-use-ifle as the variable to toggle that check.

2002-10-12  Simon Josefsson  <jas@extundo.com>

	* message.el (message-beginning-of-line): New variable.
	(message-beginning-of-line): Use it.

2002-10-11  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el: more compilation fixes for BBDB

	* spam-stat.el added code from Alex Schroeder <alex@gnu.org>
	(spam-stat-reduce-size): Interactive.
	(spam-stat-reset): New function.
	(spam-stat-save): Interactive.

2002-10-11  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el: Autoload gnus-delay-initialize.

	* message.el: Autoload gnus-delay-article.

2002-10-11  Jesper Harder  <harder@ifa.au.dk>

	* gnus-spec.el (gnus-balloon-face-function): Use the help-echo
	text property in Emacs.

2002-10-11  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-decrypt, mml2015-pgg-clear-decrypt)
	(mml2015-pgg-verify, mml2015-pgg-clear-verify): Remove CR.

	* mml1991.el (mml1991-pgg-sign): Remove CR.

2002-10-10  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-decrypt): Set gnus details even when
	decrypt failed.
	(mml2015-trust-boundaries-alist): Removed.
	(mml2015-gpg-extract-signature-details): Don't use it.
	(mml2015-unabbrev-trust-alist): New.
	(mml2015-gpg-extract-signature-details): Use it.

2002-10-10  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el: compilation fixes, spam-check-bbdb function is nil if no
	BBDB installed

	* spam-stat.el: added code from Alex Schroeder <alex@gnu.org> to do
	statistical analysis of spam in Lisp only

2002-10-10  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-open-server): Re-open server if it isn't in
	auth, selected or examine state.

	* pgg-gpg.el (pgg-gpg-verify-region): Filter out stuff into output
	buffer and error buffer depending on type of information.

	* mml2015.el (mml2015-gpg-extract-signature-details): Parse
	--status-fd stuff even if gpg.el is not used (revert earlier
	change).
	(mml2015-pgg-{clear-,}verify): Store both output and errors as
	gnus details.
	(mml2015-pgg-{clear-,}verify): Extract signature info from errors
	buffer.

	* pgg.el (pgg-verify-region): Use it.

	* pgg-def.el (pgg-query-keyserver): New variable.

	* pgg.el (pgg-decrypt-region): Bind pgg-default-user-id to
	key-identifier in packet.  Is this a good idea?

	* mml.el (mml-mode-map): Add security commands that operates on
	MIME parts.
	(mml-menu): And menu items for them.

	* mml1991.el (mml1991-pgg-encrypt): Remove headers.

	* mml.el (mml-parse-1): Support sender in #secure tags.

	* mml1991.el (mml1991-pgg-sign): Only use message-sender if it is
	defined.

	* mml-sec.el (mml-smime-encrypt-buffer): Warn about combined signing.
	(mml-pgp-encrypt-buffer): Support combined signing.

	* mml1991.el (mml1991-mailcrypt-encrypt): Support combined signing.
	(mml1991-gpg-encrypt): Ditto.
	(mml1991-pgg-encrypt): Ditto.
	(mml1991-encrypt): Pass sign parameter.

	* mml-sec.el (mml-signencrypt-style-alist): Defcustom.
	(mml-signencrypt-style): Mention the variable.

2002-10-09  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (mml1991-pgg-sign): Bind pgg-default-user-id, not
	pgg-gpg-user-id.

	* pgg.el (pgg-insert-url-with-w3): Ignore errors.
	(pgg-fetch-key-function): Nil if w3 is not installed.

2002-10-08  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Bind
	gnus-agent-current-history.

2002-10-06  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-status): Don't use read to read token.

2002-10-05  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Do nothing
	for methods not covered by the agent, and when unplugged.

2002-10-05  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-encrypt-region): Query passphrase when
	signing.

	* gnus-agent.el (gnus-agent-read-servers): If getting method from
	a named server fails, ignore the server.

	* mml1991.el (mml1991-pgg-sign): Do QP.

	* pgg-gpg.el (pgg-gpg-encrypt-region): Make signencrypt really
	work.

2002-10-04  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-encrypt-region): Make signencrypt work.

	* pgg-pgp.el (pgg-pgp-verify-region): Inline
	binary-write-decoded-region from MEL.

	* pgg.el (pgg-encrypt-region): Support sign.

	* pgg-gpg.el (pgg-gpg-encrypt-region): Ditto.

	* mml2015.el (mml2015-pgg-encrypt): Ditto.

	* pgg.el, pgg-def.el, pgg-parse.el, pgg-gpg.el, pgg-pgp5.el,
	pgg-pgp6.el: Moved from ../pgg/.  Modifications compared to EMIKO
	branch where PGG was taken from in the ChangeLog entries below.

2002-10-01  Simon Josefsson  <jas@extundo.com>

	* pgg-pgp.el: Don't require mel.  Don't use luna.
	(pgg-scheme-pgp-instance, pgg-make-scheme-pgp): Remove.
	(pgg-pgp-process-region): Use expand-file-name instead of concat.
	(pgg-pgp-process-region): Don't use binary-funcall.

	* pgg-pgp5.el (pgg-pgp5-process-region): Don't use binary-funcall.

	* pgg-gpg.el (pgg-gpg-process-region): Use expand-file-name
	instead of concat.

	* pgg-pgp5.el (pgg-pgp5-process-region): Ditto.

2002-09-29  Simon Josefsson  <jas@extundo.com>

	* pgg-parse.el (pgg-char-int, pgg-string-as-unibyte): Prevent byte
	compile warnings.

	* pgg.el (pgg-decrypt-region): Don't parse packet.

	* pgg.el, pgg-gpg.el, pgg-pgp5.el: Don't depend on luna.el.

2002-09-29  Daiki Ueno <ueno@unixuser.org>

	* pgg.el: Remove dependency on calist.el.

2002-09-28  Simon Josefsson  <jas@extundo.com>

	* pgg.el (pgg-temporary-file-directory): New variable.
	(pgg-verify-region): Don't assume set-buffer-multibyte exists.

	* pgg-pgp5.el (pgg-pgp5-process-region, pgg-scheme-verify-region)
	(pgg-scheme-snarf-keys-region): Use pgg-temporary-file-directory.

	* pgg-parse.el (pgg-char-int): Defalias.
	(pgg-format-key-identifier, pgg-byte-after, pgg-read-byte)
	(pgg-read-bytes, pgg-read-body): Use it.
	(pgg-decode-packets): Don't use MEL, use base64-*.
	(pgg-parse-armor): Don't assume set-buffer-multibyte exists.
	(pgg-string-as-unibyte): Defalias.
	(pgg-parse-armor-region): Use it.

	* pgg-gpg.el (pgg-gpg-process-region): Use
	pgg-temporary-file-directory.

	* luna.el: Don't def-edebug.

	* pgg-pgp5.el (pgg-scheme-verify-region): Inline
	binary-write-decoded-region from MEL.

	* pgg-pgp5.el, pgg-gpg.el: Don't require mel.

	* alist.el, calist.el: Don't require product/APEL.

	* pgg-parse.el (top-level): Remove dependency on static.el,
	pccl.el, mel.el.
	(pgg-parse-crc24, pgg-parse-crc24-string): Only define if
	`define-ccl-program' is boundp, instead of using broken.

2002-10-01  Simon Josefsson  <jas@extundo.com>

	* message.el (message-required-mail-headers): Remove Lines:.

2002-10-03  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Jesper Harder.

	* gnus-group.el (gnus-group-fetch-charter,
	gnus-group-fetch-control): Prompt for group if given a prefix
	argument.
	* gnus-sum.el (t): Add gnus-group-fetch-charter and
	gnus-group-fetch-control to summary key map and menu.


2002-10-03  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--group-maxnum-art): fix maximum article
	number when there are no articles.

2002-10-03  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-summary-fetch-group): Optional prefix
	arg ALL means to fetch all articles, not only downloadable ones.
	(gnus-agent-fetch-selected-article): New function for
	gnus-select-article-hook or gnus-mark-article-hook.

2002-10-02  Katsumi Yamaoka  <yamaoka@jpl.org>
	From Peter von der Ahe <nospam2159@daimi.au.dk>.

	* gnus-ems.el (gnus-x-splash): Set coding-system-for-read to
	raw-text.

2002-09-30  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el: merged changes from pinard@iro.umontreal.ca (Fran,Ag(Bois
	Pinard).
	Major revamp of the code, documentation is in comments in the file
	for now.

2002-09-30  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-clear-verify): Verifying in a unibyte
	buffer seem to be needed?

2002-09-29  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (pgg-output-buffer, pgg-errors-buffer): Prevent byte
	compile warnings.

	* mml1991.el (mml1991-function-alist): Add pgg.
	(mml1991-pgg-sign, mml1991-pgg-encrypt): New functions.
	(mml1991-pgg-encrypt): Fix recipients querying.

2002-09-28  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (autoload): Autoload correct files.  Trivial patch
	from dme@dme.org.
	(mml2015-pgg-decrypt, mml2015-pgg-verify): Make sure either nil or
	handle is returned.

2002-09-27  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-fixup-nnimap-unread-after-getting-new-news):
	Protect against non-existent of `nnimap-mailbox-info'.

2002-09-27  Simon Josefsson  <jas@extundo.com>

	* gnus-start.el (gnus-fixup-nnimap-unread-after-getting-new-news): New.
	(gnus-setup-news-hook): Use it.
	(gnus-after-getting-new-news-hook): Ditto.

	* nnimap.el (nnimap-fixup-unread-after-getting-new-news): Remove.

2002-09-27  Katsumi Yamaoka  <yamaoka@jpl.org>
	From Mats Lidell <matsl@contactor.se>.

	* gnus-art.el (gnus-article-mode-syntax-table): Replace "-" to " ".

2002-09-27  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-sum.el (gnus-nov-parse-line): When an error is signaled in
	the part to decode encoded words, use raw words instead of decoded
	words.

2002-09-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnimap.el (nnimap-update-unseen): Use gnus-gethash-safe.

	* mm-view.el (mm-w3m-mode-ignored-keys): New variable.
	(mm-setup-w3m): Use it.

2002-09-27  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-article-mode-syntax-table): Make M-. work in
	article buffers.

	* nnimap.el (nnimap-fixup-unread-after-getting-new-news): Autoload
	it just in case.
	(nnimap-update-unseen): New function; update unseen count in
	`n-m-info'.
	(nnimap-close-group): Call it.

	* gnus-start.el (gnus-setup-news-hook): Add n-f-u-a-g-n-n.
	(gnus-after-getting-new-news-hook): Ditto.

	* nnimap.el (nnimap-retrieve-groups): Move the quick mail check
	message into verboselevel 9.  Change slow mail check message.
	(nnimap-retrieve-groups): Use prefixed names in n-mailbox-info.
	(nnimap-fixup-unread-after-getting-new-news): New function, to be
	used as a hook after getting new mail.

2002-09-26  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-resp-text-code): The UNSEEN value in
	SELECT/EXAMINE is first unseen article, not number of unseen
	articles.  Make them distinct by renaming the former to
	`first-unseen' instead of `unseen'.

	* nnimap.el (nnimap-retrieve-groups): Get uidvalidity and unseen
	too.
	(nnimap-retrieve-groups): Don't used cached data if uidvalidity
	changed.
	(nnimap-retrieve-groups): Store uidvalidity and unseen data too.

	* gnus-int.el (gnus-server-unopen-status): Defcustom.

	* mml-sec.el (mml-signencrypt-style): Docstring to font-lock
	better.

	* mml2015.el (mml2015-pgg-decrypt): Only add security information
	if dissecting resulting buffer actually had any information.

2002-09-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el (gnus-group-sort-by-method): Remove `symbol-name'
	because the function `string<' allows symbols.

	* gnus-sum.el (gnus-summary-make-menu-bar): Ditto.

2002-09-25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward-make-body): Revert an early change
	because 8-bit utf-8 emails.

2002-09-25  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* gnus-agent.el (gnus-category-line-format): Doc fixes (mostly added
	links to Info)
	* gnus-art.el (gnus-treat-highlight-signature):
	* gnus-art.el (gnus-treat-buttonize):
	* gnus-art.el (gnus-treat-buttonize-head):
	* gnus-art.el (gnus-treat-emphasize):
	* gnus-art.el (gnus-treat-strip-cr):
	* gnus-art.el (gnus-treat-unsplit-urls):
	* gnus-art.el (gnus-treat-leading-whitespace):
	* gnus-art.el (gnus-treat-hide-headers):
	* gnus-art.el (gnus-treat-hide-boring-headers):
	* gnus-art.el (gnus-treat-hide-signature):
	* gnus-art.el (gnus-treat-fill-article):
	* gnus-art.el (gnus-treat-hide-citation):
	* gnus-art.el (gnus-treat-hide-citation-maybe):
	* gnus-art.el (gnus-treat-strip-list-identifiers):
	* gnus-art.el (gnus-treat-strip-pgp):
	* gnus-art.el (gnus-treat-strip-pem):
	* gnus-art.el (gnus-treat-strip-banner):
	* gnus-art.el (gnus-treat-highlight-headers):
	* gnus-art.el (gnus-treat-highlight-citation):
	* gnus-art.el (gnus-treat-date-ut):
	* gnus-art.el (gnus-treat-date-local):
	* gnus-art.el (gnus-treat-date-english):
	* gnus-art.el (gnus-treat-date-lapsed):
	* gnus-art.el (gnus-treat-date-original):
	* gnus-art.el (gnus-treat-date-iso8601):
	* gnus-art.el (gnus-treat-date-user-defined):
	* gnus-art.el (gnus-treat-strip-headers-in-body):
	* gnus-art.el (gnus-treat-strip-trailing-blank-lines):
	* gnus-art.el (gnus-treat-strip-leading-blank-lines):
	* gnus-art.el (gnus-treat-strip-multiple-blank-lines):
	* gnus-art.el (gnus-treat-unfold-headers):
	* gnus-art.el (gnus-treat-fold-headers):
	* gnus-art.el (gnus-treat-fold-newsgroups):
	* gnus-art.el (gnus-treat-overstrike):
	* gnus-art.el (gnus-treat-display-xface):
	* gnus-art.el (gnus-treat-display-smileys):
	* gnus-art.el (gnus-treat-from-picon):
	* gnus-art.el (gnus-treat-mail-picon):
	* gnus-art.el (gnus-treat-newsgroups-picon):
	* gnus-art.el (gnus-treat-body-boundary):
	* gnus-art.el (gnus-treat-capitalize-sentences):
	* gnus-art.el (gnus-treat-fill-long-lines):
	* gnus-art.el (gnus-treat-play-sounds):
	* gnus-art.el (gnus-treat-translate):
	* gnus-art.el (gnus-treat-x-pgp-sig):
	* gnus-art.el (gnus-mime-button-line-format):
	* gnus-art.el (gnus-button-man-level):
	* gnus-art.el (gnus-button-emacs-level):
	* gnus-cus.el (gnus-group-parameters):
	* gnus-gl.el (bbb-build-mid-scores-alist):
	* gnus-group.el (gnus-group-line-format):
	* gnus-mlspl.el (gnus-group-split-setup):
	* gnus-mlspl.el (gnus-group-split):
	* gnus-msg.el (gnus-mailing-list-groups):
	* gnus-msg.el (gnus-posting-styles):
	* gnus-nocem.el (gnus-nocem-issuers):
	* gnus-score.el (gnus-score-regexp-bad-p):
	* gnus-srvr.el (gnus-server-line-format):
	* gnus-topic.el (gnus-topic-line-format):
	* gnus.el (gnus-summary-line-format):
	* mail-source.el (mail-sources):
	* message.el (message-subscribed-address-file):
	* nnmail.el (nnmail-split-fancy):

2002-09-24  Evgeny Roubinchtein  <zhenya@freeshell.org>

	* mail-source.el(mail-source-run-script): use `functionp' to test
	whether the argument `script' is in fact a function.
	(mail-sources): adjust the defcustom to allow users to specify a
	function or a string as the value of the `:prescript' and
	`:postscript' arguments of the `file' and `pop3' mail sources.

2002-09-25  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--grp-add-art): fix minimum article
	number when article 1 does not exist.

2002-09-25  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (gnus-button-handle-apropos-variable): Fall back to
	apropos if apropos-variable does not exist.
	(gnus-button-guessed-mid-regexp)
	(gnus-button-handle-describe-prefix, gnus-button-alist): Better
	regexes.  From Reiner Steib.
	(gnus-button-handle-describe-function)
	(gnus-button-handle-describe-variable): Doc fix.  From Reiner Steib.
	(gnus-button-handle-describe-key, gnus-button-handle-apropos)
	(gnus-button-handle-apropos-command): Doc fix.  From Reiner Steib.

2002-09-25  Mark A. Hershberger  <mah@everybody.org>

	* nnrss.el (nnrss-save-server-data): Save nnrss-group-alist in
	the file.

2002-09-24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-1): Create nndraft:queue, nndraft:drafts.

2002-09-24  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (top-level): Require mm-util for mm-make-temp-file.
	(mml2015-use): Prefer PGG if installed.
	(mml2015-function-alist): Add PGG wrappers.
	(mml2015-gpg-extract-signature-details): Check mml2015-use too.
	(mml2015-gpg-extract-signature-details): PGG strips "gpg: "
	prefix, make regexp optionally skip it.
	(mml2015-pgg-decrypt, mml2015-pgg-clear-decrypt)
	(mml2015-pgg-verify, mml2015-pgg-clear-verify, mml2015-pgg-sign)
	(mml2015-pgg-encrypt): New functions.
	(defvar, autoload): Prevent byte-compile warnings.

2002-09-24  Katsumi Yamaoka  <yamaoka@jpl.org>
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>.

	* gnus-art.el (article-strip-banner): Check for the existence of
	from header.

2002-09-23  Kai Gro,b_(Bjohann  <grossjoh@ls6.informatik.uni-dortmund.de>

	* gnus-art.el (gnus-button-guessed-mid-regexp): Improved regexp.
	(gnus-button-alist): Improved regexp for
	gnus-button-handle-mid-or-mail (false positives), fixed
	gnus-button-handle-man entries.
	From Reiner Steib.

2002-09-23  Paul Jarc  <prj@po.cwru.edu>
	From Josh Huber.

	* nnmaildir.el (nnmaildir--update-nov): fix wrong-type error when
	nnmail-extra-headers is non-nil.

2002-09-23  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: Store article numbers persistently.  General
	revision.
	(nnmaildir-request-expire-articles): handle 'immediate and 'never
	for nnmail-expiry-wait; delete instead of moving if 'force is
	given.

2002-09-23  Simon Josefsson  <jas@extundo.com>
	Trivial fix from beaker@iavmb.pl (Krzysztof J,Bj(Bdruczyk).

	* smime.el (smime-sign-buffer): Get key and extra certs.
	(smime-get-key-with-certs-by-email): Utility function.

2002-09-21  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Micha Wiedenmann <mw-u1@gmx.de>

	* gnus-soup.el (gnus-soup-add-article): Mark as read only when the
	article exists.

2002-09-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-next-group): Switch to the summary buffer.

2002-09-20  Kai Gro,b_(Bjohann  <grossjoh@ls6.informatik.uni-dortmund.de>
	From Reiner Steib.

	* gnus-art.el (gnus-button-handle-custom,
	gnus-button-handle-mid-or-mail,
	gnus-button-handle-describe-{function,variable,key},
	gnus-button-handle-apropos{,command,variable}): New functions.
	(gnus-button-prefer-mid-or-mail,gnus-button-guessed-mid-regexp,
	gnus-button-{man,emacs,mail}-level): New variables.
	(gnus-button-alist): Use the above to buttonize emacs and mail
	related links.

2002-09-18  Juanma Barranquero  <lektu@terra.es>

	* gnus-int.el (gnus-status-message): Fix spacing.

	* imap.el (imap-continuation): Fix typos.

2002-09-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-configure-posting-styles): Sort results.

	* gnus-art.el (gnus-article-reply-with-original): Correct
	with-current-buffer scope.

	* message.el (message-completion-alist): Add Reply-To, From, etc.

2002-09-18  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-request-expire-articles): Make flag setting
	conditional.  From Nevin Kapur <nevin@jhu.edu>.

2002-09-17  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-expiry-target): Don't search for which
	articles exists here.
	(nnimap-request-expire-articles): Do it here instead.  Only expire
	when articles are found.  Suggested by Nevin Kapur
	<nevin@jhu.edu>.

2002-09-17  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Reiner Steib <reiner.steib@gmx.de>.

	* message.el (message-strip-subject-trailing-was)
	(message-change-subject, message-add-archive-header)
	(message-xpost-fup2-header, message-xpost-insert-note)
	(message-xpost-fup2, message-reduce-to-to-cc): New functions
	adopted from message-utils.el.  Add functions to the keymap, mode
	describtion and menu.
	(message-change-subject,message-xpost-fup2): Signal error if
	current header is empty.
	(message-xpost-insert-note): Changed insert position.
	(message-archive-note): Ensure to insert note in message body (not
	in head).
	(message-archive-header, message-archive-note)
	(message-xpost-default, message-xpost-note, message-fup2-note)
	(message-xpost-note-function): New variables adopted from
	message-utils.el.  Changed some doc-strings.
	(message-mark-insert-{begin,end}): Rename from
	message-{begin,end}-inserted-text-mark (message-utils.el), changed
	values.
	(message-subject-trailing-was-query)
	(message-subject-trailing-was-ask-regexp)
	(message-subject-trailing-was-regexp): New variables.
	(message-to-list-only): Added doc-string and menu entry.

	* message-utils.el: Removed.  Functions are now in message.el.

2002-09-16  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-reply-with-original,
	gnus-article-followup-with-original): Switch to
	gnus-summary-buffer before reply/followup.

2002-09-15  John Paul Wallington  <jpw@shootybangbang.com>

	* gnus-sum.el (gnus-summary-toggle-header): The article window may
	not exist. Toggle it anyway.

2002-09-13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-copy-article-buffer): Bind mail-header-separator.

	* gnus-art.el (article-fill-long-lines): Fill-paragraph properly.
	Trivial patch from Urban Engberg <ue@ccieurope.com>.

	* rfc2047.el (message-posting-charset): Defvar it.
	(rfc2047-charset-encoding-alist): Use B for iso-8859-7 and
	iso-8859-8. Fix doc.  Suggested by Dave Love <fx@gnu.org>.

	* mail-source.el (mail-source-fetch): Hide password.

	* gnus-sum.el (gnus-summary-next-group): Semi-exit only when needed.

2002-09-12  Katsumi Yamaoka  <yamaoka@jpl.org>
	From John Paul Wallington <jpw@shootybangbang.com>.

	* gnus.el (gnus-visual, gnus-meta): Fix typo.

2002-09-11  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-address-banner-alist): Doc fix.

2002-09-11  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-expiry-target): Only expiry-target existing articles.
	(nnimap-split-rule): Doc fix.
	(nnimap-request-expire-articles): Cleanup code.

2002-09-11  Katsumi Yamaoka  <yamaoka@jpl.org>
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>.

	* gnus-art.el (gnus-article-address-banner-alist): New option.
	(article-strip-banner): Refer the above option to split banners of
	free mail servers, when no group parameter is specified.

2002-09-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-wait-for-string): Check for a process in the
	current buffer instead of `nntp-server-buffer'.

2002-09-09  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-man-handler): New variable.
	(gnus-button-alist): Use g-b-handle-man.
	(gnus-button-handle-man): New, call g-b-man-handler.

2002-09-08  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-alist): Buttonize man page links.

2002-09-07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-dumbquotes-map): Add \230.

2002-09-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-browse-make-menu-bar): Add "d".

	* gnus-sum.el (gnus-summary-limit-to-unseen): New command and
	keystroke.

	* gnus-srvr.el (gnus-browse-describe-group): New command and
	keystroke.

2002-09-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-treat-body-boundary): Don't quote a
	value for gnus-decoration property.

2002-09-06  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-cache-fetch-group): Don't return "" (empty
	string) as group name in case we have a CRLF in the file.

2002-09-04  Jesper Harder  <harder@ifa.au.dk>

	* rfc1843.el (rfc1843-decode-loosely): Move to mime customization
	group.
	(rfc1843-decode-hzp): do.
	(rfc1843-newsgroups-regexp): do.

2002-09-04  Simon Josefsson  <jas@extundo.com>

	* message.el (message-canlock-generate): Make sure sha1 doesn't
	call external programs.

2002-09-03  Simon Josefsson  <jas@extundo.com>

	* nntp.el (nntp-wait-for-string): Dont infloop if process died.

	* gnus-agent.el (gnus-agent-batch): Add doc.

2002-09-03  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el (gnus-summary-handle-replysign): Change the order we
	check for signed and encrypted parts.
	* mml.el (mml-parse-1): Correct small typo which preventing
	setting recipients in a secure tag.

2002-09-03  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-util.el (mm-coding-system-priorities): Default to a list of
	iso-2022-jp and others for the Japanese environment.

2002-09-03  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-util.el (gnus-frame-or-window-display-name): Exclude
	invalid display names.

2002-08-30  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-fetch-control): Fix typo in last
	commit.  From Reiner Steib <4uce.02.r.steib@gmx.net>.

2002-08-26  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el (gnus-group-charter-alist): New option.
	(gnus-group-fetch-control-use-browse-url): New option.

	* gnus-group.el (gnus-group-fetch-charter): New function.
	(gnus-group-fetch-control): New function.
	Add them to the keymap and menu. Require mm-url.

2002-08-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-mlspl.el (gnus-group-split-fancy): Doc fix.
	From Alex Schroeder <alex@emacswiki.org>.

2002-08-29  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-make-menu-bar): Add ellipses to menu
	items expecting user interaction.

	* gnus-topic.el (gnus-topic-make-menu-bar): do.

	* gnus-sum.el (gnus-summary-make-menu-bar): do.

	* gnus-srvr.el (gnus-server-make-menu-bar): do.

	* mml.el (mml-menu): do.

2002-08-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mail-source.el (mail-source-touch-pop): New function.

	* message.el (message-smtpmail-send-it): New function.
	(message-send-mail-function): Add it for a candidate.

2002-08-27  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (posting-charset-alist): Use
	gnus-define-group-parameter instead of defcustom.
	(gnus-put-message): Handle SPC in GCC.
	(gnus-inews-insert-gcc): Ditto.
	(gnus-inews-insert-archive-gcc): Ditto.

2002-08-26  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agent-auto-agentize-methods): New variable.
	(gnus-agentize): Auto agentize all nntp and nnimap groups.
	(gnus-agent-possibly-save-gcc): Autoload.
	Suggested by (KOSEKI Yoshinori) <kose@meadowy.org>.

2002-08-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-other-frame-function): New user option.
	(gnus-other-frame): Use it; add a doc-string; make it work with
	the gnuclient program.

	* gnus-util.el (gnus-frame-or-window-display-name): New function.

	* lpath.el: Fbind `frame-parameter', `make-frame-on-display',
	`device-connection' and `dfw-device'.

2002-08-22  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (gnus-emphasis-alist): Strikethru had a lot of false
	positives, make it stricter.  From Jochen Hein (trivial change).

2002-08-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-other-frame): Trivial fix.

2002-08-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-other-frame-parameters): New user option.
	(gnus-other-frame-object): New variable.
	(gnus-other-frame): Make it search for existing Gnus frame; don't
	read new news; delete frame on exit.

	* gnus-util.el (gnus-select-frame-set-input-focus): New function.

	* lpath.el: Fbind w32-focus-frame and x-focus-frame.

2002-08-20  Katsumi Yamaoka  <yamaoka@jpl.org>
	From $B>.4X(B $B5HB'(B (KOSEKI Yoshinori) <kose@meadowy.org>.

	* message.el (message-set-auto-save-file-name): Add support for
	the Cygwin Emacs; the system-type is `cygwin'.
	* nnheader.el (nnheader-file-name-translation-alist): Ditto.

2002-08-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-button-url-regexp): Use POSIX regexp if possible.

	* nnmh.el (nnmh-request-list-1): Use %.0f instead of %d to
	avoid arithmetic errors.

2002-08-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el: Don't fbind `gnus-article-replace-with-quoted-text'.

2002-08-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-ignored-supersedes-headers): Add X-Hashcash.
	(message-ignored-resent-headers): Add envelope From.

2002-08-18  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus.el (gnus-summary-line-format): Document %k specifier.

2002-08-17  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-summary-line-message-size): New function.
	(gnus-summary-line-format-alist): Use it.

2002-08-15  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-make-date-line): Refer to the value for
	`gnus-article-time-format' in the summary buffer.

	* message.el (message-cite-prefix-regexp): Exclude ":" and ",A;(B".

2002-08-14  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-alist): Use ' not ` for default value
	quoting.
	(gnus-button-alist): Fix doc.
	(gnus-header-button-alist): Use ' not ` for default value quoting.
	(gnus-header-button-alist): Don't inline gnus-button-url-regexp,
	rationale similar to 2002-05-01 change.
	(gnus-article-add-buttons-to-head): Evaluate expression.

	* gnus-sum.el (gnus-summary-make-menu-bar): Add MIME button option.

2002-08-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-font-lock-keywords): Refer to the value for
	`message-cite-prefix-regexp' dynamically.

2002-08-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-decode-header-methods): Doc fix.

2002-08-12  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-shell-open): Allow non-list `imap-shell-program'.
	(imap-shell-open): Skip initial junk before IMAP greeting.

2002-08-11  Simon Josefsson  <jas@extundo.com>

	* message-utils.el (message-xpost-default,
	message-xpost-fup2-header, message-xpost-fup2): Fixed
	Typos.  Trivial changes from Reiner Steib
	<4uce.02.r.steib@gmx.net>.

2002-08-09  Simon Josefsson  <jas@extundo.com>

	* message.el (message-canlock-password): Set
	canlock-password-for-verify to newly generated canlock-password.
	When Emacs is restarted, Custom makes sure this is set, but during
	the same session we must set it manually.

2002-08-07  Jesper Harder  <harder@ifa.au.dk>

	* yenc.el: New file.

	* mm-uu.el (mm-uu-yenc-decode-function): New variable.
	(mm-uu-type-alist): Add yenc.
	(mm-uu-yenc-filename): New function.
	(mm-uu-yenc-extract): New function.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Add yenc.

2002-08-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (merge): Don't use coerce.

2002-05-27  Jesper Harder  <harder@ifa.au.dk>

	* mailcap.el (mailcap-mime-data): Test window-system rather than
	mm-device-type.
	(mailcap-mime-data): Call xdvi and gv with "-safer".

	* mm-util.el: Don't define mm-device-type.

2002-08-05  Simon Josefsson  <jas@extundo.com>

	* mm-util.el (mm-coding-system-priorities): coding-system type not
	supported everywhere.

2002-08-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bumped version number.

2002-08-04 01:48:57 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.07 is released.

2002-08-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-thread-sort-functions): Doc fix.
	(gnus-article-sort-functions): Doc fix.
	(t): New keystroke.
	(gnus-article-sort-by-random): New function.
	(gnus-thread-sort-by-random): New function.

2002-08-02  Simon Josefsson  <jas@extundo.com>

	* gnus-logic.el (gnus-advanced-integer): Swap arguments in
	funcall.  From Scott A Crosby <scrosby@cs.rice.edu>.

2002-07-31  Danny Siu  <dsiu@adobe.com>

	* nnimap.el (nnimap-split-articles): do not call nnmail-fetch-field
	when splitting malformed messages without message-id

2002-07-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Niklas Morberg <niklas.morberg@axis.com>.

	* nnweb.el (nnweb-type, nnweb-type-definition)
	(nnweb-gmane-create-mapping, nnweb-gmane-wash-article)
	(nnweb-gmane-search, nnweb-gmane-identity): Added gmane
	functionality.
	* nnweb.el: Removed old non-functioning search engines.

2002-07-27  Simon Josefsson  <jas@extundo.com>

	* message.el (message-forward-make-body): Don't use
	`message-forward-ignored-headers' when doing a "raw" followup (it
	is important to preserve e.g. CTE).

	* flow-fill.el (fill-flowed): Disable filladapt-mode.

	* gnus-sieve.el (gnus-sieve-guess-rule-for-article): Don't
	regexp-quote, Cyrus Sieve is fixed.

	* sieve-manage.el (sieve-manage-deletescript): New function.

	* sieve.el (sieve-manage-mode-map): Fix down-mouse-2 and down-mouse-3.
	(sieve-manage-mode): Fix menubar.
	(sieve-activate): Change some messages.
	(sieve-deactivate-all): New function.
	(sieve-deactivate): New alias.
	(sieve-remove): New function.
	(sieve-help): Fix help.
	All suggested by Ned Ludd.

2002-07-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-inline-text-html-with-images): Doc fix.
	(mm-w3m-safe-url-regexp): New user option.

	* mm-view.el (mm-inline-text-html-render-with-w3m): Use
	`mm-w3m-safe-url-regexp' to bind `w3m-safe-url-regexp'.

2002-07-23  Karl Kleinpaste  <karl@charcoal.com>

	* gnus-sum.el (gnus-summary-delete-article): Force
	nnmail-expiry-target to 'delete, so that absolute deletion
	happens when absolute deletion is requested.

2002-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Nevin Kapur <nevin@jhu.edu>.

	* nnmail.el (nnmail-fancy-expiry-target): Treat nonexisting
	headers as empty headers.

2002-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Jochen Hein <jochen@jochen.org>.

	* gnus-art.el (gnus-emphasis-alist): Add strikethrough and
	correct typo.
	(gnus-emphasis-strikethru): New face.

2002-07-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Jason Merrill <jason@redhat.com>.

	* nnfolder.el (nnfolder-retrieve-headers): Avoid searching the
	entire file for each of a sequence of missing articles.

	* gnus-salt.el (gnus-binary-display-article): Respect an existing
	value for gnus-view-pseudos.

	* gnus-sum.el (gnus-summary-insert-new-articles): Count down to
	avoid nreverse.

2002-07-14  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Ted Zlatanov <teodor.zlatanov@divine.com>.

	* gnus-sum.el (gnus-auto-expirable-marks): Remove `spam'.
	(gnus-summary-mode-line-format-alist): Add %h for number of
	spams.
	(gnus-newsgroup-spam-marked): New variable.
	(gnus-summary-local-variables): Add gnus-newsgroup-spam-marked.
	(gnus-article-read-p, gnus-article-mark)
	(gnus-set-global-variables, gnus-set-global-variables)
	(gnus-article-marked-p, gnus-summary-mark-article-as-read)
	(gnus-summary-mark-article-as-unread)
	(gnus-summary-mark-article-as-unread, gnus-summary-mark-article)
	(gnus-mark-article-as-read, gnus-mark-article-as-unread)
	(gnus-mark-article-as-unread, gnus-summary-catchup): Grok spam.

2002-07-10  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-to-groups): Allow group string to be a
	function.  From KANEMATSU Daiji <kdaiji@bea.com>.

2002-07-09  Nevin Kapur  <nevin@jhu.edu>

	* gnus-sum.el (gnus-summary-delete-article): Respect group
	parameters while expiring.

2002-07-08  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (article-make-date-line): Fix string.  From Henrik
	Enberg.

2002-07-08  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (article-unsplit-urls): Only display MIME when this
	function is called interactively.  From Niklas Morberg.

2002-07-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-indent, gnus-topic-unindent): Change
	cdaar to cdar and car.

	* nnsoup.el (nnsoup-retrieve-headers, nnsoup-request-type)
	(nnsoup-read-active-file, nnsoup-article-to-area): Ditto.

2002-07-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-toggle-header): Show headers anyway;
	don't break a narrowed article.

	* nntp.el (nntp-via-rlogin-command-switches): Doc fix.
	(nntp-open-via-rlogin-and-telnet): Ditto.

2002-07-02  Didier Verna  <didier@xemacs.org>

	* nnmail.el (nnmail-split-methods): fix custom type.

2002-07-02  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (article-unsplit-urls): Keep URL buttonized after
	unsplitting.  From Niklas Morberg <niklas.morberg@axis.com>.

2002-07-01  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-summary-resend-default-address): New user option.
	(gnus-summary-resend-message): Use it.

2002-06-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-via-rlogin-command-switches): New variable.
	(nntp-open-via-rlogin-and-telnet): Re-revert; use the var above.

2002-06-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Don't fontify
	headers in the message body, only in the header.
	(message-font-lock-make-header-matcher): New function, used by
	message-font-lock-keywords.
	From Katsumi Yamaoka <yamaoka@jpl.org>.

2002-06-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-open-via-rlogin-and-telnet): Revert last change.

2002-06-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-open-via-rlogin-and-telnet): Hide commandline args.

2002-06-26  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Revert 2002-06-22
	change.

2002-06-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Put colon in header
	name match.

2002-06-22  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Don't use header faces
	in the body.  Thanks to Stefan Monnier for the hint on the
	implementation.

2002-05-09  Miles Bader  <miles@gnu.org>

	* gnus-cite.el (gnus-cite-blank-line-after-header): New variable.
	(gnus-article-hide-citation): Respect it.

2002-04-12  Juanma Barranquero  <lektu@terra.es>

	* pop3.el (pop3-open-server): Fix typo.

2002-06-18  Josh Huber  <huber@alum.wpi.edu>

	* gnus.el (gnus-find-subscribed-addresses): Use add-to-list
	instead of push to ignore duplicate to-(list|address) values.
	* nnmail.el (nnmail-cache-ignore-groups): New.
	* nnmail.el (nnmail-cache-insert): Obey nnmail-cache-ignore-groups

2002-06-18  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-queue): Delete the delay header
	before sending.  Suggested by Jan Rychter.

2002-06-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (remove): New compiler macro.
	(last, coerce, subseq): Remove compiler macros for those built-in
	or unused functions.

2002-06-17  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-start.el (gnus-clear-system, gnus-read-newsrc-file): Make
	sure to write byte-compiled versions of gnus-*-format-alist to
	.newsrc.eld.  From Simon Josefsson.

2002-06-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-read-servers)
	(gnus-agent-write-servers): Put server name (string like
	"nnchoke:frumple") in the file instead of a server specification
	(Lisp expression like (nnchoke "frumple" ...parameters...)).
	From Bj,Ax(Brn Mork <bmork@dod.no>.

2002-06-16  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-remove-article): n is &optional.  From
	Reiner Steib <4uce.02.r.steib@gmx.net>.

2002-06-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-file-name-translation-alist): Set the
	default value for MS Windows systems.

	* gnus-ems.el (nnheader-file-name-translation-alist): Removed.

2002-06-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-beginning-of-line): Keep the region active
	in XEmacs.  Suggested by TAKAHASHI Kaoru <kaoru@kaisei.org>.

2002-06-13  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el (gnus-summary-followup): Use g-s-handle-replysign.
	* gnus-msg.el (gnus-summary-reply): Ditto.
	* gnus-msg.el (gnus-summary-handle-replysign): New.

2002-06-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-send-mail-with-sendmail): Kill errbuf even
	if sending failed.

2002-06-11  Josh Huber  <huber@alum.wpi.edu>

	* gnus-start.el (gnus-dribble-enter): Don't call set-window-point anymore
	* mml2015.el (mml2015-mailcrypt-encrypt): Accept optional argument
	to sign while encrypting.

2002-06-11  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-request-move-article): Agent expire article if
	successfuly moved.

	* nnweb.el (nnweb-google-create-mapping): Honors the value of
	nnweb-max-hits.  From Niklas Morberg <niklas.morberg@axis.com>.

2002-06-10  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-request-expire-articles): Fix last change?

2002-06-09  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-delete-article): Don't agent expire here.

	* gnus-int.el (gnus-request-expire-articles): Do it here instead.

2002-06-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* flow-fill.el (fill-flowed): Ignore errors.

2002-06-06  Simon Josefsson  <jas@extundo.com>

	* message.el (message-send-mail-with-sendmail): Improve error message.

2002-06-06  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-interactive): Change default from nil to t.
	Better to be safe than to be fast.

2002-06-05  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-send-mail-with-sendmail): Check return value
	from call-process-region.

2002-06-04  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-group-mail, gnus-group-news)
	(gnus-group-post-news, gnus-summary-mail-other-window)
	(gnus-summary-news-other-window, gnus-summary-post-news): Bind
	gnus-article-copy to nil, thereby inhibiting the `header' posting
	style match to use data from last viewed article.
	Suggested by Hrvoje Niksic.

2002-06-04  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam.el (spam-point-at-eol): New alias.
	(spam-parse-whitelist): Use it.

2002-06-03  Simon Josefsson  <jas@extundo.com>

	* nnmail.el (nnmail-mail-splitting-decodes): New variable.
	(nnmail-article-group): Use it.

2002-05-30  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-inews-yank-articles): Merge split header lines
	so that code reading them won't be surprised.  From Jesper Harder
	<harder@ifa.au.dk>.

2002-05-29  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-delete-article): Agent expire deleted
	articles.

	* gnus.el (gnus-agent-cache): Doc fix.
	(gnus-agent): Change default to t.

	* gnus-agent.el (gnus-agent-expire): Make it accept optional
	ARTICLES, GROUP and FORCE parameters.

2002-05-28  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-line-format): Doc fix.

2002-05-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-inews-yank-articles): Unfold headers of
	original article before yanking.  From Jesper Harder
	<harder@ifa.au.dk>.

2002-05-26  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-menu-split): New function.
	(gnus-summary-make-menu-bar): Split charset submenu.
	(gnus-summary-menu-maxlen): New variable.
	(gnus-summary-menu-split): Use it.

2002-05-25  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-preview): Generate some headers.

	* gnus.el (gnus-large-newsgroup): Fix :type.

	* nnimap.el (nnimap-nov-is-evil): Change default to t (because the
	Agent cache NOV's by default now).
	(nnimap-nov-is-evil): Make it default to `gnus-agent' instead.

2002-05-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-dependencies-add-header): Avoid one unecessary
	call to gnus-parent-id when we check for References loops.
	(gnus-summary-prepare-threads): Avoid simplifying every Subject
	twice by saving the simplified subject string in simp-subject.

2002-05-23  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-confirm-mail-reply-to-news): Typo.  Trivial
	change from Benjamin Rutt <rutt+news@cis.ohio-state.edu>.

	* nnweb.el (nnweb-type): Remove dejanewsold.  Trivial change from
	Niklas Morberg <niklas.morberg@axis.com>.

2002-05-22  Simon Josefsson  <jas@extundo.com>

	* sieve.el (sieve-change-region): Define it before it is used.

	* gnus-msg.el (gnus-confirm-mail-reply-to-news)
	(gnus-summary-reply): Ask for confirmation when replying to news.
	Defaults to not ask.  From Benjamin Rutt
	<rutt+news@cis.ohio-state.edu>.

	* nnimap.el (nnimap-nov-is-evil): Improve doc.

2002-05-21  Simon Josefsson  <jas@extundo.com>

	* sieve-mode.el (sieve-manage): Fix autoloads.

	* sieve-manage.el (sieve-manage-cram-md5-auth): Just send the SASL
	name (makes it work with recent Cyrus timsieved).

2002-05-20  Jason  <jbaker@cs.utah.edu>

	* gnus-art.el (gnus-request-article-this-buffer): Try
	reconnecting if you don't get the message.

2002-05-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-enter-digest-group): Only get
	Reply-To headers from the headers.

2002-05-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-url.el (mm-url-insert): Remove junk message.

2002-05-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-list): Parse new html.
	(nnslashdot-use-front-page): New variable.
	(nnslashdot-request-list): Use it.

	* mm-url.el (mm-url-timeout): New variable.
	(mm-url-retries): Ditto.
	(mm-url-insert): Use it.

2002-05-16  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-simplify-all-whitespace): New function.
	(gnus-simplify-subject-functions): Mention g-s-a-w.

2002-05-15  Josh Huber  <huber@alum.wpi.edu>

	* nnbabyl.el (nnbabyl-request-accept-article): Pass group to
	nnmail-cache-insert.
	* nndiary.el (nndiary-request-accept-article): Ditto.
	* nnfolder.el (nnfolder-request-accept-article): Ditto.
	* nnimap.el (nnimap-request-accept-article): Ditto.
	* nnmail.el (nnmail-process-unix-mail-format): Ditto.
	* nnmail.el (nnmail-check-duplication): Ditto. (from gnus-art)
	* nnmbox.el (nnmbox-request-accept-article): Ditto.
	* nnmh.el (nnmh-request-accept-article): Ditto.
	* nnmail.el (nnmail-cache-insert): Change group to required,
	removed code which tried to figure out the group.

2002-05-13  Josh Huber  <huber@alum.wpi.edu>

	* mml.el (mml-generate-mime-1): Fix mml generation for signed only
	messages. From Hans de Graaff <hans@degraaff.org>.
	* nnml.el (nnml-request-accept-article): Pass in the group name to
	nnmail-cache-insert, since it's available.

2002-05-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-mime-digest-type-p): Set proper file-end.

2002-05-08  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Florian Weimer <fw@deneb.enyo.de>.

	* gnus.el (subscribed): New group parameter.
	(gnus-find-subscribed-addresses): Use it.

2002-05-08  Josh Huber  <huber@alum.wpi.edu>

	* mml-sec.el (mml-signencrypt-style-alist): Rename.  Also, changed
	the default for pgpmime to support pgp v2.
	* mml-sec.el (mml-signencrypt-style): New accessor function to
	allow users to get/set the signencrypt style more easily without
	frobbing the alist directly.
	* mml.el (mml-generate-mime-1): Use accessor function.

2002-05-08  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (gnus-article-mode-syntax-table): Specify matching
	parenthesis for "<" and ">".  Suggested by Andreas Schwab
	<schwab@suse.de>.

2002-05-07  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-cache-insert): Prefer group-art over group
	when intuiting the group the message is written to.  From Josh
	Huber <huber@alum.wpi.edu>.

2002-05-06  Simon Josefsson  <jas@extundo.com>

	* gnus-topic.el (gnus-group-topic-parameters): Work when group
	buffer doesn't show group.  From Matt Armstrong <matt@lickey.com>.

2002-05-06  Josh Huber  <huber@alum.wpi.edu>

	* mml2015.el (mml2015-gpg-encrypt): Changed name of optional
	argument, and fixed compiler warning. (added autoload for
	gpg-encrypt).

2002-05-04  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (mml1991-function-alist): Doc fix.

	* mml.el (mml-preview): Bind gnus-newsrc-hashtb temporarily if it
	doesn't exist (for previewing messages without having Gnus
	started).

	* mm-util.el (mm-coding-system-priorities): Defcustom.

	* mm-encode.el (mm-content-transfer-encoding-defaults): Defcustom.

2002-05-01  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el (gnus-message-replysignencrypted): enabled by
	default.
	* mml-sec.el:
	* mml-sec.el (mml-signencrypt-style): New.
	* mml-sec.el (mml-pgpmime-encrypt-buffer): Accept optional
	argument `sign'.
	* mml-sec.el (mml-secure-message-encrypt-pgp): Changed default to
	signencrypt.
	* mml-sec.el (mml-secure-message-encrypt-pgpmime): Ditto.
	* mml.el (mml-generate-mime-1): Changed logic so a part which is
	both signed & encryped is processed in one operation. (rather than
	two separate ops: sign, then encrypt)
	* mml2015.el (mml2015-gpg-extract-signature-details): Give some
	indication if a message is signed by an expired key.
	* mml2015.el (mml2015-gpg-encrypt): Accept optional argument which
	enables combined sign & encrypt operation. (this was always on
	before).
	* mml2015.el (mml2015-encrypt): Accept optional argument `sign'.

2002-05-01  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-retrieve-groups): Use separate data for each
	server.
	(nnimap-mailbox-info): defvar instead of defvoo.

2002-05-01 20:09:21 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.06 is released.

2002-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* lpath.el: Bind url-package-version.

2002-05-01  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-request-delete-group): Figure out nov/mrk
	filename before deleting the group itself, because the presence of
	a group filename decides if long filenames are used or not.

	* gnus-art.el (gnus-button-alist): Don't inline
	gnus-button-url-regexp.  This makes it possible to change g-b-u-r
	without also modifying g-button-alist.
	(gnus-button-alist): Fix type to allow variable as well as regexp.
	(gnus-article-add-buttons): Evaluate regexp.  Strings evaluate to
	themselves, variables to its contents.
	(gnus-button-entry): Ditto.

2002-05-01  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-resp-text-code, imap-parse-status): Treat
	UIDNEXT as a string.

	* nnimap.el (nnimap-string-lessp-numerical): New function.
	(nnimap-retrieve-groups): Compare UIDNEXT as strings instead of
	integers.

2002-04-29  Simon Josefsson  <jas@extundo.com>

	* nnmail.el (nnmail-cache-insert): Accept optional group
	parameter.

	* nnimap.el (nnimap-retrieve-groups): Don't send STATUS when
	n-r-g-a is disabled.

2002-04-29  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-fancy): Fix doc.
	(nnimap-split-fancy): Fix doc.

	* nnimap.el (nnimap-retrieve-groups-asynchronous): New variable.
	(nnimap-mailbox-info): New internal variable.
	(nnimap-retrieve-groups): Implement faster new mail check.

	* nnimap.el (nnimap-split-articles): Support
	nnmail-cache-accepted-message-ids.
	(nnimap-request-accept-article): Ditto.

	* imap.el (imap-mailbox-status-asynch): New command.

2002-04-29  Nevin Kapur  <nevin@jhu.edu>

	* gnus.el (gnus-find-subscribed-addresses): Return nil when there
	are no subscribed mail groups.
	- Strip quoted names when comparing addresses

2002-04-28  Jesper Harder  <harder@ifa.au.dk>

	* mm-decode.el (mm-text-html-renderer): Change customize type to
	const.

	* gnus-msg.el (gnus-discouraged-post-methods): Fix typo.
	(gnus-debug-exclude-variables): do.

2002-04-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-article-mail): Use gnus-msg-mail instead.
	Trivial change from Karl Pfl,Ad(Bsterer <sigurd@12move.de>.

2002-04-27  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dns.el (dns-make-network-process): New macro.
	(query-dns): Use it.

2002-04-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-reply): Remove unbound variable
	article-buffer.

	* mm-url.el (mm-url-package-name): New variable.
	(mm-url-package-version): New variable.
	(mm-url-insert-file-contents): Bind url-package-name and
	url-package-version here.
	* nnrss.el (nnrss-insert-w3): Move the bindings.

	* nnrss.el (nnrss-insert-w3): Bind url-package-name and
	url-package-version. Trivial change from Andrew J Cosgriff
	<ajc@polydistortion.net>

	* mm-decode.el (mm-save-part): Fill in file name when GUI saving
	attachments. Trivial change from Peter 'Luna' Runestig
	<peter@runestig.com>.

2002-04-19  Jesper Harder  <harder@ifa.au.dk>

	* nnkiboze.el (nnkiboze-request-scan): Call
	nnkiboze-possibly-change-group.
	(nnkiboze-generate-group): Use mm-with-unibyte to avoid encoding
	problems.
	(nnkiboze-generate-group): Set newsrc to the *highest* article
	number kibozed, not the lowest.

2002-04-15  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (article-unsplit-urls): Allow trailing SPC.

2002-04-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Dan Christensen <jdc+news@uwo.ca>.

	* nndoc.el (nndoc-type-alist, nndoc-lanl-gov-announce-type-p)
	(nndoc-transform-lanl-gov-announce, nndoc-generate-lanl-gov-head):
	Recognize math postings.  Extract Date (now ignores "(15kb)").
	Extract email address using gnus-extract-address-components
	instead of just taking the first word.  Create Date and From
	headers for message which are missing these headers.  Get rid
	of spurious \\ lines (purely cosmetic).  Extend body-end and
	file-end regexps, to exclude more garbage from the message.
	Make URL rephrasing regexp more flexible, to match current
	format.

2002-04-23  Simon Josefsson  <jas@extundo.com>

	* netrc.el: New file, functions copied from gnus-util.el by Ted
	Zlatanov <tzz@lifelogs.com>.

	* gnus-util.el: Require netrc.
	(gnus-netrc-get, gnus-netrc-machine, gnus-parse-netrc): Aliased to
	new code in netrc.el.

2002-04-23  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-summary-resend-message-edit): Remove
	message-ignored-resent-headers, too.  From Matthieu Moy
	<Matthieu.Moy@imag.fr>.

2002-04-22  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): it is a
	boolean not a string
	* gnus-group.el (gnus-group-line-format): add description of %C
	* gnus-group.el (gnus-group-line-format-alist): add gnus-tmp-comment
	  as %C
	* gnus-group.el (gnus-group-insert-group-line): add gnus-tmp-comment

2002-04-22  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-scan): typo: set
	nnmaildir-get-new-mail, not nnmaildir-new-mail.  Don't call
	nnmail-get-new-mail for 'find-new-groups.

2002-04-21  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-update-info,
	nnmaildir-request-group, nnmaildir-retrieve-groups): remove
	unnecessary calls to nnmaildir-request-scan.

2002-04-20  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el:
	* gnus-msg.el (gnus-message-replysign): New.
	* gnus-msg.el (gnus-message-replyencrypt): New.
	* gnus-msg.el (gnus-message-replysignencrypted): New.
	* gnus-msg.el (gnus-summary-reply): Use the three new variables
	(above) to automatically encrypt/sign to encrypted/signed
	messages.
	* message.el:
	* message.el (message-mode-map): Add keybinding for
	`message-to-list-only'
	* message.el (message-mode): Add description for
	`message-to-list-only'
	* message.el (message-to-list-only): New.
	* message.el (message-make-mft): Changed to use the cl loop macro,
	and added optional flag to return only the matched list. (for use
	in new message-to-list-only function)

2002-04-20  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el:
	* gnus-msg.el (gnus-message-replysign):
	* gnus-msg.el (gnus-replysign): New.
	* gnus-msg.el (gnus-replyencrypt): New.
	* gnus-msg.el (gnus-replysignencrypted): New.
	* gnus-msg.el (gnus-summary-reply):
	* message.el:
	* message.el (message-mode-map):
	* message.el (message-mode):
	* message.el (message-to-list-only): New.
	* message.el (message-make-mft):

2002-04-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-windows-hook): Fix typo.

2002-04-18  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-gen-unsubscribed-mft): accept a prefix
	argument so CC can be included with C-u C-c C-f C-a

2002-04-17  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Ted Zlatanov <teodor.zlatanov@divine.com>.

	* spam.el (spam-whitelist, spam-blacklist, spam-enter-whitelist):
	Improve docstring.
	(spam-enter-blacklist): New command.

	* gnus-sum.el (gnus-spam-mark): New mark.
	(gnus-auto-expirable-marks): Add gnus-spam-mark.
	(gnus-summary-make-tool-bar): Correct conditional.
	(gnus-summary-limit-to-unread): Add gnus-spam-mark.
	(gnus-summary-mark-as-spam): New command.

2002-04-13  Josh Huber  <huber@alum.wpi.edu>

	* mml-sec.el (mml-secure-message): changed to support arbritrary
	modes.
	* mml-sec.el (mml-secure-message-encrypt-(smime|pgp|pgpmime)):
	changed to support "signencrypt" mode.
	* mml.el (mml-parse-1): changed to support different secure modes
	more easily. (for signencrypt)

2002-04-11  Stefan Monnier  <monnier@cs.yale.edu>

	* gnus-sum.el (gnus-update-summary-mark-positions)
	(gnus-summary-toggle-header):
	* gnus-uu.el (gnus-uu-binhex-article, gnus-uu-reginize-string)
	(gnus-uu-expand-numbers, gnus-uu-post-make-mime)
	(gnus-uu-post-encoded):
	* nnfolder.el (nnfolder-possibly-change-group):
	* nnimap.el (nnimap-retrieve-headers):
	* nnmbox.el (nnmbox-create-mbox): Don't assume point-min == 1.

2002-04-08  Stefan Monnier  <monnier@cs.yale.edu>

	* nnml.el (nnml-save-nov, nnml-generate-nov-file):
	* pop3.el (pop3-md5): Don't hardcode point-min == 1.

2002-04-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-srvr.el (gnus-server-set-info): Clear
	`gnus-server-method-cache' when `gnus-server-alist' is changed.
	From Daiki Ueno <ueno@unixuser.org>.

2002-04-11  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-force-verify-and-decrypt): Force
	viewing of security buttons.  Thanks to Nicolas Kowalski
	<Nicolas.Kowalski@imag.fr>.

	* smime.el (smime-CA-directory): Fix doc.  Thanks to Arne
	J,Ax(Brgensen <arne+usenet@daimi.au.dk>.
	(smime-sign-buffer): Work in XEmacs.  Thanks to Nicolas Kowalski
	<Nicolas.Kowalski@imag.fr>.
	(smime-decrypt-buffer): Ditto.

2002-04-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-prepare): Place point on the emtpy
	header line.

2002-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-refer-article-method): Change `dejanews' to `google'.

2002-04-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-delete-marked-with): Fix typo.

2002-04-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text-html-render-with-w3): Don't ignore
	errors when debug.

2002-04-07  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-make-mft): Changed MFT code from using
	message-recipients (which included Bcc) to use only the To and CC
	headers.

2002-04-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-treat-from-picon): Add to gnus-picon group and
	add link.
	(gnus-treat-mail-picon): Ditto.
	(gnus-treat-newsgroups-picon): Ditto.
	(gnus-picon-databases): Fix custom type.
	(gnus-picon-databases): Add link.
	(gnus-article-x-face-command): Add to gnus-picon group.

2002-04-01  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-buffer-naming-style): Remove.

2002-04-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-make-tool-bar): Load tool-bar first.

	* message.el (message-tool-bar-map): Ditto.

	* gnus-sum.el (gnus-summary-make-tool-bar): Ditto.

2002-04-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-mail-archive-article): Fix typo.

2002-04-01  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: fixed some buggy invocations of nnmaildir--pgname.

2002-03-31  Andrew Cohen  <cohen@andy.bu.edu>

	* dns.el: open-network-stream under XEmacs does udp.

2002-03-31  Lars Magne Ingebrigtsen  <larsi@quimbies.gnus.org>

	* spam.el (spam-enter-whitelist): New function.
	(spam-parse-whitelist): Ditto.
	(spam-refresh-list-cache): Ditto.
	(spam-address-whitelisted-p): New function.

	* dns.el (query-dns): Use TCP when make-network-process isn't
	available.
	(dns-servers): New variable.
	(dns-parse-resolv-conf): New function.
	(query-dns): Use it.

	* spam.el: New file.

	* dns.el (query-dns): Test.

2002-03-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* lpath.el (featurep): Bind make-network-process.

2002-03-31  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: Use defstruct.  Use a single copy of
	nnmail-extra-headers to save memory.  Store server's group name
	prefix instead of each group's prefixed name.
	* nnnil.el (nnnil-retrieve-headers, nnnil-request-list): Erase
	nntp-server-buffer.

2002-03-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* dns.el: New file.

2002-03-28  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-dummy-line-format):
	* gnus.el (gnus-summary-line-format): Fixing links to Info.
	Trivial change from Bj,Av(Brn Torkelsson <torkel@pdc.kth.se>.

2002-03-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-summary-move-article)
	(gnus-summary-copy-article): Mention `gnus-move-split-methods' in
	the doc string.

2002-03-28  Simon Josefsson  <jas@extundo.com>

	* mml-sec.el (mml-secure-message): Search after
	mail-header-separator from top of message.

2002-03-28  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: Cosmetic changes.
	(nnmaildir--with-nntp-buffer, nnmaildir--with-work-buffer,
	nnmaildir--with-nov-buffer, nnmaildir--with-move-buffer,
	nnmaildir--group-ls): New macros/functions.  Use them.
	(nnmaildir--unlink): Evalutate argument only once.

2002-03-27  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-highlight): Use `eq' when comparing
	symbols.
	(gnus-summary-highlight-line): Use `gnus-point-at-bol' and
	`gnus-point-at-eol'.

2002-03-27  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--subdir, nnmaildir--nov-dir,
	nnmaildir--marks-dir): New macros.  Use them.
	Use inhibit-quit for atomicity instead of in-memory journaling.
	(nnmaildir--edit-prep): New function.
	(Local Variables): Use it.

2002-03-26  Pavel@Janik.cz (Pavel Jan,Am(Bk)

	* gnus-sum.el (gnus-summary-make-menu-bar): Fix typo.

2002-03-25  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode): Fix doc.

2002-03-25  Simon Josefsson  <jas@extundo.com>

	* message.el (message-subject-re-regexp): Skip Re[42]: junk.  From
	Matthieu Moy <Matthieu.Moy@imag.fr>.

2002-03-24  Jesper Harder  <harder@ifa.au.dk>

	* mml-sec.el (mml-unsecure-message): Add docstring.

2002-03-23  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-large-newsgroup): Fix doc, allow non-numeric
	value.
	Trivial change from andre@slamdunknetworks.com

2002-03-22  Josh Huber  <huber@alum.wpi.edu>

	* mml.el (mml-mode-map): Added a keybinding for
	`mml-unsecure-message'.  Also, added a menu entry for said
	function in the Attachments menu.

2002-03-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el (canlock-version): Remove.
	(canlock-sha1-with-openssl): Don't use `canlock-string-as-unibyte'
	here; simplify \x insertions.
	(canlock-sha1): New function, always return a unibyte string.
	(canlock-make-cancel-key): Use `canlock-sha1'; simplify truncation
	of a password.
	(canlock-insert-header): Use `canlock-sha1'.
	(canlock-verify): Ditto.

2002-03-21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fix-before-sending): Add an option that
	ignores illegible text.
	Trivial change from Mark Milhollan <mlm@attglobal.net>

	* message.el (message-font-lock-keywords): Support multi-line MML
	tags.

	* gnus-sum.el (gnus-print-buffer): Remove gnus-decoration.
	Trivial change from lorentey@elte.hu (L,Bu(Brentey K,Aa(Broly)

2002-03-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): Use intern'ed function
	symbols for "View as different encoding" submenu.

2002-03-19  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-make-menu-bar): Add "View as different
	encoding" submenu.

2002-03-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-process-prefix): Make sure there is a mark.

2002-03-19  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-sum-thread-tree-root)
	(gnus-sum-thread-tree-single-indent)
	(gnus-sum-thread-tree-vertical, gnus-sum-thread-tree-indent)
	(gnus-sum-thread-tree-leaf-with-other)
	(gnus-sum-thread-tree-single-leaf): Make customizable.

2002-03-16  Simon Josefsson  <jas@extundo.com>

	* gnus-util.el (gnus-extract-address-components): Don't break on
	names such as James "Kibo" Parry.  From Francis Litterio
	<franl@world.std.com>.

2002-03-13  Simon Josefsson  <jas@extundo.com>

	* pop3.el (pop3-open-server): Revert multibyte change.  From
	Pavel@Janik.cz (Pavel Jan,Am(Bk).

	* message.el (message-send-mail-with-qmail): Make it work.  From
	Pavel@Janik.cz (Pavel Jan,Am(Bk).

2002-03-13  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-make-mft): Set case-fold-search while
	generating the MFT.  Also, a little cleanup in the MFT code.

2002-03-12  Simon Josefsson  <jas@extundo.com>

	* message.el (message-qmail-inject-args): May be function.
	(message-send-mail-with-qmail): Call function if m-q-i-a is
	function.  From fn@hungry.org (Faried Nawaz).

2002-03-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-abbrevs-loaded): Remove.
	(mailabbrev): Require it.

	* nnslashdot.el (nnslashdot-request-article): Remove IFRAME.

2002-03-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* pop3.el (pop3-open-server): Set process buffer unibyte.

2002-03-10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-subscribe-to-mailing-list): New function.

2002-03-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-request-article): Remove javascript
	too.

2002-03-09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-save-parts-default-mime): Remove
	duplication.
	(gnus-summary-save-parts-type-history): Ditto.
	(gnus-summary-save-parts-last-directory): Ditto.
	Trivial change from andre@slamdunknetworks.com

2002-03-09  Paul Jarc  <prj@po.cwru.edu>

	* gnus-start.el (gnus-auto-subscribed-groups): Include nnmaildir.

2002-03-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-request-article): Use "<!-- no ad 6
	-->" as the end of the first article.

	* gnus-msg.el (gnus-summary-resend-message-edit): New function.
	From Matthieu Moy <Matthieu.Moy@imag.fr>

	* message.el (message-add-action): Use add-to-list.
	(message-delete-action): New function.

	* nndoc.el (nndoc-mail-in-mail-type-p): Break a long regexp into
	pieces.

2002-03-05  Paul Jarc  <prj@po.cwru.edu>

	* nnnil.el: New file.
	* gnus.el (gnus-valid-select-methods): Include nnnil.

2002-03-05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-syntax-checks): Because canlock is
	supported, we disable sender syntax check.
	(message-shoot-gnksa-feet): Add cancel-messages option doc.

	* gnus-draft.el (gnus-draft-send): If interactive, use its default
	value of message-syntax-checks.

	* qp.el (quoted-printable-decode-region): Doc addition.
	From: Eli Zaretskii <eliz@is.elta.co.il>

	* mail-source.el (make-source-make-complex-temp-name): Use
	make-temp-file.

	* mm-util.el (mm-make-temp-file): New function.
	* nneething.el (nneething-file-name): Use it.
	* mml-smime.el (mml-smime-encrypt): Ditto.
	* mm-view.el (mm-inline-wash-with-file): Ditto.
	* mm-decode.el (mm-display-external, mm-create-image-xemacs): Ditto.
	* gnus-uu.el (gnus-uu-decode-binhex, gnus-uu-decode-binhex-view)
	(gnus-uu-digest-mail-forward, gnus-uu-initialize): Ditto.
	* gnus-start.el (gnus-slave-save-newsrc): Ditto.
	* gnus-fun.el (gnus-convert-image-to-gray-x-face): Ditto.
	* gnus-art.el (gnus-mime-print-part): Ditto.

2002-03-04  Paul Jarc  <prj@po.cwru.edu>

	* message.el (nnmaildir-article-number-to-base-name): New
	function.
	(nnmaildir-base-name-to-article-number): New function.

2002-03-04  Katsumi Yamaoka  <yamaoka@jpl.org>

	* smime.el (smime-make-temp-file): Don't quote
	`temporary-file-directory'.

2002-03-04  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-sign-region): Rename argument keyfiles to
	keyfile. You only sign something with one key.
	(smime-sign-buffer): Better completing-read prompt.
	(smime-decrypt-buffer): Ditto.

	* smime.el (smime-make-temp-file): Make it work under XEmacs.

	* mm-view.el (mm-view-pkcs7-decrypt): Better prompt for
	completing-read.
	(mm-view-pkcs7-decrypt): CRLF->LF.

2002-03-04  Paul Jarc  <prj@po.cwru.edu>

	* message.el (message-hierarchical-addresses): New variable.
	(message-get-reply-headers): Use it.
	From Ted Zlatanov <teodor.zlatanov@divine.com>

2002-03-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mode): If buffer-file-name, don't set auto
	save file name.
	Trivial change from Geoff Greene <ggreene@wpi.edu>

2002-03-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-multiple-choice): Use message. XEmacs only
	takes one argument in read-char.

	* message.el (message-fix-before-sending): Forward a char.
	Check mmu-multibyte-p, add control-1.

2002-03-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-read-init-file): Ditto.

	* gnus-agent.el (gnus-agent-fetch-session): Ditto.

	* dgnushack.el (dgnushack-make-load): Ditto.

	* mail-source.el (mail-source-fetch): Extract the right error
	code.

	* message.el (message-fix-before-sending): Check illegible text.

	* gnus-util.el (gnus-multiple-choice): New function.

	* gnus-kill.el (gnus-score-insert-help): Removed, because it is
	also defined in gnus-score.el.

2002-03-01  Paul Jarc  <prj@po.cwru.edu>

	* message.el (message-get-reply-headers): downcase email addresses
	for comaparisons for duplicate removal.

2002-03-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-view-pkcs7-verify): New function. A bogus
	implementation of PKCS#7, which just allows users read the
	message.
	(mm-view-pkcs7): Use it.

2002-02-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (large-newsgroup-initial): New parameter.

	* gnus-sum.el (gnus-articles-to-read): Use large-newsgroup-initial.
	(gnus-summary-insert-old-articles): Ditto.

2002-02-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-articles-to-read): `gnus-large-newsgroup' is
	used as the default answer of the question, "How many articles?".
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>

	* nnagent.el (nnagent-retrieve-headers): Remove articles with
	small numbers.

2002-02-24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* deuglify.el: Fix comments.

2002-02-23  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* html2text.el (html2text-clean-anchor): If there is no HREF,
	insert nothing.

	* mml.el (mml-generate-mime-1): Add cdr.
	From: andre@slamdunknetworks.com

	* mm-view.el (mm-text-html-renderer-alist): Add html2text.
	(mm-text-html-washer-alist): Ditto.

	* mm-decode.el (mm-text-html-renderer): Add html2text.

	* html2text.el: Face lift.

	* html2text.el: New file from Joakim Hove <hove@phys.ntnu.no>.

2002-02-22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el: Add gnus-article-outlook-deuglify-article.

	* deuglify.el: Change copy right. Add autoload. Add coding-system.

	* deuglify.el: New file. The original file name is
	gnus-outlook-deuglify.el from Raymond Scholz <rscholz@zonix.de>.

	* mm-decode.el (mm-display-external): Use
	mm-file-name-rewrite-functions.  From <andre@slamdunknetworks.com>

2002-02-22  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-list): Report the highest
	article number, not the total number of articles.

2002-02-21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el: Move uu key map here.
	(gnus-summary-make-menu-bar): Add gnus-summary-save-parts.

2002-02-21  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-expire-articles): Use
	nnmail-expiry-wait* if expire-age parameter is not set.

2002-02-21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-sort-groups-by-real-name): New
	function.
	(gnus-group-sort-selected-groups-by-real-name): New function.
	(gnus-group-make-menu-bar): Add sort by real name.

	* gnus-sum.el (gnus-dependencies-add-header): If replaced, don't
	rebuild.
	(gnus-summary-edit-article-done): Gnus-get-newsgroup-headers takes
	nil as dependencies as well.

2002-02-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-dissect-mime-parts-sub): Fix MIME-Version header
	for mime-parts.

	* gnus-art.el (gnus-article-edit-done): Widen the buffer.

	* gnus-group.el (gnus-group-name-decode): Don't test
	multibyte-string, because it breaks XEmacs.
	From: TSUCHIYA Masatoshi <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* message.el (message-send-mail): Be talkative.

	* mm-decode.el (mm-inlined-types): Add application/x-emacs-lisp.
	(mm-automatic-display): Ditto.

	* mailcap.el (mailcap-mime-data): Ditto.
	From: Reiner Steib <4uce.02.r.steib@gmx.net>

2002-02-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* many files: Remove trailing whitespaces, replace spc+tab with
	tab, replace leading whitespaces with tabs.

2002-02-19  Paul Jarc  <prj@po.cwru.edu>

	* gnus-sum.el (gnus-summary-toggle-header): Fix handling of
	articles with no body and no blank line after the header.

2002-02-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-multipart): Consider the case of empty
	parts.

	* ietf-drums.el (ietf-drums-syntax-table): Modify syntax of
	non-ascii chars.

	* rfc2231.el (rfc2231-parse-string): Support non-ascii chars.

	* gnus-art.el (gnus-article-wash-html-with-w3): Remove
	w3-delay-image-loads.
	* mm-view.el (mm-inline-text-html-render-with-w3): Ditto.
	(mm-w3-prepare-buffer): Ditto.

	* mail-source.el (mail-source-fetch-directory): Run scripts.

2002-02-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-respond-to-confirmation): Do the right thing
	for Majordomo confirmations.

2002-02-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-respond-to-confirmation): New command.

2002-02-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Clean up.

2002-02-18  Paul Jarc  <prj@po.cwru.edu>

	* gnus-util.el (gnus-parent-id): Ignore trailing whitespace in the
	References header field.  From Mark Thomas <mthomas@cmu.edu>.

2002-02-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-render-with-file): With unibyte buffer.
	(mm-inline-render-with-stdin): Ditto.
	(mm-inline-render-with-function): Ditto.
	(mm-inline-wash-with-file): Bind coding-system-for-write.
	(mm-inline-wash-with-stdin): Ditto.

2002-02-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	Suggested by Felix Natter <fnatter@gmx.net>

	* gnus-art.el (gnus-mime-view-part-externally): Rename from
	gnus-mime-externalize-view.
	(gnus-mime-view-part-internally): Rename from
	gnus-mime-internalize-view.
	(gnus-article-view-part-externally): Rename from
	gnus-article-externalize-part.
	(gnus-mime-action-alist): Change correspondingly.
	(gnus-mime-button-commands): Ditto.
	(gnus-mime-action-alist): Remove duplication.

	* gnus-sum.el (gnus-summary-mime-map): Change correspondingly.

2002-02-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-buffer): Add loose-mime parameter.

	* gnus-art.el (gnus-display-mime): Use it.

	* mm-partial.el (mm-partial-find-parts): Use it.

	* gnus-sum.el (gnus-article-loose-mime): Rename from
	gnus-article-no-strict-mime.
	(gnus-summary-save-parts): Use it.

2002-02-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Remove unused
	local variable.

	* gnus-art.el (article-display-x-face): Don't sort multiple
	X-Faces.

2002-02-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Improved to speed
	up.  Suggested by Yuuichi Teranishi <teranisi@gohome.org>.

	* gnus-art.el (article-display-x-face): Sort gray X-Faces.

2002-02-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	Some ideas is inspired by code from Hrvoje Niksic
	<hniksic@arsdigita.com>

	* gnus-art.el (gnus-article-wash-function): Set the default to
	nil, so that we use mm-text-html-renderer instead.
	(article-wash-html): Use mm-text-html-renderer.

	* mm-decode.el (mm-inline-media-tests): Use mm-inline-text-*.
	(mm-text-html-renderer): New variable.
	(mm-inline-text-html-renderer): Set the default to nil, so that we
	use mm-text-html-renderer instead.

	* mm-view.el (mm-inline-text-html): New function.
	(mm-text-html-renderer-alist): New variable.
	(mm-inline-text-vcard): New function.
	(mm-inline-text): Split.
	(mm-links-remove-leading-blank): New function.
	(mm-inline-render-with-file): New function.
	(mm-inline-render-with-stdin): New function.
	(mm-inline-render-with-function): New function.
	(mm-text-html-washer-alist): New variable.
	(mm-inline-wash-with-file): New function.
	(mm-inline-wash-with-stdin): New function.

2002-02-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message-utils.el: Fix installation doc.
	From: Reiner Steib <4uce.02.r.steib@gmx.net>

2002-02-16  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-discouraged-post-methods): New variable.
	(gnus-post-method): Use it.
	(gnus-summary-cancel-article): Find the correct post-method.

	* gnus-soup.el (gnus-soup-send-packet): Via ... using ...
	* message.el (message-send-news): Ditto.
	Suggested by Lloyd Zusman <ljz@asfast.com> and IPmonger
	<ipmonger@delamancha.org>

	* gnus.el (gnus-select-method): Fix doc.
	(gnus-server-string): Use 'using nntp'.

	* gnus-agent.el (gnus-slave-unplugged): New command.
	From: Felix Natter <fnatter@gmx.net>

2002-02-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-edit-done): Kill-all-local-variables.
	Call edit-done-function first, then change the window
	configuration.
	(gnus-article-edit-mode-map): Add message key bindings. Add menu.
	(gnus-article-edit-mode): mml-mode.

	* gnus-util.el (gnus-byte-compile): Work around a bug in XEmacs
	21.4. Suggested by Russ Allbery <rra@stanford.edu> .

	* message-utils.el: Adopt the file.

	* message-utils.el: New file.
	From Holger Schauer <Holger.Schauer@gmx.de>

2002-02-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-move-article): Select-article only
	when gnus-move-split-methods is non-nil. And we don't render or
	mark the article.

	* gnus-fun.el (gnus-shell-command-to-string): New function.
	(gnus-shell-command-on-region): New function.
	(gnus-random-x-face): Use them.
	(gnus-x-face-from-file): Ditto.
	(gnus-convert-image-to-gray-x-face): Ditto.
	(gnus-convert-gray-x-face-to-xpm): Ditto.
	(gnus-convert-image-to-x-face-command): Don't use 2>/dev/null.

2002-02-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-treat-display-xface): Don't use
	`shell-command-to-string' when compiling.
	(gnus-treat-display-grey-xface): Ditto.

2002-02-13  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--article-count): If the group is
	completely empty, report minimum article number as 1 instead of 0.

2002-02-13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-get-predicate): Use nconc.

	* gnus-sum.el (gnus-summary-display-make-predicate): Use
	gnus-summary-display-cache as cache.

	* nndoc.el (nndoc-type-alist): Add mail-in-mail type.
	(nndoc-mail-in-mail-type-p): New function.
	(nndoc-mail-in-mail-article-begin): New function.

2002-02-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-mime-data): Use enriched-decode.

	* gnus-cite.el (gnus-article-fill-cited-article): Bind
	use-hard-newlines to nil.

	* gnus-xmas.el (gnus-xmas-image-type-available-p): Assume that
	image is not available if window-system is not available.

	* gnus-sum.el (gnus-summary-display-make-predicate): Add unread.

2002-02-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-article-unpropagated-mark-lists): Don't propagate
	bookmark, because update-mark doesn't handle it correctly.

2002-02-09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-soup.el (gnus-soup-send-packet): Send news and mail
	directly instead of calling message-send-mail.

	* gnus-start.el (gnus-read-descriptions-file): Use
	gnus-default-charset.

	* mm-util.el (mm-guess-mime-charset): New function.

	* gnus.el (gnus-default-charset): Use it.
	(gnus-group-charset-alist): Remove .*, Let gnus-default-charset be
	the default.

2002-02-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treat-display-grey-xface): New variable.
	(article-display-x-face): Use it.  Disable grey xface, if
	uncompface is not found.

	* message.el (message-mode): Don't enable multibyte on an indirect
	buffer.

	* nnrss.el (nnrss-content-function): New variable.
	(nnrss-request-article): Use it.

2002-02-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Add article-unsplit-urls.
	* gnus-sum.el: Ditto.
	* gnus-art.el (gnus-treat-strip-cr): New variable.
	(gnus-treatment-function-alist): Use it.
	(article-unsplit-urls): New function.
	(gnus-article-make-menu-bar): Use it.
	From: Michael Cook <michael.cook@cisco.com>

2002-02-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-braid-nov): Find the first article to
	copy.

2002-02-07  Paul Jarc  <prj@po.cwru.edu>

	* gnus-util.el (gnus-split-references): Allow (broken) Message-IDs
	with internal whitespace.
	(gnus-parent-id): Ditto.

2002-02-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-treat-body-boundary): Add
	gnus-decoration property.
	* gnus-msg.el (gnus-copy-article-buffer): Remove gnus-decoration.

	* message.el (message-mode): Set local-abbrev-table.
	From Matt Armstrong <matt@lickey.com>.

	* gnus-art.el (gnus-article-treat-unfold-headers): Don't remove
	too many spaces.

	* rfc2047.el (rfc2047-unfold-region): Ditto.
	(rfc2047-decode-region): Don't unfold. Let
	gnus-article-treat-unfold-headers do it.

	* gnus-sum.el (gnus-dependencies-add-header): Fix typo.
	From: Jesper Harder <harder@ifa.au.dk>

2002-02-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-posting-styles): Add x-face-file.
	(gnus-configure-posting-styles): Use it.
	(gnus-configure-posting-styles): Remove trailing newspaces.

2002-02-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-articles-to-read): Fetch all if the predicate
	is non-nil.

	* mm-util.el (mm-use-find-coding-systems-region): Add doc.

	* gnus.el (gnus-server-to-method): Switch position with
	gnus-server-get-method.
	(gnus-agent): Add doc.

	* gnus-sum.el (gnus-article-no-strict-mime): New variable.
	(gnus-summary-save-parts): Use it.

	* gnus-art.el (gnus-display-mime): Use it.
	* mm-partial.el (mm-partial-find-parts): Use it.

	* nnweb.el (nnweb-google-parse-1): Use a correct format of date.

	* gnus-agent.el (gnus-agent-summary-make-menu-bar): Fix typo.
	From Stefan Reich,Av(Br <xsteve@riic.at>.

	* nnagent.el (nnagent-request-expire-articles): Don't delete
	files.

2002-02-05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-gen-unsubscribed-mft): New function.
	From Sriram Karra <karra@cs.utah.edu>.

	* gnus.el (gnus-article-unpropagated-mark-lists): Backslash the
	open parenthesis.

	* mm-view.el (mm-w3-prepare-buffer): Bind url-gateway-unplugged.
	(mm-inline-text-html-render-with-w3): Ditto.
	* gnus-art.el (gnus-article-wash-html-with-w3): Ditto.
	Suggested by Dave Love  <d.love@dl.ac.uk>.

	* mm-url.el (mm-url-load-url): Require w3-vars for old versions.

	* nntp.el (nntp-send-command-and-decode): Check PROCESS.
	* nntp.el (nntp-send-command): Ditto.
	* nntp.el (nntp-send-command-nodelete): Ditto.

2002-02-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el (mm-url-load-url): New function.
	(mm-url-insert-file-contents): Use it.

	* gnus-msg.el (gnus-summary-mail-forward): Use gnus-article-charset.

	* message.el (message-forward-make-body): Correctly copy
	forward-buffer.

	* rfc2047.el (rfc2047-decode-region): Don't decode us-ascii characters.

2002-02-04  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-article-followup-with-original): Mark with
	force, prevent errors when following up from article buffer.
	(gnus-article-reply-with-original): Ditto.

	* binhex.el (binhex-decoder-switches): Fix doc.  From
	Pavel@Janik.cz (Pavel Jan,Am(Bk).

2002-02-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treatment-function-alist): Move hide-citation,
	highlight-citation after emphasize.

2002-02-04  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-open-marks):

	* nnml.el (nnml-open-marks): Message when done.  From David
	Edmondson <dme@sun.com>.

2002-02-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* imap.el (imap-anonymous-auth): Fix typo.
	From: Steinar Bang <sb@dod.no>

	* gnus-cache.el (gnus-cache-braid-nov): Use set-buffer instead of
	save-excursion.
	(gnus-cache-braid-heads): Ditto.

	* gnus-agent.el (gnus-agent-copy-nov-line): Move to the correct
	line, because there are extra articles in the overview buffer.

	* nntp.el (nntp-retrieve-groups): Check whether BUF is live.

	* message.el (message-forward-rmail-make-body): Directly use
	rmail-msg-restore-non-pruned-header to avoid calling
	vertical-motion.

2002-02-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-summary-insert-cached-articles):
	(gnus-summary-limit-include-cached): gnus-newsgroup-cached is sorted.

	* gnus-group.el (gnus-group-mark-article-read): Nreverse
	gnus-newsgroups-unselected.

	* gnus-agent.el (gnus-summary-set-agent-mark): Use
	gnus-add-to-sorted-list.

	* gnus-sum.el (gnus-summary-update-info): gnus-newsgroup-unreads
	gnus-newsgroup-unselected are sorted. Use gnus-sorted-union.
	(gnus-build-all-threads): Use gnus-add-to-sorted-list.
	(gnus-update-read-articles): UNREAD is sorted.
	(gnus-newsgroup-unreads, gnus-newsgroup-unselected)
	(gnus-newsgroup-marked, gnus-newsgroup-cached)
	(gnus-newsgroup-expirable, gnus-newsgroup-downloadable)
	(gnus-newsgroup-dormant): Require sorted.

	* gnus-dired.el (gnus-dired-find-file-mailcap): Correctly handle
	directories.
	(gnus-dired-print): New function.

	* gnus-art.el (gnus-mime-print-part): Add argument filename. Call
	ps-despool.

2002-02-02  Simon Josefsson  <jas@extundo.com>

	* gnus-dired.el (turn-on-gnus-dired-mode): Autoload.  Make defun.

2002-02-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-1): Call gnus-agentize if gnus-agent is
	t. This makes gnus-agent customizable without putting
	gnus-agentize into .gnus.

	* gnus.el (gnus-agent): Make it customizable.

	* gnus-dired.el: New file.
	From Benjamin Rutt <brutt@bloomington.in.us>

	* gnus-cache.el (gnus-cache-articles-in-group): Remove from active
	if no article.
	(gnus-cache-possibly-remove-article): Ditto.
	(gnus-cache-possibly-enter-article): Use gnus-add-to-sorted-list.

2002-02-01  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-request-accept-article): Use gnus-get-function.

2002-02-01  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.el (mm-w3m-mode-dont-bind-keys): New variable.
	(mm-setup-w3m): Don't bind keys listed in the above.

2002-02-01  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.el (mm-inline-text-html-render-with-w3m): Bind
	`w3m-safe-url-regexp' with nil if `mm-inline-text-html-with-images'
	is non-nil; bind `w3m-force-redisplay' with nil.

	* gnus-art.el (gnus-article-wash-html-with-w3m): Ditto.

	* mm-decode.el (mm-inline-text-html-with-images): Supplement docs.

2002-01-31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-replace-article): Unfold. Don't
	use mail-header-unfold-field.

	* gnus-cache.el (gnus-summary-insert-cached-articles): Use
	gnus-summary-limit.

	* gnus-range.el (gnus-add-to-sorted-list): New function.
	* gnus-sum.el (gnus-mark-article-as-read): Use it.
	(gnus-mark-article-as-unread): Ditto.
	(gnus-summary-mark-article-as-unread): Ditto.
	(gnus-build-get-header): Ditto.
	(gnus-summary-prepare-threads): Ditto.
	(gnus-summary-insert-pseudos): Ditto.
	(gnus-articles-to-read): Use gnus-sorted-union and gnus-sorted-nunion.
	(gnus-summary-insert-new-articles): Use gnus-sorted-nunion.
	(gnus-summary-insert-old-articles): Ditto.

	* gnus-msg.el (gnus-posting-styles): Add new format of header.
	(gnus-configure-posting-styles): Support the new format.

	* mail-source.el (mail-source-bind, mail-source-bind-common): Set
	edebug-form-spec to (sexp body).
	Suggested by Joe Wells <jbw@izanami.cee.hw.ac.uk>.

	* message.el (message-reply-headers): Add doc.

2002-01-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-delete-group): Nix the entry in
	gnus-cache-active-hashtb.

	* gnus-agent.el (gnus-agent-mark-unread-afer-downloaded): New variable.
	(gnus-agent-summary-fetch-group): Use it.

	* gnus-msg.el (gnus-debug-files): New variable.
	(gnus-debug-exclude-variables): New variable.
	(gnus-debug): Use them.

	* gnus-range.el (gnus-range-length): Don't use gnus-uncompress-range.

2002-01-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-prefix-regexp): Use text-mode-syntax-table.
	(message-mode-syntax-table): Move back the previous position.

	* nnagent.el (nnagent-retrieve-headers): Use gnus-sorted-difference.

	* gnus-agent.el (gnus-agent-retrieve-headers): Use
	gnus-sorted-difference.

	* nnsoup.el (nnsoup-request-expire-articles): Use
	gnus-sorted-difference.

	* nnheader.el: Autoload gnus-sorted-difference.

	* nnfolder.el (nnfolder-request-expire-articles): Use
	gnus-sorted-difference.

	* gnus-cache.el (gnus-cache-retrieve-headers): Use
	gnus-sorted-difference.

	* gnus-range.el: Autoload cookies.
	(gnus-sorted-difference): New function.
	(gnus-sorted-ndifference): New function.
	(gnus-sorted-nintersection): Rename from
	gnus-set-sorted-intersection.
	(gnus-sorted-nunion): Rename from gnus-set-sorted-union.
	(gnus-list-range-difference): Rename from
	gnus-inverse-list-range-intersection.
	(gnus-inverse-list-range-intersection): Use defalias.

	* gnus-sum.el (gnus-select-newsgroup): Use gnus-sorted-difference,
	gnus-sorted-ndifference, and gnus-sorted-nintersection.
	(gnus-articles-to-read): Use gnus-sorted-difference.
	(gnus-summary-limit-mark-excluded-as-read): Use
	gnus-sorted-intersection and gnus-sorted-ndifference.
	(gnus-list-of-read-articles): Use gnus-list-range-difference.
	(gnus-summary-insert-articles): Use gnus-sorted-difference.

	* gnus-sum.el (gnus-summary-update-info): Use gnus-sorted-union.

2002-01-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Add keymap
	property to the buffer for using emacs-w3m command keys.

	* mm-decode.el (mm-inline-text-html-with-w3m-keymap): New user
	option.

	* mm-view.el (mm-w3m-mode-map): New variable.
	(mm-w3m-mode-command-alist): New variable.
	(mm-w3m-minor-mode): Removed.
	(mm-setup-w3m): Setup `mm-w3m-mode-map'; don't add minor mode.
	(mm-inline-text-html-render-with-w3m): Add keymap property to the
	buffer for using emacs-w3m command keys.

2002-01-29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mode-syntax-table): Move forward.
	(message-cite-prefix-regexp): Auto detect non word constituents.
	(message-cite-prefix-regexp): Don't use with-syntax-table.

	* gnus-sum.el (gnus-summary-update-info): Use
	gnus-list-range-intersection.

	* gnus-agent.el (gnus-agent-fetch-headers): Use
	gnus-list-range-intersection.

	* gnus-range.el (gnus-range-normalize): Use correct predicate.
	(gnus-list-range-intersection): Use it.
	(gnus-inverse-list-range-intersection): Ditto.
	(gnus-sorted-intersection): Add doc.
	(gnus-set-sorted-intersection): Add doc.
	(gnus-sorted-union): New function.
	(gnus-set-sorted-union): New function.

	* gnus-range.el (gnus-list-range-intersection): Correct the logic.
	(gnus-inverse-list-range-intersection): Ditto.

2002-01-29  Karl Kleinpaste  <karl@charcoal.com>

	* mm-uu.el (mm-uu-type-alist): Add optional leading `0'.

	* gnus-uu.el (gnus-uu-shar-name-marker): Add optional leading `0'
	and permit `:' and `\' in order to handle full Windows pathnames.
	(gnus-uu-begin-string): Add optional leading `0'.  Leading `0' is
	technically not correct per standard, but seems to have common use.

2002-01-29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-expand-numbers): Ignore errors when
	replacing numbers.

2002-01-28  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-followup-with-original): Use (mark).

	* gnus-score.el (gnus-score-insert-help): Move to (point-min).
	Don't split when the window is small, e.g. when a small *BBDB*
	window is the lowest one.

	* gnus-agent.el (gnus-agent-retrieve-headers): Use
	nnheader-find-nov-line to speed up. Use nreverse, because it is
	sorted. Use nnheader-insert-nov-file.

2002-01-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-inline-text-html-with-images): New user option.

	* mm-view.el (mm-inline-text-html-render-with-w3m): Bind the value
	of `w3m-display-inline-images' with the value of
	`mm-inline-text-html-with-images'.
	From: TSUCHIYA Masatoshi <tsuchiya@namazu.org>.

	* gnus-art.el (gnus-article-wash-html-with-w3m): Ditto.

2002-01-27  Richard M. Stallman  <rms@gnu.org>

	* time-date.el: Add autoload cookies.  Many doc fixes.
	(time-add): New function.
	(time-subtract): Renamed from subtract-time.
	(subtract-time): New alias for time-subtract.

2002-01-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Replace w3m to
	emacs-w3m in doc-string.

	* lpath.el: Bind `w3m-cid-retrieve-function-alist' and
	`w3m-current-buffer'.

2002-01-27  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Handle cid: URLs.

	* mm-view.el (mm-setup-w3m): Add `mm-w3m-cid-retrieve' to
	`w3m-cid-retrieve-function-alist' for `gnus-article-mode'.
	(mm-w3m-cid-retrieve): New function.
	(mm-inline-text-html-render-with-w3m): Handle cid: URLs.

2002-01-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-articles): Don't save empty articles.

2002-01-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-cache-file-contents): Don't use equalp.

2002-01-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (nnheader-insert-nov-file): Increased cutoff to
	32K.

	* gnus-sum.el (gnus-summary-expire-articles): Clean up.

	* nnmail.el (nnmail-article-group): Decode headers before running
	split rules over them.
	(nnmail-mail-splitting-charset): New variable.

	* smiley.el: Replaced with smiley-ems.el.

2002-01-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el (mm-url-predefined-programs): Add w3m.
	(mm-url-program): Ditto.

2002-01-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnml.el (nnml-use-compressed-files): New variable.
	(nnml-filenames-are-evil): Removed.
	(nnml-current-group-article-to-file-alist): Don't use.
	(nnml-update-file-alist): Inhibit.
	(nnml-article-to-file): Use new var.

2002-01-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-parse-without-error): Add edebug-form-spec.

	* nnagent.el (nnagent-retrieve-headers): loop until eobp.

2002-01-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-load-alist): Use new caching
	function.

	* gnus-util.el (gnus-cache-file-contents): New function.

	* gnus-agent.el (gnus-agent-file-loading-cache): New variable.
	(gnus-agent-load-alist): Use it.

	* nnagent.el (nnagent-retrieve-headers): Use optimized function.

	* nnheader.el (nnheader-insert-nov-file): New function.

	* gnus-util.el (gnus-parse-without-error): Correct the loop.

	* gnus-sum.el (gnus-dependencies-add-header): Use in-reply-to if
	there are no references.
	(gnus-extract-message-id-from-in-reply-to): New function.
	(gnus-nov-parse-line): Use in-reply-to if there are no
	references.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnagent.el (nnagent-retrieve-headers): Use new macro.

	* gnus-util.el (gnus-parse-without-error): New macro.

2002-01-25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Call w3m-region.
	(gnus-article-wash-function): use locate-library to decide which
	to use.

2002-01-25  Simon Josefsson  <jas@extundo.com>

	* pop3.el (pop3-munge-message-separator): Work if no date.
	Trivial patch from Marius Vollmer <mvo@zagadka.ping.de>.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-save-alist): Fix.

	* nnagent.el (nnagent-retrieve-headers): Must have cut too much by
	mistake.  Reinstated lost code.

2002-01-25  Josh Huber  <huber@alum.wpi.edu>

	* mml2015.el (mml2015-mailcrypt-decrypt): Display a signature if
	one exists in the case of an encrypted message with an internal
	signature.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-save-alist): Optimized.

2002-01-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el: Commented out the experimental code.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-range.el (gnus-inverse-list-range-intersection): Off-by-one
	error.

	* gnus.el (gnus-server-to-method): Made into subst.
	(gnus-server-method-cache): New variable.
	(gnus-server-to-method): Use it.
	(gnus-group-method-cache): New variable.
	(gnus-find-method-for-group-1): Renamed.
	(gnus-find-method-for-group): New function.
	(gnus-group-method-cache): Removed.

	* gnus-sum.el (gnus-compute-unseen-list): Use new optimized
	function.

	* gnus-range.el (gnus-members-of-range): New function.
	(gnus-list-range-intersection): Renamed.
	(gnus-inverse-list-range-intersection): New function.

	* gnus-sum.el (gnus-compute-unseen-list): Made into own function.

	* nnagent.el (nnagent-retrieve-headers): New implementation.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): New, faster
	implementation.

2002-01-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind `w3m-charset-to-coding-system'; bind
	`w3m-meta-content-type-charset-regexp'.

	* mm-view.el (mm-inline-text-html-render-with-w3m): Decode
	charset-encoded html contents.

2002-01-24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-request-article): Make sure it is not
	an empty file.

	* nnweb.el (url): Ignore errors when request url.

	* nnrss.el: Clean up the comments.

2002-01-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind `w3m-region'; bind `w3m-mode-map'.

	* mm-decode.el (mm-inline-text-html-renderer): New user option.
	(mm-inline-media-tests): Test whether the value of
	`mm-inline-text-html-renderer' is a function for text/html.

	* mm-view.el (mm-inline-text-html-render-with-w3): New function
	separated from `mm-inline-text'.
	(mm-w3m-minor-mode): New variable.
	(mm-w3m-setup): New variable.
	(mm-setup-w3m): New function.
	(mm-inline-text-html-render-with-w3m): New function.
	(mm-inline-text): Funcall `mm-inline-text-html-renderer' for
	text/html.

2002-01-23  Paul Jarc  <prj@po.cwru.edu>

	* lpath.el: fbind make-symbolic-link and unix-sync for nnmaildir.

2002-01-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-xmas.el (gnus-xmas-redefine): Quote `gnus-completing-read'
	and `gnus-xmas-completing-read'.

2002-01-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nneething.el (nneething-message-id-number): Abolished.
	(nneething-encode-file-name): Not encode numerical characters.
	(nneething-make-head): `nneething-message-id-number' is not
	used to generate message IDs.

2002-01-23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-emphasis-alist): Include !? as sentence-ending
	characters.

2002-01-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-xmas.el (gnus-xmas-completing-read): New function.
	(gnus-xmas-redefine): Redefine conditionally.

2002-01-22  Josh Huber  <huber@alum.wpi.edu>

	* mml.el (mml-parse-1): Fixed usage of recipients in the secure
	tag.

2002-01-22  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-font-lock-keywords): Added the secure tag.
	* mml-sec.el: Added functions to generate/modify/remove the secure
	tag while in message mode.
	* mml-sec.el (mml-secure-message): New.
	* mml-sec.el (mml-unsecure-message): New.
	* mml-sec.el (mml-secure-message-sign-smime): New.
	* mml-sec.el (mml-secure-message-sign-pgp): New.
	* mml-sec.el (mml-secure-message-sign-pgpmime): New.
	* mml-sec.el (mml-secure-message-encrypt-smime): New.
	* mml-sec.el (mml-secure-message-encrypt-pgp): New.
	* mml-sec.el (mml-secure-message-encrypt-pgpmime): New.
	* mml.el (mml-parse-1): Added code to recognise the secure tag and
	convert it to either a part or multipart depending on if there are
	other parts in the message.
	* mml.el (mml-mode-map): Changed default sign/encrypt keybindings
	to use the secure tag, rather than the part tag.
	* mml.el (mml-preview): Added a save-excursion to keep cursor
	position after doing an MML preview.

2002-01-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (nnheader-parse-overview-file): New function.
	(nnheader-write-overview-file): New function.

2002-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-group-fast-parameter): Check better if expansion
	in wanted.

	* nnweb.el (nnweb-type-definition): Clean up.

2002-01-21  Alastair Burt  <burt@dfki.de>

	* gnus-art.el (gnus-mm-display-part): Make sure that the summary
	buffer exists before jumping to it.

2002-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-wash-html-with-w3): Made into own
	function.
	(article-wash-html): Use it.
	(gnus-article-wash-function): New variable.
	(gnus-article-wash-html-with-w3m): New function.

2002-01-20  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* dgnushack.el (dgnushack-compile): Compile smiley-ems for
	XEmacs.

2002-01-20  John H. Palmieri  <palmieri@math.washington.edu>

	* gnus-fun.el (gnus-convert-image-to-gray-x-face): More standard
	command line.

2002-01-21  Simon Josefsson  <jas@extundo.com>

	* canlock.el (base64-encode-string): Autoload it from base64.
	(canlock-make-cancel-key): Base64 encode unibyte string.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnfolder.el (nnfolder-request-accept-article): Unfold
	x-from-line.
	(nnfolder-request-replace-article): Ditto.

2002-01-20  Nevin Kapur  <nevin@jhu.edu>

	* gnus-group.el (gnus-group-best-unread-group): Use the right
	positioning function.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* smiley-ems.el (smiley-region): Use new function.
	(smiley-update-cache): Use general image functions.
	(smiley-region): Use general functions.

	* gnus-util.el (gnus-graphic-display-p): New function.

	* nnmail.el (nnmail-article-group): Allow outputting traces of
	non-strings.

	* nndoc.el (nndoc-type-alist): Rules for exim bounces.
	(nndoc-exim-bounce-type-p): New function.

	* message.el (message-dont-send): Doc fix.

	* gnus-util.el (gnus-completing-read): Remove
	inherit-input-method.

	* gnus-art.el (gnus-treat-smiley): Doc fix.

	* gnus-agent.el (gnus-agent-fetch-headers): Ignore seen and recent
	articles.

2002-01-19  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-gssapi-open): Don't wait for logout to complete.
	(imap-kerberos4-open): Ditto.
	(imap-open): Set port correctly, don't set auth.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump version number.

2002-01-20 05:33:30 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.05 is released.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnkiboze.el (nnkiboze-generate-group): Make sure the directory
	exists.

	* gnus-spec.el (gnus-string-width-function): New function.
	(gnus-tilde-cut-form): Use it.
	(gnus-tilde-max-form): Ditto.
	(gnus-use-correct-string-widths): Default to (featurep 'xemacs).
	(gnus-substring-function): Use it.
	(gnus-tilde-cut-form): Ditto.
	(gnus-substring-function): New function.

	* message.el (message-check-news-header-syntax): New message.

	* gnus.el (gnus-slave-no-server): Doc fix.

	* gnus-spec.el (gnus-use-correct-string-widths): Default to t.

2002-01-15  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-adjust-marked-articles): Fix the record for
	`seen' if it looks like (seen NUM1 . NUM2).  It should be
	(seen (NUM1 . NUM2)).

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-catchup-articles): Update article
	number in closed topics.

2002-01-19  Daniel Pittman  <daniel@rimspace.net>

	* gnus-sum.el (gnus-summary-first-unseen-or-unread-subject): New
	functions.

2002-01-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-group-find-parameter): Clean up.

	* gnus-sum.el (gnus-summary-goto-subject): Error on non-numerical
	articles.

	* gnus-util.el (gnus-completing-read-with-default): Renamed.

	* nnmail.el (nnmail-article-group): Clean up.

2002-01-19  Paul Stodghill  <stodghil@cs.cornell.edu>

	* gnus-agent.el (gnus-category-name): Intern the category name.

2002-01-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-move-group): Use gnus-topic-history.

	* gnus-util.el (gnus-completing-read): New function.

2002-01-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-add-wash-type): Use add-to-list.

	* smiley-ems.el (smiley-region): Register smiley.
	(smiley-toggle-buffer): Rewrite the function.
	(smiley-active): Removed.

2002-01-19  Simon Josefsson  <jas@extundo.com>

	* gnus-util.el (gnus-parent-id): Optimize null n case.  From
	Jesper Harder <harder@ifa.au.dk>.

2002-01-18  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-art.el (gnus-request-article-this-buffer): Call
	`nneething-get-file-name' to extract the file name from the
	message id.

	* nneething.el (nneething-encode-file-name): New function.
	(nneething-decode-file-name): Ditto.
	(nneething-get-file-name): Ditto.
	(nneething-make-head): Encode the file name and encapsulate it
	into the field of the message id.

2002-01-18  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-update-info): Don't erase flags that isn't
	stored in .marks.

	* nnfolder.el (nnfolder-request-update-info): Ditto.

2002-01-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-url-parse-query-string): Allow new line in value.

2002-01-18  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-starttls-p): Don't check for binary.
	(imap-gssapi-auth-p): Ditto.
	(imap-kerberos4-auth-p): Ditto.
	(imap-open): Change logic.  Iterate through all possible streams,
	instead of bailing out after first failure.  Move authenticator
	decision to `imap-authenticate'.
	(imap-authenticate): Change logic, now finds the authenticator to
	use, was previously in `imap-open'.
	(imap-open): Return nil on failure.
	(imap-open): Setup temp buffer correctly.
	(imap-open): Return buffer only on success.
	(imap-interactive-login, imap-interactive-login): Tell the user
	which stream/authenticator is used for the queried
	username/password.
	(imap-open, imap-authenticate): Set variables.
	(imap-gssapi-auth-p, imap-kerberos4-auth-p): Fix typo.
	(imap-open): Don't assume how `with-temp-buffer' is implemented.

2002-01-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-grab-cam-x-face): New function.

2002-01-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-emphasis-alist): Allow matching "*this*.)".

2002-01-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-toggle-group-plugged): New function.
	(gnus-agent-group-mode-map): Bind it to "Jo".
	(gnus-agent-group-make-menu-bar): Add it into menu bar.

2002-01-17  Karl Kleinpaste  <karl@charcoal.com>

	* gnus-xmas.el (gnus-group-toolbar): Add .newsrc save button.
	(gnus-summary-mail-toolbar): Add mail article deletion button.

	* smiley.el (smiley-deformed-regexp-alist): Eliminate noseless
	false positives for lines of "^^^^".

	* gnus-picon.el (gnus-picon-find-face): faces database is all
	lowercase.

2002-01-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-retrieve-headers): Use correct buffer.
	(gnus-agent-braid-nov): Switch back to nntp-server-buffer. Remove
	duplications.
	(gnus-agent-batch): Bind gnus-agent-confirmation-function.

2002-01-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-initial-limit): Inline
	gnus-summary-limit-children.
	(gnus-summary-initial-limit): Don't limit if
	gnus-newsgroup-display is nil.
	(gnus-summary-initial-limit): No, don't.

	* gnus-util.el
	(gnus-put-text-property-excluding-characters-with-faces): Inline
	gnus-put-text-property.

	* gnus-spec.el (gnus-default-format-specs): New variable.

	* gnus-start.el (gnus-read-newsrc-file): Don't clear
	gnus-format-specs.
	(gnus-read-newsrc-el-file): Default to gnus-default-format-specs.

	* gnus-spec.el (gnus-update-format-specifications): Really check
	the Gnus version of the .newsrc.eld file.
	(gnus-format-specs): Save the new default summary format.

	* gnus-util.el (gnus-parent-id): Check whether references is empty
	before splitting.

	* gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): Inline some
	functions.
	(gnus-gather-threads-by-references): Inline
	`gnus-split-references'.

	* gnus-spec.el (gnus-summary-line-format-spec): New, optimized
	default value of gnus-summary-line-format-spec.

2002-01-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-retrieve-headers-1): A better error
	message.
	(nnslashdot-request-list): Ditto.
	(nnslashdot-sid-strip): Removed.

2002-01-15  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-close-asynchronous): Enable.
	(nnimap-close-group): Expunge.

2002-01-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-user-date-format-alist): Typo.
	From: Frank Schmitt <usereplyto@Frank-Schmitt.net>

2002-01-15  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nneething.el (nneething-request-article): Set
	`nnmail-file-coding-system' to `binary' locally, in order to read
	files without any conversion.

2002-01-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-retrieve-headers): Use
	nnheader-file-coding-system and nnmail-active-file-coding-system.
	(gnus-agent-regenerate-group): Ditto.
	(gnus-agent-regenerate): Ditto.
	(gnus-agent-write-active): Ditto.
	Suggested by Katsumi Yamaoka <yamaoka@jpl.org>

2002-01-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-button-alist): Don't highlight <URL:.
	Suggested by Ian Fitchet <ian.fitchet@lunanbay.com>

2002-01-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: We don't need gnus-article-show-all-headers.

	* gnus-art.el (article-show-all, gnus-article-show-all-header):
	Ditto.

	* gnus-sum.el (gnus-summary-select-article): Don't call
	show-all-headers, because hidden headers are not hidden text any
	more.

2002-01-13  Simon Josefsson  <jas@extundo.com>

	* message.el (message-newline-and-reformat): Use `newline' instead
	of inserting \n, so that the newline is marked as hard.

	* gnus-spec.el (gnus-pad-form): Don't evaluate EL multiple times.
	From Jesper Harder <harder@ifa.au.dk>.

2002-01-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* imap.el (imap-close): Keep going if quit.

	* gnus-agent.el (gnus-agent-retrieve-headers): Erase
	nntp-server-buffer.

2002-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-display-inline-fontify): Require font-lock to
	avoid unbinding shadowed variables.

	* gnus-art.el (gnus-picon-databases): Moved here.
	(gnus-picons-installed-p): Moved here.
	(gnus-article-reply-with-original): Use `mark'.

	* gnus.el (gnus-picon): Moved here and renamed.

	* gnus-art.el (gnus-treat-from-picon): Only be on if picons are
	installed.
	(gnus-treat-mail-picon): Ditto.
	(gnus-treat-newsgroups-picon): Ditto.

	* gnus-picon.el (gnus-picons-installed-p): New function.

2002-01-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-go-online): Fix doc.

2002-01-12  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-need-unselect-to-notice-new-mail)
	(nnimap-before-find-minmax-bugworkaround): Use it.
	(nnimap-find-minmax-uid): Don't reselect current mailbox.
	(nnimap-dont-close): New variable.
	(nnimap-close-group): Use it.

2002-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-reply-with-original): Use
	`mark-active'.

	* gnus-msg.el (gnus-summary-reply): Don't bug out on regions.

	* gnus-logic.el (gnus-advanced-score-rule): Thinko fix.
	(gnus-score-advanced): Clean up.
	(gnus-score-advanced): Accept a multiple of the score.

2002-01-12  Simon Josefsson  <jas@extundo.com>

	* flow-fill.el (fill-flowed-display-column)
	(fill-flowed-encode-columnq): New variables.  Suggested by
	Kai.Grossjohann@CS.Uni-Dortmund.DE (Kai Gro,b_(Bjohann).
	(fill-flowed-encode, fill-flowed): Use them.

	* message.el (message-send-news, message-send-mail): Use
	m-b-s-n-p-e-h-n.

	* mml.el (autoload): Autoload fill-flowed-encode.
	(mml-buffer-substring-no-properties-except-hard-newlines): New
	function.
	(mml-read-part): Use it.
	(mml-generate-mime-1): Encode format=flowed if appropriate.
	(mml-insert-mime-headers): Insert format=flowed.

	* flow-fill.el (fill-flowed-encode): New function.
	(fill-flowed): Bind fill-column to window width.

2002-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-buffer-name): Return the dead name if
	it exists.
	(gnus-summary-setup-buffer): Wake up dead summary buffers.
	(gnus-summary-buffer-name): Don't return the dead name after all.
	(gnus-summary-setup-buffer): Kill the dead buffer.

	* gnus-art.el (gnus-article-followup-with-original): Store the
	value of the mark before deactivating it.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-fun.el (gnus-display-x-face-in-from): Fake it.
	From: Karl Kleinpaste <karl@charcoal.com>

	* gnus-art.el (article-display-x-face): Ditto.
	(gnus-article-reply-with-original): Use gnus-region-active-p.
	(gnus-article-followup-with-original): Ditto.

	* gnus-sum.el (gnus-summary-read-group-1): Don't select
	downloadable article either.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-display-x-face): Insert From:.

	* gnus-sum.el (gnus-summary-move-article): Don't draw the
	article. Bind gnus-display-mime-function and
	gnus-article-prepare-hook.

	* gnus-agent.el (gnus-agent-retrieve-headers): Load agentview.
	(gnus-agent-toggle-plugged): Use gnus-agent-go-online. Move
	gnus-agent-possibly-synchronize-flags to the last.
	(gnus-agent-go-online): New function. New variable.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-regenerate-group): Add clean option.
	(gnus-agent-regenerate): Ditto.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-ignored-news-headers)
	(message-ignored-mail-headers): Add X-Gnus-Agent-Meta-Information:.
	Suggested by ARISAWA Akihiro <ari@atesoft.advantest.co.jp>

	* gnus.el (gnus-gethash-safe): New macro.

	* gnus-agent.el (gnus-agent-regenerate-history): New function.
	(gnus-agent-regenerate): Show messages.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-regenerate-group): New function.
	(gnus-agent-regenerate): New function.
	(gnus-agent-save-alist): Sort.
	(gnus-agent-copy-nov-line): Test eobp.
	(gnus-agent-retrieve-headers): Erase buffer.

2002-01-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-to-coding-system): Change charset to cs.
	From: Torsten Hilbrich <email@myrkr.in-berlin.de>

	* gnus.el (gnus-agent-covered-methods): Move here.
	(gnus-online): New function.
	(gnus-agent-method-p): Move here.

	* nnagent.el (nnagent-retrieve-headers): Check whether arts is
	nil. Remove articles-alist.

	* gnus-start.el (gnus-get-unread-articles): Check online.
	(gnus-groups-to-gnus-format): Ditto.
	(gnus-active-to-gnus-format): Ditto.

	* gnus-agent.el (gnus-agent-get-function): Use it.
	(gnus-agent-get-undownloaded-list): Ditto.
	(gnus-agent-fetch-session): Only fetch online methods.

	* gnus-srvr.el (gnus-server-make-menu-bar): Add offline.
	(gnus-server-mode-map): Ditto.
	(gnus-server-offline-face): New face.
	(gnus-server-offline-face): New variable.
	(gnus-server-font-lock-keywords): Add offline.
	(gnus-server-insert-server-line): Ditto.
	(gnus-server-offline-server): New function.

	* gnus-int.el (gnus-open-server): Turn to offline.
	(gnus-server-unopen-status): New variable.

2002-01-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnkiboze.el (nnkiboze-request-article): Use
	gnus-agent-request-article.

	* nnagent.el (nnagent-retrieve-headers): Don't use nnml
	function. Insert undownloaded NOV.

	* gnus-agent.el (gnus-agent-retrieve-headers): New function.
	(gnus-agent-request-article): New function.

	* gnus.el (gnus-agent-cache): New variable.

	* gnus-int.el (gnus-retrieve-headers): Use
	gnus-agent-retrieve-headers.
	(gnus-request-head): Use gnus-agent-request-article.
	(gnus-request-body): Ditto.

	* gnus-art.el (gnus-request-article-this-buffer): Use
	gnus-agent-request-article.

	* gnus-sum.el (gnus-summary-read-group-1): Don't show the first
	article if it is undownloaded.

2002-01-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-spec.el (gnus-spec-tab): Deal with wide characters.

2002-01-09  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el (canlock-string-as-unibyte): New macro.
	(canlock-sha1-with-openssl): Return a unibyte string.
	(canlock-make-cancel-key): Treat Message-ID as a unibyte string.

2002-01-09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-expand-group-parameters): Match \N or \& only.

2002-01-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-encode.el (mm-content-transfer-encoding-defaults): Add
	application/x-emacs-lisp.

	* gnus-msg.el (gnus-bug): Use application/emacs-lisp.

	* nntp.el (nntp-request-article): Add group parameter.
	(nntp-request-head): Ditto.
	(nntp-find-group-and-number): Add parameter group. Figure out
	number if the status line doesn't give (e.g. quimby.gnus.org).

2002-01-08  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-generate-mime-1): Set recipient correctly.

2002-01-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-read-from-minibuffer): Add parameter
	initial-contents.
	* gnus-msg.el (gnus-summary-resend-message): Use it.

	* gnus-group.el (gnus-group-read-ephemeral-group): Restore the old
	behavior of quit-config.

	* message.el (message-make-from): Don't quote fullname.
	From: Bj,Ax(Brn Mork <bmork@dod.no>

	* gnus-group.el (gnus-group-suspend): Don't kill message buffers.
	From: <andre@slamdunknetworks.com>

2002-01-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-mark-article-read): Typo. Increase n.

	* gnus-art.el (gnus-header-button-alist): Handle mailto.

	* mml.el (mml-preview): Bind gnus-original-article-buffer because
	article-decode-group-name uses it.  Bind gnus-article-prepare-hook
	because bbdb may use it.

2002-01-07  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nneething.el (nneething-request-article): When a non-text file
	is converted to an article, its data is encoded in base64.  Call
	`nneething-make-head' with options to specify MIME types.
	(nneething-make-head): Add optional arguments to specify MIME
	types.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-fun.el (gnus-display-x-face-in-from): Fake a "From: "
	header if there is not.

	* gnus-xmas.el (gnus-xmas-put-image): Insert " " if bobp.

	* gnus-msg.el (gnus-gcc-mark-as-read): New variable.
	(gnus-inews-mark-gcc-as-read): Obsolete variable.
	(gnus-inews-do-gcc): Use them.

	* gnus-group.el (gnus-group-mark-article-read): Put holes into
	gnus-newsgroup-unselected.

2002-01-06  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-ssl-open, imap-ssl-open, imap-parse-fetch): Use
	condition-case, not ignore-errors.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-insert-old-articles): Bind
	gnus-fetch-old-headers.

	* gnus-art.el (article-display-x-face): Use the current buffer
	unless `W f'. Otherwise, X-Face may be shown in the header of a
	forwarded part.
	(gnus-treatment-function-alist): Treat xface before hiding
	headers.

2002-01-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-read-ephemeral-group): Fix
	parameters.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-multibyte-p): Define conditionally when load.
	(mm-guess-charset): New function.
	(mm-charset-after): Use it.
	(mm-detect-coding-region): New function.
	(mm-detect-mime-charset-region): New function.

	* gnus-sum.el (gnus-summary-show-article): Use
	mm-detect-coding-region.

2002-01-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-make-fqdn): Be less violent.

	* gnus.el (gnus-logo-color-style): Compute custom form
	automatically.

	* gnus-sum.el (gnus-summary-enter-digest-group): Feed the adaptive
	score file of the parent to the document group.

	* gnus-group.el (gnus-group-read-ephemeral-group): Add an optional
	parameters parameter.

	* gnus-score.el (gnus-score-load-file): Clean up.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-thread-sort-by-most-recent-number): Fix typo.
	From: Damien Wyart <damien.wyart@free.fr>

	* gnus-util.el (gnus-local-map-property): In Emacs 21, use keymap.

2002-01-05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-select-group-hook): Typo.

	* rfc2047.el (rfc2047-decode-string): Return immediately if there
	is no quoted-printable-encoded STRING.
	From: Jesper Harder <harder@ifa.au.dk>

	(rfc2047-decode-string): Decode it.

2002-01-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-logo-color-alist): Added more colors from Luis.

2002-01-05  Keiichi Suzuki  <keiichi@nanap.org>

	* nntp.el (nntp-possibly-change-group): Erase contents of nntp
	buffer to get rid of junk line.

2002-01-05  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode-map): Bind message-goto-from to C-c C-f
	C-o.
	(message-mode-map): Bind message-insert-or-toggle-importance to
	C-c C-u.
	(message-mode-map): Bind message-disposition-notification-to to
	C-c M-n.
	(message-mode-menu): Add m-d-n-t.
	(message-mode-field-menu): Add m-goto-from.
	(message-mode): Doc fix.
	(message-goto-from): New function.
	(message-insert-disposition-notification-to): New function.
	(message-tool-bar-map): Add receipt button.

2002-01-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-thread-latest-date): New function.
	(gnus-thread-sort-by-most-recent-number): Renamed.
	(gnus-thread-sort-functions): Doc fix.
	(gnus-select-group-hook): Don't use setq on a hook.
	(gnus-thread-latest-date): Use date, not number

	* gnus-agent.el (gnus-agent-expire-days): Doc fix.
	(gnus-agent-expire): Allow regexp of expire-days.

	* gnus-art.el (gnus-article-reply-with-original): Deactivate
	region.
	(gnus-article-followup-with-original): Ditto.

	* gnus-sum.el (gnus-thread-highest-number): Doc fix.

	* gnus-art.el (gnus-mime-display-alternative): Use
	gnus-local-map-property.
	(gnus-mime-display-alternative): Ditto.
	(gnus-insert-mime-security-button): Ditto.
	(gnus-insert-next-page-button): Ditto.
	(gnus-button-prev-page): Take optional args.
	(gnus-insert-prev-page-button): widget-convert.

	* gnus-util.el (gnus-local-map-property): New function.

	* gnus-art.el (gnus-prev-page-map): Use parent map.
	(gnus-next-page-map): Ditto.

	* gnus-spec.el (gnus-parse-format): Clean up.
	(gnus-parse-format): Do complex formatting for %=.

	* gnus-fun.el (gnus-display-x-face-in-from): Add the string
	"X-Face: " to the data in the built-in scenario.

	* gnus-spec.el (gnus-parse-simple-format): Use gnus-pad-form.
	(gnus-correct-pad-form): Renamed.
	(gnus-tilde-max-form): Clean up.
	(gnus-pad-form): Use gnus-use-correct-string-widths.

	* gnus-fun.el (gnus-display-x-face-in-from): Use native xface
	support if that is available.

	* gnus-sum.el (gnus-thread-highest-number): New function.
	(gnus-thread-sort-by-most-recent-thread): New function.
	(gnus-thread-sort-functions): Doc fix.

2002-01-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-select-article): Disable multibyte in
	all cases.
	(gnus-summary-mode): Enable it in all cases.
	(gnus-summary-display-article): Ditto.
	(gnus-summary-edit-article): Ditto.

	* gnus-ems.el (gnus-put-image): Really return glyph.

	* gnus-art.el (gnus-article-x-face-command): Fix :type.
	(gnus-treat-smiley): Don't take "P" in the interactive form.

2002-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* compface.el (uncompface): XEmacs and Emacs have differing
	capabilities.

	* gnus-fun.el (gnus-display-x-face-in-from): Use face.

	* gnus-ems.el (gnus-article-xface-ring-internal): Removed.
	(gnus-article-xface-ring-size): Removed.
	(gnus-article-display-xface): Removed.
	(gnus-remove-image): Cleaned up.

	* gnus-xmas.el (gnus-xmas-create-image): Convert pbm to xbm.
	(gnus-xmas-create-image): Take pbm files.
	(gnus-x-face): Removed.
	(gnus-xmas-article-display-xface): Removed.

	* gnus-fun.el (gnus-display-x-face-in-from): Bind
	default-enable-multibyte-characters.

	* compface.el (uncompface): Doc fix.

	* gnus-art.el (gnus-article-x-face-command): Use
	gnus-display-x-face-in-from.

	* gnus-xmas.el (gnus-xmas-put-image): Return the image.

	* gnus-ems.el (gnus-put-image): Return the image.

	* gnus-fun.el (gnus-display-x-face-in-from): New function.
	(gnus-x-face): Moved here.

2002-01-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-put-image): Don't insert SPC or make
	invisible if string is nil.
	(gnus-xmas-article-display-xface): Use it.

	* gnus-ems.el (gnus-put-image): Explicitly use SPC, and add text
	property when string is nil.
	(gnus-article-display-xface): Use it.

2002-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-display-x-face): Check whether valid grey
	face was returned.
	(article-display-x-face): Place image in the right spot.

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Get rid of
	stderr.
	(gnus-convert-gray-x-face-to-xpm): Check whether output is valid.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-xmas.el (gnus-xmas-create-image): Take optional
	parameters.
	(gnus-xmas-put-image): Allow non-strings to be passed.

	* gnus-art.el (article-display-x-face): Use optional parameters.

	* gnus-ems.el (gnus-create-image): Take optional parameters.

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Use uncompface.

	* compface.el (compface-xbm-p): Removed.

	* gnus-ems.el (gnus-article-compface-xbm): Removed.
	(gnus-article-display-xface): Use compface.

	* compface.el: New file.

	* gnus-fun.el (gnus-convert-pbm-to-x-face-command): Remove quotes.
	(gnus-convert-image-to-x-face-command): Ditto.
	(gnus-random-x-face): Quote argument.
	(gnus-x-face-from-file): Ditto.

2002-01-03  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-expire-articles): evaluate
	the expire-group parameter once per article rather than once
	per group; bind `nnmaildir-article-file-name' and `article'
	for convenience.  Leave article alone when expire-group
	specifies the current group.
	(nnmaildir--update-nov): be more concurrency-friendly with
	temp file names.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-read-init-file): Cleaned up.

2002-01-03  Dave Love  <d.love@dl.ac.uk>

	* gnus-start.el (gnus-startup-file-coding-system): Removed.
	(gnus-read-init-file): Don't use it.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-session): Run hook.

2002-01-03  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-start.el (gnus-read-init-file): Don't force coding system
	for ~/.gnus.  From Dave Love <fx@gnu.org>.

2002-01-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-send-buffer): Use mm-with-unibyte-current-buffer.
	* nnspool.el (nnspool-request-post): Ditto.

	* mm-util.el (mm-use-find-coding-systems-region): New variable.
	(mm-find-mime-charset-region): Use it.

2002-01-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-summary-line-format): Added :link.
	* gnus-topic.el (gnus-topic-line-format): Ditto.
	* gnus-sum.el (gnus-summary-dummy-line-format): Ditto.
	* gnus-srvr.el (gnus-server-line-format): Ditto.
	* gnus-group.el (gnus-group-line-format): Ditto.

	* gnus-sum.el (gnus-summary-make-menu-bar): Use correct syntax for
	:keys, it works on both Emacsen.

2002-01-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-to-coding-system): Don't setq charset.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-summary-send-map): Fix binding for very-wide.

2002-01-03  Reiner Steib  <reiner.steib@gmx.de>

	* gnus-sum.el (gnus-summary-make-menu-bar): Menu bar entries for
	very wide reply.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picon-transform-address): Cache stuff.
	(gnus-picon-cache): New variable.
	(gnus-picon-transform-newsgroups): Cache stuff.

	* gnus-art.el (gnus-article-reply-with-original): New command.
	(gnus-article-followup-with-original): New command.

	* gnus-msg.el (gnus-copy-article-buffer): Take optional BEG and
	END parameters.
	(gnus-summary-followup): Take a list of list of articles.
	(gnus-inews-yank-articles): Allow lists of article/regions.

	* gnus-art.el (gnus-article-read-summary-keys): `R' and `F' are no
	longer the usual commands.

	* gnus-fun.el (gnus-convert-image-to-gray-x-face): Use pnmnoraw.
	(gnus-convert-gray-x-face-to-xpm): Don't use six parameters to
	shell-command-on-region.

2002-01-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-picon.el (gnus-picon-transform-newsgroups): Fix for the case
	  "Newsgroups: rec.music.beatles.moderated, rec.music.beatles".

2002-01-03  Steve Youngs  <youngs@xemacs.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): XEmacs doesn't
	understand ':keys', wrap it in an featurep 'xemacs.

2002-01-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ems.el (gnus-article-display-xface): Show xface in the
	order of headers (Actually, it is called in a reversed order). Add
	'gnus-image-text-deletable property.
	(gnus-remove-image): Remove text with such a property.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Don't use
	gnus-put-image.

	* gnus-art.el (gnus-article-treat-fold-newsgroups): Replace ", *"
	with ", "

2002-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Renamed.

	* gnus-art.el (gnus-ignored-headers): Hide all X-Faces.
	(article-display-x-face): Display grey X-Faces.

	* gnus-fun.el (gnus-convert-gray-x-face-region): New function.
	(gnus-convert-gray-x-face-to-ppm): Ditto.
	(gnus-convert-image-to-gray-x-face): Ditto.

	* gnus-sum.el (gnus-summary-make-menu-bar): Add a :keys to
	gnus-summary-show-raw-article.

2002-01-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	Display picons in XEmacs without showing text.

	* gnus-xmas.el (gnus-xmas-create-image): Don't use
	mm-create-image-xemacs to create xbm glyph, because it deletes
	temporary files.
	(gnus-xmas-put-image): Use end-glyph. Make text invisible.
	(gnus-xmas-remove-image): Make text visible, remove glyph.

	* gnus-picon.el (gnus-picon-transform-newsgroups)
	(gnus-picon-transform-address): Insert spec backward, due to the
	incompatibility of gnus-xmas-put-image.

2002-01-02  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-fun.el (gnus-convert-pbm-to-x-face-command): Doc fix.

2002-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Doc fix.

	* gnus-art.el: Doc fix.

	* gnus-agent.el: Doc fix.

2002-01-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-diary.el, gnus-delay.el: Fix copyright lines.

2002-01-01  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--update-nov): automatically parse
	NOV data out of the message again if nnmail-extra-headers has
	changed.

2002-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el: New file.
	(gnus-convert-image-to-x-face-command): New variable.
	(gnus-insert-x-face): New function.
	(gnus-random-x-face): Renamed.
	(gnus-x-face-from-file): Renamed.

	* gnus-art.el (gnus-body-boundary-delimiter): Changed default to
	"_".
	(gnus-body-boundary-delimiter): Typo fix.

2002-01-02  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-article-treat-body-boundary): Handle nil.
	(gnus-body-boundary-delimiter): Fix type.

2002-01-01  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-treat-buttonize, gnus-treat-buttonize-head)
	(gnus-treat-emphasize, gnus-treat-strip-cr)
	(gnus-treat-leading-whitespace, gnus-treat-hide-headers)
	(gnus-treat-hide-boring-headers, gnus-treat-hide-signature)
	(gnus-treat-fill-article, gnus-treat-hide-citation)
	(gnus-treat-hide-citation-maybe)
	(gnus-treat-strip-list-identifiers, gnus-treat-strip-pgp)
	(gnus-treat-strip-pem, gnus-treat-strip-banner)
	(gnus-treat-highlight-headers, gnus-treat-highlight-citation)
	(gnus-treat-date-ut, gnus-treat-date-local)
	(gnus-treat-date-english, gnus-treat-date-lapsed)
	(gnus-treat-date-original, gnus-treat-date-iso8601)
	(gnus-treat-date-user-defined, gnus-treat-strip-headers-in-body)
	(gnus-treat-strip-trailing-blank-lines)
	(gnus-treat-strip-leading-blank-lines)
	(gnus-treat-strip-multiple-blank-lines)
	(gnus-treat-unfold-headers, gnus-treat-fold-headers)
	(gnus-treat-fold-newsgroups, gnus-treat-overstrike)
	(gnus-treat-display-xface, gnus-treat-display-smileys)
	(gnus-treat-from-picon, gnus-treat-mail-picon)
	(gnus-treat-newsgroups-picon, gnus-treat-body-boundary)
	(gnus-treat-capitalize-sentences, gnus-treat-fill-long-lines)
	(gnus-treat-play-sounds, gnus-treat-translate)
	(gnus-treat-x-pgp-sig): Doc fix, add link to manual.

	* gnus-art.el (gnus-body-boundary-delimiter): New variable.
	(gnus-article-treat-body-boundary): Use it.

	* message.el (message-mode): Fix doc.
	(message-mode-menu): Fix names.

2002-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-first-subject): Really go to unseen
	articles.

	* gnus-picon.el (gnus-picon-find-face): Search MISC for all types.
	(gnus-picon-transform-address): Search for unknown faces as well.
	(gnus-picon-find-face): Don't search "news" for MISC.
	(gnus-picon-user-directories): Changed default back to exclude
	"unknown".

	* gnus-sum.el (gnus-summary-hide-all-threads): Reversed logic.

	* gnus-picon.el (gnus-picon-find-face): Search through all
	databases.
	(gnus-picon-find-face): New implementation.

	* gnus-topic.el (gnus-topic-goto-previous-topic): New command and
	keystroke.
	(gnus-topic-goto-next-topic): Ditto.

	* gnus.el (gnus-summary-line-format): Changed default.

	* nnmail.el (nnmail-extra-headers): Change default.

	* gnus-sum.el (gnus-extra-headers): Change default.

	* message.el (message-news-other-window): Changed "news" to
	"posting".
	(message-news-other-frame): Ditto.
	(message-do-send-housekeeping): Ditto.

	* gnus-sum.el (gnus-summary-maybe-hide-threads): Use predicate
	function.
	(gnus-article-unread-p): New function.
	(gnus-article-unseen-p): New function.
	(gnus-dead-summary-mode-map): Typo.

	* gnus-util.el (gnus-make-predicate): New function.
	(gnus-make-predicate-1): New function.

	* gnus-sum.el: New function.
	(gnus-map-articles): New function.

	* gnus-art.el (gnus-treat-fold-headers): New variable.
	(gnus-article-treat-fold-headers): New command and keystroke.

	* gnus-sum.el (gnus-dead-summary-mode-map): Clean up.
	(gnus-dead-summary-mode-map): Bind q to bury-buffer.

2002-01-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fcc-externalize-attachments): New variable.
	(message-do-fcc): Use it.

	* gnus-msg.el (gnus-gcc-externalize-attachments): New variable.
	(gnus-inews-do-gcc): Use it.

	* mml.el (mml-tweak-sexp-alist): New variable.
	(mml-externalize-attachments): New variable.
	(mml-tweak-part): Use mml-tweak-sexp-alist.
	(mml-tweak-externalize-attachments): New function.

2002-01-01  Steve Youngs  <youngs@xemacs.org>

	* gnus-xmas.el (gnus-xmas-article-display-xface): Uncomment
	'set-glyph-face' so x-face back/foreground can be set.

2001-12-31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fix-before-sending): Fix a typo.

2002-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-smiley): Renamed command.
	(gnus-article-remove-images): New command and keystroke.

	* gnus-sum.el (gnus-summary-toggle-smiley): Removed.

	* smiley-ems.el (gnus-smiley-display): Removed.

	* gnus.el (gnus-version-number): Update version.

	* message.el (message-text-with-property): Renamed and moved
	here.
	(message-fix-before-sending): Highlight invisible text and place
	point there.

2002-01-01 02:32:53 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.04 is released.

2002-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-delay.el (gnus-delay-send-queue): Renamed.

	* gnus-art.el (gnus-ignored-headers): More headers,

	* ietf-drums.el (ietf-drums-parse-addresses): Use `error' instead
	of `scan-error', since XEmacs doesn't seem to support that.

2001-12-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-best-unread-article): Take a prefix
	arg.
	(gnus-summary-best-unread-subject): Ditto.
	(gnus-summary-best-unread-subject): No, don't.
	(gnus-summary-better-unread-subject): New command.

	* gnus-xmas.el (gnus-xmas-put-image): Insert the string itself.

	* lpath.el ((featurep 'xemacs)): fbind url function.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use data, not
	buffer.
	(gnus-xmas-remove-image): Implementation that does something.
	(gnus-xmas-article-display-xface): Mark images properly.

	* gnus-art.el (gnus-mime-print-part): Use mm-temp-directory.

2001-12-31  Florian Weimer  <fw@deneb.enyo.de>

	* gnus.el (gnus): Warn if trying to run Gnus un-byte-compiled.

2001-12-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-line-format): Added %O to the default
	value.

	* gnus-util.el (gnus-text-with-property): The smallest point is
	point-min.

	* smiley-ems.el (smiley-region): Return images.
	(gnus-smiley-display): Allow toggling.
	(smiley-region): Use text properties, not overlays.

	* gnus-xmas.el (gnus-xmas-remove-image): New function, not
	implemented yet.

	* smiley-ems.el (smiley-update-cache): Check for valid types.

	* gnus-art.el (gnus-with-article-buffer): New macro.

	* gnus-picon.el (gnus-picon-transform-newsgroups): Keep the
	strings as well as the glyphs.
	(gnus-picon-transform-address): Ditto.
	(gnus-picon-insert-glyph): Ditto.
	(gnus-picon-transform-newsgroups): Toggle.
	(gnus-picon-transform-address): Toggle.

	* gnus-ems.el (gnus-remove-image): New function.
	(gnus-put-image): Take an optional string.

	* gnus-util.el (gnus-text-with-property): New function.

	* gnus-art.el (gnus-delete-images): New function.

	* gnus-ems.el (gnus-article-display-xface): Mark and store image.

	* gnus-art.el (gnus-article-wash-status-entry): Renamed.
	(gnus-article-wash-status): Use it.
	(gnus-signature-toggle): Clean up.
	(gnus-add-wash-status): New function.
	(gnus-delete-wash-status): New function.
	(gnus-article-hide-text-type): Use them throughout.
	(gnus-add-image): New function.

	* gnus-ems.el (gnus-article-display-xface): Use new interface.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use new
	interface.

	* gnus-art.el (article-display-x-face): Cleaned up.

	* rfc2047.el (rfc2047-field-value): New function.

	* mail-parse.el (mail-header-field-value): New alias.

	* gnus-art.el (gnus-mime-print-part): Fix typos.

	* smiley-ems.el (gnus-smiley-file-types): New variable.
	(smiley-update-cache): Use it.
	(smiley-regexp-alist): Suffix-less smiley names.
	(smiley-regexp-alist): Added more smileys.

	* gnus-sum.el (gnus-print-buffer): Made into own function.
	(gnus-summary-print-article): Use it.

	* mailcap.el (mailcap-mime-info): Actually return the bit that we
	looked for when REQUEST is a string.

	* gnus-art.el (gnus-mime-button-commands): Add printing
	keystroke.
	(gnus-mime-copy-part): Doc fix.
	(gnus-mime-print-part): New command.

2001-12-31  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-fetch): Notice empty flags responses.  From
	Nic Ferrier <nferrier@tf1.tapsellferrier.co.uk>.

2001-12-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-picon.el (gnus-treat-from-picon): Autoload.
	(picon): Fix doc.

	* gnus-win.el (gnus-window-to-buffer): gnus-picon-buffer-name no
	longer exists. Remove those codes.
	* gnus.el (gnus-use-picons): Ditto.

2001-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-treat-fold-newsgroups): Don't
	infloop.

	* gnus-sum.el (t): New `W D' map.

	* gnus-art.el (gnus-treat-fold-newsgroups): New variable.
	(gnus-article-treat-body-boundary): Clean up.
	(gnus-body-boundary-face): Removed.
	(gnus-article-goto-header): Moved here.
	(gnus-article-goto-header): Allow better regexps.
	(gnus-article-treat-fold-newsgroups): New command.

	* gnus-sum.el (gnus-summary-move-article): We have to select an
	article to give `gnus-read-move-group-name' an opportunity to
	suggest an appropriate default.

	* rfc2047.el (rfc2047-fold-line): New function.
	(rfc2047-unfold-line): Ditto.
	(rfc2047-fold-region): Don't fold just after the header name.

	* mail-parse.el (mail-header-fold-line): New alias.
	(mail-header-unfold-line): Ditto.

	* gnus-art.el (gnus-body-boundary-face): Renamed.
	(gnus-article-treat-body-boundary): Use it.
	(gnus-article-treat-body-boundary): Use an invisible header and a
	line of underline characters.

2001-12-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* ietf-drums.el (ietf-drums-parse-addresses): Recover from errors.

	* gnus-picon.el (gnus-picon-transform-address): Skip bad addresses.
	(gnus-picon-split-address): New function.
	(gnus-picon-find-face): Use it.
	(gnus-picon-transform-address): Use it. Set first to t for each
	address.

	* gnus-art.el (gnus-with-article-headers): Move to here. Define
	the macro then use it.
	(gnus-treatment-function-alist): Treat picons earlier.

2001-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-body-separator-face): New variable.
	(gnus-article-treat-body-boundary): Use a blank, colored line.

	* gnus-picon.el (gnus-picon-find-face): Look into misc/MISC as
	well.

	* gnus-art.el (gnus-treat-body-boundary): New variable.
	(gnus-article-treat-unfold-headers): Use helper macro.
	(gnus-article-treat-body-boundary): New command.

	* gnus.el (gnus-logo-color-style): Change the default color.
	(gnus-splash-face): Gray, gray.

	* gnus-xmas.el (gnus-xmas-group-startup-message): Use general
	colors.

	* gnus.el (gnus-logo-color-alist): Moved here and renamed.
	(gnus-logo-color-style): Ditto.
	(gnus-logo-colors): Ditto.

	* gnus-picon.el (gnus-picon-create-glyph): Cache glyphs.

	* gnus-art.el (gnus-treat-newsgroups-picon): New variable.

	* gnus-picon.el (gnus-treat-newsgroups-picon): New function.
	(gnus-picon-transform-newsgroups): New function.

	* ietf-drums.el (ietf-drums-parse-addresses): Accept a nil
	string.

	* gnus-picon.el (gnus-treat-mail-picon): Renamed.

	* gnus-art.el (gnus-treat-cc-picon): New variable.
	(gnus-treat-mail-picon): Renamed.

	* gnus-picon.el: New implementation.
	(gnus-picon-find-face): Renamed.
	(gnus-treat-from-picon): Use it.
	(gnus-picon-transform-address): Renamed.
	(gnus-treat-from-picon): Use it.
	(gnus-picon-create-glyph): Renamed.
	(gnus-picon-transform-address): Use it.
	(gnus-treat-cc-picon): New command.

	* mm-decode.el (mm-create-image-xemacs): Separated out into
	function.
	(mm-get-image): Use it.

	* gnus-art.el (gnus-treat-display-picons): Simplify.
	(gnus-treat-from-picon): Renamed.

	* gnus-ems.el (gnus-create-image): New function.
	(gnus-put-image): New function.

	* gnus-art.el (gnus-article-treat-unfold-headers): Doc fix.
	(gnus-with-article-headers): New macro.
	(gnus-article-goto-header): New function.

	* gnus-xmas.el (gnus-image-type-available-p): New function.

	* gnus-ems.el (gnus-image-type-available-p): New function.

2001-12-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-check-group): Find the correct tag, because
	xml.el is changed.

2001-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-treat-unfold-headers): Only fold when
	lines are shorter than the window width.
	(gnus-ignored-headers): More headers.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-unfold-lines): New variable.
	(gnus-treat-unfold-headers): Renamed.
	(gnus-article-treat-unfold-headers): New command and keystroke.

	* rfc2047.el (rfc2047-encode-message-header): Clean up.

	* gnus-int.el (gnus-open-server): Mark quit-ed server as denied.

2001-12-29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* sha1-el.el (sha1-use-external): New variable.
	(sha1-region): Use it.
	(sha1-string): Ditto.

	* dgnushack.el (dgnushack-compile): Compile gnus-picon for Emacs.
	* gnus-picon.el: Less warnings when compile.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-news-directories): Removed obsolete
	alias.
	(gnus-picons-database): Default to list.
	(gnus-picons-lookup-internal): Use it.

	* nnmail.el (nnmail-article-group): Default nnmail-split-methods
	to "bogus".

	* gnus-win.el (gnus-configure-windows-hook): New hook.

2001-12-29  Sascha L,A|(Bdecke  <sascha@meta-x.de>

	* gnus-win.el (gnus-configure-windows): Minimize tree buffer.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-update-marks): Don't uncompress the seen
	lists.
	(gnus-select-newsgroup): Don't append; push.
	(gnus-adjust-marked-articles): Remove obsolete ranges from
	`seen'.
	(gnus-update-marks): Clean up.
	(gnus-select-newsgroup): Don't stomp gnus-newsgroup-seen.

2001-12-29  Frank Schmitt  <usereplyto@Frank-Schmitt.net>

	* gnus-sum.el (gnus-summary-limit-to-age): Allow negative days.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-auto-select-subject): New variable.
	(gnus-summary-best-unread-subject): New function.
	(gnus-summary-best-unread-article): Use it.
	(gnus-summary-first-unseen-subject): New function and command.

	* gnus-art.el (gnus-treatment-function-alist): Emphasize after
	other treatments.

	* gnus-util.el (gnus-put-overlay-excluding-newlines): New
	function.

	* gnus-art.el (gnus-article-show-hidden-text): Remove the type
	from the list of hidden types.

	* mm-view.el (mm-inline-text): Ditto.
	(mm-inline-text): Ditto.
	(mm-w3-prepare-buffer): Ditto.

	* gnus-art.el (article-wash-html): Inhibit more remote fetching.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-ignored-headers): Added more headers.

2001-12-29  Jesper Harder  <harder@ifa.au.dk>

	* gnus-srvr.el (gnus-browse-foreign-server): Compute the prefix
	once.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): Doc fix.

2001-12-28  Simon Josefsson  <jas@extundo.com>

	* gnus-srvr.el (gnus-browse-foreign-server): Fix typo.  From
	Jesper Harder <harder@ifa.au.dk>.

2001-12-27  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-select-newsgroup): Make
	`gnus-newsgroup-unseen' sorted.  Make `gnus-newsgroup-unseen'
	contain all articles (instead of none) when no seen marks have
	been set for the group.
	(gnus-update-marks): Use `gnus-range-add' on a uncompressed list
	instead, it seems to result in shorter ranges.

2001-12-26 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-x-to-15-region): Use
	insert-before-markers.
	From Jesper Harder <harder@ifa.au.dk>

2001-12-26  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-save-mail): create the destination
	groups if they do not exist.

2001-12-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el (canlock-sha1-with-openssl): Remove unused variable.

2001-12-22 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-read-ephemeral-group): Call
	gnus-group-real-name.

	* gnus-sum.el (gnus-decode-encoded-word-methods): Backslash paren.
	(gnus-newsgroup-variables): Ditto.

	* gnus.el (gnus-group-prefixed-name): If group name is prefixed,
	return it.

2001-12-21  Paul Jarc  <prj@po.cwru.edu>

	* gnus.el (gnus-valid-select-methods): Include nnmaildir.
	* nnmaildir.el (top-level): Add commentary.
	(nnmaildir-version): Indicate that nnmaildir is now a standard
	part of Gnus, not separately released.

2001-12-21 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el, gnus-picon.el, gnus-sieve.el, gnus-sum.el:
	* gnus-xmas.el, imap.el, mailcap.el, mm-util.el, nnfolder.el:
	* nnheader.el, nnmail.el: Nil/NIL vs. nil.
	From  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

2001-12-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmaildir.el: Copyright changes. Require cl only at compile time.

2001-12-20  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (top-level): Don't require cl.  Suggested by ShengHuo
	ZHU <zsh@cs.rochester.edu>.
	(nnimap-close-group): Don't quote KEYLIST items.  Suggested by
	Brian P Templeton <bpt@tunes.org>.

2001-12-19 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmaildir.el: New file.
	From Paul Jarc <prj@po.cwru.edu>.

2001-12-19 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-type-alist): Move forward to the end.

2001-12-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-find-subscribed-addresses): Replace `mapc' with
	`dolist'.

2001-12-19 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-frames-on-display-list): New function.
	(gnus-get-buffer-window): Use it.

2001-12-19 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-mail-archive-xover): Fix the regexp.

2001-12-18 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-get-buffer-window): Use gnus-delete-if.

2001-12-18 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	   From Harald Meland <Harald.Meland@usit.uio.no>

	* gnus-win.el (gnus-get-buffer-window): New function.
	(gnus-all-windows-visible-p): Use it.

	* gnus-util.el (gnus-horizontal-recenter)
	(gnus-horizontal-recenter, gnus-horizontal-recenter)
	(gnus-horizontal-recenter, gnus-set-window-start): Use it.

	* gnus-score.el (gnus-score-insert-help): Use it.

	* gnus-salt.el (gnus-tree-recenter, gnus-generate-tree)
	(gnus-generate-tree, gnus-highlight-selected-tree)
	(gnus-highlight-selected-tree, gnus-tree-highlight-article): Use
	it.

	* gnus-art.el (gnus-article-set-window-start)
	(gnus-mm-display-part, gnus-request-article-this-buffer)
	(gnus-button-next-page, gnus-button-prev-page)
	(gnus-article-button-next-page, gnus-article-button-prev-page):
	Use it.

2001-12-18  Josh Huber  <huber@alum.wpi.edu>

	* ChangeLog, ChangeLog.1, nnwfm.el, smiley.el:
	* gnus-cite.el, gnus-delay.el, gnus-spec.el, message.el:
	* mml1991.el, nnultimate.el: Removed buffer-file-coding-system tag.

2001-12-18 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* ChangeLog,  ChangeLog.1, nnwfm.el,  gnus-smiley.el:
	* gnus-cite.el, gnus-delay.el, gnus-spec.el, message.el:
	* mml1991.el, nnultimate.el: Add `coding'.

2001-12-17  Josh Huber  <huber@alum.wpi.edu>

	* ChangeLog: changed coding to buffer-file-coding-system
	* ChangeLog.1: same
	* nnwfm.el: same
	* gnus-smiley.el: same
	* gnus-cite.el: moved -*- magic cookie -*- to Local Variables
	* gnus-delay.el: same
	* gnus-spec.el: same
	* message.el: same
	* mml1991.el: same
	* nnultimate.el: same

2001-12-16  Simon Josefsson  <jas@extundo.com>
	Inspired by code by Dirk Meyer <dischi@tzi.de>.

	* gnus-sum.el (gnus-summary-muttprint-program): New variable.
	(gnus-summary-save-map): Add muttprint.
	(gnus-summary-make-menu-bar): Ditto.
	(gnus-summary-muttprint): New function.

	* gnus-art.el (gnus-summary-pipe-to-muttprint): New function.

2001-12-14 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* uudecode.el (uudecode-decode-region-internal): Speedup by using
	temporary list instead of buffer.

	* mm-url.el (executable-find): autoload.

2001-12-12  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-mlspl.el (gnus-group-split-fancy): Doc fix (add reference
	to variable, follow doc-string conventions).

2001-12-13  Josh Huber  <huber@alum.wpi.edu>

	* gnus-cus.el (gnus-extra-topic-parameters): added topic parameter
	subscribe-level
	* gnus-topic.el (gnus-subscribe-topics): use it.

2001-12-13 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-mail-forward): Forward all marked
	messages. (A small patch with indentation)
	From Sean Neakums <sneakums@zork.net>.

	* gnus-uu.el (gnus-uu-grab-articles): Set gnus-current-article to
	nil after shooting down the gnus-original-article-buffer.

2001-12-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* uudecode.el (uudecode-use-external): New variable.
	(uudecode-decode-region): Automatically detect external program.

	* binhex.el (binhex-use-external): New variable.
	(binhex-decode-region-internal): New function.
	(binhex-decode-region): Automatically detect external program.

	* mm-uu.el (mm-uu-decode-function,mm-uu-binhex-decode-function):
	Use them.

2001-12-12  Simon Josefsson  <jas@extundo.com>

	* nnvirtual.el (nnvirtual-always-rescan)
	(nnvirtual-component-regexp): Fix doc.

	* nnoo.el (defvoo): Add doc to defvoo variables.

	* nnml.el (nnml-directory, nnml-active-file)
	(nnml-newsgroups-file, nnml-get-new-mail, nnml-nov-is-evil)
	(nnml-marks-is-evil, nnml-filenames-are-evil)
	(nnml-prepare-save-mail-hook, nnml-inhibit-expiry): Fix doc.

	* nnmh.el (nnmh-directory, nnmh-get-new-mail)
	(nnmh-prepare-save-mail-hook, nnmh-be-safe): Fix doc.
	(nnmh-possibly-change-directory): Use `nnheader-report' instead of
	`error'.

	* nnmbox.el (nnmbox-mbox-file, nnmbox-active-file)
	(nnmbox-get-new-mail, nnmbox-prepare-save-mail-hook):

	* nnfolder.el (nnfolder-directory, nnfolder-active-file)
	(nnfolder-newsgroups-file, nnfolder-get-new-mail)
	(nnfolder-save-buffer-hook, nnfolder-inhibit-expiry)
	(nnfolder-nov-is-evil, nnfolder-marks-is-evil): Fix doc.

	* nnbabyl.el (nnbabyl-mbox-file, nnbabyl-active-file)
	(nnbabyl-get-new-mail, nnbabyl-prepare-save-mail-hook): Fix doc.

	* imap.el, nnimap.el: Fix indentation.

	* gnus-sieve.el (gnus-sieve-article-add-rule): Autoload it.

2001-12-12  Didier Verna  <didier@xemacs.org>

	* gnus-msg.el (gnus-group-news): New function.
	* gnus-group.el (gnus-group-mode-map): bind it to `i'.
	* gnus-group.el (gnus-group-make-menu-bar): add a menu item for it.
	* gnus-salt.el (gnus-carpal-group-buffer-buttons): add a button
	for it.
	* gnus-msg.el (gnus-summary-news-other-window): New function.
	* gnus-msg.el ((gnus-summary-send-map "S" gnus-summary-mode-map)):
	bind it to `i'.
	* gnus-sum.el (gnus-summary-mode-map): bind it to `i'.
	* gnus-sum.el (gnus-summary-make-menu-bar): add a menu item for it.
	* gnus-salt.el (gnus-carpal-summary-buffer-buttons): add a button
	for it (called with a prefix).
	* gnus-msg.el (gnus-configure-posting-styles): add an optional
	group-name argument.
	* gnus-msg.el (gnus-setup-message): use it.

2001-12-12 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Fix doc.

2001-12-10 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mime-to-mml): Remove Content-Disposition too.

2001-12-09 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-buffer-name): Decode group name.
	* gnus-group.el (gnus-group-name-decode): Decode unibyte
	strings only.
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>

2001-12-08  Nevin Kapur  <nevin@jhu.edu>

	* nnmail.el (nnmail-fancy-expiry-targets): New variable.
	(nnmail-fancy-expiry-target): Use it.
	Suggestions from Simon Josefsson <jas@extundo.com>.

2001-12-07 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Recount lines if not exist.

2001-12-07 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnwfm.el (nnwfm-create-mapping): Use gnus-url-unhex-string.

	* gnus-util.el (gnus-url-unhex-string): Move here.

2001-12-07 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-decode-entities-unibyte-string): Use
	mm-url-decode-entities-nbsp.

	* nnlistserv.el, nnultimate.el, nnwarchive.el, nnweb.el:
	* webmail.el, nnwfm.el: Use mm-url.

	* mm-url.el (mm-url-fetch-form): Move from nnweb.
	(mm-url-remove-markup): Move from nnweb.
	(mm-url-fetch-simple): Move from webmail.

	* nnslashdot.el (nnslashdot-request-post): Use mm-url-fetch-form.

2001-12-07 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-truncate-and-quote): New function.
	(gnus-summary-print-article): Use it.

	* gnus-util.el (gnus-replace-in-string): Typo.

2001-12-06 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-replace-in-string): Removed.

	* gnus-util.el (gnus-replace-in-string): New function.
	(gnus-mode-string-quote): Use it.

	* nnrss.el (nnrss-format-string): Use gnus-replace-in-string.
	* nnwfm.el (nnwfm-create-mapping): Ditto.

2001-12-06 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): nnrss.el and
	nnslashdot.el don't depend on nnweb, url, w3.

	* nnrss.el: Use mm-url.

2001-12-06 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el (mm-url-insert-file-contents): Support file:.

2001-12-05 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el: Lower case for the description line. Sync from the
	Emacs CVS.

2001-12-05 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-find-new-groups): Fix doc.
	From:  Stefan Monnier  <monnier@cs.yale.edu>

2001-12-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.wl (mm-inline-text): Decode a charset-encoded rich text.

2001-12-04 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el: Require executable.
	Suggested by Katsumi Yamaoka <yamaoka@jpl.org>.

2001-12-03 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-munge-message-separator): Only use valid date.
	Trivial patch from Michael Welsh Duggan <md5i@cs.cmu.edu>.

	* Makefile.in: gnus-load.elc may not be generated.

2001-12-03 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el: New file.
	* nnslashdot.el: Use it.
	* mm-extern.el (mm-extern-url): Use it.

2001-12-01 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-save-article): Nix
	gnus-display-mime-function and gnus-article-prepare-hook.

	* gnus-spec.el (gnus-parse-complex-format): Properly handle %C at
	the beginning of lines.
	(gnus-complex-form-to-spec): Ditto.

2001-12-01 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-mft): Fix the m-s-a-file regexp.
	From Paul Jarc <prj@po.cwru.edu>.

2001-11-30 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el: New variable message-subscribed-address-file;
	use it in message-make-mft.  From Paul Jarc <prj@po.cwru.edu>.

2001-11-30 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tab-body-function): Set to nil.
	(message-tab): Use text-mode-map or global-map.
	Suggested by Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>.

2001-11-30  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agent-fetch-headers): Use gnus-range-add
	instead of gnus-union, for speed.  Suggested by Christoph Conrad
	<christoph.conrad@gmx.de>.
	(gnus-agent-fetch-group-1): Add verbose message.

2001-11-29 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-write-active): Make sure sym is a cons
	of integers.

2001-11-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-newgroups-header-regexp)
	(message-completion-alist, message-tab-body-function): Use
	defcustom rather than defvar.
	(message-tab): Mention `message-tab-body-function' in doc.
	Suggested by Karl Eichwalder.

2001-11-28 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-save-article): Use #part instead of #mml.

2001-11-28 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-find-nov-line): Don't use macro
	gnus-delete-line.

	* gnus-group.el (gnus-group-name-decode): Defun instead of defsubst.
	(gnus-group-name-charset): Ditto.

	* gnus-util.el (gnus-buffer-live-p): Ditto.

2001-11-28 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* sieve-manage.el (sieve-manage-stream-alist): Backslash before
	open parenthesis in doc.
	(sieve-manage-authenticator-alist): Typo in doc.
	* imap.el (imap-authenticator-alist): Typo in doc.
	(imap-stream-alist): Backslash.

	* gnus-sum.el (gnus-summary-limit-to-author): Missing arguments.
	  Thanks to david.goldberg6@verizon.net (David S. Goldberg)

2001-11-27 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-mode): Add LOCAL for add-hook.

	* message.el (message-mode): make-local-hook is harmless in Emacs 21.

	* gnus-msg.el (gnus-configure-posting-styles): use
	make-local-hook. Add LOCAL for add-hook.

2001-11-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-mode): Use `make-local-hook' unless
	obsolete.
	Patch by Katsumi Yamaoka <yamaoka@jpl.org>.

2001-11-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el: Remove sha1.el and base64.el stuff.

2001-11-26  Didier Verna  <didier@xemacs.org>

	* nnmbox.el (nnmbox-create-mbox): create the mbox file directory
	if needed.

2001-11-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-tamago-not-in-use-p): New function.
	(message-strip-forbidden-properties): Use it.

2001-11-26  Didier Verna  <didier@xemacs.org>

	* gnus-start.el (gnus-check-first-time-used): only check for
	existence of .el[d] files.

2001-11-25 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-coding-system-priorities): Add backslash in the doc.

	* message.el (message-setup-1): Clean up mc-*.

2001-11-25 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-directory-sep-char-regexp): New variable.
	* gnus-score.el (gnus-score-find-bnews): Use it.

	* gnus-sum.el (gnus-summary-limit-to-subject): An exclusion version.
	(gnus-summary-limit-to-author): Ditto.
	(gnus-summary-limit-to-extra): Ditto.
	(gnus-summary-find-matching): Support not-matching argument.

2001-11-25  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-wash-subject): Use `insert' rather than
	`insert-string', which is deprecated.

2001-11-24  Simon Josefsson  <jas@extundo.com>

	* mm-encode.el (mm-encode-content-transfer-encoding): Fix error
	message. (Gnus does not "default" to using 8bit for the message,
	it default to use 8bit encoding and the user-supplied CTE
	value. Calling this behaviour "treating it as 8bit" is perhaps
	better.)

	* mm-bodies.el (mm-body-encoding): Intern encoding if needed
	(compare mm-charset-to-coding-system).

2001-11-23 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* canlock.el (canlock-sha1-with-openssl): Use unibyte
	buffer. Correctly decode hex.

2001-11-21 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-category-insert-line): Convert category
	names to strings.

2001-11-20 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (sha1): eval-and-compile.

2001-11-20  Simon Josefsson  <jas@extundo.com>

	* message.el (message-allow-no-recipients): New variable.
	(message-send): Use it, customize the prompting when posting to
	Gcc/Fcc alone.  From prj@po.cwru.edu (Paul Jarc).

2001-11-20 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-coding-system-priorities): New variable.
	(mm-sort-coding-systems-predicate): New function.
	(mm-find-mime-charset-region): Resort coding systems if needed.
	Suggested by Katsumi Yamaoka <yamaoka@jpl.org>.

2001-11-20  Didier Verna  <didier@xemacs.org>

	* gnus-group.el (gnus-group-make-help-group): new optional
	argument to control the error behavior.
	* gnus-start.el (gnus-check-first-time-used): use it to avoid
	erroring.

2001-11-19  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode-map): Use C-c C-f C-i for Importance:
	instead of C-c C-u.  Suggested by Per Abrahamsen
	<abraham@dina.kvl.dk>.

2001-11-18 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-read-folder): Use group instead of
	nnfolder-current-group.
	Suggested by Lorentey Karoly <lorentey@elte.hu>.

2001-11-17  Simon Josefsson  <jas@extundo.com>

	* message.el (message-send): Ask user if Fcc/Gcc should be
	performed when no other sender was specified.
	Suggested by prj@po.cwru.edu (Paul Jarc).

2001-11-17  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode, message-mode-map): Use C-c C-u for
	Importance: instead of C-c C-p (used by SC).

2001-11-16  Simon Josefsson  <jas@extundo.com>

	* message.el (message-insert-importance-high)
	(message-insert-importance-low): Save point.

	* mail-source.el (mail-source-fetch-imap): Fix BODY.PEEK return
	value.

2001-11-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-strip-special-text-properties): New option.
	(message-strip-forbidden-properties): Obey it.

2001-11-14  Sam Steingold  <sds@gnu.org>

	* gnus-score.el: Fixed some doc strings to properly quote symbols.

2001-11-15  Simon Josefsson  <jas@extundo.com>

	Support "Importance:" header in Message.

	* message.el (message-mode-map): Bind C-c C-p to
	`message-insert-or-toggle-importance'
	(message-mode-menu): Add message-insert-importance-{high,low}.
	(message-insert-importance-high, message-insert-importance-low)
	(message-insert-or-toggle-importance): New functions.
	(message-tool-bar-map): Add {un,}important.
	(message-mode): Doc fix.

2001-11-15  Simon Josefsson  <jas@extundo.com>

	* message.el (message-tool-bar-map): Fix attach toolbar tooltip.

	* mml.el (mml-menu): Fix toolbar tooltip.

2001-11-15 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-save-marks): gnus-prin1 takes one argument.
	* nnml.el (nnml-save-marks): Ditto.

	* gnus-sum.el (gnus-newsgroup-variables): Fix doc.

2001-11-15  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-save-marks):
	* nnfolder.el (nnfolder-save-marks): Use `gnus-prin1'.
	Suggested by Istvan Marko <mi-gnus@imarko.dhs.org>.

2001-11-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-article-wash-status-strings): Use
	`copy-sequence', not `copy-seq'.

2001-11-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-article-wash-status-strings): New constant.
	(gnus-gnus-article-wash-status-entry): New function.
	(gnus-article-wash-status): Use it.

2001-11-13 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml1991.el: Add coding header.

2001-11-12  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (mml1991-use, mml1991-function-alist): New variables.
	(mml1991-gpg-sign, mml1991-gpg-encrypt): Renamed, from
	`mml1991-sign' and `mml1991-encrypt'.
	(mml1991-encrypt, mml1991-sign): New glue functions.
	(mml1991-mailcrypt-sign, mml1991-mailcrypt-encrypt): New functions.

	* mml.el (mml-mode-map): `C-c RET o' map for PGP.
	(mml-menu): Add PGP to menu.

	* mml-sec.el (top-level): Require mml1991.  Don't require smime.
	(mml-sign-alist, mml-encrypt-alist): Add "pgp".
	(mml-pgp-sign-buffer, mml-pgp-encrypt-buffer)
	(mml-secure-sign-pgp, mml-secure-encrypt-pgp): New glue functions.

	* mml2015.el: Mention RFC 3156.

	* mml1991.el: New file.  From Sascha L,A|(Bdecke <sascha@meta-x.de>.

2001-11-12 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-auto-subscribed-groups): Use ^nnml.

	* gnus-sum.el (gnus-summary-move-article): Use number-to-string.
	  From <Michael.Cook@cisco.com>

2001-11-11  Simon Josefsson  <jas@extundo.com>

	* message.el (top-level): Autoload sha1.
	(message-canlock-generate): Use sha1 instead of md5 (sha1 used by
	canlock, no need to require two different hash algs).  Suggested
	by Ferenc Wagner <wferi@bolyai1.elte.hu>.

2001-11-09  Simon Josefsson  <jas@extundo.com>

	* gnus.el (gnus-local-domain): Fix doc.  From Pavel Jan,Am(Bk
	<Pavel@Janik.cz>.

2001-11-09  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-point-in-header-p): New function.
	(message-do-auto-fill): Use it.
	(message-beginning-of-line): New function.  Goes to beginning of
	header value (i.e., end of header name), or to beginning of line
	if already at beginning of value.  Behaves like
	`beginning-of-line' when in message body.
	(message-mode-map): Bind it.

2001-11-08  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-posting-styles): Add doc.

2001-11-07  Simon Josefsson  <jas@extundo.com>

	* gnus-sieve.el (gnus-sieve-generate): Don't invoke sieve-mode.

	* sieve-mode.el (sieve-control-commands-face)
	(sieve-control-commands-face, sieve-action-commands-face)
	(sieve-test-commands-face, sieve-tagged-arguments-face): New
	faces.
	(sieve-font-lock-keywords): Use them.
	(sieve-mode): Only set font-lock-defaults in emacs.

	* gnus-art.el (gnus-default-article-saver): Add
	gnus-summary-save-body-in-file.
	(gnus-summary-write-to-file): Fix doc.

2001-11-07  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-treat-highlight-signature): Add cross
	reference to the correct chapter in the manual.

	* mml.el (mml-mode): Add cross reference to Emacs MIME manual.
	Suggested by "Golubev I. N." <gin@mo.msk.ru>.

2001-11-07 06:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-preview): Bind mail-header-separator.

2001-11-07  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el: Always require canlock.
	(message-ignored-supersedes-headers): Include Cancel-Lock and
	Cancel-Key.
	(message-insert-canlock): Don't require canlock.
	(message-cancel-news): Don't check whether canlock is available.
	(message-supersede): Support cancel-locks.

	* gnus-art.el: Don't autoload canlock.

2001-11-06 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-imap): ASYNC param.
	From: <andre@slamdunknetworks.com>

2001-11-06 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* many files: Fix copyright lines.

2001-11-05 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Use mm-with-unibyte-current-buffer.
	Suggested by Dave Love  <fx@gnu.org>.

2001-11-04 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-kill-buffer): Remove auto-save file after
	confirm.

	* message.el (message-send-mail): Call message-generate-headers
	once.  Suggested by Matt Armstrong <matt@lickey.com>.

	* gnus-topic.el (gnus-topic-rename): Initial-input.
	Suggested by Katsuhiro Hermit Endo <hermit@koka-in.org>.

2001-11-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-forbidden-properties): New constant.
	(message-strip-forbidden-properties): New function.
	(message-mode): Activate it.

2001-11-02 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-15-compatible): Fix doc.
	(mm-hack-charsets): Fix doc.

2001-11-02  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-check-server): Message "...done" when done.

	* imap.el (imap-close): Don't message (imap-send-command-wait
	returns if the connection is dropped).
	(imap-wait-for-tag): Nix out message only when necessary.

	* gnus-sieve.el (gnus-sieve-script): Use "stop" instead of "elsif"
	for non-crossposting.
	(gnus-sieve-crosspost): Default to t to be consistent with other
	parts of Gnus.

2001-11-01 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-15-compatible): Add inconvertible chars.
	(mm-iso-8859-x-to-15-table): Ditto.
	(mm-iso-8859-x-to-15-region): Ditto.
	(mm-find-mime-charset-region): Ditto.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-close-asynchronous): New variable.
	(nnimap-close-group): Use it.
	(nnimap-expunge): Don't use it.

	* imap.el (imap-callbacks): New variable.
	(imap-remassoc): Copied from `gnus-remassoc'.
	(imap-add-callback): New function.
	(imap-mailbox-expunge, imap-mailbox-close): Support asynchronous
	behaviour.
	(imap-parse-response): Call the callback.

	* message.el (message-insert-canlock): New variable.
	(message-canlock-generate, message-canlock-password)
	(message-insert-canlock): New functions.
	(message-send-news): Call `message-insert-canlock'.
	(top-level): Require canlock when compiling.
	(message-insert-canlock): Require canlock before we need it.

2001-11-01 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-copy-article-buffer): Copy sequence.

2001-11-01 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-make-load): A workaround for
	custom-add-loads bug in some versions of XEmacs.

2001-11-01 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-synonym-alist): Revert (some).

2001-11-01 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-x-to-15-region): New function.
	(mm-hack-charsets): New variable.
	(mm-iso-8859-15-compatible): New variable.
	(mm-iso-8859-x-to-15-table): New variable.
	(mm-find-mime-charset-region): Add parameter hack-charsets.

	* mm-bodies.el (mm-encode-body): Use it.
	* mml.el (mml-parse-1): Ditto.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-make-menu-bar): Add Sieve.

2001-11-01 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-to-coding-system): Return nil, if charset
	is nil.

2001-11-01 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smiley-ems.el (smiley-update-cache): Auto detect file type.

	* message.el (message-forward-rmail-make-body): Use
	save-window-excursion.
	(message-encode-message-body): Search with noerror.
	(message-setup-1): Convert compose-mail send-actions to
	message-send-actions.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* sieve.el: Don't require easy-mmode. Suggested by Katsumi Yamaoka
	<yamaoka@jpl.org>.

2001-10-31 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* sieve-manage.el (sieve-string-bytes): No complain.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-mode-map): Bind "D u" to
	`gnus-sieve-update' and "D g" to `gnus-sieve-generate'. (Functions
	has autoload cookies, so no `require' should be necessary.)

	* sieve.el, sieve-mode.el, sieve-manage.el, gnus-sieve.el: New
	files.

2001-10-31  Simon Josefsson  <jas@extundo.com>

	* gnus-cus.el (gnus-group-parameters): Support integer `display'
	parameter.

	* gnus-sum.el (gnus-select-newsgroup): If group parameter
	`display' is a number (and C-u wasn't used to enter group), only
	fetch that number of articles.

2001-10-31  Matt Armstrong  <matt@lickey.com>

	* gnus.el (gnus-find-subscribed-addresses): Doc fix:
	not-subscribed -> subscribed.

2001-10-31 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From: Josh Huber <huber@alum.wpi.edu>

	* message.el (message-subscribed-address-functions): New variable.
	(message-subscribed-addresses): New variable.
	(message-subscribed-regexps): New variable.
	(message-goto-mail-followup-to): New function.
	(message-send-mail): Add Mail-Followup-To.
	(message-make-mft): New function.

	* gnus.el (gnus-find-subscribed-addresses): New function.

2001-10-31 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch): If debug, don't regain signals.
	(mail-source-fetch-pop): Ditto.
	(mail-source-check-pop): Ditto.

	* gnus-start.el (gnus-read-init-file): Ditto.
	(gnus-activate-group): Ditto.
	(gnus-read-newsrc-el-file): Ditto.

2001-10-30 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-get-reply-headers): Make sure there is ", ".

	* mm-util.el (mm-mime-mule-charset-alist): Move down and call
	mm-coding-system-p. Don't correct it only in XEmacs.
	(mm-charset-to-coding-system): Use mm-coding-system-p and
	mm-get-coding-system-list.
	(mm-emacs-mule, mm-mule4-p): New variables.
	(mm-enable-multibyte, mm-disable-multibyte,
	mm-enable-multibyte-mule4, mm-disable-multibyte-mule4,
	mm-with-unibyte-current-buffer,
	mm-with-unibyte-current-buffer-mule4): Use them.
	(mm-find-mime-charset-region): Treat iso-2022-jp.

	From  Dave Love  <fx@gnu.org>:

	* mm-util.el (mm-mime-mule-charset-alist): Make it correct by
	construction.
	(mm-charset-synonym-alist): Remove windows-125[02].  Make other
	entries conditional on not having a coding system defined for
	them.
	(mm-mule-charset-to-mime-charset): Use
	find-coding-systems-for-charsets if defined.
	(mm-charset-to-coding-system): Don't use
	mm-get-coding-system-list.  Look in mm-charset-synonym-alist
	later.  Add last resort search of coding systems.
	(mm-enable-multibyte-mule4, mm-disable-multibyte-mule4)
	(mm-with-unibyte-current-buffer-mule4): Just treat Mule 5 like
	Mule 4.
	(mm-find-mime-charset-region): Re-write.
	(mm-with-unibyte-current-buffer): Restore buffer as well as
	multibyteness.

2001-10-30 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* canlock.el, sha1-el.el, hex-util.el: Move from contrib
	directory. Thanks to Katsumi Yamaoka <yamaoka@jpl.org> and Shuhei
	KOBAYASHI <shuhei@aqua.ocn.ne.jp>.

2001-10-30 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-display-x-face): Nix buffer-read-only
	again.

	* mml2015.el (mml2015-gpg-verify): Convert <LF> to <CR><LF>.

2001-10-30 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-spec.el (gnus-parse-simple-format): Use
	  buffer-substring-no-properties.

2001-10-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-verify-cancel-lock): New function.

	* nnheader.el (nntp-process-response): New variable.
	(nnheader-init-server-buffer): Make `nntp-process-response'
	buffer-local in `nntp-server-buffer'.

	* nntp.el (nntp-prepare-post-hook): New hook.
	(nntp-wait-for): Save a server's ID in `nntp-process-response'.
	(nntp-async-trigger): Ditto.
	(nntp-request-post): Insert a server's ID if there's no Message-ID
	header; run `nntp-prepare-post-hook'.

2001-10-30 04:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-decode-group-name): Use nnmail-fetch-field
	instead.

	* message.el (message-forward-subject-author-subject): Don't use
	message-news-p, which widens the buffer.
	(message-forward-make-body): New function.
	(message-forward): Use it.
	(message-insinuate-rmail): New function.
	(message-forward-rmail-make-body): New function.

2001-10-30 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-extern.el (mm-extern): Provide it.

	* mm-partial.el (mm-partial): Provide it.

2001-10-28 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-setup-message): Call post-command-hook.

2001-10-29  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-preview): Bind message-this-is-news if it is
	news. From Jesper Harder <harder@myrealbox.com>.

2001-10-28  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-group-make-articles-read): Inline group.

2001-10-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* smiley-ems.el (smiley-regexp-alist): Add support for sad and
	ironic smilies.

2001-10-27  Simon Josefsson  <jas@extundo.com>

	* message.el (message-indent-citation): Don't add trailing
	whitespace when citing text.

	* gnus.el (gnus-group-faq-directory): Fix.  From Jesper Harder
	<harder@ifa.au.dk>.

2001-10-26 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-possibly-change-server): Create nnweb-hashtb if
	not available.
	(nnweb-request-scan): Nix nnweb-hashtb if ephemeral.
	(nnweb-type-definition): Add google as alias of dejanews.
	(nnweb-google-parse-1): Forward 1 line.

2001-10-26  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-summary-mail-forward): Doc fix: add pointer to
	variable `message-forward-ignored-headers'.

2001-10-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-expand-group-parameter): New function.
	(gnus-expand-group-parameters): Call it.
	(gnus-group-fast-parameter): New function.
	(gnus-group-find-parameter): Call it.

2001-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-news-group-p): Rewrote.  Now accepts a header
	vector (it didn't before because of a bug).
	* gnus-msg.el (gnus-post-news): Use header vector directly, if
	available.  Before it converted it to an article number.

	This makes followup to news articles with negative numbers in
	nnvirtual groups use news instead of mail.

2001-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (post-method): Use `native' instead of `nil'.

	* gnus-msg.el (gnus-post-method): Ditto.

2001-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-define-group-parameter): Grammar fix.

2001-10-22  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-extended-version): Include
	system-configuration.
	Suggested by Kai.Grossjohann@CS.Uni-Dortmund.DE (Kai Gro,b_(Bjohann).

2001-10-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (post-method): Customization fix: `native' is not a
	valid value.
	* gnus-msg.el (gnus-post-method): Doc and customization fix:
	`native' is not a valid value.

2001-10-21  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap): Defgroup
	(nnimap-strict-function, nnimap-strict-function-match): New
	widget, from Per Abrahamsen  <abraham@dina.kvl.dk>.
	(nnimap-split-crosspost, nnimap-split-inbox)
	(nnimap-split-rule, nnimap-split-predicate)
	(nnimap-split-predicate): Defcustom.
	(nnimap-split-inbox, nnimap-expunge-search-string)
	(nnimap-importantize-dormant): Remove "*" from doc.

2001-10-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-summary-limit-to-score): Prompt for score if
	not supplied via prefix arg.  From Lisp, make arg mandatory.
	Suggested by Frank Schmitt.

2001-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-do-auto-fill): Avoid calling
	'rfc822-goto-eoh'.

2001-10-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Paul Jarc <prj@po.cwru.edu>.

	* message.el (message-get-reply-headers): Restructure the logic
	and add comments.  From Paul Jarc <prj@po.cwru.edu>.

2001-10-20  Simon Josefsson  <jas@extundo.com>

	* message.el (message-cancel-news): Support cancel-locks.
	Suggested by Per Abrahamsson.

	* nnml.el (nnml-marks-changed-p): Use `equal' when comparing
	conses.  From David Z Maze <dmaze@MIT.EDU>.

	* nnfolder.el (nnfolder-marks-changed-p): Ditto.

2001-10-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mm-decode.el (mm-default-directory): Fix customize type.

	* message.el (message-setup-fill-variables): Kludge to use
	normal-auto-fill-function even if auto fill is already activated.

2001-10-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-do-auto-fill): New version that does not
	rely on text properties, by Simon Josefsson <jas@extundo.com>.
	(message-setup-1): Removed the `message-field' property.

	* gnus-draft.el (gnus-draft-edit-message): Removed the
	`message-field' property.

2001-10-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-draft.el (gnus-draft-edit-message): Change `field' to
	`message-field'.  The `field' property has a special significance in
	Emacs 21.

	* message.el (message-send, message-setup-1): Ditto.

2001-10-18  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-group-make-articles-read): Call g-r-set-mark
	when undoing.

2001-10-18  Simon Josefsson  <jas@extundo.com>
	From Frank Schmitt <usereplyto@Frank-Schmitt.net>

	* gnus-sum.el (gnus-summary-limit-to-display-predicate): Fix typo.
	(gnus-summary-make-menu-bar): Ditto.

2001-10-17  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-expiry-target): Make sure it is back to the
	server. Suggested by ShengHuo ZHU <zsh@cs.rochester.edu>.

2001-10-17 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-line-format-alist): user-date entry.
	* gnus-util.el (gnus-user-date): New function.
	From Frank Schmitt <usenet@Frank-Schmitt.net>.

2001-10-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-check-news-header-syntax): Special case
	nnvirtual groups.

	* gnus-sum.el (gnus-summary-respool-default-method): Changed
	customize type to `symbol'.

2001-10-17 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-spec.el (gnus-parse-simple-format): Support extended spec
	%&foo;.
	(gnus-parse-simple-format): Support user extended spec too.
	%u&foo; invokes gnus-user-format-function-foo.

2001-10-17 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-request-expire-articles): Make sure it is back to
	the server.
	* nnmbox.el (nnmbox-request-expire-articles): Ditto.
	* nnfolder.el (nnfolder-request-expire-articles): Ditto.
	* nnbabyl.el (nnbabyl-request-expire-articles): Ditto.
	* nndiary.el (nndiary-request-expire-articles): Ditto.
	(nndiary-schedule): Defsubst it before use it.
	(nndiary-error): eval-and-compile.

2001-10-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-msg.el (gnus-post-method): Changed two instances of
	`active' to `current' and one `null' to `not'.

2001-10-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Katsumi Yamaoka <yamaoka@jpl.org>.

	* message.el (message-setup-fill-variables): Use
	`normal-auto-fill-function' instead of `auto-fill-function'.

2001-10-16  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-fix-micalg): Fix for Mutt-bug.
	(mml2015-gpg-decrypt-1): Decanonicalize decrypted MIME
	body. (Mailcrypt seem to do this, but gpg.el doesn't.)

2001-10-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	Patch by Oliver Scholz <oscholz@my.gnus.org>.

	* gnus-draft.el (gnus-draft-edit-message): Add text property
	`field' with value `header' to message headers.
	* message.el (message-setup-1): Really add text property to all of
	the header, not just part of it.

2001-09-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-sort-by-server): Use it.

	* gnus.el (gnus-method-to-full-server-name): New, bogus function.

	* gnus-topic.el (gnus-topic-sort-groups-by-server): New command
	and keystroke.

2001-10-14  Simon Josefsson  <jas@extundo.com>

	* dig.el: Doc fix.

	* smime.el: Doc fix.

	* gnus-msg.el (gnus-inews-do-gcc): Port header encoded-word
	charset magic from message.el.

2001-10-12  Simon Josefsson  <jas@extundo.com>
	Suggested by david.goldberg6@verizon.net (David S. Goldberg)

	* gnus-cite.el (gnus-article-toggle-cited-text): Don't remove
	'cite from g-a-wash-types.
	(gnus-cite-toggle): Ditto.  Add 'cite.  Set modeline.
	(gnus-article-hide-citation): Fix.

	* gnus-cite.el (gnus-article-hide-citation): Add `c' mode line
	character.
	(gnus-article-toggle-cited-text): Toggle `c' mode line character.

	* gnus-art.el (gnus-treat-hide-citation-maybe): Remove duplicate
	definition.
	(gnus-signature-toggle): Toggle `s' mode line character.

	* gnus-art.el (article-emphasize): Set `g-a-wash-types' after
	doing stuff that clears it.

2001-10-12  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-summary-limit-include-cached): Rewrite.
	From Eric Marsden <emarsden@laas.fr>.

2001-10-12 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-do-auto-fill): Use gnus-point-at-bol.
	(autoload): Add some autoloads.

2001-10-12  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	Suggested by Oliver Scholz <epameinondas@gmx.de>.

	* message.el (message-do-auto-fill): New function.  Like
	`do-auto-fill' but don't fill when in the message header.
	(message-setup-1): Put a text property on the message header.
	(message-setup-fill-variables): Use `message-do-auto-fill'.

2001-10-10 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-partially): Insert an empty line
	first, because of the change of message-make-lines.

2001-10-10  Florian Weimer  <fw@deneb.enyo.de>

	* mm-util.el (mm-charset-synonym-alist): If Emacs doesn't support
	iso-8859-15, make it an alias for iso-8859-1.

2001-10-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-send-news): Don't modify the value of
	`message-syntax-checks' if it is not a list (possibly it is
	`dont-check-for-anything-just-trust-me').

2001-10-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el (gnus-group-name-charset-group-alist): Use
	`find-coding-system' for XEmacs to check whether the coding-system
	`utf-8' is available.

2001-10-09 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): Detect mh-e and xml.

2001-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-send-news): Oops, missed case with no
	"Followup-To" header...

2001-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-send-news): Allow
	`gnus-group-name-charset-group-alist' to affect encoding of the
	"Newsgroups" and "Followup-To" headers.

2001-10-07 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in (install-el): Depend on gnus-load.el.

2001-10-07 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in (install-el): Use -f.
	From: Amos Gouaux <amos+lists.ding@utdallas.edu>

2001-10-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-send-news): Don't encode Followups-To when
	`gnus-group-name-charset-group-alist is' ".*".  [Yuck]

	* gnus-util.el (gnus-decode-newsgroups): No space in newsgroup
	header.

	* gnus-art.el (article-decode-group-name): Also decode
	"Followup-To".

	* rfc2047.el (rfc2047-encode-message-header): Encode without
	asking for null methods.

	* gnus-group.el (gnus-group-name-charset-group-alist): Make utf-8
	default charset for newsgroup names in accordance with USEFOR.

	* gnus-group.el (gnus-group-name-charset-method-alist,
	gnus-group-name-charset-group-alist): Removed "*" from doc
	strings, "*" should not be used for complex variables.

2001-10-06  Simon Josefsson  <jas@extundo.com>

	Support UTF-8 group names better.

	* message.el (message-check-news-header-syntax): Encode group
	names before comparison.

	* gnus-msg.el (gnus-copy-article-buffer): Run all
	`gnus-article-decode-hook's except `article-decode-charset'
	instead of hardcoding call to one of them.

	* gnus-art.el (gnus-article-decode-hook): Add
	`article-decode-group-name'.
	(article-decode-group-name): New function, use `g-d-n'.

	* gnus-group.el (gnus-group-insert-group-line): Decode
	gnus-tmp-group using `g-d-n'.

	* gnus-util.el (gnus-decode-newsgroups): New function.

2001-10-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-srvr.el (gnus-browse-foreign-server): Fixed bug non-nil
	`gnus-group-name-charset-group-alist'.

2001-10-06 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in: Install el in install. Add uninstall.

2001-10-05  Simon Josefsson  <jas@extundo.com>

	* nnheader.el (gnus-verbose-backends, gnus-nov-is-evil): Custom.

	* gnus-sum.el (gnus-summary-move-article): Also activate new groups.

	* nnfolder.el (nnfolder-normalize-buffer): Don't insert \n\n in
	empty folders.

	* gnus-sum.el (gnus-select-newsgroup): Don't enable `display'
	limiting if read-all (C-u RET) was used.

2001-10-04  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (mail-source-movemail-program): New variable.
	(mail-source-movemail): Use it.  Suggested by Taylor Hutt
	<thutt@thutt.vmware.com>.

2001-10-03  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): New param.
	(gnus-summary-line-format-alist): Fix param.

2001-10-02  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-request-move-article): Use imap.el directly,
	don't go through `nnimap-request-expire-articles' to delete the
	article.  Thanks to prj@po.cwru.edu (Paul Jarc).

2001-10-02 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-write-active): The min in the
	agent/active may be larger than that in the server/active.

2001-10-01  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (mail-source-fetch-imap): Use BODY.PEEK if server
	is IMAP4rev1.

	* nnml.el (gnus-article-unpropagatable-p): Autoload gnus-sum.

	* nnfolder.el: Ditto.

2001-09-30  Dan Christensen  <jdc@uwo.ca>

	* gnus-sum.el (gnus-summary-extract-address-component): New function.
	(gnus-summary-from-or-to-or-newsgroups): Optimize.

2001-09-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-mode-map): Keybinding for `gnus-delay-article'.
	(message-mode-menu): Menu item for same.

	* gnus-group.el (gnus-group-make-menu-bar): Menu item for sending
	delayed articles.

	* gnus-delay.el (gnus-delay-send-drafts): Do nothing if
	nndraft:delayed does not exist.
	(gnus-delay-initialize): Don't set up keymap, that's done from
	message.el now.
	(gnus-delay, gnus-delay-group, gnus-delay-header)
	(gnus-delay-default-delay, gnus-delay-default-hour): Customize.

2001-09-29  Simon Josefsson  <jas@extundo.com>

	* mm-util.el (mm-mime-mule-charset-alist): Encode mule-utf-8 as
	utf-8, not eight-bit-control.

	* imap.el (imap-shell-host, imap-default-user, imap-use-utf7)
	(imap-log, imap-debug): Custom.
	(imap-log-buffer, imap-debug-buffer): New constants.
	(imap-kerberos4-open, imap-gssapi-open, imap-ssl-open)
	(imap-network-open, imap-shell-open, imap-starttls-open)
	(imap-send-command-1, imap-send-command, imap-arrival-filter)
	(imap-debug): Use imap-*-buffer.

	* nndoc.el (nndoc-article-type): Add mailman.
	(nndoc-type-alist): Ditto.
	(nndoc-mailman-type-p): New function.

2001-09-28 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-article-x-face-command): Merge it into
	gnus-art.el.

2001-09-27  Simon Josefsson  <jas@extundo.com>

	* gnus-topic.el (gnus-topic-mode-map): Add catchup.
	(gnus-topic-catchup-articles): New function. Suggested by Robin
	S. Socha <robin-dated-1001857693.185e29@socha.net>.

2001-09-27 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Gerd M,Av(Bllmann <gerd@gnu.org>.

	* gnus-ems.el (gnus-article-display-xface): Insert xface after
	previous ones.

2001-09-27 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Daiki Ueno  <ueno@unixuser.org>

	* gnus-sum.el (gnus-summary-show-article): The arglist of
	detect-coding-region is incompatible.

2001-09-26 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Katsuhiro Hermit Endo <hermit@koka-in.org>

	* gnus-group.el (gnus-group-delete-group): Typo.

2001-09-26  Simon Josefsson  <jas@extundo.com>

	* nnmail.el (nnmail-expiry-target-group): Add doc warning.

	* nnimap.el (nnimap-expiry-target): Use temp buffer.

2001-09-26 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cus.el (gnus-group-parameters): Display as sexp.

2001-09-22  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-open-marks): Remove unpropagatable marks.

	* nnfolder.el (nnfolder-open-marks): Ditto.

	* gnus-sum.el (gnus-article-unpropagatable-p): New function.
	(gnus-update-marks): Use it.
	(gnus-update-marks): Use `gnus-article-mark-to-type' instead of
	hardcoded list.

	* gnus.el (gnus-article-special-mark-lists): Add killed.
	(gnus-article-unpropagated-mark-lists): New constant.

2001-09-22  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-mode-hook): Add gnus-pick-mode as
	custom option.

2001-09-23  Simon Josefsson  <jas@extundo.com>

	* gnus-draft.el (gnus-draft-setup): Add mark in backend as well.

2001-09-23 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-button-mailto): Hack save-selected-window-window.

2001-09-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-group.el (gnus-group-sort-function): Fix customize type to
	accept lists of functions.

2001-09-20  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-catchup): Update expire marks in
	backend.  Also, if ALL also set expire marks on tick/dormant.

2001-09-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-tab-body-function): New variable.
	* message.el (message-tab): Use it.

2001-09-19  Sam Steingold  <sds@gnu.org>

	* gnus-win.el (gnus-buffer-configuration): Respect
	`gnus-bug-create-help-buffer'.

2001-09-18  Simon Josefsson  <jas@extundo.com>

	* gnus-spec.el (gnus-correct-pad-form): Re-revert.
	(gnus-parse-simple-format): Re-revert.

2001-09-16  Katsuhiro Hermit Endo  <hermit@koka-in.org>

	* gnus-spec.el (gnus-parse-complex-format): Don't fold search
	case.  (Thanks to Daiki Ueno <ueno@unixuser.org>.)

2001-09-18  Simon Josefsson  <jas@extundo.com>

	* gnus-spec.el (gnus-correct-pad-form): Remove until papers are
	signed.
	(gnus-parse-simple-format): Don't use it.

2001-09-17  Miles Bader  <miles@gnu.org>

	* gnus-srvr.el (gnus-server-insert-server-line): Don't let an
	error querying a backend abort the whole process.

2001-09-17 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-server-mode): Fix bogus fontification.
	From Gerd M,Av(Bllmann <gerd@gnu.org>.

2001-09-17  Didier Verna  <didier@xemacs.org>

	* nndiary.el: version 0.2-b14.
	* gnus-diary.el (gnus-diary-check-message): fix `read-string'
	compatibility problem with XEmacs 21.1.

2001-09-15  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-line-format): Document %c.

	* nnml.el (nnml-parse-head): Handle CRLF files.
	(nnml-generate-nov-file): Ditto.
	(nnml-retrieve-headers): Ditto.

2001-09-15  Michael Welsh Duggan  <md5i@cs.cmu.edu>

	* gnus-spec.el (gnus-parse-format): Don't treat %c as %C.

2001-09-13  Martin Kretzschmar  <Martin.Kretzschmar@inf.tu-dresden.de>

	* gnus-spec.el (gnus-correct-substring): Still stopped one
	character before we wanted (never included last character).
	(gnus-tilde-max-form, gnus-tilde-cut-form) Made readable again,
	add missing "," (once per function)

2001-09-14  Simon Josefsson  <jas@extundo.com>

	* gnus-start.el (gnus-group-mode-hook): Moved from gnus-group
	(otherwise e.g. gnus-agentize in .gnus overrides the customized
	default before gnus-group is loaded and the variable set.)

	* nnimap.el (nnimap-request-set-mark): Do not store bookmark,
	killed or unsent marks.

	* gnus-draft.el (gnus-draft-setup): Don't set mark when there
	isn't an article to set it on (e.g. when you `a' in a group).

2001-09-12  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* mm-util.el (mm-charset-synonym-alist): add windows-1250 so we
	can read e-mails from Microsoft Outlook users not using ISO
	8859-2 character set.

2001-09-12 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-diary.el: Minor modifications to avoid warnings.
	(gnus-summary-misc-menu): defvar.
	(gnus-diary-check-message): Use gnus-point-at-eol.
	(gnus-diary-kill-entire-line): eval-and-compile.

2001-09-12  Didier Verna  <didier@xemacs.org>

	* nndiary.el: new version (0.2-b13).
	* nndiary.el (nndiary-mail-sources): doc update.
	* nndiary.el (nndiary-split-methods): ditto.
	* nndiary.el (nndiary-request-accept-article-hooks): New.
	* nndiary.el (nndiary-request-accept-article): use it, check
	message validity.
	* nndiary.el (nndiary-get-new-mail): changed default to nil.
	* nndiary.el (nndiary-schedule): fix bug (misplaced
	condition-case): it didn't return nil on error.
	* gnus-diary.el: new version.
	* gnus-diary.el (gnus-diary-summary-line-format): removed %I.
	* gnus-diary.el (gnus-diary-header-value-history): New.
	* gnus-diary.el (gnus-diary-narrow-to-headers): New.
	* gnus-diary.el (gnus-diary-add-header): New.
	* gnus-diary.el (gnus-diary-check-message): New.
	* gnus-diary.el (message-mode-map): bind the above to `C-c D c'.
	* gnus-diary.el (gnus-article-edit-mode-map): ditto.

2001-09-10 TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-sum.el (gnus-select-newsgroup): Make
	`gnus-current-select-method' buffer-local.

	* gnus-art.el (gnus-request-article-this-buffer): Refer
	`gnus-current-select-method' in the current summary buffer.

2001-09-10  Simon Josefsson  <jas@extundo.com>
	From Daniel Pittman <daniel@rimspace.net>

	* gnus-spec.el (gnus-correct-pad-form): Fix.

2001-09-09  Simon Josefsson  <jas@extundo.com>

	* mm-decode.el (mm-inline-media-tests): Add
	application/x-emacs-lisp.
	(mm-attachment-override-types): Add
	application/{x-,}pkcs7-signature.

	* gnus-srvr.el (gnus-server-mode-hook, gnus-server-exit-hook)
	(gnus-server-line-format, gnus-server-mode-line-format)
	(gnus-server-browse-in-group-buffer): Customize.

2001-09-08 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-marks-changed-p): Typo.
	(nnml-save-marks, nnml-open-marks): Use gnus-sethash.
	(nnml-marks-changed-p): Use gnus-gethash.
	(nnml-marks-modtime): Use gnus-make-hashtable.

	* nnfolder.el (nnfolder-marks-changed-p): Typo.
	(nnfolder-request-expire-articles, nnfolder-save-marks)
	(nnfolder-open-marks): Typo.
	(nnfolder-save-marks, nnfolder-open-marks): Use gnus-sethash.
	(nnfolder-marks-changed-p): Use gnus-gethash.
	(nnfolder-marks-modtime): Use gnus-make-hashtable.

2001-09-08  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-marks-modtime): New variable.
	(nnfolder-marks-changed-p): New function.
	(nnfolder-save-marks, nnfolder-open-marks): Save modtime.
	(nnfolder-request-update-info): Don't update if marks didn't change.

	* nnml.el (nnml-marks-modtime): New variable.
	(nnml-marks-changed-p): New function.
	(nnml-save-marks, nnml-open-marks): Save modtime.
	(nnml-request-update-info): Don't update if marks didn't change.

	* gnus-agent.el (gnus-agent-any-covered-gcc)
	(gnus-agent-add-server, gnus-agent-remove-server): Use
	gnus-agent-method-p.

	* gnus-art.el (gnus-buttonized-mime-types): New variable.
	(gnus-unbuttonized-mime-type-p): Use it.

	* gnus-agent.el (gnus-agent-fetch-group): If online, actually
	fetch group.

2001-09-08  Simon Josefsson  <jas@extundo.com>
	From Daniel Pittman <daniel@rimspace.net>

	* gnus-spec.el (gnus-correct-pad-form): New function.
	(gnus-parse-simple-format): Use it.

2001-09-07  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-sort-groups): Unmark all groups.
	(gnus-group-sort-selected-groups): Ditto.  Suggested by Harry
	Putnam <reader@newsguy.com>.
	(gnus-group-sort-selected-groups): Touch dribble file.

2001-09-07 Raja R Harinath  <harinath@cs.umn.edu>

	* nnml.el (nnml-filenames-are-evil): New variable.
	(nnml-article-to-file-alist): Rename to ...
	(nnml-current-group-article-to-file-alist): ... this.
	Respect `nnml-filenames-are-evil'.
	(nnml-active-number): Update.
	(nnml-update-file-alist): Update.
	(nnml-request-article): Use nnheader-article-to-file-alist.
	(nnml-request-rename-group): Likewise.

2001-09-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-insert-line): Fix.

2001-09-06  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* gnus-sum.el: Bind g-s-t-s to "W g".
	* gnus-sum.el (gnus-summary-make-menu-bar): Add g-s-t-s.
	* gnus-sum.el (gnus-summary-toggle-smiley): New function. Toggles
	display of graphical smilies.

2001-09-07 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-setup-news): A typo.
	From Bill White <billw@wolfram.com>.

2001-09-06  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-insert-line): Insert forwarded, recent
	and unseen marks.

2001-09-05  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-split-fancy): Document `junk'.

2001-09-04  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-search): Don't error if server is broken.

2001-09-02  Benjamin Rutt  <brutt@bloomington.in.us>

	* nnmbox.el (nnmbox-find-article): Fix infinite loop when
	searching for an article that isn't in the mbox.

2001-09-02 23:12:48  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-retrieve-headers-1): Get references
	right, and get all the comments.

2001-09-02  Simon Josefsson  <jas@extundo.com>
	Suggested by Dan Christensen <jdc+news@uwo.ca>

	* nnfolder.el (nnfolder-request-update-info): Fix message.

	* nnml.el (nnml-request-update-info): Ditto.

2001-09-01  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-expire-articles): Also bind
	`nnml-current-group' and `nnml-article-file-alist' when using
	expiry-target. (Otherwise nnml will be in a inconsistent internal
	state causing all kind of problems.)
	(nnml-request-expire-articles): If `nnml-article-to-file' or
	`file-attributes' failes, return article as un-expirable instead
	of treating it as expired.

2001-08-31  Sam Steingold  <sds@gnu.org>

	* imap.el (imap-mailbox-examine, imap-mailbox-examine-1): Fix a
	typo: `exmine' --> `examine'.

2001-08-30 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-forward-type-p): It is not a digest.

2001-08-30 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-check-directory-twice): Remove.
	(nnml-retrieve-headers): Ditto.
	(nnml-article-to-file): Use nnheader-directory-files-is-safe.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* nnheader.el (nnheader-directory-files-is-safe): No need to read
	directory twice on Windows, or on GNU Emacs-21.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* nnml.el (nnml-request-article): Use nnml-article-to-file-alist.
	(nnml-request-rename-group): Ditto.
	(nnml-active-number): Ditto.
	(nnml-request-create-group): Use nnml-directory-articles.
	(nnml-request-expire-articles): Use nnml-directory-articles, which
	gets list from nov database if available.
	(nnml-get-nov-buffer): New function.
	(nnml-open-nov): Use it.
	(nnml-update-file-alist): Use nnml-article-to-file-alist, which
	gets alist from nov database if available.
	(nnml-directory-articles): New function.
	(nnml-article-to-file-alist): New function.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* mm-decode.el (mm-display-external): Use `name' as filename, if
	`filename' attribute is not present.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* mail-source.el (mail-source-flash): New defcustom.
	(mail-source-new-mail-p): Ring visible bell if appropriate.
	(mail-source-start-idle-timer): Use unwind-protect to ensure idle
	timer is cleared even if mail check signals an error.

2001-08-29 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-move-article): Only update marks of
	type 'list.

2001-08-29 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* flow-fill.el (fill-flowed): eol might be point-max.

2001-08-27  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-update-info): Fix message.
	(nnml-open-marks): Ditto.

	* nnfolder.el (nnfolder-request-update-info):
	(nnfolder-open-marks): Fix message.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-save-marks): Don't create directory named
	after group in ~/.

2001-08-25  Simon Josefsson  <jas@extundo.com>
	From Andreas Jaeger  <aj@suse.de>

	* nnfolder.el (nnfolder-open-marks): Fix typo.
	* nnml.el (nnml-open-marks): Likewise.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	Make nnfolder groups self-contained as far as marks are concerned.

	* nnfolder.el (nnfolder-marks-directory, nnfolder-marks-is-evil)
	(nnfolder-marks, nnfolder-marks-file-suffix): New variables.
	(nnfolder-open-server): Make marks directory.
	(nnfolder-request-delete-group): Delete marks file.
	(nnfolder-request-delete-group): Check of nov/marks file exist
	before deleting.
	(nnfolder-request-rename-group): Rename marks file.
	(nnfolder-request-rename-group): Only rename nov/mark if they exists.
	(nnfolder-request-set-mark, nnfolder-request-update-info)
	(nnfolder-group-marks-pathname, nnfolder-save-marks)
	(nnfolder-open-marks): New functions.
	(top-level): Require gnus.

2001-08-25 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-type-definition): Use google raw file.
	(nnweb-google-parse-1): Ditto.
	(nnweb-google-identity): Ditto.
	(nnweb-reference-wash-article): Move nnweb-decode-entities here.
	(nnweb-altavista-wash-article): Ditto.
	(nnweb-request-article): Remove nnweb-decode-entities.

	* nnml.el: Require 'gnus.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-marks-is-evil): Add doc.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-save-marks): Wrap saving marks in a
	condition-case, to allow user to start Gnus if saving marks failed
	for some reason.

2001-08-24 16:05:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el (gnus-compile): Don't compile gnus-version.

	* gnus-group.el (gnus-update-group-mark-positions): Bind
	gnus-group-update-hook to nil.

2001-08-24 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Force as multibyte string.

2001-08-24 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-insert-line)
	(gnus-summary-prepare-threads): gnus-tmp-lines should be a string.
	From Martin Kretzschmar <Martin.Kretzschmar@inf.tu-dresden.de>

	* gnus-spec.el (gnus-correct-substring): Take optional END.

	* nnrss.el (nnrss-request-article): Remove \n.
	(nnrss-retrieve-headers): Lines number is -1.

2001-08-24  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-info-clear-data): Call
	nnfoo-request-set-mark to propagate marks.  Fix bug:
	`gnus-group-update-line' doesn't update read range unless we call
	`gnus-get-unread-articles-in-group' first.

	* nnimap.el (nnimap-request-set-mark): Don't propagate seen flags
	to server.

2001-08-23 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-create-info-command): Return an interactive
	function.

2001-08-23 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Katsumi Yamaoka <yamaoka@jpl.org>

	* gnus-spec.el (gnus-parse-complex-format): Use equal.

2001-08-23 18:43:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-select-newsgroup): Use it.

	* gnus-util.el (gnus-not-ignore): New function.

	* lpath.el (featurep): Don't fbind char-int.

	* gnus-util.el (gnus-create-info-command): New function.

	* gnus-group.el (gnus-group-edit-group): Make C-c C-i go to the
	right node.

	* gnus-sum.el (gnus-select-newsgroup): Clean up.
	(gnus-summary-limit-children): Use 'identity instead of `all'.
	(gnus-summary-limit-to-display-predicate): New command and
	keystroke.

2001-08-23 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-group-alist): Use fm-releases.rdf.

	* gnus-spec.el (gnus-format-specs): Miss a right parenthesis.

2001-08-23 18:43:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el: Add the Gnus version.
	(gnus-update-format-specifications): If the Gnus version changes,
	nix out the format spec cache.

	* gnus.el (gnus-continuum-version): Made into a command and
	optionalize the VERSION.

	* gnus-spec.el (gnus-parse-complex-format): Remove %C specs from
	the start of the lines.

2001-08-22 00:06:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-visual-p): Define function before use of
	function.

2001-08-21 23:28:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-adjust-marked-articles): Use new variable.
	(gnus-article-mark-to-type): New function.
	(gnus-update-missing-marks): Only update marks of type 'list.

	* gnus.el (gnus-article-special-mark-lists): New variable.

2001-08-21 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-limit-children): Check 'all.
	(gnus-select-newsgroup): Still use 'all.
	(gnus-summary-initial-limit): Comparing with 'all.

2001-08-20 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-activate-group): If dont-check, don't update
	active.

2001-08-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-retrieve-headers-1): Replace
	nnslashdot-*-retrieve-headers.
	(nnslashdot-request-article): Fix for slashcode 2.2.
	(nnslashdot-make-tuple): New function.
	(nnslashdot-read-groups): Use it.

2001-08-20 01:34:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-expand-group-parameters): Don't alter the variable
	list.

	* gnus-sum.el (gnus-summary-move-article): Don't select article.

2001-08-20  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-inews-do-gcc): If archive server can't be
	opened, error instead of continuing (and exploding later).

2001-08-20 01:34:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-expand-group-parameters): Return the parameter
	list.

	* gnus-sum.el (gnus-summary-show-article): Doc fix.
	(gnus-summary-show-article): Guess at charset if required.

	* gnus-spec.el (gnus-correct-substring): Stopped one character
	before we wanted.

2001-08-19  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* earcon.el (earcon-auto-play): Remove unused option.

2001-08-19 16:14:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-headers): Move the "Scoring..."
	message down in levels, since it happens very fast.

	* smiley-ems.el (smiley-update-cache): Respect the symbol version
	of smiley-regexp-alist.

	* mm-view.el (mm-inline-text): Ignore vcard errors.

	* gnus-art.el (gnus-ignored-headers): Added more junk headers.

	* gnus-score.el (gnus-all-score-files): Use append instead of
	nconc.

	* gnus.el (gnus-splash-face): Doc fix.

	* mm-decode.el (mm-mailcap-command): Use
	mm-path-name-rewrite-functions.
	(mm-path-name-rewrite-functions): New variable.

	* gnus-spec.el (gnus-parse-complex-format): React to ?=.
	(gnus-complex-form-to-spec): Insert tab.
	(gnus-spec-tab): New function.

	* gnus-sum.el (gnus-select-newsgroup): Set the marks before
	entering the group.

	* gnus-spec.el (gnus-complex-form-to-spec): Insert Lisp to match
	the positional spec.
	(gnus-parse-complex-format): React to %C.

	* gnus-ems.el (gnus-char-width): Moved here.

	* gnus-sum.el (gnus-select-newsgroup): Set
	gnus-newsgroup-articles.
	(gnus-unseen-mark): New variable.
	(gnus-newsgroup-unseen): Ditto.
	(gnus-newsgroup-seen): Ditto.
	(gnus-adjust-marked-articles): Use them.
	(gnus-update-marks): Use them.
	(gnus-summary-update-secondary-mark): Display.
	(gnus-summary-prepare-threads): Display.

	* gnus-msg.el (gnus-inews-group-method): Use and return the
	method, not the server.

2001-08-19  Simon Josefsson  <jas@extundo.com>

	* gnus-srvr.el (gnus-server-agent-face): New.
	(gnus-server-agent-face): New.
	(gnus-server-mode): Turn on font-lock-mode.

	* gnus.el (gnus-server-visual): Add defgroup.

2001-08-19  Simon Josefsson  <jas@extundo.com>
	From Joe Casadonte <jcasadonte@northbound-train.com>

	* gnus-srvr.el (gnus-server-opened-face, gnus-server-closed-face,
	gnus-server-denied-face): New.
	(gnus-server-opened-face, gnus-server-closed-face,
	gnus-server-denied-face): New.
	(gnus-server-font-lock-keywords): Add.

2001-08-19  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-set-mark): Return nil.
	(nnml-save-marks): Use nnml-possibly-create-directory.
	(nnml-open-marks): Only work in temp buffer when inserting/reading
	.marks file.

2001-08-18 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-expand-group-parameters): Fix.

	* gnus-spec.el (gnus-char-width): New function.
	(gnus-correct-substring, gnus-correct-length): Use it.

	* message.el (message-required-mail-headers): Fix doc.

2001-08-18 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-group-make-articles-read): gnus-request-set-mark.

	* mm-decode.el (mm-save-part-to-file): Insert the handle.

2001-08-18 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-threaded-retrieve-headers):
	slashdot 2.2 (not fully fixed yet).
	(nnslashdot-request-article): Ditto.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	* gnus-util.el (gnus-remassoc, gnus-update-alist-soft): Moved from
	nnimap.

	* nnimap.el (nnimap-remassoc, nnimap-update-alist-soft): Moved to
	gnus-util.
	(nnimap-request-update-info-internal): Use new functions.

	* nnml.el (nnml-request-set-mark, nnml-request-update-info): Use
	new functions.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	Make nnml groups self-contained as far as marks are concerned.

	* nnml.el (nnml-request-delete-group): Delete marks file.
	(nnml-request-rename-group): Move marks file.
	(nnml-marks-file-name, nnml-marks-is-evil, nnml-marks): New server
	variables.
	(nnml-request-set-mark, nnml-request-update-info): New server
	functions.
	(nnml-save-marks, nnml-open-marks): New functions.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-move-article): Use `add' instead of
	`set' when setting marks.

2001-08-17 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-info-find-node): Take an argument.

	* gnus-art.el (gnus-button-handle-info): New function.
	(gnus-url-unhex-string): Replace "+" with " ".

2001-08-17 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-header-syntax): Check bad From.

2001-08-18 00:14:45  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el (gnus-correct-length): New function.
	(gnus-correct-substring): New function.
	(gnus-tilde-max-form): Use it.

2001-08-17  Nevin Kapur  <nevin@jhu.edu>

	* nnmh.el: Docstring changes as below.

	* nnml.el: Docstring changes as below.

	* nnbabyl.el: Docstring changes as below.

	* nnmbox.el: Docstring changes as below.

	* nnfolder.el: Added docstrings identifying each virtual server
	parameter.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-menu): Collapse Attach, Insert and Security submenu.

2001-08-17  Bj,Av(Brn Torkelsson  <torkel@acc.kth.se>

	* message.el: rename "Abort Message" to "Postpone Message".
	Remove "Attach file as MIME" from Message menu, it's already in
	the MIME menu.

2001-08-17 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smime.el (smime-point-at-eol): eval-and-compile.
	(smime-make-temp-file): New function.
	(smime-sign-region, smime-encrypt-region, smime-decrypt-region):
	Use it.

2001-08-17 10:41:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-group): Go online if offline.
	(gnus-agent-summary-fetch-group): New command and keystroke.

	* gnus-art.el (gnus-insert-mime-button): Tiny clean-up.
	(gnus-mime-display-security): Make it respect
	gnus-unbuttonized-mime-type-p.

	* gnus-sum.el (gnus-articles-to-read): Comments.
	(gnus-article-marked-p): New function.
	(gnus-summary-display-make-predicate): New function.
	(gnus-select-newsgroup): Use them.

	* mm-decode.el (mm-save-part-to-file): Made it not error.

2001-08-17  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-wait-for-tag): If process-status isn't open or
	run, return nil instead of sit-for looping.

2001-08-17 10:41:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* lpath.el (featurep): fbind xml-parse-region.

	* gnus.el (gnus-message-archive-method): Default to "archive".
	(gnus-message-archive-method): Doc fix.
	(gnus-parameters-get-parameter): Cleaned up.
	(gnus-expand-group-parameter): New function.

	* gnus-start.el (gnus-setup-news): Push the archive server only
	the server list.

	* mml.el (mml-menu): Changed name to "Attachments".

	* mm-decode.el (mm-destroy-postponed-undisplay-list): Only message
	when there is something to detroy.

2001-05-21 17:11:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): Default to
	nil.

2001-08-15  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-article): Allow "01:23" time spec,
	which specifies a time today or tomorrow.

2001-08-15  Simon Josefsson  <jas@extundo.com>
	From Pavel@Janik.cz (Pavel Jan,Am(Bk)

	* gnus-agent.el (gnus-agent-make-mode-line-string)
	(gnus-agent-toggle-plugged): Use new API.

2001-08-14  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-drafts): Fix check whether
	deadline has expired.

2001-08-12  Simon Josefsson  <jas@extundo.com>
	Suggested by Kai.Grossjohann@CS.Uni-Dortmund.DE

	Support `recent' mark indicating newly arrived messages (to
	separate from old but unread messages).

	* nnimap.el (nnimap-retrieve-groups): Push dummy article into
	`nnmail-split-history' if recent is > 0.
	(nnimap-request-update-info-internal): Update `recent' marks.
	(nnimap-request-set-mark): Never set `recent' marks.
	(nnimap-mark-to-predicate-alist, nnimap-mark-to-flag-alist): Add
	recent.

	* gnus-sum.el (gnus-recent-mark): New mark.
	(gnus-newsgroup-recent): New variable.
	(gnus-summary-local-variables): Add gnus-newsgroup-recent.
	(gnus-summary-prepare-threads): Mark recent articles.
	(gnus-summary-add-mark): Support recent.
	(gnus-summary-update-secondary-mark): Support recent.

	* gnus.el (gnus-article-mark-lists): Add recent.

2001-08-12  Simon Josefsson  <jas@extundo.com>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Returns
	whether successful decoding took place.  Add doc.

2001-08-12  Simon Josefsson  <jas@extundo.com>
	Suggested by Per Abrahamsen <abraham@dina.kvl.dk>

	* gnus.el (gnus-summary-line-format, gnus-parameters):
	* gnus-gl.el (gnus-summary-grouplens-line-format):
	* gnus-salt.el (gnus-summary-pick-line-format):
	* gnus-spec.el (gnus-format-specs): %n is 23 chars.

2001-08-11 09:40:00  Karl Kleinpaste  <karl@charcoal.com>
	Committed by Kai Gro,b_(Bjohann.

	* gnus-score.el (gnus-score-string): Fix `match' regexp
	for `extra' header case.

2001-08-10 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmbox.el (nnmbox-read-mbox): No warning.

2001-08-10 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-article-type): Fix doc.
	(nndoc-generate-article-function): New variable.
	(nndoc-dissection-function): New variable.
	(nndoc-type-alist): Add oe-dbx.
	(nndoc-oe-dbx-type-p): New function.
	(nndoc-oe-dbx-dissection): New function.
	(nndoc-oe-dbx-generate-article): New function.

2001-08-11  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-drafts): Cleaner way to check
	whether deadline has been reached.  Patch from Dan Nicolaescu
	<dann@godzilla.ics.uci.edu>.

2001-08-10 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (turn-on-gnus-mailing-list-mode): Use
	gnus-group-find-parameter. Suggested by Janne Rinta-Manty
	<rintaman@cs.Helsinki.FI>.

	* mail-source.el (mail-source-movemail): The error buffer is
	modified, but nothing in it.

2001-08-10 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-bogus-system-names): New variable.
	(message-make-fqdn): Use it.

2001-08-09 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-group): Use
	nndraft-auto-save-file-name.

2001-08-09  Simon Josefsson  <jas@extundo.com>

	* mm-view.el (mm-view-pkcs7-decrypt): Operate in current buffer.
	Don't ask whether to decrypt.  Just leave result in buffer (don't
	call mm).

	* mm-decode.el (mm-dissect-buffer): Possibly verify/decrypt single
	parts as well.
	(mm-inline-media-tests): Ignore application/{x-,}pkcs7-mime.
	(mm-possibly-verify-or-decrypt): Support application/{x-,}pkcs7-mime.

2001-08-09  Simon Josefsson  <jas@extundo.com>

	* mm-decode.el (mm-insert-part): Return decoding success status.
	(mm-save-part-to-file): Error if decoding failed.

2001-08-09 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tab): Use indent-relative.
	(message-mode): Don't bind indent-line-function to indent-relative.

2001-08-09  Simon Josefsson  <jas@extundo.com>

	* message.el (message-get-reply-headers): Fix string. Suggested by
	Christoph Conrad <cc@cli.de>.

2001-08-08 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tab): Use the current value of
	indent-line-function.
	(message-mode): Bind indent-line-function to indent-relative.

2001-08-08  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-gssapi-auth-p, imap-kerberos4-auth-p): Also check
	whether `imtest' is installed.

2001-08-04  Nuutti Kotivuori  <nuutti.kotivuori@smarttrust.com>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Call
	gnus-summary-update-secondary-secondary-mark.
	* gnus-sum.el (gnus-summary-edit-article-done): Ditto.
	* gnus-sum.el (gnus-summary-reparent-thread): Ditto.

2001-08-07 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-make-menu-bar): Misc -> Gnus.

	* gnus-group.el (gnus-group-make-menu-bar): Ditto.

	* mm-uu.el (mm-uu-dissect): Autoload. From Gerd M,Av(Bllmann
	<gerd@gnu.org>.

	* gnus-art.el (gnus-output-to-file): Bind file-name-coding-system.

	* gnus-util.el (gnus-output-to-rmail): Ditto.
	(gnus-output-to-mail): Ditto.

	* nnmail.el (nnmail-pathname-coding-system): Set default to nil.

2001-08-06  Florian Weimer  <fw@deneb.enyo.de>

	* message.el (message-indent-citation): Use
	`message-yank-cited-prefix' for empty lines.

2001-08-05  Florian Weimer  <fw@deneb.enyo.de>

	* message.el (message-indent-citation): Quote only lines starting
	with ">" using `message-yank-cited-prefix'.

2001-08-05  Nuutti Kotivuori  <nuutti.kotivuori@smarttrust.com>

	* gnus-cache.el (gnus-cache-possibly-enter-article): Use
	gnus-cache-fully-p.

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-possibly-update-active): Create active
	file if it doesn't exist (by calling gnus-cache-read-active).

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-possibly-enter-article): Revert.
	(gnus-cache-passively-or-fully-p): Removed.
	(gnus-cache-fully-p): Fix it.

	* mm-view.el (mm-pkcs7-signed-magic): Support more ASN.1 lengths.

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-fully-p)
	(gnus-cache-passively-or-fully-p): New functions.
	(gnus-cache-possibly-enter-article): Cosmetic change, use
	`g-c-p-o-f-p'.
	(gnus-cache-possibly-enter-article): Use `g-c-p-u-a'; last change
	was bogus (`g-c-p-a-a' does not change active info, just change
	the functions parameters).
	(gnus-cache-possibly-remove-articles-1): Make sure articles are
	not removed in groups that match `gnus-uncacheable-groups'.

	Reported and modifications based on discussions with Nuutti
	Kotivuori <nuutti.kotivuori@smarttrust.com>.

2001-08-04  Nuutti Kotivuori  <nuutti.kotivuori@smarttrust.com>
	Committed by Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-possibly-update-active): New function;
	calls `gnus-cache-update-active' if bounds has been extended.

2001-08-04 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-security-verify-or-decrypt): Insert
	before remove.
	(gnus-mime-security-show-details): Ditto.

2001-08-04  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-split-fancy-with-parent): Correct `mapconcat'
	syntax.  Protect string-match against nil string and regexp.

2001-08-03 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-charset-region): Remove control-1.

2001-08-03 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-readable-p): Emacs 20 takes one argument.

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-sign-region, smime-encrypt-region): Fix details
	buffer.  Delete MIME-Version header.

2001-08-03  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-possibly-enter-article): The article
	that is entered does not necessarily have the highest article
	number in the group, so use `gnus-cache-possibly-alter-active'
	instead of `gnus-cache-update-active'.

2001-08-03 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-gpg-extract-signature-details): Don't barf.

2001-08-03  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-menu): Rename from MML to Mime. Collapse Security
	menu.

2001-08-02  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (post-method): New group parameter.  It also provides
	the user option `gnus-post-method-alist' and the internal function
	`gnus-parameter-post-method'.

	* gnus-msg.el (gnus-post-method): Bind the value of
	`gnus-post-method' to the group parameter if it is defined.

2001-08-02  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-extra-arguments): Removed.
	(smime-call-openssl-region): Don't use it.

2001-08-02  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-sign-region): Handle stderr.
	(smime-encrypt-region): Ditto.

	* mm-view.el (mm-pkcs7-signed-magic): Make it a regexp.  Don't
	match the ASN.1 length bytes.
	(mm-pkcs7-enveloped-magic): Ditto.
	(mm-view-pkcs7-get-type): Don't regexp quote.

2001-08-01 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Andreas Fuchs <asf@void.at>

	* mml2015.el (mml2015-trust-boundaries-alist): Typo.

2001-08-01 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-header-button-alist): References regexp.

2001-08-01  Gerd Moellmann  <gerd@gnu.org>

	* mm-view.el (autoload): Don't autoload `diff-mode' if it's
	already fboundp.  Add INTERACTIVE arg to autoload form.

2001-08-01 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-init): Add as gnus buffer.

	* nnmail.el (nnmail-cache-open): Ditto.

2001-07-31 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-button-fetch-group): Fix the regexp.

2001-07-31  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (gnus-post-method): Refer to `gnus-parameters'.

2001-07-31 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Originally from Pavel Jan,Am(Bk <Pavel@Janik.cz>

	* gnus-agent.el (gnus-agent-make-mode-line-string): New function.
	(gnus-agent-toggle-plugged): Use it.

2001-07-31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-startup-file-coding-system): Revert to binary.
	(gnus-ding-file-coding-system): New variable.
	(gnus-read-newsrc-el-file, gnus-save-newsrc-file)
	(gnus-slave-save-newsrc): Use it.

2001-07-31  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-initialize): Use standard define-key
	syntax.

2001-07-30 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Originally from Andreas Fuchs <asf@void.at>

	* mml2015.el (mml2015-trust-boundaries-alist): New variable.
	(mml2015-gpg-pretty-print-fpr): New function.
	(mml2015-gpg-extract-signature-details): More details, rename from
	`m-g-e-from'.
	(mml2015-gpg-verify): Use them.
	(mml2015-gpg-clear-verify): Use them.

2001-07-31  Simon Josefsson  <jas@extundo.com>

	* mml-smime.el (mml-smime-sign, mml-smime-encrypt): Goto end of
	buffer when done.

2001-07-30  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-call-openssl-region): Revert previous change,
	just pass on buf to `call-process-region'.
	(smime-verify-region): Doc fix.  Don't message stuff.  Use
	`smime-new-details-buffer'.  Inserts error messages into buffer.
	(smime-noverify-region): Ditto.
	(smime-decrypt-region): Ditto.  Handles stderr separately.
	(smime-verify-buffer, smime-noverify-buffer)
	(smime-decrypt-buffer): Doc fix.
	(smime-new-details-buffer): New function.
	(smime-pkcs7-region, smime-pkcs7-certificates-region)
	(smime-pkcs7-email-region): Use `smime-new-details-buffer'.
	(smime-sign-region, smime-encrypt-region): Don't use
	`insert-buffer'.

	* mml-smime.el (mml-smime-verify): Fix security button strings.

2001-07-30 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-save-part-and-strip): Save
	gnus-article-mime-handles.

2001-07-29  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (top-level): Require message for message-directory.
	(mail-source-directory): Change default to message-directory.

	* smime.el (smime-keys, smime-CA-directory, smime-CA-file)
	(smime-certificate-directory, smime-openssl-program)
	(smime-encrypt-cipher, smime-dns-server): Fix doc (leading "*").
	(smime-extra-arguments): New variable.
	(smime-dns-server): Fix customize group.
	(smime-call-openssl-region): Use `smime-extra-arguments'.

2001-07-29  Simon Josefsson  <jas@extundo.com>
	From Vladimir Volovich <vvv@vsu.ru>

	* smime.el (smime-call-openssl-region): Ignore stderr.

2001-07-29  Simon Josefsson  <jas@extundo.com>
	From Christoph Conrad <christoph.conrad@gmx.de>

	* gnus-agent.el (gnus-agent-save-group-info): Don't destroy active
	file.

2001-07-29  Simon Josefsson  <jas@extundo.com>

	* mm-view.el (mm-view-pkcs7-decrypt): Adhere to `mm-decrypt-option'.

	Support S/MIME decryption.

	* mm-decode.el (mm-inline-media-tests):
	(mm-inlined-types):
	(mm-automatic-display):
	(mm-attachment-override-types): Add application/{x-,}pkcs7-mime.

	* mm-view.el (mm-pkcs7-signed-magic):
	(mm-pkcs7-enveloped-magic): New variables.
	(mm-view-pkcs7-get-type): New function; identify PKCS#7 type.
	(mm-view-pkcs7): New function; mm viewer for PKCS#7 blobs.
	(mm-view-pkcs7-decrypt): New function; mm viewer for encrypted
	PKCS#7 blobs.

	* smime.el (smime-decrypt-region): Expand keyfile.

2001-07-29  Simon Josefsson  <jas@extundo.com>

	* nntp.el (nntp-open-ssl-stream): Don't mess with internal
	`ssl.el' variables.

	* gnus-agent.el (gnus-agent-save-group-info): Delete everything
	but line instead of narrowing to it, because `nnmail-parse-active'
	calls widen.  Thanks to Christoph Conrad
	<christoph.conrad@gmx.de>.

2001-07-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus.el (gnus-summary-line-format): Mention `gnus-sum-thread-*'
	for %B spec.

	* gnus-sum.el (gnus-summary-prepare-threads): If
	gnus-sum-thread-tree-root is nil, use subject instead.
	(gnus-sum-thread-tree-root, gnus-sum-thread-tree-single-indent)
	(gnus-sum-thread-tree-vertical, gnus-sum-thread-tree-indent)
	(gnus-sum-thread-tree-leaf-with-other)
	(gnus-sum-thread-tree-single-leaf): Documentation.
	(gnus-sum-thread-tree-single-indent): Allow nil.

2001-07-28 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fill-paragraph): Do nothing if the user
	wants filladapt-mode.

2001-07-27 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-image-type-from-buffer): New function.
	(mm-get-image): Use it.

2001-07-27 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-large-newsgroup): Add doc, "If it is nil, ..."

	* gnus-art.el (gnus-mime-view-all-parts): buffer-read-only covers
	mm-display-parts too.

2001-07-27 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-accept-article): Bind
	nntp-server-buffer.

	* nnmail.el (nnmail-parse-active): Read from buffer instead of
	nntp-server-buffer.

2001-07-27 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-header-syntax): Use
	message-post-method.
	(message-send-news): Bind message-post-method.

2001-07-27 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-tweak-type-alist): New variable.
	(mml-tweak-function-alist): New variable.
	(mml-tweak-part): New function.
	(mml-generate-mime-1): Use it.

2001-07-26 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-accept-article): Replace
	nnfolder-request-list.

2001-07-27  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-open-server): Set nnimap-server-buffer if
	nnoo-change-server failed to do it.

2001-07-26 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-parameters): Make it customizable.

2001-07-26 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mm-display-part): Narrow to point if eobp.

	* message.el (message-set-auto-save-file-name): More
	poor-system-types.

	* mailcap.el (mailcap-parse-mimetypes): poor-system-types.

	* gnus-ems.el (nnheader-file-name-translation-alist): M$Windows-NT
	supports +.

2001-07-26 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-readable-p): New function.
	(mm-inline-media-tests): Fix the default testers.

2001-07-26  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-version): Bump version number.

2001-07-26 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Steven E. Harris <seh@speakeasy.org>

	* nnheader.el (nnheader-translate-file-chars): cygwin32 is running
	in M$Windows too.

2001-07-26  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-drafts): Don't `error'.

2001-07-25 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-bcklg.el (gnus-backlog-shutdown): Make interactive.

	* mm-decode.el (mm-get-image): Guess then use the type.

	* gnus-art.el (gnus-mime-view-part-as-type): Don't copy cache.

2001-07-25 12:54:00  Danny Siu  <dsiu@adobe.com>

	* gnus-sum.el (gnus-summary-prepare-threads): Shouldn't do tree
	display (%B) for threads if threading is off.

2001-07-25 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Henrik Enberg <henrik@enberg.org>

	* gnus-msg.el: Customization patch.

2001-07-25 22:22:22  Raymond Scholz  <rscholz@zonix.de>

	* nnmail.el (nnmail-split-fancy-with-parent-ignore-groups): New
	variable.
	(nnmail-split-fancy-with-parent): Ignore certain groups.

2001-07-25 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-byte-compile): New function.
	(gnus-use-byte-compile): New variable.
	(gnus-make-sort-function): Use it.

	* nnmail.el (nnmail-get-new-mail): Use it.

	* gnus-agent.el (gnus-category-make-function): Simple function or
	compiled function.
	(gnus-agent-fetch-group-1): Don't use (caaddr predicate).

	* gnus-gl.el (bbb-build-rate-command): Remove quote before lambda.
	* gnus-topic.el (gnus-topic-sort-topics-1): Ditto.
	(gnus-topic-sort-topics-1): Use gnus-byte-compile.

	* message.el (message-check-news-header-syntax): Remove quote.

2001-07-24 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-use-mail-followup-to): `t' is not a
	documented value.

2001-07-24 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-display-arrow): Test fboundp.

2001-07-24 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-encode.el (mm-encode-buffer): Don't use 7bit encoding if
	there are long lines.

2001-07-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (copy-list): New compiler macro.

2001-07-24 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-bounce): If no Return-Path, the whole
	content is considered as the original message.

	* nnml.el (nnml-check-directory-twice): New variable.
	(nnml-article-to-file): Use it.
	(nnml-retrieve-headers): Hack it.

2001-07-24 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-buffer-configuration): New configure.

	* gnus-art.el (gnus-mm-display-part): Don't select-window if it is
	not alive.

	* mm-decode.el (mm-remove-part): Don't murder the current window (nil).
	(mm-display-external): Use display-term configure.

2001-07-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-default-hour): New variable.
	(gnus-delay-article): Allow specific date in YYYY-MM-DD format.

2001-07-23 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Karl Kleinpaste <karl@charcoal.com>

	* gnus-sum.el (gnus-summary-line-format-alist): Add %B.
	(gnus-summary-prepare-threads): Ditto.

	* gnus.el (gnus-summary-line-format): Add %B.

2001-07-23 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-articles-to-read): Use gnus-group-decoded-name.

	* mm-util.el (mm-string-as-multibyte): New function.

	* nnmh.el (nnmh-request-list-1): Encode, not decode!

2001-07-23 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-universal-coding-system): New variable.

	* gnus-start.el (gnus-startup-file-coding-system): Use it.

	* score-mode.el (score-mode-coding-system): Use it.

2001-07-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-setup-news): Call
	`gnus-check-bogus-newsgroups' just after the native server is
	opened.

2001-07-23  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-do-request-post): Util function to be used by
	`nnchoke-request-post' for all nnmail-derived backends.

	* nnml.el (nnml-request-post): Use it.

	* gnus.el (gnus-valid-select-methods): nnml is a post-mail
	backend, for it groks nnml-request-post.

	* gnus-group.el (gnus-group-highlight, gnus-group-highlight-line):
	Treat `mail-post' backends like `mail' backends, not like `news'
	backends.

2001-07-22 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-setup-message): make-local-hook.

2001-07-22  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-article): Fix `read-string' for
	XEmacs.  Allow more units.  Submitted by Karl Kleinpaste
	<karl@charcoal.com>, slightly changed by Kai.

	* message.el (message-check-news-header-syntax): When checking
	whether the groups exist, check the right server based on
	`gnus-post-method'.

2001-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el: New file.

2001-07-21 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-read-coding-system): Take two arguments.

	* gnus-sum.el (gnus-summary-show-article): Use
	mm-read-coding-system.

	* gnus-art.el (article-de-quoted-unreadable):
	(article-de-base64-unreadable, article-wash-html):
	(gnus-mime-inline-part, gnus-mime-view-part-as-charset): Ditto.

2001-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnml.el (nnml-request-post): New function.  Can be used for
	annotations in nnml groups.

2001-07-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-request-newgroups): Use UTC date for NEWGROUPS
	command.

	* gnus-start.el (gnus-find-new-newsgroups): Use
	`message-make-date' instead of `current-time-string'.
	(gnus-ask-server-for-new-groups): Ditto.
	(gnus-check-first-time-used): Ditto.

2001-07-20 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-home-score-file): nnheader-translate-file-chars.

2001-07-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-shorten-references): Change `maxcount' and
	`cut' to obey USEFOR draft 5.

2001-07-12  Colin Walters  <walters@cis.ohio-state.edu>

	* gnus-sum.el (gnus-summary-display-arrow): New variable.
	(gnus-summary-set-article-display-arrow): New function.
	(gnus-summary-goto-subject): Use it.

2001-07-18 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-import-article): Insert date if
	doesn't exist.

2001-07-18 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-content-type-parameters): New variable.
	(mml-content-disposition-parameters): New variable.
	(mml-insert-mime-headers): Use them.
	(mml-parse-1): Accept charset.

2001-07-17 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-select-group): Doc fix.

	* gnus-eform.el (gnus-edit-form-done): Return nil if end-of-file.

2001-07-17  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (dgnushack-make-auto-load): Advise `make-autoload'
	to handle `define-derived-mode'.

2001-07-16 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From:  Stefan Monnier  <monnier@cs.yale.edu>

	* message.el (message-mode): Use define-derived-mode.
	(message-tab): message-completion-alist.

	* imap.el (imap-interactive-login): Use make-local-variable.
	(imap-open): Ditto.
	(imap-authenticate): Ditto.

	* gnus-msg.el (gnus-setup-message): Change-major-mode-hook.

	* gnus-art.el (gnus-article-edit-mode): Use define-derived-mode.

2001-07-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-citation-line-function): Refer to
	gnus-cite-attribution-suffix.

2001-07-15  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-art.el,...: Error convention changes.

2001-07-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-rebuild-thread): Count hidden lines too.

2001-07-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-read-group-data): Nuke emacs-lisp-mode-hook.
	(nnrss-read-server-data): Ditto.

2001-07-13 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-setup.el (gnus-use-installed-gnus): Typo.
	* Cleanup files.
	From Pavel@Janik.cz (Pavel Jan,Am(Bk).

2001-07-13 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-summary-line-format): Add %o.

	* gnus-sum.el (gnus-summary-pipe-output): Don't configure as pipe
	unless shell outputs something.

2001-07-13 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-boring-article-headers): Better doc.
	(article-hide-headers): Better regexp.
	Suggested by Matt Swift <swift@alum.mit.edu>.

	* nnheader.el (nnheader-max-head-length): Better doc.
	(nnheader-header-value): Skip spaces.
	(nnheader-parse-head): Remove space.
	Suggested by Matt Swift <swift@alum.mit.edu>.

	* gnus-sum.el (gnus-summary-show-raw-article): New function.
	(gnus-get-newsgroup-headers): Remove space.

2001-07-12 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-treat-broken-reply-to): Add force.
	(gnus-summary-reply): Use it.
	(gnus-summary-reply-broken-reply-to): New function.
	(gnus-msg-force-broken-reply-to): New function.

	* mm-view.el (mm-inline-text): Showing as text/plain when error.

2001-07-12 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-setup): Restore gnus-newsgroup-name.

2001-07-12 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-external-terminal-program): New variable.
	(mm-display-external): Use it. Use term to display when no
	window-system.

2001-07-12  Bj,Av(Brn Torkelsson  <torkel@hpc2n.umu.se>

	* gnus-srvr.el (gnus-browse-make-menu-bar): Changed one of the
	Browse->Next entries to Browse->Prev

2001-07-11 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-do-gcc): Don't test gnus-alive-p.

2001-07-11 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-encode.el (mm-content-transfer-encoding-defaults): Use base64
	for the default encoding.

	* nnrss.el (nnrss-url-field): New field.
	(nnrss-request-article): Add newsgroups.

	* nnfolder.el (nnfolder-read-folder): Force to use a multibyte buffer.

2001-07-11 04:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-restore-buffer): Don't remove Date.

	* gnus-draft.el (gnus-draft-edit-message): Remove Date here.
	(gnus-draft-setup): Remove backlog.

2001-07-10  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-logic.el, gnus-srvr.el, gnus-vm.el, nnheaderxm.el, nnoo.el:
	Cleanup.

2001-07-09 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-bug): Erase buffer.

	* nnfolder.el (nnfolder-possibly-change-group): Don't create group.

2001-07-09 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-attachment-override-p): Fix typo.

2001-03-19 05:28:00  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-kill.el (gnus-execute): Work with the extra headers.
	* gnus-sum.el (gnus-summary-execute-command): Ditto.

2001-07-09 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): w3-coding-system-for-mime-charset
	may not defined. From: Raja R Harinath <harinath@cs.umn.edu>.

	* message.el (message-send-mail-real-function): New variable.
	(message-send-mail-partially, message-send-mail):

	* nngateway.el (nngateway-request-post): Use it.

	* gnus-agent.el (gnus-agentize): Use it.

	* nnsoup.el (nnsoup-old-functions, nnsoup-set-variables)
	(nnsoup-revert-variables): Use it.

2001-07-09  Colin Walters  <walters@cis.ohio-state.edu>

	* mm-decode.el (mm-inline-media-tests): Default to displaying as
	text/plain if the type doesn't match any other media types.
	(mm-inlined-types): Doc fix.
	(mm-display-inline): Revert previous change (now handled by a
	default type in `mm-inline-media-tests'.
	(mm-inlinable-p): Revive.
	(mm-display-part): Call `mm-inlinable-p'.
	(mm-attachment-override-p): Ditto.
	(mm-inlined-p): Doc fix.

	* gnus-art.el (gnus-mime-display-single): Call `mm-inlinable-p' as
	well as `mm-inlined-p'.

2001-07-09 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-send-command, nntp-send-command-nodelete):
	(nntp-send-command-and-decode): Use gnus-point-at-bol.

2001-07-09 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From  Paul Jarc <prj@po.cwru.edu>

	* message.el (message-use-mail-followup-to): New variable.
	(message-get-reply-headers): Use it.

2001-07-04  Gerd Moellmann  <gerd@gnu.org>

	* nnheader.el (nnheader-init-server-buffer): Make sure the
	*nntpd* buffer is made multibyte instead of a random buffer.

2001-07-09 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-get-newsgroup-headers-xover): Get headers only
	when it returns headers.

2001-07-07  Simon Josefsson  <jas@extundo.com>

	* rfc2047.el (rfc2047-encode-message-header): Skip header when
	trying to fold. Thanks to Colin Walters
	<walters@cis.ohio-state.edu>

2001-07-06  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-address-list, imap-parse-flag-list)
	(imap-parse-body-extension, imap-parse-body-ext, imap-parse-body):
	Add information in `assert's.

	* nnimap.el (nnimap-possibly-change-group): Ignore uidvalidity
	changes. (From nnimaps' point of view, `nnimap-verify-uidvalidity'
	and `nnimap-group-overview-filename', should handle all
	change-of-uidvalidity related issues.  But there may be other
	problems.)

2001-07-05  Colin Walters  <walters@cis.ohio-state.edu>

	* rfc2047.el (rfc2047-encode-message-header): Don't include the
	header name when folding.

2001-07-05  Colin Walters  <walters@cis.ohio-state.edu>

	* mm-decode.el (mm-inlined-types): Document relationship with
	`mm-inline-media-tests'.
	(mm-display-inline): Default to displaying as plain text if no
	inlining handler is available.
	(mm-inlinable-p): Remove.
	(mm-inlined-p): Don't call `mm-inlinable-p'.
	(mm-automatic-display-p): Ditto.
	(mm-attachment-override-p): Ditto.

2001-07-04  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-importantize-dormant): New variable.
	(nnimap-request-update-info-internal): Use it.
	(nnimap-request-set-mark): Ditto.

2001-07-04  Didier Verna  <didier@lrde.epita.fr>

	* nntp.el (nntp-send-command): don't pass a buffer argument to
	`point'. Only XEmacs accepts this.
	* nntp.el (nntp-send-command-nodelete): ditto.
	* nntp.el (nntp-send-command-and-decode): ditto.

2001-07-04  Didier Verna  <didier@lrde.epita.fr>

	* nntp.el (nntp-open-connection-function): doc update.
	* nntp.el (nntp-pre-command): New.
	* nntp.el (nntp-via-rlogin-command): New.
	* nntp.el (nntp-via-telnet-command): New.
	* nntp.el (nntp-via-telnet-switches): New.
	* nntp.el (nntp-via-user-name): New.
	* nntp.el (nntp-via-user-password): New.
	* nntp.el (nntp-via-address): New.
	* nntp.el (nntp-via-envuser): New.
	* nntp.el (nntp-via-shell-prompt): New.
	* nntp.el (nntp-open-telnet-stream): New.
	* nntp.el (nntp-open-via-rlogin-and-telnet): New.
	* nntp.el (nntp-open-via-telnet-and-telnet): New.
	* nntp.el (nntp-wait-for): check for possibly echo'ed commands.
	* nntp.el (nntp-send-command): ditto.
	* nntp.el (nntp-send-command-nodelete): ditto.
	* nntp.el (nntp-send-command-and-decode): ditto.

2001-06-30  YAGI Tatsuya  <yagi@is.titech.ac.jp>

	* gnus-start.el (gnus-check-first-time-used): Use `if' instead of
	`when'.

2001-07-03  Simon Josefsson  <jas@extundo.com>
	From Nuutti Kotivuori <nuutti.kotivuori@smarttrust.com>

	* flow-fill.el (fill-flowed): Use (1+ (point-at-eol)) instead.

2001-07-03  Simon Josefsson  <jas@extundo.com>

	* flow-fill.el (fill-flowed): If `fill-region' inserts empty line,
	remove it (workaround XEmacs `fill-region' bug).

2001-07-01  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-date-days-ago): Defeat locale.

2001-06-28 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-format-error): New function.
	(mml2015-mailcrypt-decrypt, mml2015-mailcrypt-clear-decrypt)
	(mml2015-mailcrypt-verify, mml2015-gpg-clear-verify)
	(mml2015-mailcrypt-clear-verify, mml2015-gpg-verify): Use it.

2001-06-26 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-retrieve-headers): The description may not exist.
	Suggested by Christoph Conrad <C.Conrad@cli.de>.

	* gnus-sum.el (gnus-summary-set-local-parameters): Don't override
	group variables.

2001-06-25 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-write-groups): Use gnus-prin1.

	* nnrss.el (nnrss-save-server-data): Bind print-level and print-length.
	(nnrss-save-group-data): Ditto.

	* gnus-agent.el (gnus-agent-save-alist): Ditto.

2001-06-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-do-send-housekeeping): Narrow to headers.

2001-06-24  Simon Josefsson  <jas@extundo.com>

	* rfc2047.el (rfc2047-fold-region): The check to skip WSP
	insertion when breaking lines looked for " \t" instead of "[ \t]".
	(rfc2047-encode-message-header): Fold lines even if
	no QP encoding is done.

2001-06-23  Simon Josefsson  <jas@extundo.com>
	From Samuel Tardieu <sam@inf.enst.fr>

	* smime.el (smime-keys): Support additional certificates.
	(smime-make-certfiles): New function.
	(smime-sign-region): Use previous variables.
	(smime-get-certfiles): New function.
	(smime-sign-buffer): Use it.
	(smime-verify-region): Support both CAfile and CApath.

2001-06-23  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-decrypt-region): Perhaps work.

2001-06-22 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-copy-article-buffer): Typo.

2001-04-06  Ralph Schleicher  <rs@nunatak.allgaeu.org>

	* mm-decode.el (mm-save-part): Rewrite file name.
	(mm-file-name-rewrite-functions): New variable.
	(mm-file-name-delete-whitespace): New function.
	(mm-file-name-trim-whitespace): New function.
	(mm-file-name-collapse-whitespace): New function.
	(mm-file-name-replace-whitespace): New variable and function.

2001-06-22  Simon Josefsson  <jas@extundo.com>

	* message.el (message-make-date): Workaround locale for weekdays.

2001-06-21 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-goto-body): Return nil if not found. (revert!)

2001-06-21 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Fremlin <chief@bandits.org>

	* message.el (message-goto-body): Some messages have no header.

	* gnus-msg.el (gnus-copy-article-buffer): Use it.

2001-06-21  Ralph Schleicher  <rs@nunatak.allgaeu.org>

	* nnultimate.el (nnultimate-retrieve-headers): Date fix.

2001-06-21 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-date): Add week day.
	Suggested by Jason R. Mastaler <jason@mastaler.com>.

2001-06-19  Simon Josefsson  <jas@extundo.com>

	* message.el (message-yank-prefix): Doc fix.
	(message-yank-cited-prefix): Ditto.
	(message-delete-not-region): Keep citation prefix on first line,
	if possible and appropriate.

2001-06-19  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-process-connection-type): New variable.
	(imap-kerberos4-open, imap-gssapi-open): Use it.  This makes
	recent `imtest's work completely (no line length issues), while
	making making old `imtest's unusable.  Thanks to NAGY Andras
	<nagya@inf.elte.hu> for his work.

2000-12-30  NAGY Andras  <nagya@inf.elte.hu>

	* imap.el (imap-ssl-program): Add -quiet to shut up
	OpenSSL/SSLeay's internal debug talk.

2001-06-19  Matt Armstrong  <matt@lickey.com>

	* imap.el (imap-parse-flag-list): Workaround bug in Courier IMAP
	server.

2001-06-19 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-article-buffer): New variable.
	(nnmail-split-incoming): Use it.

2001-06-15  Eli Zaretskii  <eliz@is.elta.co.il>

	* qp.el (quoted-printable-decode-region): If called interactively,
	use coding-system-for-read.

2001-06-16 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-header-syntax): Check Reply-To.

2001-06-16 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-parse-1): Use message options.

	* message.el (message-do-fcc): Don't do anything if there is no
	FCC.

2001-06-16  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-articles): Support 'junk to-groups.
	(nnimap-expunge-search-string): New variable.
	(nnimap-request-expire-articles): Use it.

2001-06-15 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-with-qmail): wrong exit status is
	100 not 1. Reported by Paul Jarc <prj@po.cwru.edu>.

2001-06-15 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-strip-multiple-blank-lines): Use
	delete-region instead of replace-match.

2001-06-14 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-google-parse-1): Fix Google content regexp.
	(nnweb-google-wash-article): Ditto.

2001-06-14 Ferenc Wagner  <wferi@bolyai1.elte.hu>

	* nnweb.el (nnweb-google-parse-1): Fix Google url regexp.

2001-06-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-define-group-parameter): Don't quote the defcustom
	specs.

2001-06-13 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-email-address): Move it here.

	* gnus-art.el (article-de-quoted-unreadable): Read charset if
	requested.
	(article-de-base64-unreadable): Ditto.
	(article-wash-html): Ditto.

2001-06-12 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-options-set-recipient): Don't add ", "
	unless necessary. Suggested by Josh Huber <huber@alum.wpi.edu>.

2001-06-12 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-group-alist): Use |fr| instead of [fr].

2001-06-12 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-plain-save-name): Use file-relative-name.
	From Marc Lefranc <Marc.Lefranc@univ-lille1.fr>.

	* nnrss.el (nnrss-node-text): Node might be nil.

2001-06-11 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-save-article): Use mml tag instead of
	part. From Katsumi Yamaoka <yamaoka@jpl.org>.

	* nnrss.el (nnrss-group-alist): More items.

2001-06-09 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-node-text): Use cddr instead xml-node-children.

2001-06-03  Dale Hagglund  <rdh@best.com>

	* gnus-mlspl.el (gnus-group-split-fancy): Fix generation of split
	restrict clauses.

2001-06-07 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	From Benjamin Rutt <brutt+news@bloomington.in.us>

	* message.el (message-wide-reply-confirm-recipients): New variable.

2001-06-06  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Mark Thomas  <mthomas@edrc.cmu.edu>

	* nnmail.el (nnmail-fix-eudora-headers): Change the In-Reply-To
	fix so it works with XEmacs.

2001-06-07 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-retrieve-headers): Support description as extra
	headers.

2001-06-07 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el: Fix a few bugs.

2001-06-05  Simon Josefsson  <jas@extundo.com>

	* mm-decode.el (mm-handle-set-external-undisplayer): Don't
	generate compiler warnings.  From Alex Schroeder <alex@gnu.org>.

2001-06-04  Hrvoje Niksic  <hniksic@arsdigita.com>

	* mm-decode.el (mm-pipe-part): Bind coding-system-for-write to
	binary so that we don't transmit ISO 2022 garbage to the process.
	This is needed under XEmacs.

2001-06-03  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-ssl-open): Require ssl. (Otherwise ssl.el is
	autoloaded incorrectly below because ssl-program-* is bound.)
	Thanks to Amos Gouaux for report.

2001-06-02  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-kerberos4-open):
	(imap-gssapi-open):
	(imap-ssl-open):
	(imap-network-open):
	(imap-shell-open):
	(imap-starttls-open): Set buffer to workaround spurious
	`accept-process-output' buffer changes.  Thanks to Mats Lidell
	<Mats.Lidell@contactor.se> for report and partial patch and Jake
	Colman <colman@ppllc.com> for report.

2001-05-31 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-catchup): New argument.
	(gnus-summary-catchup-from-here): New function.

2001-05-30  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* mm-view.el (mm-inline-image-xemacs): Insert newline, then move
	back, then insert glyph.  (Before, the glyph was inserted first,
	then the newline.)  This works around a behavior in XEmacs where
	it is not possible to insert a character after a glyph which is at
	the end of a buffer.  Patch by Lloyd Zusman <ljz@asfast.com>.

2001-05-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	From Jaap-Henk Hoepman (jhh@xs4all.nl).

	* mm-decode.el (mm-keep-viewer-alive-types): New variable.
	(mm-keep-viewer-alive-p, mm-handle-set-external-undisplayer,
	mm-destroy-postponed-undisplay-list): New functions.
	(mm-display-external): Use them.

2001-05-27  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-salt.el (gnus-tree-highlight-node): Bind `default-high' and
	`default-low' when evaluating `gnus-summary-highlight'.
	From Raja R Harinath <harinath@cs.umn.edu>.

2001-05-27  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-yank-cited-prefix): New variable.
	(message-indent-citation): Use it.

	* mml2015.el (mml2015-mailcrypt-verify): Store gpg stderr output
	as details.
	(mml2015-mailcrypt-clear-verify): Ditto.

2001-05-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Nevin Kapur <nevin@jhu.edu>.

	* gnus-sum.el (gnus-summary-default-high-score,
	gnus-summary-default-low-score): New variables.
	(gnus-summary-highlight): Use them.

2001-05-16  Didier Verna  <didier@lrde.epita.fr>

	* message.el (message-mail): pass the 'send-actions argument to
	`message-setup'.

2001-05-16  Simon Josefsson  <simon@josefsson.org>
	From Raymond Scholz <ray-2001@zonix.de>

	* gnus-art.el (gnus-mime-view-part-as-charset):
	(gnus-mime-internalize-part): Doc fixes.

2001-05-11  Simon Josefsson  <simon@josefsson.org>

	* gnus-start.el (gnus-ignored-newsgroups): Also ignore NNTP type
	status lines without any text ("^215$").

2001-05-06 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-check-group): Reverse.

2001-05-07  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-get-reply-headers):
	(message-followup): Fix typo, suggested by David Green
	<dgreen@uab.edu>

2001-05-05 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-request-expire-articles): Fix.

	* nnrss.el (nnrss-open-server): Read server data when it is called.
	(nnrss-request-expire-articles): Fix.

2001-05-05 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-do-send-housekeeping): mail-abbrevs may
	rename buffer behind Gnus.

2001-05-04 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-check-group): Use nnheader-translate-file-chars.
	(nnrss-group-alist): Add more resources.
	(nnrss-check-group): Ignore errors.

2001-05-04 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-request-expire-articles): Correct the return value.

	* nnslashdot.el (nnslashdot-request-list): Add time.
	(nnslashdot-request-expire-articles): New function.

	* gnus-start.el (gnus-check-bogus-newsgroups): Remove bogus
	secondary methods too.

2001-05-03 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-use-followup-to): Set default value to t.

2001-05-03  Florian Weimer  <fw@deneb.enyo.de>

	* message.el (message-dont-reply-to-names): Fix documentation.
	(message-get-reply-headers): Use Mail-Followup-To only for wide
	replies.

2001-05-03 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-request-expire-articles): Calculate # of days
	correctly.
	(nnrss-check-group): Use time.

2001-05-01 19:21:19 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.03 is released.

2001-05-01 19:06:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-topic-article-to-article): Use the
	group.

2001-04-24 19:50:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-server-insert-server-line): Add a space.

2001-04-15 14:55:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Return all
	available headers.

	* gnus-sum.el (gnus-read-all-available-headers): New variable.
	(gnus-get-newsgroup-headers-xover): Use it.

2001-04-14 15:47:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Clean up.

2001-04-30 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-groups): Use throw instead of error.

2001-04-29 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-insert-w3): Use cache before I figure out how to
	disable it.

	* gnus.el (gnus-info-nodes): Remove a few The's.

2001-04-29 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-movemail): Call-process may return a
	signal description string.

	* gnus-start.el (gnus-read-newsrc-el-file):
	gnus-newsrc-file-version may be nil.

	* nnmail.el (nnmail-get-new-mail): Use the exact file only.
	Suggested by Michael Sperber [Mr. Preprocessor]
	<sperber@informatik.uni-tuebingen.de>.

2001-04-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mm-uu.el (mm-uu-configure-list): Fixed customize type.

2001-04-24  Hrvoje Niksic  <hniksic@arsdigita.com>

	* mm-view.el (mm-display-inline-fontify): Allow XEmacs to fully
	fontify HANDLE.

2001-04-18  Simon Josefsson  <simon@josefsson.org>

	* smime.el (smime-ask-passphrase): Rework to return value.
	(smime-sign-region): Rework to bind value and use it.
	(smime-decrypt-region): Ditto.

2001-04-18  Mathias Herberts  <Mathias.Herberts@iroise.net>
	Committed by Simon Josefsson  <simon@josefsson.org>

	* smime.el (smime-ask-passphrase): New function.
	(smime-sign-region): Use it.
	(smime-encrypt-cipher): New variable.
	(smime-decrypt-region): Ditto.

2001-04-12  Jason Merrill  <jason_merrill@redhat.com>
	Committed by Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-shell-open): Erase the buffer *after* copying it into
	the log.

2001-04-14 01:14:42 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	*gnus.el: Oort Gnus v0.02 is released.

2001-04-14 00:48:42  Lars Magne Ingebrigtsen  <larsi@quimby.gnus.org>

	* gnus.el: Oort Gnus v0.01 is released.

2001-04-13 22:01:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-highlight): Highlight read
	undownloaded articles as read articles.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Clean up.
	(gnus-agent-get-undownloaded-list): Mark all undownloaded
	articles, even read ones, as such.

	* gnus-sum.el (gnus-summary-find-matching): Clean up.
	(gnus-find-matching-articles): New function.
	(gnus-summary-limit-include-matching-articles): New command.
	(gnus-summary-limit-include-thread): Include articles that have
	matching subjects.
	(gnus-offer-save-summaries): Clean up.

2001-04-13  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-split-fancy-with-parent): Add docstring.

2001-04-12 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Jason Merrill <jason_merrill@redhat.com>

	* gnus-sum.el (gnus-summary-insert-new-articles): Reverse the articles.

2001-04-10 08:01:15  Katsumi Yamaoka  <yamaoka@jpl.org>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-post-news): Fill the Newsgroups header by the
	newsgroup names when the original article is a news message.

2001-04-12 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-prefix-regexp): Use POSIX regexp if
	supported. Suggest by Jim Meyering <jim@meyering.net>.

2001-04-02  Nevin Kapur  <nevin@jhu.edu>
	Committed by Kai Gro,b_(Bjohann <Kai.Grossjohann@CS.Uni-Dortmund.DE>.

	* nnmail.el (nnmail-split-it): Added check for .* at the end of
	regexp in nnmail-split-fancy.

2001-04-10  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-options-set-recipient): Look at Cc and Bcc too.

2001-04-10  Colin Marquardt  <colin@marquardt-home.de>

	* message.el (message-send-mail): Improve the interaction with the
	user.

2001-04-10  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-message-copy): Work around buggy servers that
	doesn't send TRYCREATE tags.

2001-04-09 01:15:54  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-read-newsrc-el-file): Work with Semi-gnusae.

2001-04-05 21:43:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-update-summary-mark-positions): Use a valid
	date.

2001-04-04 16:13:17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-quit): Check that the dribble buffer
	lives.

2001-04-02 00:40:12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-parse-news-url): New function.
	(gnus-button-handle-news): New function.
	(gnus-button-alist): Point to new functions.

	* gnus-group.el (gnus-group-quit): Only mark buffer in non-empty.

	* gnus-start.el (gnus-read-newsrc-el-file): Nix out
	gnus-format-specs.

	* message.el (message-check-news-header-syntax): Question even
	when Gnus doesn't know the group names.
	(message-send-news): Clean up.

	* gnus-start.el (gnus-dribble-read-file): Say whether Gnus was
	exited on purpose without saving.

	* gnus-group.el (gnus-group-quit): Mark the dribble file as `Q'.

2001-04-01 00:37:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-orphans): Clean up.

	* gnus-win.el (gnus-remove-some-windows): Leave one Gnus window.

	* gnus-sum.el (gnus-summary-exit): Kill the summary buffer a bit
	later.

	* gnus-start.el (gnus-close-all-servers): Find the right items to
	close.

	* qp.el (quoted-printable-decode-region): Just message
	malformation; don't quit.

2001-03-31 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Gerd Moellmann <gerd@gnu.org>.

	* gnus.el (gnus-interactive): A typo.

2001-03-26  Juanma Barranquero  <lektu@uol.com.br>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-delete-alist): Declare it as an alias of
	`assq-delete-all', if that function exists; otherwise use the old
	definition. Documentation changed to match the one in
	`assq-delete-all'.

2001-04-01 00:37:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-close-all-servers): New function.

	* gnus-srvr.el (gnus-server-close-all-servers): Clean up.
	(gnus-server-remove-denials): Clean up.

	* gnus-sum.el (gnus-summary-sort-by-original): New command and
	keystroke.

2001-03-31 02:56:55  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-news): Message where we are sending.
	(message-send-mail): Ditto.

	* gnus.el (gnus-server-string): New function.

	* gnus-sum.el (gnus-summary-up-thread): Doc fix.

	* mm-decode.el (mm-default-directory): Customized.
	(mm-tmp-directory): Ditto.

	* gnus-sum.el (gnus-summary-catchup-and-exit): Doc fix.
	(gnus-get-newsgroup-headers): Return -1 for articles without Lines
	or Chars.
	(gnus-summary-line-format-alist): ?l is now a string.
	(gnus-summary-prepare-threads): Output ? for unknown lines.
	(gnus-summary-insert-line): Ditto.
	(gnus-summary-print-article): Unbalanced parentheses.

	* gnus-msg.el (gnus-inews-do-gcc): Check group to allow it to find
	out whether new stuff has arrived.

2001-03-31 02:14:38  Alan Shutko  <ats@acm.org>

	* gnus-sum.el: Let printing work on ttys on Emacs.

2001-03-31 01:11:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-post-news): Add an empty Newsgroups header
	when forcing news.

	* gnus-sum.el (gnus-summary-mark-article-as-replied): Make into a
	command.

2001-03-31 01:04:54  Francis Litterio  <franl@world.std.com>

	* message.el (message-set-auto-save-file-name): Don't use
	asterisks under nt.

2001-03-31 00:03:42  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-inews-insert-draft-meta-information): Allow
	lists of articles.

	* gnus-uu.el (gnus-uu-digest-mail-forward): Mark as forwarded.

	* gnus-msg.el (gnus-put-message): Clean up.
	(gnus-summary-reply): Mark all replied-to articles as replied to.
	(gnus-inews-add-send-actions): Also mark as forwarded.
	(gnus-summary-mail-forward): Mark as forwarded.

	* gnus-sum.el (gnus-summary-mark-article-as-replied): Take a list
	of articles.
	(gnus-summary-mark-article-as-forwarded): Ditto.

	* gnus-msg.el (gnus-summary-resend-message): Mark article as
	forwarded.
	(gnus-summary-mail-forward): Clean up.

	* gnus.el (gnus-article-mark-lists): Added forward.

	* gnus-sum.el (gnus-forwarded-mark): New variable.
	(gnus-summary-prepare-threads): Use it.
	(gnus-summary-update-secondary-mark): Ditto.
	(gnus-newsgroup-forwarded): New variable.

2001-03-30 23:13:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-summary-reply): Allow very wide replies.
	(gnus-summary-very-wide-reply): New command and keystroke.
	(gnus-summary-very-wide-reply-with-original): Ditto.

	* gnus-score.el (gnus-adaptive-word-length-limit): New variable.
	(gnus-score-adaptive): Use it.

	* gnus-start.el (gnus-get-unread-articles): Clean up.

2001-03-21 20:00:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Work for other
	boards.

2001-03-21  Didier Verna  <didier@lrde.epita.fr>

	* gnus-start.el (gnus-subscribe-newsgroup-hooks): New.
	* gnus-start.el (gnus-subscribe-newsgroup): use it.

2001-03-15 09:47:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Understand
	long-form month names.

2001-03-18 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-all-headers):
	gnus-article-show-all-headers is broken. Use
	gnus-summary-toggle-header instead.

	* mml2015.el (mml2015-gpg-extract-from): No error.

2001-03-18 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Bj,Ax(Brn Mork <bmork@dod.no>.

	* mml2015.el (mml2015-gpg-extract-from): New function.
	(mml2015-gpg-verify): Use it.
	(mml2015-gpg-clear-verify): Use it.

2001-03-17 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup-fill-variables): Use
	fill-paragraph-function.
	(message-fill-paragraph): Take an argument.
	(message-newline-and-reformat): Take another argument.

2001-03-16 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (rmail-output): It is in rmailout.el not rmail.el.

2001-03-16 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward): local-variable-p takes an extra
	argument in XEmacs.

2001-03-16  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-dont-use-nov-p): Renamed from
	`nnimap-use-nov-p' (it really tested the negative).
	(nnimap-retrieve-headers): Use it.

2001-03-11  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-generate-headers-first): Update doc.

2001-03-10  Matthias Wiehl  <mwiehl@gmx.de>

	* gnus.el (gnus-summary-line-format): Typo.

2001-03-11  Simon Josefsson  <simon@josefsson.org>

	* mailcap.el (mailcap-mime-data): Add application/sieve.
	(mailcap-mime-extensions): Add .siv, .xls.

2001-03-14 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Christoph Conrad <christoph.conrad@gmx.de>

	* gnus-score.el (gnus-summary-lower-thread): Typo.

2001-03-14 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward-decoded-p): New variable.
	(message-forward-subject-author-subject): Use it.
	(message-make-forward-subject): Use it.
	(message-forward): Use it.

	* gnus-uu.el (gnus-uu-digest-mail-forward): Use it.

	* mm-util.el, message.el, rfc2047.el, gnus-sum.el, gnus-score.el:
	Sync with Emacs 21 (tag EMACS_PRETEST_21_0_100).

;;Has been fixed -- zsh.
;;2001-03-05  Dave Love  <fx@gnu.org>
;;
;;	* mm-util.el (mm-mime-mule-charset-alist): Fix utf-8 case.
;;	Move it after definition of mm-coding-system-p.
;;
2001-03-01  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-inhibit-file-name-handlers): Add
	image-file-handler.

2001-02-11  Dave Love  <fx@gnu.org>

	* message.el (message-signature-file): Fix doc, :type.

2001-02-08  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-fold-region): Don't forward-char at EOB.
	(message-posting-charset): Defvar when compiling again.
	(rfc2047-encodable-p): Require message.

	* gnus-sum.el (gnus-alter-articles-to-read-function):
	* gnus-score.el (gnus-score-after-write-file-function): Fix :type.

2001-03-08 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el: New file.

2001-03-08 02:41:36  Katsumi Yamaoka  <yamaoka@jpl.org>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-unfold-region): Fix arg of
	`skip-chars-forward'.

2001-03-07 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-group): Restore auto save files if
	the original files do not exist.

2001-03-07 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-find-bnews): Print messages on illegal
	SCORE paths.

	* mm-decode.el (mm-dissect-buffer): Call
	mail-extract-address-components only if necessary.

2001-03-06 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-find-bnews): Maybe there is no
	directory part.
	(gnus-score-search-global-directories): Use file-directory-p.

	* gnus-score.el (gnus-score-score-files-1): Use
	gnus-kill-files-directory.
	From Adrian Aichner <adrian@xemacs.org>.

2001-03-05 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (charset): Move here from gnus-sum.el.

2001-03-04 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-preview): Disable local map.

	* gnus-sum.el (gnus-summary-make-menu-bar): Make
	gnus-article-post-menu here.

	* gnus-art.el (gnus-article-make-menu-bar): Make summary-menu bar
	if it has not been made.

2001-03-02 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-describe-key): Map key to event.
	(gnus-article-describe-key-briefly): Ditto

2001-03-01 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-limit-include-expunged): Fix.

2001-03-01 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Katsumi Yamaoka <yamaoka@jpl.org>.

	* dgnushack.el (coerce, merge, subseq): defmacro.

2001-03-01 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el (nndraft-request-group): Move it here from nndraft.el.
	A fake defalias in nndraft.el results a not-activated bug in
	uncompiled versions.

2001-02-26 11:27:27  Paul Jarc  <prj@po.cwru.edu>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-split-references): Handle malformed References:.

2001-02-26 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-mime-part-status): 1 part.

2001-02-25 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From NAGY Andras <nagya@inf.elte.hu>.

	* gnus.el (gnus-parameters): Typo.

2001-02-24 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-read-method): Remove redundancy.

2001-02-23 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-backslash-url): New variable.
	(nnslashdot-request-list): Use it.

2001-02-23 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-generate-active-info): Fix the case when there is
	no file.

	* gnus-sum.el (gnus-summary-import-article): Display it. Enable edit.
	(gnus-summary-create-article): New function.

	* gnus-group.el (gnus-group-mark-article-read): New function.

	* gnus-msg.el (gnus-inews-do-gcc): Use it.

	* gnus-art.el (gnus-article-edit-article): Set modified-p nil.

2001-02-23 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-edit-done): Don't use
	gnus-article-edit-exit.
	(gnus-article-edit-exit): Confirm and insert original-article-buffer.

	* gnus.el (gnus-parameters): New variable.
	Suggested by NAGY Andras <nagya@inf.elte.hu>.
	(gnus-parameters-get-parameter): New function.
	(gnus-group-find-parameter): Use it.

2001-02-23  Simon Josefsson  <simon@josefsson.org>

	* gnus-msg.el (gnus-post-method): Fix documentation to reflect
	change of default value to `current'.

2001-02-23 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nneething.el (nneething-get-head): Insert unreadable file too.

2001-02-22 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-insert-articles): Remove fetched headers.

	* webmail.el (webmail-type-definition): Deja is bought by google.

2001-02-22 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-fetch-headers): New function.
	(gnus-select-newsgroup): Use it.
	(gnus-summary-insert-articles): New function.
	(gnus-summary-insert-old-articles): New function.
	(gnus-summary-insert-new-articles): New function.

	* gnus-group.el (gnus-group-prepare-flat-list-dead): Use decoded-name.
	(gnus-group-list-active): Ditto.
	* gnus-sum.el (gnus-set-mode-line): Ditto.
	(gnus-summary-read-group-1): Ditto.

2001-02-21 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-get-new-news-this-topic): Redraw the
	current topic.

2001-02-21 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smiley.el (gnus-smiley-display): Don't do widening.

	* smiley-ems.el (gnus-smiley-display): Don't do widening. Smiley
	within body.

	* gnus-msg.el (gnus-inews-do-gcc): Activate group anyway.

	* gnus-art.el (gnus-mime-display-multipart-alternative-as-mixed):
	New variable.
	(gnus-mime-display-multipart-related-as-mixed): New variable.
	(gnus-mime-display-part): Use them.

2001-02-20 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-setup-news): Allow gnus-group-line-format to be
	something special.

2001-02-20 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-request-group): Set nnweb-group anyway.
	(nnweb-request-article): Call reference if exists.
	(nnweb-type-definition): Dejanews is bought by google.com.
	Beta!

2001-02-19 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-reminder): "Confirm to exit?"

2001-02-19  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-thread-sort-functions): Doc fix.  Refer to
	gnus-article-sort-functions.
	(gnus-article-sort-functions): Doc fix.  Refer to
	gnus-thread-sort-functions.

2001-02-18 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Paul Jarc <prj@po.cwru.edu>.

	* message.el (message-get-reply-headers): More fixes.

2001-02-17  Paul Jarc  <prj@po.cwru.edu>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-get-reply-headers): Fix bug with
	Mail-Followup-To/to-address interaction.

2001-02-17 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-configure-posting-styles): Match header in
	gnus-article-copy.

2001-02-16 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-do-send-housekeeping): Rename to a better
	name.

2001-02-16 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cancel-news): Check article first, then ask
	yes or no.

2001-02-16 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-type-alist): Add emacs-sources.

2001-02-16 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-range.el (gnus-range-normalize): New function.

2001-02-15  NAGY Andras  <nagya@inf.elte.hu>

	* imap.el (imap-gssapi-open): Set imap-c-l-s-first.

2001-02-14 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-server-regenerate-server): Use gnus-get-function.

	* nnagent.el (nnagent-request-regenerate): New function.

	* nnfolder.el (nnfolder-request-regenerate): New deffoo.

	* nnml.el (nnml-generate-nov-databases): Accept argument
	server. Don't open server if it is opened.
	(nnml-request-regenerate): Use it. Change to deffoo.

2001-02-14  Katsumi Yamaoka  <yamaoka@jpl.org>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-define-group-parameter): Fix.

2001-02-14 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-define-group-parameter): Improved.

	* gnus-sum.el (charset): Define parameter.
	(ignored-charsets): Ditto.
	(gnus-summary-setup-default-charset): Use them.

	* gnus-start.el (gnus-read-descriptions-file): Use them.

	* gnus-cus.el (gnus-group-parameters): Remove them.

2001-02-14 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-article): Redo highlight.

2001-02-13 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-read-group-1): Remove
	gnus-summary-set-local-parameters.
	(gnus-summary-setup-buffer): Put it here.

2001-02-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (to-address): Define parameter.
	(to-list): Ditto.
	* gnus-art.el (article-hide-boring-headers): Use them.
	* gnus-msg.el (gnus-post-news): Ditto.
	* gnus-cus.el (gnus-group-parameters): Remove them.

2001-02-13 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-reminder): New function.

	* gnus-art.el (gnus-sender-save-name): New function.

2001-02-13 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-mime-charset): Error message.

2001-02-13 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-body-syntax): Don't check mml lines.

2001-02-12 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-subscribe-topics): Return nil if not
	subscribe.

	* gnus-start.el (gnus-call-subscribe-functions): New function.
	(gnus-find-new-newsgroups): Use it.
	(gnus-ask-server-for-new-groups): Use it.
	(gnus-check-first-time-used): Use it.
	(gnus-subscribe-newsgroup-method): Grok a list of functions.
	(gnus-subscribe-options-newsgroup-method): Ditto.
	(gnus-subscribe-hierarchically): Return gnus-subscribe-newsgroup's
	return .

2001-02-12  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-cus.el (gnus-score-customize): Doc fix.

2001-02-11  Jesper Harder  <harder@ifa.au.dk>

	* dgnushack.el (my-getenv): Typo.

2001-02-11 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-make-load): Don't autoload smiley functions.

2001-02-11 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-suspend): Offer save summaries.

	* gnus-art.el (gnus-treat-leading-whitespace): New variable.
	(gnus-treatment-function-alist): Use it.
	(article-remove-leading-whitespace): New function.
	(gnus-article-make-menu-bar): Use it.

	* gnus-sum.el (gnus-summary-wash-empty-map): Add
	remove-leading-whitespace.
	(gnus-summary-wash-map): Bind strip-headers-in-body to `W a',
	because of conflict.

2001-02-09 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in: Hack generating gnus-load.el.
	* dgnushack.el: Ditto.
	* gnus-load.el: Remove it.

2001-02-09 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el : Add URLDIR.

	* Makefile.in (EMACS_COMP): Ditto.

2001-02-09 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cus.el (gnus-score-customize): Error on no score file.

2001-02-09 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-merge-handles): New function.

	* mm-view.el (mm-inline-message): Use it.
	(mm-view-message): Ditto.

	* mm-partial.el (mm-inline-partial): Ditto.

	* mm-extern.el (mm-inline-external-body): Ditto.

	* gnus-art.el (gnus-mime-view-part): Ditto.
	(gnus-mime-view-part-as-type): Ditto.
	(gnus-mime-save-part-and-strip): Prevent users to strip in some
	cases.

2001-02-08 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cancel-news): Allow to shoot foot.
	(message-supersede): Ditto.

2001-02-08  Tommi Vainikainen  <thv@iki.fi>

	* gnus-sum.el (gnus-simplify-subject-re): Use
	message-subject-re-regexp.

2001-02-08 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-expiry-target-group): Bind
	nnmail-cache-accepted-message-ids to nil.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use binary
	coding system.

2001-02-07 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encode-region): Make sure characters are
	between 00 and FF.  Don't check charset.

	* mm-encode.el (mm-encode-content-transfer-encoding): Use unibyte
	in Emacs 20.
	* rfc2047.el (rfc2047-q-encode-region): Ditto.

2001-02-07 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-forward-subject): Argument decoded.
	(message-forward): Use it when digest.

	* gnus-uu.el (gnus-uu-grab-articles): Shoot down original article
	buffer.

2001-02-07  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-generate-headers-first): Doc fix.

2001-02-07 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-make-date-line): Error proof.

2001-02-06 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-listing-limit): New variable.
	(gnus-group-prepare-flat-list-dead): Use old trick to speed up.

	* gnus-topic.el (gnus-group-prepare-topics): Use gnus-killed-hashtb.

2001-02-06 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-newline-and-reformat): Special case for
	breaking at BOL.

2001-02-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-uu.el (gnus-uu-save-article): Make the topics summary a
	message/rfc822.

2001-02-06 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-encode-message-body): Don't insert
	Content-Type if it is inside a mail.

2001-02-06 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-article-menu-add): Add
	gnus-article-commands-menu.

	* gnus-sum.el (gnus-summary-make-menu-bar): Don't share menu bar
	in Emacs.

	* gnus-start.el (gnus-read-descriptions-file): Use
	gnus-group-name-charset and gnus-group-charset-alist.

2001-02-04 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-mark-as-processable): Understand
	active region.

	* gnus-start.el (gnus-group-change-level): Remove from both
	gnus-zombie-list and gnus-killed-list.

2001-02-04 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-subscribe-options-newsgroup-method): Add
	gnus-subscribe-topics.

	* gnus-cus.el (gnus-extra-topic-parameters): Fix doc.

2001-02-04 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-make-menu-bar): Make
	gnus-article-post-menu.

	* gnus-xmas.el (gnus-xmas-article-menu-add): Add post menu.

	* gnus-sum.el (gnus-summary-make-menu-bar): Use t if XEmacs.

	* gnus-group.el (gnus-group-make-menu-bar): Ditto.

	* message.el (message-mode-menu): Ditto.

	* gnus-art.el (defvar): eval-when-compile.

2001-02-02 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agentize): Fix doc.

2001-02-02  Karl Kleinpaste  <karl@charcoal.com>

	* mml.el (mml-preview): Bind `q'.

2001-02-02 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-mime-mule-charset-alist): non-Mule case.

2001-01-31  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-mime-mule-charset-alist)
	(mm-find-mime-charset-region): Consider mule-utf-8.

2001-01-31  Dave Love  <fx@gnu.org>

	* gnus-art.el (gnus-article-x-face-command)
	(gnus-treat-display-xface, gnus-treat-display-smileys): Add
	:version.

2001-01-26  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-multibyte-string-p): New.

;;	* qp.el: Remove un-logged bogus changes from 2000-12-20.
;;	(quoted-printable-encode-region): Doc fix.  Don't call
;;	string-as-multibyte on class.  Clarify line-folding.
	(quoted-printable-encode-string): Make temp buffer inherit
	string's multibyteness.

2001-01-23  Gerd Moellmann  <gerd@gnu.org>

	* nnheader.el (toplevel): Don't require `gnus-util' at
	compile-time; this creates a circular dependency, and prevents
	a bootstrap.

2001-01-22  Andreas Schwab  <schwab@suse.de>

	* nnheader.el (gnus-delete-line): Autoload it as a macro.

2001-01-31 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-remove-list-identifiers): Use consp.

	* gnus-art.el (article-hide-list-identifiers): Ditto.

	* gnus-sum.el (gnus-summary-remove-list-identifiers): Ditto.

2001-01-31 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-remove-list-identifiers): Similar.

	* gnus-art.el (article-hide-list-identifiers): Similar.

2001-01-31  Karl Kleinpaste  <karl@charcoal.com>

	* nnmail.el (nnmail-remove-list-identifiers): Improved.

2001-01-31 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-summary-score-entry): match may be an integer.

2001-01-30 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-string-equal): New function.

	* gnus-art.el (article-hide-boring-headers): Use it.

2001-01-27  Karl Kleinpaste  <karl@charcoal.com>

	* gnus-art.el (gnus-article-banner-alist): eGroups new banner.

2001-01-27 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-mail): Support switch-action.

2001-01-26 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-summary-save-in-pipe): Prompt for saving
	command if there is not last-saver.

2001-01-24 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-open-connection): 201 is possible.

2001-01-24 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode): MIME charset is not coding system.
	(rfc2047-charset-encoding-alist): Add big5.

2001-01-24 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-add-server): Redraw the line.
	(gnus-agent-remove-server): Ditto.
	(autoload): gnus-server-update-server.

	* gnus-srvr.el (gnus-server-line-format): Add %a.
	(gnus-server-line-format-alist): Add gnus-tmp-agent.
	(gnus-server-insert-server-line): Use it.

2001-01-24 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-mime-mule-charset-alist): Preferred MIME names
	GB2312 and Big5.

2001-01-24  Simon Josefsson  <sj@extundo.com>

	* mail-source.el (mail-sources): Add :program specifier to IMAP
	mail source.
	(mail-source-fetch-imap): Map :program to `imap-shell-program'.

2001-01-24 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-lower-thread): Fix a doc typo.

2001-01-24 12:22:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nntp.el (nntp-wait-for): Return the success code.
	(nntp-open-connection): Use it.

2001-01-11 11:49:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-int.el (gnus-check-server): Allow breaking the opening.

2001-01-23 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-article): Remove process mark.

2001-01-22 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-article): Take one prefix
	argument. Allow to print several articles in one file.

2001-01-21 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-type-definition): netaddress changes.

2001-01-21 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Fix copyright. Remove trailing spaces.

	* message.el (message-forward): Use mule4.

2001-01-20 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-string-as-unibyte): New function.

	* message.el (message-forward): Use it.

2001-01-19 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-original-without-signature): Don't peel
	off the blank line.
	(message-get-reply-headers): Add Cc if it is not in follow-to.

2001-01-20  Simon Josefsson  <sj@extundo.com>

	* mm-decode.el (mm-handle-multipart-from): Add.
	(mm-dissect-buffer): Save From: header value.
	(mm-security-from): Remove.
	(mm-possibly-verify-or-decrypt): Don't set mm-security-from.

	* mml-smime.el (mml-smime-verify): Use `mm-handle-multipart-from'
	instead of `mml-security-from'.  Protect null from value.

2001-01-20  Simon Josefsson  <sj@extundo.com>

	* mailcap.el (mailcap-mime-data): Run `gnumeric' on
	application/vnd.ms-excel attachments.

2001-01-19  Simon Josefsson  <sj@extundo.com>

	* gnus-art.el (gnus-button-alist): Add `?=' to mailto URL regexp.

2001-01-19 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-ignored-mail-headers): Ditto.

2001-01-19  Simon Josefsson  <sj@extundo.com>

	* message.el (message-ignored-news-headers): Only search beginning
	of line.

2001-01-19  Alberto Lusiani  <a.lusiani@noemail.org>

	* message.el (message-send-mail): Content-Type may not be there.

2001-01-18 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ems.el (gnus-article-display-xface): Add BUFFER.
	* gnus-xmas.el (gnus-xmas-article-display-xface): Ditto.

	* gnus-art.el (article-display-x-face): Insert X-Face if there is
	not.

2001-01-18 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-read-group-1): Don't test dead
	non-native groups.

2001-01-18 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-yank-original): Understand
	universal-argument.

2001-01-18 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-boring-article-headers): Add to-address.
	(article-hide-boring-headers): Ditto.

	* mm-view.el (mm-inline-message): Insert a newline unless bolp.

2001-01-18 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-fold-region): Don't insert LWSP if there is
	one.

2001-01-16  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-make-in-reply-to): Add comment to message-id
	(old syntax, see 2000-08-02 change).

2001-01-16 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-url-mailto): Use gnus-msg-mail.
	(gnus-button-mailto): Setup message. Moved to gnus-msg.el.
	(gnus-button-reply): Ditto.

2001-01-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-display-x-face): Fix.

2001-01-15 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-display-x-face): Use
	gnus-original-article-buffer.

2001-01-15  Jack Twilley  <jmt@tbe.net>

	* message.el (message-add-header): Move to point-max.

2001-01-15  Simon Josefsson  <simon@josefsson.org>

	* smime.el (smime-CA-directory, smime-CA-file): Change default to
	nil, improve documentation.
	(smime-certificate-directory): Comment out false hints (until it
	is implemented).

	* mml-smime.el (mml-smime-sign): Place user in customize buffer if
	there aren't any keys.
	(mml-smime-verify): If smime-CA-{file,directory} set, also try to
	verify certificate.  Default is changed to only check integrity.
	Improved security status texts.  If a certificate doesn't contain
	a email address, don't fail.

	* smime.el (smime-noverify-region):
	(smime-noverify-buffer): New functions.  Verifies integrity only.

2001-01-12 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-sort-by-score): Reverse order.

2001-01-12 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-windows): switch-to-buffer in XEmacs.
	(gnus-remove-some-windows): Ditto.

2001-01-12 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-make-date-line): 11th.

2001-01-11 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-gpg-encrypt): Remove CR.
	(mml2015-gpg-sign): Ditto.

2001-01-10 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Sync with EMACS_PRETEST_21_0_95.
	* gnus.el (gnus-default-posting-charset): Bogus. Removed.

2001-01-08  Dave Love  <fx@gnu.org>

	* mm-encode.el (mm-qp-or-base64): Don't base64 for the sake of a
	single character.

	* mm-util.el (mm-mime-mule-charset-alist): Add Latin-{8,9}.

	* message.el: Doc and message fixes.
	(message-send-rename-function)
	(message-make-forward-subject-function)
	(message-send-mail-function, message-reply-to-function)
	(message-wide-reply-to-function, message-followup-to-function)
	(message-distribution-function, message-auto-save-directory): Fix
	:type.

	* gnus/mml.el (mml-parse-1): Frob mml-confirmation-set when
	proceeding after warnings.  Amend multipart warning message.

2001-01-04  Dave Love  <fx@gnu.org>

	* gnus-util.el (nnmail-pathname-coding-system): Defvar when
	compiling.
	(gnus-make-directory): Require nnmail.

	* mm-decode.el (mm-inline-media-tests): Add
	image/x-portable-bitmap.
	(mm-get-image): Grok pbm.

2001-01-10  Paul Stevenson  <p.stevenson@surrey.ac.uk>

	* nnvirtual.el (nnvirtual-request-expire-articles): delq nil.

2001-01-09  Didier Verna  <didier@xemacs.org>

	* dgnushack.el (dgnushack-compile): give a dummy value to
	`gnus-xmas-glyph-directory' for the time of compilation.
	* gnus-agent.el: moved some XEmacs specific hook add-ons from
	`gnus-xmas-[re]define' to avoid loosing user custom settings.
	* gnus-art.el: ditto.
	* gnus-group.el: ditto.
	* gnus-salt.el: ditto.
	* gnus-sum.el: ditto.
	* gnus-topic.el: ditto.
	* gnus-xmas.el (gnus-xmas-define): see above.
	* gnus-xmas.el (gnus-xmas-redefine): see above.
	* gnus-xmas.el (gnus-xmas-glyph-directory): generate a
	non-continuable error when the directory can't be found.

2001-01-09 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-interactively-view-part): Don't copy-sequence
	handle.
	* gnus-art.el (gnus-mime-view-part): Copy it.
	(gnus-mime-view-part-as-type): Add into gnus-article-mime-handles.

2001-01-09  Michael Downes  <mjd@ams.org>

	* gnus-sum.el (gnus-summary-read-group-1): More useful message.

2001-01-08 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-get-new-mail): Find group only if file is not
	orig-file. Use ',source.

2001-01-08 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-modeline-glyph):
	(gnus-xmas-group-startup-message):
	Detect gnus-xmas-glyph-directory when it is nil.

2001-01-08 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-get-message-count): Andrew Innes
	<andrewi@gnu.org>'s patch of 1999-12-01 was not fully committed.

2001-01-05 06:49:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-session): Say what we quit.

	* time-date.el (time-to-number-of-days): New function.

2001-01-04 11:06:14  Gregory Chernov  <greg@visiontech-dml.com>

	* nnslashdot.el (nnslashdot-request-list): Always get the right
	sid.

2001-01-05 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-minibuffer-local-map): New keymap.
	(message-read-from-minibuffer): Use it.
	* gnus-msg.el (gnus-summary-resend-message): Use it

2001-01-04 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-display-time-event-handler): New function.
	(gnus-after-getting-new-news-hook): Use it.

2001-01-03 07:26:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-ignored-mail-headers): Add draft header.

2001-01-02 06:28:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-expire-articles): Don't save
	excursion.

	* nnslashdot.el (nnslashdot-request-list): Get the right year.

2001-01-01 00:52:44  Ed L. Cashin  <ecashin@coe.uga.edu>

	* gnus-sum.el (gnus-summary-expire-articles): Save excursion.

2000-12-31 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-decode-region): Don't backward-char.

2000-12-31 03:57:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-draft.el: Mark articles as replied.

	* gnus-sum.el (gnus-summary-add-mark): New function.

	* gnus-group.el (gnus-add-mark): New function.

	* gnus-sum.el (gnus-summary-buffer-name): New function.
	(gnus-summary-setup-buffer): Use it.

	* gnus-draft.el: Set things up with the right post method and
	stuff.

	* message.el (message-ignored-news-headers): Remove X-Draft-From.

	* gnus-msg.el (gnus-inews-insert-draft-meta-information): New function.

	* gnus.el (gnus-draft-meta-information-header): New variable.

2000-12-30 00:17:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treatment-function-alist): Move the date
	functions before the header sorting functions.

	* mm-uu.el (mm-uu-pgp-signed-extract-1): Unquote "- " quotes.

	* dgnushack.el (dgnushack-compile): Message whether there is w3.
	Don't (push "/usr/share/emacs/site-lisp" load-path).

	* gnus-cite.el (gnus-article-fill-cited-article): Don't add space
	to empty fill prefixes.

2000-12-30 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-open-connection): Kill pbuffer if process is nil.
	Suggested by Christoph Conrad <christoph.conrad@gmx.de>.

2000-12-30 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (autoload): Autoload gnus-sorted-intersection.

	* nnml.el (autoload): Move to nnheader.el.

	* nnfolder.el (nnfolder-existing-articles): Reversed, i.e. sorted.
	(nnfolder-request-expire-articles): Use gnus-sorted-intersection.
	(nnfolder-retrieve-headers): Use intersection. Suggested by Jonas
	Kvarnstr,Av(Bm <jonkv@ida.liu.se>.

2000-12-30 00:17:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-make-date-line): Get the hours right.
	(gnus-ignored-headers): More hiding.

	* nnmail.el (nnmail-expiry-wait): Not an integer.

	* message.el (message-goto-body): Only expand abbrev when called
	interactively.
	(message-make-lines): Use it.

2000-12-29 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-yank-articles): Reparse headers.

2000-12-30 00:17:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-limit-include-expunged): Really
	include the expunged articles.

	* gnus-group.el (gnus-group-sort-by-server): New function.

	* gnus.el (gnus-method-to-server-name): New function.
	(gnus-group-prefixed-name): Use it.

	* gnus-group.el (gnus-group-sort-function): Doc fix.
	(gnus-group-sort-groups-by-server): New command.

2000-12-29 13:25:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-date-english): New variable.
	(article-date-english): New command.
	(gnus-english-month-names): New variable.
	(article-make-date-line): Do 'english.

	* gnus-cite.el (gnus-article-fill-cited-article): Add a space
	after the fill prefix.

	* gnus-sum.el (gnus-summary-make-menu-bar): Removed "Enter
	score...".

	* gnus-art.el (gnus-ignored-headers): Hide more headers.

	* message.el (message-mode-map): Bind comment-region.

	* gnus-art.el (gnus-mime-display-part): Let w3 display
	multipart/related.

	* mm-bodies.el (mm-long-lines-p): New function.
	(mm-body-encoding): Use it.
	(mm-body-encoding): Encode articles with lines longer than 1000
	characters.

2000-12-29 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-enable-multibyte): Use
	default-enable-multibyte-characters.
	(mm-enable-multibyte-mule4): Ditto.
	(mm-disable-multibyte): Test XEmacs.
	(mm-disable-multibyte-mule4): Ditto.
	(mm-with-unibyte-current-buffer): Simplified.
	(mm-with-unibyte-current-buffer-mule4): Ditto.

2000-12-28 19:44:56  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheaderxm.el (nnheader-string-as-multibyte): New alias.

	* nnheader.el (nnheader-string-as-multibyte): New alias.

	* mm-view.el (mm-inline-text): Warn when bugging out in w3.

	* gnus-uu.el (gnus-message-process-mark): New function.
	(gnus-uu-mark-by-regexp): Use it.
	(gnus-new-processable): New function.

2000-12-28 19:21:57  Inge Frick  <inge@nada.kth.se>

	* gnus-sum.el (gnus-no-mark): New variable.

2000-11-01 01:12:29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnwfm.el (nnwfm-create-mapping): Remove quote marks and
	backslashes.

2000-12-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-banner-alist): Remove duplicate
	definition.

2000-12-25 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): elc is in the current directory.

	* qp.el (quoted-printable-encode-region): Don't check multibyte in
	XEmacs.

2000-12-25  Lloyd Zusman  <ljz@asfast.com>

	* mml.el (mml-read-tag): Save tag location.

2000-12-25  Simon Josefsson  <simon@josefsson.org>

	* starttls.el: Sync with Emacs 21.

2000-12-24 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mail): Support yank-action.

	* message.el (message-setup): Revoke the last change.

2000-12-24 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup): Use cons. Suggested by Johan Vromans
	<jvromans@squirrel.nl>.

2000-12-24  Simon Josefsson  <sj@extundo.com>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Preserve
	mailing list junk at end of part.

2000-12-23  Simon Josefsson  <sj@extundo.com>

	* nnimap.el (nnimap-expiry-target): New function.
	(nnimap-request-expire-articles): Use it.

2000-12-22 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-group-parameters-more): New variable.
	* gnus-cus.el (gnus-group-customize): Use it.

	* gnus.el (gnus-define-group-parameter): New macro.
	(auto-expire): Use it
	(total-expire): Use it.
	* gnus-art.el (banner): Use it.

	* mml.el (mml-parse): save-excursion. Suggested by Lloyd Zusman
	<ljz@asfast.com>.

2000-12-22 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-create-topic): Use list.

	* gnus-vm.el (gnus-summary-save-article-vm): Require gnus-art
	before binding gnus-default-article-saver.

	* gnus-sum.el (gnus-summary-save-article):
	(gnus-summary-pipe-output):
	(gnus-summary-save-article-mail):
	(gnus-summary-save-article-rmail):
	(gnus-summary-save-article-file):
	(gnus-summary-write-article-file):
	(gnus-summary-save-article-body-file): Ditto.

	* gnus-mh.el (gnus-summary-save-article-folder): Ditto.

2000-12-22 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-security-button-map):
	(gnus-mime-button-map): Add parent.

2000-12-22 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* messagexmas.el (message-xmas-redefine): New function.

	* message.el: Use it.

	* gnus-art.el (gnus-article-check-hidden-text): Return t.

	* gnus-util.el (gnus-remove-text-properties-when): Return t.

2000-12-22 03:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-multipart): Avoid errors owing to
	malformatted messages.

2000-12-22 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-image-load-path): New function.

	* gnus-group.el (gnus-group-make-tool-bar): Use it.

	* gnus-sum.el (gnus-summary-make-tool-bar): Use it.

	* message.el (message-tool-bar-map): Use it.

	* Makefile.in (install-el): New rule.

2000-12-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-treat-dumbquotes): Quote \.

2000-12-21 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treat-emphasize): Don't treat emphasis if
	Emacs 20 runs on a terminal.

2000-12-21 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-bug): Revert to save-excursion.

	* mml.el (gnus-add-minor-mode): Autoload.

	* message.el (message-forward): Save-restriction.

2000-12-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (article-treat-dumbquotes): More doc, provided by
	Paul Stevenson <p.stevenson@surrey.ac.uk>

2000-12-21 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-mode-map): Use C-c C-n prefix.

	* mml.el (gnus-ems): Don't require.

	* gnus.el (gnus-decode-rfc1522): Removed.
	(gnus-set-text-properties): Define.

2000-12-21 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-*): handle may be nil.

	* gnus-sum.el (gnus-summary-mode): Turn on gnus-mailing-list-mode.

	* gnus.el (gnus-group-remove-excess-properties): Not defined
	in gnus-xmas.

2000-12-20 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mail-user-agent): Add :version.

2000-12-21  Miles Bader  <miles@gnu.org>

	* message.el (message-mode): Set `comment-start' to the  yank prefix.

2000-12-20 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mail-user-agent): New variable.
	(message-setup): Renamed to message-setup-1. Support
	mail-user-agent.
	(message-mail-user-agent): New function.
	(message-mail): Use it.
	(message-reply): Use it.
	(message-resend): Use it.
	(message-mail-other-window): Use it.
	(message-mail-other-frame): Use it.

	* gnus-msg.el (gnus-bug): Support mail-user-agent.

2000-12-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tool-bar-map): Simplify.
	(message-narrow-to-head-1): New function.
	(message-narrow-to-head): Use it.
	(message-reply): Ditto.
	(message-cancel-news): Ditto.
	(message-supersede): Ditto.
	(message-make-forward-subject): Ditto.
	(message-bounce): Ditto.

2000-12-20 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* uudecode.el (uudecode-decode-region-external): make-temp-file
	may not be defined.

	* binhex.el (defalias): eval-and-compile.

	* message.el (message-tool-bar-map): New function.
	(message-mode): Use it.

2000-12-20 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-find-connection): Remove the entry.
	(nntp-retrieve-groups): (gnus-buffer-live-p buf).

2000-12-20 05:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-mail-forward): Use original buffer.

	* message.el (message-forward): Copy buffer in unibyte mode.

2000-12-20 04:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-forward-subject): Don't widen. Decode.
	(message-forward): Don't decode subject.

2000-12-20  Christoph Conrad  <C.Conrad@cli.de>

	* qp.el (quoted-printable-encode-region): Upcase QP.

2000-12-20 03:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-possibly-verify-or-decrypt): Use
	mail-extract-a-c instead. Don't depend on Gnus.

	* mml.el (gnus-ems): Require it.

	* gnus-msg.el (gnus-summary-mail-forward):

	* message.el (message-forward):  Move mime-to-mml here.

2000-12-20 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el, gnus-sum.el, message.el: Add :help unless Emacs.
	* gnus-art.el (gnus-insert-mime-button): Simplify.
	(gnus-mime-display-alternative): Ditto.
	(gnus-insert-mime-security-button): Ditto.

2000-12-20 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-add-text-properties-when): In XEmacs,
	text-property-not-all doesn't return nil when start=mark(end).
	(gnus-remove-text-properties-when): Ditto.

2000-12-20 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-group-change-level): Remove group from
	gnus-active-hashtb if real killed.

2000-12-19 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-insert-mime-button): Emacs20 needs local-map.
	(gnus-mime-display-alternative): Ditto.
	(gnus-insert-mime-security-button): Ditto.

2000-12-19 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-group-change-level): Don't add it into
	killed-list if it was killed.

2000-12-19 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmbox.el (nnmbox-file-coding-system): Use binary.
	(nnmbox-active-file-coding-system): Ditto.

	* gnus-cus.el (gnus-group-parameters): Add posting-style.

2000-12-19 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-version):
	(gnus-version-number): Set to Oort Gnus 0.01.

	* gnus-art.el (gnus-mime-security-button-map):
	(gnus-insert-mime-security-button): Fix for Emacs21.

2000-12-19 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el, gnus-sum.el, message.el: Comment out :help in
	easymenu, because XEmacs doesn't understand :help.

	* mm-uu.el: Require binhex.

2000-12-19 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Merged. Emacs21 CVS tag is zsh-merge-ognus-1.

2000-12-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-synonym-alist): Fix a typo.

2000-12-18  Gerd Moellmann  <gerd@gnu.org>

	* *.xpm, *.pbm: Convert icons icons to size 24x24.

2000-12-18  Dave Love  <fx@gnu.org>

	* gnus-msg.el (news-setup, news-reply-mode): Don't autoload
	(unused).

2000-12-13  Miles Bader  <miles@gnu.org>

	* smiley-ems.el (smiley-region): Bind `inhibit-point-motion-hooks'
	to t, so that we don't get stuck while trying to smilefy
	intangible text.

2000-12-12  Gerd Moellmann  <gerd@gnu.org>

	* smiley-ems.el (smiley-regexp-alist): Make regexps match
	at the end of the buffer.
	(smiley-region): In the loop, move to the end of the submatch
	matching the smiley instead of using the end of the match
	of the whole regexp.

2000-12-12  Eli Zaretskii  <eliz@is.elta.co.il>

	* message.el (message-mode): Doc fix.

2000-12-12  Gerd Moellmann  <gerd@gnu.org>

	* smiley-ems.el (smiley-region): Doc fix.

2000-12-11  Miles Bader  <miles@gnu.org>

	* gnus-sum.el (gnus-summary-recenter): When trying to keep the
	bottom line visible, check to see if it's partially obscured, and
	if so, either scroll one more line to make it fully visible, or
	revert to showing the second line from the top.

2000-12-07  Dave Love  <fx@gnu.org>

	* mailcap.el (mailcap-download-directory)
	* gnus-audio.el (gnus-audio-directory)
	* smiley-ems.el (smiley-data-directory): Fix :type.

2000-11-30  Dave Love  <fx@gnu.org>

	* message.el (message-auto-save-directory): Use
	file-name-as-directory.
	(message-set-auto-save-file-name): Create
	message-auto-save-directory if necessary.
	(message-replace-chars-in-string): Removed -- unused.
	(message-mail-alias-type): Customize.
	(message-headers): Remove duplicate defgroup.

2000-11-29  Dave Love  <fx@gnu.org>

	* qp.el (quoted-printable-decode-region): Use error, not message
	to report malformed text (like base64).  Amend message.

2000-11-29  Miles Bader  <miles@gnu.org>

	* message.el (message-header-lines): Fontify tag.

2000-11-27  Dave Love  <fx@gnu.org>

	* nnlistserv.el: Ignore errors when requiring nnweb and avoid a
	compiler warning.

;2000-11-26  Dave Love  <fx@gnu.org>
;
;	* mm-uu.el (mm-uu-configure-list): Fix typo in :type.
;
2000-11-23  Dave Love  <fx@gnu.org>

	* uu-post.pbm, uu-decode.pbm: new files from XPMs.

	* mm-uu.el (uudecode): Require.
	(uudecode-decode-region, uudecode-decode-region-external): Don't
	autoload.
	(mm-uu-copy-to-buffer): Doc fix.
	(mm-uu-decode-function, mm-uu-binhex-decode-function): Doc, custom
	type fix.

	* mailcap.el: Doc fixes.
	(mailcap-mime-data): Various adjustments.
	(mailcap): New group.
	(mailcap-download-directory): Customize.
	(mailcap-generate-unique-filename, mailcap-binary-suffixes)
	(mailcap-temporary-directory): Deleted (unused).
	(mailcap-unescape-mime-test): Simplify slightly.
	(mailcap-viewer-passes-test): Use functionp.
	(mailcap-command-p): Aliased to executable-find.

	* rfc2047.el (rfc2047-encode-message-header): Don't encode if
	default-enable-multibyte-characters is nil.

2000-11-22  Gerd Moellmann  <gerd@gnu.org>

	* gnus-group.el (gnus-group-make-tool-bar): Fix a paren typo.

2000-11-21  Dave Love  <fx@gnu.org>

	* gnus-art.el (gnus-mime-button-map): Don't inherit from
	gnus-article-mode-map.
;	(gnus-mime-button-menu): Use mouse-set-point.
	(gnus-insert-mime-button, gnus-mime-display-alternative)
	(gnus-mime-display-alternative): Don't use local-map property.

2000-11-17  Dave Love  <fx@gnu.org>

	* uudecode.el (uudecode-insert-char): Fix bogus feature test.
	(uudecode-decode-region-external): Doc fix.  Use with-temp-buffer
	and make-temp-file.
	(uudecode-decode-region): Doc fix.

2000-11-14  Dave Love  <fx@gnu.org>

	* cu-exit.pbm, exit-summ.pbm, followup.pbm, fuwo.pbm:
	* mail-reply.pbm, next-ur.pbm, post.pbm, prev-ur.pbm:
	* reply-wo.pbm, reply.pbm, rot13.pbm, save-aif.pbm, save-art.pbm:
	New files, derived from the XPMs.

2000-11-10  Dave Love  <fx@gnu.org>

	* gnus-agent.el (gnus-agent-confirmation-function): Add :version.
	(gnus-agent-lib-file, gnus-agent-load-alist)
	(gnus-agent-save-alist, gnus-agent-article-name): Use
	expand-file-name.

	* gnus-group.el (gnus-group-name-charset-method-alist): Add
	:version.
	(nnkiboze-score-file): Defvar when compiling.

	* gnus-start.el (gnus-read-newsrc-file): Add :version.

	* gnus-art.el (gnus-article-banner-alist)
	(gnus-emphasize-whitespace-regexp, gnus-ignored-mime-types)
	(gnus-article-date-lapsed-new-header)
	(gnus-article-mime-match-handle-function, gnus-mime-action-alist)
	(gnus-treat-strip-list-identifiers, gnus-treat-date-iso8601)
	(gnus-treat-strip-headers-in-body)
	(gnus-treat-capitalize-sentences, gnus-treat-play-sounds)
	(gnus-treat-translate): Add :version.
	(gnus-article-mime-part-function): Fix defcustom.

	* nnmail.el (nnmail-expiry-target)
	(nnmail-scan-directory-mail-source-once, nnmail-extra-headers)
	(nnmail-split-header-length-limit): Add :version.

	* gnus-sum.el (gnus-auto-expirable-marks)
	(gnus-inhibit-user-auto-expire, gnus-list-identifiers)
	(gnus-extra-headers, gnus-ignored-from-addresses)
	(gnus-newsgroup-ignored-charsets)
	(gnus-group-highlight-words-alist)
	(gnus-summary-show-article-charset-alist): Add :version.

	* catchup.pbm, describe-group.pbm, exit-gnus.pbm, get-news.pbm:
	gnntg.pbm, kill-group.pbm, subscribe.pbm, unsubscribe.pbm: New
	files, converted from the XPMs.

	* gnus-cache.el (gnus-cache-active-file): Don't use
	file-name-as-directory on directory.
	(gnus-cache-file-name): Use expand-file-name, not concat.  Don't
	use file-name-as-directory on directory.

	* time-date.el (timezone-make-date-arpa-standard): Autoload.
	(date-to-time): Use it.

;	* message.el (message-mode) <adaptive-fill-regexp>:
;	<adaptive-fill-first-line-regexp>: Use [:alnum:] in regexp range.
;	(message-newline-and-reformat): Likewise.
	(message-forward-as-mime, message-forward-ignored-headers)
	(message-buffer-naming-style, message-default-charset)
	(message-dont-reply-to-names, message-send-mail-partially-limit):
	Add :version.

	* mm-util.el: Doc fixes.
	(mm-mime-charset): Don't use the raw result of
	mm-preferred-coding-system.
	(mm-with-unibyte-buffer, mm-with-unibyte-current-buffer)
	(mm-with-unibyte): Simplify.

	* gnus-int.el (gnus-start-news-server): Use expand-file-name, not
	concat.

	* pop3.el (pop3-version): Deleted.
	(pop3-make-date): New function, avoiding message-make-date.
	(pop3-munge-message-separator): Use it.

2000-11-09  Dave Love  <fx@gnu.org>

	* gnus-group.el (gnus-group-make-directory-group)
	(gnus-group-fetch-faq): Use expand-file-name.
	(gnus-group-fetch-faq): Simplify completing-read form.

	* mm-bodies.el (mm-encode-body): Use mm-multibyte-p, don't just
	test for Mule.

	* message.el (tool-bar-map): Defvar when compiling.

	* gnus-setup.el (running-xemacs, gnus-use-installed-tm)
	(gnus-tm-lisp-directory): Deleted.
	(gnus-use-installed-mailcrypt, gnus-emacs-lisp-directory): Use
	(featurep 'xemacs).
	(gnus-gnus-lisp-directory, gnus-mailcrypt-lisp-directory)
	(gnus-mailcrypt-lisp-directory, gnus-bbdb-lisp-directory): Remove
	version numbers from file names.

2000-11-08  Dave Love  <fx@gnu.org>

	* mm-view.el: Use featurep for XEmacs test.
	(mm-inline-message): Test for `remove-specifier'; don't use
	condition-case.

	* mm-bodies.el (mm-encode-body): Use mm-multibyte-p.

	* gnus-score.el (gnus-score-load-file): Use expand-file-name.
	(gnus-score-find-bnews): Don't concat "".

	* cu-exit.xpm, prev-ur.xpm, next-ur.xpm, post.xpm, fuwo.xpm:
	* followup.xpm, uu-post.xpm, uu-decode.xpm, mail-reply.xpm:
	* reply.xpm, reply-wo.xpm, rot13.xpm, save-aif.xpm, save-art.xpm:
	* exit-summ.xpm: New files, renamed from icons by Luis Fernandes.

	* gnus-sum.el: Put some defvars in eval-when-compile.
	(gnus-summary-mode-hook): Add :options.
	(gnus-summary-make-menu-bar): Add some :help, used by tool bar.
	(gnus-summary-tool-bar-map): New variable.
	(gnus-summary-make-tool-bar): New function.
	(gnus-summary-mode): Put kill-all-local-variables first.

	* gnus-group.el (gnus-group-toolbar-map): New variable.
	(gnus-group-make-tool-bar): Rewritten.
	(gnus-group-mode): Put kill-all-local-variables first.

	* rfc2047.el: Require gnus-util.

	* nnml.el (gnus-sorted-intersection): Autoload.

	* nnheader.el: Wrap subst-char-in-string def in eval-and-compile.
	Put some defvars in eval-when-compile.
	(gnus-intersection, gnus-sorted-complement):  Autoload.

	* imap.el (imap-point-at-eol): New, replacing gnus-point-at-eol.

	* mm-encode.el (mm-body-7-or-8): Autoload.

	* mm-decode.el (mm-insert-inline): Autoload.

	* mml.el:
	* message.el: Put some defvars in eval-when-compile.

	* gnus-msg.el: Put some defvars in eval-when-compile.
	(gnus-msg-mail): Move after gnus-setup-message.

	* smiley-ems.el (smiley-data-directory, smiley-regexp-alist): Doc fix.

2000-11-07  Dave Love  <fx@gnu.org>

	* gnus-util.el (nnheader): Don't require message (recursive
	autoload).

	* uudecode.el: Avoid compiler warnings.

	* rfc2047.el: (rfc2047-fold-region): Use gnus-point-at-bol.
	(rfc2047-charset-encoding-alist): Add iso-8859-1[45].

2000-11-06  Dave Love  <fx@gnu.org>

	* gnus-salt.el (gnus-binary-mode): Fix call to gnus-add-minor-mode.

	* uudecode.el: Use (featurep 'xemacs).  Require cl when compiling.
	(uudecode-char-int): New alias, replacing char-int.
	(uudecode-decode-region): Don't call buffer-disable-undo.

;	* mm-uu.el (mm-uu-configure): Unquote lambda.
;	(mm-uu-configure-list): Doc fix.
;
;	* earcon.el (running-xemacs): Don't define.
;
;2000-11-03  Stefan Monnier  <monnier@cs.yale.edu>
;
;	* message.el (message-font-lock-keywords): Match a final newline
;	to help font-lock's multiline support.
;
2000-11-03  Dave Love  <fx@gnu.org>

	* gnus-nocem.el (gnus-nocem-check-article-limit): Default to 500.

	* mm-partial.el (mm-inline-partial): Space-prefix temp buffer
	name.

	* gnus-cus.el (gnus-group-parameters) <gcc-self>: Fix custom type.
	<banner>: Fix custom type, doc.

	* mm-decode.el (mm-display-external): Space-prefix temp buffer
	name.  Don't disable undo explicitly.

;2000-11-02  Dave Love  <fx@gnu.org>
;
;	* message.el (message-font-lock-keywords): Use [:alpha:] for
;	cite-prefix.

2000-11-01  Dave Love  <fx@gnu.org>

	* rfc2047.el (base64): Require unconditionally.
	(message-posting-charset): Defvar when compiling.
	(rfc2047-encode-message-header, rfc2047-encodable-p): Require
	message.

	* gnus-sum.el (nnoo): Require.
	(mm-uu-dissect): Autoload.

	* mml.el (mml-parse-1): Clarify message.
	(mml-minibuffer-read-type): Use mailcap-mime-types.

2000-11-01  Stefan Monnier  <monnier@cs.yale.edu>

	* mml.el: Fix a typo in the requiring of CL.

2000-11-01  Dave Love  <fx@gnu.org>

	* utf7.el: Require cl when compiling.

	* binhex.el: Use (featurep 'xemacs).
	(binhex-char-int): New alias, replacing char-int.  Change callers.
	(binhex-decode-region): Simplify work buffer code.
	(binhex-decode-region-external): Use expand-file-name, not concat.

2000-10-30  Dave Love  <fx@gnu.org>

	* gnus-art.el: Fix 2000-10-27 change properly.

2000-10-28  Miles Bader  <miles@gnu.org>

	* gnus-art.el (gnus-read-save-file-name): Remove extraneous paren.

2000-10-27  Dave Love  <fx@gnu.org>

	* gnus-group.el (gnus-group-make-menu-bar): Add some :help
	strings.
	(gnus-group-make-tool-bar): New function.
	(gnus-group-mode): Use it.

	* message.el (message-mode-menu): Add some :help strings.
	(message-mode) [message-tool-bar-map]: Define tool-bar-map.
	(featurep): Use (featurep 'xemacs).  Install tool bar for Emacs.

	* catchup.xpm, exit-gnus.xpm, gnntg.xpm, subscribe.xpm:
	* describe-group.xpm, get-news.xpm, kill-group.xpm:
	* unsubscribe.xpm: New files.  Renamed icons from Luis Fernandes.

	* mm-decode.el (mm-valid-and-fit-image-p): Don't test
	display-graphic-p here.

2000-10-27  Miles Bader  <miles@lsi.nec.co.jp>

	* gnus-ems.el (gnus-ems-redefine): Use (featurep 'xemacs) instead
	of the `gnus-xemacs' variable, as the latter has been removed.
	* gnus-start.el (gnus-1, gnus-read-descriptions-file): Likewise.
	* gnus-art.el (gnus-treat-display-xface)
	(gnus-treat-display-smileys, gnus-treat-display-picons)
	(gnus-article-read-summary-keys): Likewise.

2000-10-26  Dave Love  <fx@gnu.org>

	(defvar): Use rmail-spool-directory unconditionally.

2000-10-18  Dave Love  <fx@gnu.org>

	* mm-bodies.el (mm-uu-decode-function)
	(mm-uu-binhex-decode-function): Defvar when compiling.

	* gnus-nocem.el (gnus-nocem-issuers): Update.
	(gnus-nocem-check-from): New option.
	(gnus-nocem-scan-groups): Use it.
	(gnus-nocem-check-article): Bind gnus-newsgroup-name.
	(gnus-nocem-check-article-limit): Add :version.

2000-10-16  Stefan Monnier  <monnier@cs.yale.edu>

	* ietf-drums.el (mm-util): Require CL when compiling.

2000-10-15  Dave Love  <fx@gnu.org>

	* qp.el: Require mm-util.

2000-10-13  Dave Love  <fx@gnu.org>

	* qp.el (quoted-printable-decode-region): Avoid invalid
	coding-systems.

2000-10-12  Gerd Moellmann  <gerd@gnu.org>

	* mm-bodies.el: Don't require `mm-uu' at compile-time; it leads
	to a recursive load.

2000-10-12  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-charset-synonym-alist): Add windows-1252.

	* gnus.el (gnus-group-startup-message): Check for PBM image.

2000-10-09  Dave Love  <fx@gnu.org>

	* mail-source.el (mail-source-fetch-imap): Bind
	default-enable-multibyte-characters rather than using
	mm-disable-multibyte.

2000-10-05  Dave Love  <fx@gnu.org>

	* qp.el (mm-decode-coding-region, mm-encode-coding-region):
	Autoload.
	(quoted-printable-decode-region):  Rename arg which confused
	charset with coding-system.  Don't use nonascii-insert-offset.
	Coding-system encode the region initially.  Don't recognize `=='
	as valid QP.  Coding-system decode the region finally.
	(quoted-printable-decode-string): Rename arg which confused
	charset with coding-system.

	* mm-bodies.el: Require mm-uu, Don't require qp, uudecode.
	(mm-encode-body): Apply mm-charset-to-coding-system to arg of
	mm-encode-coding-region.
	(mm-decode-body, mm-decode-string): Rename variables which
	confused charset with coding-system.
	(binhex-decode-region): Don't autoload.
	(mm-body-encoding): Require message.
	(mm-decode-content-transfer-encoding): Require mm-uu in relevant
	cond branches.

	* gnus-art.el (article-de-quoted-unreadable)
	(article-de-base64-unreadable): Fold search case
	rather than downcasing string.  Apply mm-charset-to-coding-system
	to arg of quoted-printable-decode-region.

2000-10-04  Dave Love  <fx@gnu.org>

	* gnus-ems.el: Don't turn off compiler warnings in local vars.
	Require ring when compiling.
	(gnus-article-compface-xbm): New variable.

2000-10-04  Dave Love  <fx@gnu.org>

	* smiley-ems.el (smiley-regexp-alist, smiley-update-cache): Use
	pbm images.

	* frown.pbm, smile.pbm, wry.pbm: New files.

	* frown.xbm, smile.xbm, wry.xbm: Deleted.

2000-10-03  Dave Love  <fx@gnu.org>

	* mail-source.el (mail-sources): Revert to nil.

	* nnmail (nnmail-spool-file): Revert to `((file))'.

	* qp.el: Don't require mm-util.
	(quoted-printable-decode-region): Rewritten.
	(quoted-printable-decode-string, quoted-printable-encode-region):
	Doc fix.
	(quoted-printable-encode-region): Barf on multibyte characters.
	Maybe make the class multibyte.  Upcase chars, not formatted
	strings.  Allow mm-use-ultra-safe-encoding to be unbound.
	(quoted-printable-encode-string): Don't use
	mm-with-unibyte-buffer.

2000-09-29  Gerd Moellmann  <gerd@gnu.org>

	* smiley-ems.el (smiley-update-cache):  Use `:ascent center'.

2000-09-21  Dave Love  <fx@gnu.org>

	* smiley-ems.el (smiley-region): Test if display-graphic-p bound
	(for Emacs 20).  Tidy somewhat.

2000-09-21  Dave Love  <fx@gnu.org>

	* gnus-ems.el (gnus-article-display-xface): Use unibyte for the
	image processing.  Rationalize logic somewhat.

2000-09-20  Dave Love  <fx@gnu.org>

	* gnus-start.el (gnus-1) <gnus-simple-splash>: Don't test for X
	specifically.

	* gnus.el (gnus-version-number): Avoid some redundant
	autoloads.

2000-09-20  Gerd Moellmann  <gerd@gnu.org>

	* gnus-ems.el (gnus-article-display-xface): Don't convert PBM
	to XBM; we always have PBM support.

2000-09-14  Dave Love  <fx@gnu.org>

	* gnus.el (gnus-charset):
	* mm-decode.el (mime-display):
	* imap.el (imap) <defgroup>: Add :version.

2000-09-13  Gerd Moellmann  <gerd@gnu.org>

	* parse-time.el: Fix author's mail address.

	* earcon.el, flow-fill.el, gnus-cite.el, gnus-gl.el, gnus-ml.el:
	* gnus-mlspl.el, gnus-nocem.el, gnus-range.el, gnus-salt.el:
	* gnus-setup.el, gnus-soup.el, gnus-undo.el, gnus-vm.el:
	* messcompat.el, nnbabyl.el, nndir.el, nneething.el:
	* nngateway.el, nnheaderxm.el, nnkiboze.el, nnlistserv.el:
	* nnmbox.el, nnmh.el, nnoo.el, nnsoup.el, nnspool.el, rfc2045.el:
	* rfc2231.el, uudecode.el: Fix copyright notice.

	* nnweb.el (toplevel): To make the file bootstrap in Emacs,
	require `w3' at load-time only if not running in batch mode.

2000-12-19 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Before merge with Emacs21.

2000-12-19  Raymond Scholz  <ray-2000@zonix.de>

	* gnus-art.el (gnus-article-dumbquotes-map): Add EUR symbol.

2000-12-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mml.el (mml-mode-map): Change mml prefix from `M-m' to `C-c C-m'
	to avoid conflict with the standard `back-to-indentation'
	binding.

2000-12-17 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-extern.el (mm-inline-external-body): g-a-m-h may be a handle.

	* mm-util.el (mm-enable-multibyte-mule4): Test charsetp.
	(mm-disable-multibyte-mule4): Ditto.
	(mm-with-unibyte-current-buffer-mule4): Ditto.

2000-12-15 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-movemail): Use binary.
	(pop3-movemail-file-coding-system): Removed.

2000-12-14 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-synonym-alist): Add cn-gb.

2000-12-13 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnspool.el (nnspool-lib-dir): Check whether /usr/lib/news/active
	exists.

2000-12-13 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-post-method): Use backend name when the
	address is "".

2000-12-08 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-verify-x-pgp-sig): Don't test
	mm-verify-option.
	(gnus-treat-x-pgp-sig): Default value.
	(gnus-ignored-headers): Redundant.

2000-12-04 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-frame): Save selected window.

2000-02-15  Andrew Innes  <andrewi@gnu.org>

	* nnmbox.el: Require gnus-range.
	(nnmbox-group-building-active-articles): New variable.
	(nnmbox-group-active-articles): New variable; this is a cache of
	all active articles by group and number.
	(nnmbox-in-header-p): New function.
	(nnmbox-find-article): New function.
	(nnmbox-record-active-article): New function.
	(nnmbox-record-deleted-article): New function.
	(nnmbox-is-article-active-p): New function.
	(nnmbox-retrieve-headers): Use nnmbox-find-article.
	(nnmbox-request-article): Ditto.  Also supply extra arg to
	nnmbox-article-group-number.
	(nnmbox-request-expire-articles): Ditto.
	(nnmbox-request-move-article): Ditto.
	(nnmbox-request-replace-article): Ditto.
	(nnmbox-request-rename-group): Rename group entry in active
	article cache.
	(nnmbox-delete-mail): Update active article cache, unless article
	is being replaced.
	(nnmbox-possibly-change-newsgroup): Call nnmbox-read-mbox, rather
	than partially duplicating it.
	(nnmbox-article-group-number): Add extra `this-line' arg, to
	handle articles belonging to multiple groups.
	(nnmbox-save-mail): Update active article cache.
	(nnmbox-read-mbox): Build active article cache when loading mbox.
	Also do some repair work, if we find articles that are missing the
	appropriate X-Gnus-Newsgroup lines in the header.  We can usually
	reconstruct these from Xref info.

2000-12-04 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-report-new-mail): Use
	nnheader-run-at-time.

2000-02-15  Andrew Innes  <andrewi@gnu.org>

	* mail-source.el (mail-source-fetch-pop): Clear pop password when
	an error is thrown, and then rethrow the error.
	(mail-source-check-pop): Ditto.
	(mail-source-start-idle-timer): Prevent multiple pop checks
	running if the check takes a long time.

2000-12-04 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-mail): COMPOSEFUNC should return t if
	succeed.

2000-12-04 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-windows): Make sure
	nntp-server-buffer is live.
	(gnus-remove-some-windows): switch-to-buffer -> set-buffer.

2000-11-21  Stefan Monnier  <monnier@cs.yale.edu>

	* gnus-win.el (gnus-configure-windows): switch-to-buffer -> set-buffer.

2000-12-04  Andreas Jaeger  <aj@suse.de>

	* gnus-msg.el (gnus-summary-mail-forward): Fix typos in description.

2000-12-03 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-fix-micalg): Alg might be nil.

2000-12-01  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Christopher Splinter  <chris@splinter.inka.de>

	* gnus-sum.el (gnus-summary-limit-to-age): Fix typo.

2000-12-01  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Fix address parsing.

2000-12-01  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Don't modify MM buffer.  Handle
	more than one certificate inside PKCS#7 blob.  Better security
	information (clamed / actual sender, openssl output, certificates
	inside message).

	* smime.el (smime-verify-region): Output to /dev/null.
	(smime-buffer-as-string-region): Don't parse empty lines.

2000-11-30 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-security-button-line-format-alist): Add
	?d and ?D.
	(gnus-mime-security-show-details-inline): New variable.
	(gnus-mime-security-show-details): Use them.
	(gnus-insert-mime-security-button): Ditto.

	* mml2015.el (mml2015-gpg-verify): Set details when succeed.
	Suggest by Michael Duggan (md5i@cs.cmu.edu).
	(mml2015-gpg-clear-verify): Ditto.
	(mml2015-gpg-decrypt-1): Ditto.
	(mml2015-use): Prefer 'gpg.

2000-11-30 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-add-text-properties-when): New function.
	(gnus-remove-text-properties-when): Ditto.

	* gnus-cite.el (gnus-article-hide-citation): Use them.
	(gnus-article-toggle-cited-text): Use them.

	* gnus-art.el (gnus-signature-toggle): Use them.
	(gnus-article-show-hidden-text): Ditto.
	(gnus-article-hide-text): Ditto.

2000-11-30 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-charset-region): Remove eight-bit-*.

2000-11-30  Simon Josefsson  <sj@extundo.com>

	* smime.el (smime-point-at-eol): New alias.
	(smime-buffer-as-string-region): Use it.

2000-11-29 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-restore-buffer): Remove Date field.

2000-11-29 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-expire-articles): expiry-target.

	* nnbabyl.el (nnbabyl-request-expire-articles): Ditto.

	* nnmbox.el (nnmbox-request-expire-articles): Ditto.

2000-11-22  Jan Nieuwenhuizen  <janneke@gnu.org>

	* nnmh.el (nnmh-request-expire-articles): Implemented
	expiry-target for nnmh backend.

2000-11-30  Simon Josefsson  <sj@extundo.com>

	* mm-decode.el (mm-security-from): New variable.
	(mm-possibly-verify-or-decrypt): Use it rather than `from'.

	* mml-smime.el (mml-smime-verify): Use `mm-security-from' rather
	than `from'.

2000-11-30  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Verify that certificate mail
	address match sender address.

	* mm-decode.el (mm-possibly-verify-or-decrypt): Bind sender address.

	* smime.el (smime-verify-region): Don't copy buffer.
	(smime-decrypt-buffer): Use expand-file-name on keyfile.
	(smime-pkcs7-region): New function.
	(smime-pkcs7-certificates-region): Ditto.
	(smime-pkcs7-email-region): Ditto.
	(smime-buffer-as-string-region): Ditto.

	* gnus-art.el (gnus-mime-security-show-details): Goto beginning of
	buffer.

2000-11-23  Jens Krinke  <j.krinke@gmx.de>

	* smime.el (smime-decrypt-region): Fix keyfile argument.

2000-11-29 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-cache-accepted-message-ids): Add doc.

2000-11-28 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-shoot-gnksa-feet): New variable.
	(message-gnksa-enable-p): New function.
	(message-send): Use it.
	(message-check-news-body-syntax): Ditto.

2000-11-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-make-message-id): Remove the redundancy.

2000-11-22 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup): Discourage using mc-install-*-mode.

	* gnus-setup.el (gnus-use-mailcrypt): Don't hook mail-crypt.

2000-11-22 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cite.el (gnus-cite-parse): Guess citation length.

2000-11-22 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-insinuate): New function.

2000-11-22 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-archive): Find the real url.

2000-11-22 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use
	insert-buffer-substring.

	* message.el (message-send-mail): Use buffer-substring-no-properties.
	(message-send-news): Ditto.

2000-11-22  David Edmondson  <dme@dme.org>

	* imap.el (imap-wait-for-tag): Message read info.

2000-11-21 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-encrypt): Ensure the part is encrypted.
	(mml2015-mailcrypt-encrypt): Use unibyte-buffer.
	(mml2015-gpg-encrypt): Ditto.

2000-11-21 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-option): Default value.

	* mml-sec.el (mml-secure-part): Error message.

2000-11-20 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-archive): Use browse-url.

2000-11-20 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-make-menu-bar): Use easy-menu-add.

2000-11-20 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-describe-key): Use prompt.
	(gnus-article-describe-key-briefly): Ditto.

2000-11-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-expire): Ignore corrupted history.

2000-11-20 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-describe-key): New function.
	(gnus-article-describe-key-briefly): New function.

2000-11-19 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-decrypt-option): Doc typo.

	* gnus-art.el (gnus-article-read-summary-keys): lookup-key may
	return a number.

2000-11-19 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-newline-and-reformat): Typo.

2000-11-19 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-verify-x-pgp-sig): Check whether
	original-article-buffer exists.

	* rfc2047.el (rfc2047-q-encoding-alist): Match Resent-.
	(rfc2047-header-encoding-alist): Addresses are different from text.
	(rfc2047-encode-message-header): Ditto.
	(rfc2047-dissect-region): Extra parameter.
	(rfc2047-encode-region): Ditto.
	(rfc2047-encode-string): Ditto.

2000-11-19 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-pgp-encrypted-extract-1): New function.
	(mm-uu-pgp-encrypted-extract): Use it.
	(mm-uu-pgp-signed-extract-1): New function.
	(mm-uu-pgp-signed-extract): Use it.

	* gnus-art.el (gnus-mime-display-security): New function.
	(gnus-mime-display-part): Use it.
	(gnus-mime-security-verify-or-decrypt): New function.
	(gnus-mime-security-press-button): New function.
	(gnus-insert-mime-security-button): Use it.

	* mm-decode.el (mm-possibly-verify-or-decrypt): Use mm-h-m-c-p.
	(mm-find-raw-part-by-type): Ditto.
	(mm-verify-function-alist): Add x-gnus-pgp-signature handle.
	(mm-decrypt-function-alist): Add x-gnus-pgp-encrypted handle.
	(mm-destroy-parts): Kill nested multibyte buffer.

	* mml2015.el (mml2015-mailcrypt-verify): Use mm-h-m-c-p.
	(mml2015-gpg-verify): Ditto.

2000-11-18  Simon Josefsson  <sj@extundo.com>

	* mml2015.el (mml2015-mailcrypt-clear-verify): New function.
	(mml2015-function-alist): Use it.

	* mml-sec.el (mml-sign-alist): Update names.
	(mml-encrypt-alist): Ditto.
	(mml-secure-part-smime-sign): Moved to mml-smime.el
	as `mml-smime-sign-query'.
	(mml-secure-part-smime-encrypt-by-file): Moved to mml-smime.el as
	`mml-smime-get-file-cert'.
	(mml-secure-part-smime-encrypt-by-dns): Moved to mml-smime.el as
	`mml-smime-get-dns-cert'.
	(mml-secure-part-smime-encrypt): Moved to mml-smime.el as
	`mml-smime-encrypt-query'.
	(mml-smime-sign-buffer): Use mml-smime-sign.
	(mml-smime-encrypt-buffer): Use mml-smime-encrypt.

	* mml-smime.el (mml-smime-sign): New function.
	(mml-smime-encrypt):
	(mml-smime-sign-query):
	(mml-smime-get-file-cert):
	(mml-smime-get-dns-cert):
	(mml-smime-encrypt-query): Moved from mml-sec.el.

2000-11-16  Simon Josefsson  <sj@extundo.com>

	* mml2015.el (mml2015-gpg-clear-verify): New function.
	(mml2015-function-alist): Add it.

2000-11-17 14:21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup-fill-variables): Use
	message-cite-prefix-regexp.
	(message-newline-and-reformat): Check the end of citation, leading
	WSP, break in the cite prefix.
	(message-fill-paragraph): New function.

2000-11-17 13:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el: Shut up.

2000-11-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-msg.el (gnus-group-posting-charset-alist): No longer allow
	raw 8-bit in headers in dk.* newsgroups.

2000-11-17 08:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-newline-and-reformat): Match extra WSPs.

2000-11-16 23:31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Ignore ascii.

2000-11-16 Justin Sheehy  <justin@iago.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): Fix menu items.

2000-11-16 17:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-prefix-regexp): Prefix should not end
	at space.

2000-11-15 18:09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mode-syntax-table): Add - as a word
	constituent as in articles.
	(message-setup-fill-variables): Add -_. as supercite-style prefix.
	* gnus-art.el (gnus-article-mode-syntax-table): Remove ?-.
	* gnus-cite.el (gnus-cite-parse): Match from the beginning of line.

2000-11-15 13:21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-do-gcc): Expire the article.

2000-11-12  David Edmondson  <dme@dme.org>

	* message.el (message-font-lock-keywords): use
	message-cite-prefix-regexp.

2000-11-15  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-group.el (gnus-group-jump-to-group-prompt): New variable by
	Stein Arild Str,Ax(Bmme.
	(gnus-group-jump-to-group): Use it.
	(gnus-group-jump-to-group-prompt): Customize.

2000-11-14 10:32:42  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-possible-viewers): Match the entire string.

2000-11-14 10:20:56  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-verify): replace-match is
	incompatible.
	(mml2015-mailcrypt-sign): Ditto.

2000-11-14 10:12:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-do-gcc): Update summary data when the
	group is open.

2000-11-14 00:48:52  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-bcklg.el (gnus-backlog-enter-article): Don't enter
	nnvirtual articles.
	(gnus-backlog-request-article): Don't request nnvirtual articles.

2000-11-13 22:08:09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-sign): Remove "-" escape.
	* mml.el (mml-generate-mime-1): Save cont. skip multipart attributes.

2000-11-13 20:43:37  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-get-part): Don't call mm-insert-part.
	* mml.el (mml-generate-mime-1): Use charset attribute.
	* mm-bodies.el (mm-encode-body): Add parameter charset.
	* mm-util.el (mm-mime-charset): Show error when find 8-bit characters.

2000-11-13 16:09:09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-decrypt): Handle quit.
	(mml2015-mailcrypt-clear-decrypt): Ditto.
	(mml2015-mailcrypt-verify): Ditto.
	(mml2015-mailcrypt-clear-verify): Ditto.
	(mml2015-gpg-verify): Ditto.

2000-11-13 15:29:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smime.el (smime-openssl-program): Test the existence of openssl.
	* mml-smime.el: Require mm-decode.
	(mml-smime-verify-test): New function.
	* mm-decode.el (mm-verify-function-alist): Use it.

2000-11-13 09:50:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-repair-multipart): Fix Mime-Version
	anyway.

2000-11-13  Simon Josefsson  <sj@extundo.com>

	* mm-uu.el (mm-uu-pgp-signed-extract): Explain why clear
	verification doesn't work.

2000-11-12 23:36:45  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-mark-gcc-as-read): New variable.
	(gnus-inews-do-gcc): Use it.

2000-11-12 21:35:04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-encode-string): Insert semi-colon and
	leading space.
	* mm-extern.el (mm-inline-external-body): Report error when no
	access-type.

2000-11-12 19:48:30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-select-newsgroup): Change the error message.

2000-11-12 11:53:18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-button-menu): Use select-window.

2000-11-12 09:47:54  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-part): Display multipart/related
	as multipart/mixed.

2000-11-12  David Edmondson  <dme@dme.org>

	* message.el (message-cite-prefix-regexp): moved from gnus-cite.el
	and replace `.' with `\w' to allow for different syntax tables
	(from Vladimir Volovich).
	* message.el (message-newline-and-reformat): use
	`message-cite-prefix-regexp'.
	* gnus-cite.el (gnus-supercite-regexp): use
	`message-cite-prefix-regexp'.
	* gnus-cite.el (gnus-cite-parse): use
	`message-cite-prefix-regexp'.

2000-11-12 08:52:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-verify): Replace armors with
	PGP SIGNATURE.  Escape leading "-"'s.
	(mml2015-mailcrypt-sign): Replace armors with PGP MESSAGE.

2000-11-11 15:55:35  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-type-alist): Stricter shar regexp.

2000-11-11  Simon Josefsson  <sj@extundo.com>

	* mml2015.el (mml2015-gpg-verify): Set "OK" security status.

	* smime.el (smime-details-buffer): New variable.
	(smime-sign-region):
	(smime-encrypt-region):
	(smime-verify-region):
	(smime-decrypt-region): Copy OpenSSL output to the buffer.

	* mml-smime.el (mml-smime-verify): Support security info.

2000-11-10 17:11:22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-option): Set default to nil.
	(mm-decrypt-option): Ditto.
	* gnus-art.el (article-verify-x-pgp-sig): New function.

2000-11-10 09:01:25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-alternative): Show button if no
	preferred part.

2000-11-07  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-move-split-methods): Say that
	`gnus-split-methods' uses file names, whereas this uses group
	names.  (Report from Nevin Kapur)

2000-11-10 01:23:20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-partial.el (mm-inline-partial): Insert MIME-Version.

2000-11-09 17:02:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-directory-files-is-safe): New variable.
	(nnheader-directory-articles): Use it.
	(nnheader-article-to-file-alist): Ditto.

2000-11-09 16:20:37  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-pad-base64): New function.
	(rfc2047-decode): Use it.

2000-11-09 08:53:04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Bind the original
	select method.

2000-11-08 19:58:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-gpg-decrypt-1):
	(mml2015-gpg-verify): buffer-string has no argument in Emacs.

2000-11-08 16:37:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-cache-generate-nov-databases): Reopen cache.

2000-11-08 08:38:30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-munge-message-separator): A message may have an
	empty body.

2000-11-07 18:02:26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-type-alist): Don't test pgp stuff.
	(mm-uu-pgp-encrypted-extract): Clean mml2015 buffer.
	(mm-uu-pgp-signed-extract): Use coding-system.

2000-11-07 14:33:19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-part): Show MIME security button.
	(gnus-insert-mime-security-button): New function.
	* mm-decode.el (mm-possibly-verify-or-decrypt): Add security info.
	* mml2015.el:  Add security info when verify or decrypt.
	* mm-uu.el (mm-uu-pgp-signed-extract): Use multipart.
	(mm-uu-pgp-encrypted-extract): Ditto.

2000-11-07 08:49:36  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-display-parts): New function.
	* gnus-art.el (gnus-mime-view-all-parts): Use it. Remove parts first.

2000-02-02  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* gnus-mlspl.el: Documentation tweaks.

2000-11-06 22:06:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-possibly-verify-or-decrypt): Fix.
	* gnus-art.el (gnus-article-encrypt-body): Rename and support prefix
	argument.

2000-11-06 19:10:14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-encode-string): Use us-ascii if charset is nil.

2000-11-06 18:17:53  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-encrypt): New function.
	(gnus-article-encrypt-protocol-alist): New variable.
	(gnus-article-encrypt-protocol): New variable.
	* mml2015.el (mml2015-self-encrypt): New function.
	(mml2015-mailcrypt-encrypt): Set mc-pgp-always-sign.

2000-11-06 16:02:52  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-gpg-key-skip-to-last): New function.
	(mm-uu-pgp-key-extract): Use application/pgp-keys, don't snarf,
	let mailcap do it.
	* mml2015.el: Remove snarf code.
	* mm-decode.el: Remove snarf code.

2000-11-06 14:03:10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-insert-mml-markup): Ignore internal stuff.
	(mml-insert-mime): Understand gnus-decoded.
	(mime-to-mml): New parameter handles.
	* gnus-art.el (gnus-mime-save-part-and-strip): Use it.
	* gnus-sum.el (gnus-summary-edit-article): Add argument `3'.

2000-11-06 13:51:37  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mime-security): New group.
	(mm-verify-function-alist): Add test function.
	(mm-decrypt-function-alist): Ditto.
	(mm-snarf-option): Set default value as nil.
	(mm-find-part-by-type): Recursive parameter.
	(mm-possibly-verify-or-decrypt): Support draft-ietf-openpgp-multsig.
	* mml2015.el: Support draft-ietf-openpgp-multsig.

2000-11-06 13:01:27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-view-part-as-charset): New function.
	(gnus-article-view-part-as-charset): New function.

2000-11-05 22:34:07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-option): Default value.
	(mm-possibly-verify-or-decrypt): Dealing with broken messages.

2000-11-05 15:06:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnvirtual.el (nnvirtual-request-expire-articles): Uncompress range.

2000-11-05  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Work in original multipart
	buffert.

	* mm-decode.el (mm-handle-multipart-original-buffer): New macro.
	(mm-handle-multipart-ctl-parameter): Ditto.
	(mm-alist-to-plist): New function.
	(mm-dissect-buffer): Store CTL parameters and copy original buffer
	for multiparts.
	(mm-destroy-parts): Destroy multipart buffert.
	(mm-remove-part): Ditto.

	* mml-smime.el (mml-smime-sign): Not used.
	(mml-smime-encrypt): Ditto.

	* mm-decode.el (mml-smime-verify): Autoload mml-smime.

	Verify S/MIME signature support.

	* mm-decode.el (mm-inline-media-tests): Add
	application/{x-,}pkcs7-signature.
	(mm-inlined-types): Ditto.
	(mm-automatic-display): Ditto.
	(mm-verify-function-alist): Ditto.  Add name of method.
	(mm-decrypt-function-alist): Add name of method.
	(mm-find-part-by-type): Add documentation.
	(mm-possibly-verify-or-decrypt): Use new format of
	mm-{verify,decrypt}-function-alist.  Use method names.

	* mml-smime.el (mml-smime-verify): New function.

2000-11-04 20:38:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Move point to the end of inserted text.

2000-11-04 19:07:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-function-alist): Clear verify and decrypt.
	* mm-uu.el: Reorganized.  Add gnatsweb, pgp-signed, pgp-encrypted.
	* mm-decode.el (mm-snarf-option): New variable.

2000-11-04 13:08:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-subst-char-in-string): New function.
	(mm-replace-chars-in-string): Use it.
	* message.el (message-replace-chars-in-string): Use it.
	* nnheader.el (nnheader-replace-chars-in-string): Use it.
	* gnus-mh.el (mh-lib-progs): Shut up.

2000-11-04  ShengHuo Zhu  <zsh@cs.rochester.edu>

	* base64.el, md5.el: Moved to contrib directory.

2000-11-04 11:13:56  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-search-article-forward): Don't move
	the last article when search.

2000-11-04 10:34:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-pathname-coding-system): Default iso-8859-1.
	* nnmail.el (nnmail-pathname-coding-system): Ditto.

2000-09-29  David Edmondson  <dme@thus.net>

	* message.el (message-newline-and-reformat): Typo.

2000-11-04 10:11:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-decode-encoded-string): Test mm-multibyte-p.

2000-11-04 09:53:42  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-decode-text): Delete bogus status lines.

2000-11-03  Stefan Monnier  <monnier@cs.yale.edu>

	* message.el (message-font-lock-keywords): Match a final newline
	to help font-lock's multiline support.

2000-11-04 09:11:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnoo.el (nnoo-set): New function.

2000-11-04  ShengHuo Zhu  <zsh@cs.rochester.edu>

	* gpg.el, gpg-ring.el: Moved to contrib directory.

2000-11-04  Simon Josefsson  <sj@extundo.com>

	* nnimap.el (nnimap-split-inbox): Typo.

2000-11-03 10:46:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-mail): Move it backwards.

2000-11-03  Simon Josefsson  <sj@extundo.com>

	* rfc2231.el (rfc2231-parse-qp-string): New function.
	(require): rfc2047.

	* mail-parse.el (mail-header-parse-content-type):
	(mail-header-parse-content-disposition): Support invalid QP
	encoded strings, by using `rfc2231-parse-qp-string'.

2000-11-03 08:58:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-parse-string): Decode when there is no number.
	(rfc2231-decode-encoded-string): Typo "> X 1".
	(rfc2231-encode-string): Insert the name of charset.
	* mail-parse.el (mail-header-encode-parameter): Use RFC2231.

2000-11-02 23:35:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-save-part): Return the filename.
	* gnus-sum.el (gnus-summary-edit-article): Remove a hack.
	* gnus-art.el (gnus-mime-save-part-and-strip): New function.
	(gnus-mime-action-alist): Use it.
	(gnus-mime-button-commands): Use it.
	* mm-extern.el (mm-extern-local-file): Error when the file is gone.
	(mm-inline-external-body): unwind-protect.

2000-11-02 21:08:49  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-insert-mime-button): Show url.

2000-11-02 19:51:19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Support external url.
	* nnwarchive.el (nnwarchive-mail-archive-article): Use external url.

2000-11-02 16:53:32  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-partial.el (mm-inline-partial): Buffer name with a leading space.
	* mm-decode.el (mm-display-external): Ditto.
	* mm-extern.el: New file.
	* mm-decode.el (mm-inline-media-tests): Hook it up.
	(mm-inlined-types): Inline message/external-body.

2000-11-02  Simon Josefsson  <sj@extundo.com>

	* gnus-art.el (gnus-visible-headers): Add Mail-Followup-To.

	* message.el (message-get-reply-headers): Better handling when
	Mail-Followup-To is very large.

2000-11-02 13:27:56  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-post-news): Comment out the redundancy.
	* gnus-art.el (gnus-article-edit-done):
	* gnus-sum.el (gnus-summary-edit-article-done): Move line
	counting code here.
	* gnus-msg.el (gnus-setup-message): Remove a hack.

2000-11-02 09:33:01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-newsgroup-variables): New variable.
	(gnus-summary-mode): Make them local variables.
	(gnus-set-global-variables): Globalize them.
	(gnus-summary-exit): Kill them.

2000-11-02  Hrvoje Niksic  <hniksic@arsdigita.com>

	* rfc2047.el (rfc2047-encoded-word-regexp): Allow empty encoded
	word.

2000-11-01 10:07:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-part): Add to signed or encrypted.
	gnus-article-wash-types.
	* gnus-art.el (gnus-article-wash-status): Use them.

2000-11-01 08:54:11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-read-tag): Remove spaces and LF.

2000-11-01 08:01:03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-encrypt): Use from and sign parameters.
	* mml.el (mml-generate-mime-1): Add sender and recipients attributes.

2000-11-01 07:39:24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-force-verify-and-decrypt): New function.

2000-10-31 22:06:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-article-charset): New variable.
	(gnus-summary-display-article): Set it.
	* gnus-msg.el (gnus-copy-article-buffer): Use it.
	* gnus-art.el (gnus-article-mode): Make it local variable.

2000-11-01 01:12:29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-create-mapping): Use nreverse.

2000-10-31 23:45:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnwfm.el: New file.

	* nnweb.el (nnweb-replace-in-string): New function.

2000-10-31 17:32:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: Wrap gpg.el.
	* gpg.el (gpg-verify): The last argument of apply is a list.
	(gpg-encrypt): Add passphrase as a parameter.

2000-10-31 17:28:45  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gpg.el: New file.
	* gpg-ring.el: New file.

2000-10-31 11:44:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Fix the summary line.

2000-10-31  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-insert-line): Work with quoted
	double-quote characters.
	(gnus-summary-prepare-threads): Ditto.

2000-10-31 08:36:03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-single): Forward line -1.
	* mml.el (mml-read-tag): Don't skip the leading space.
	* lpath.el (font-lock-set-defaults): Shut up.

2000-10-31 00:04:35  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: Fix doc. Remove bogus mml2015-setup.

2000-10-30 23:37:07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encode-region): Replace leading - when
	ultra safe.
	* mml.el (mml-generate-mime-postprocess-function): Removed.
	(mml-postprocess-alist): Removed.
	(mml-generate-mime-1): Use ultra-safe when sign.
	* mml2015.el (mml2015-fix-micalg): Uppercase.
	(mml2015-verify): Insert LF.
	(mml2015-mailcrypt-sign): Downcase; search backward.

2000-10-16 11:36:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-forum-table-p): Be a bit more
	restrictive.
	(nnultimate-table-regexp): New variable.
	(nnultimate-forum-table-p): Use it.

2000-10-30  Ed L Cashin  <ecashin@coe.uga.edu>

	* gnus-sum.el (gnus-summary-expire-articles): Save point.

2000-10-30 08:52:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml-sec.el (mml-pgpmime-sign-buffer): Use mml2015-sign.
	(mml-pgpmime-encrypt-buffer): Use mml2015-encrypt.

2000-10-30 08:38:12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: Shut up.

2000-10-30 08:17:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-server-browse-hashtb): Removed.
	* gnus-group.el (gnus-group-prepare-flat-list-dead): Use gnus-active.
	(gnus-group-insert-group-line-info): Use simplified method.
	* gnus-srvr.el (gnus-browse-foreign-server): Use gnus-set-active.

2000-10-30 01:52:40  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-union): Renamed from gnus-agent-union, and
	moved here.
	* gnus-agent.el (gnus-agent-fetch-headers): Use it.
	* gnus-group.el (gnus-group-prepare-flat): Use it.
	* gnus-topic.el (gnus-group-prepare-topics): Use it.

2000-10-30 01:23:49  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-mode): Show menu in XEmacs.

2000-10-30 00:49:33  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): New variable.
	(gnus-server-read-server-in-server-buffer): New function.
	(gnus-browse-foreign-server): Browse in group buffer.
	* gnus-group.el (gnus-group-prepare-flat): List group not in list.
	(gnus-group-prepare-flat-list-dead): Use gnus-group-insert-group-line.
	* gnus-topic.el (gnus-group-prepare-topics): Ditto.
	* gnus.el (gnus-server-browse-hashtb): New variable.

2000-10-29 22:31:40  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-open-nov): Use group.

2000-10-29 17:23:15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el: Add NOV. Set version to 2.0.
	(nnfolder-nov-is-evil): If non-nil, nnfolder acts like 1.0.

2000-10-29 10:35:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-sign): Use mc-sign-generic.

2000-10-29 09:42:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Show level mark.
	(gnus-browse-unsubscribe-group): Unsubscribed is not killed.

2000-10-29 08:28:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-read-folder): Don't goto point-min.

2000-10-28 19:11:01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-function-alist): New variable.
	(mm-verify-option): New variable.
	(mm-decrypt-function-alist): Ditto.
	(mm-decrypt-option): Ditto.
	(mm-find-raw-part-by-type): New function.
	(mm-possibly-verify-or-decrypt): New function.
	(mm-dissect-multipart): Use it.
	* mml2015.el (mml2015-fix-micalg): New function.
	(mml2015-decrypt): Use new interface.
	(mml2015-verify):  Use new interface.
	(mml2015-setup): Make it bogus.

2000-10-28 16:54:45  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-postprocess-function): Set to
	mml-postprocess.
	(autoload): Autoload mml2015 and mml-smime.
	(mml-postprocess-alist): Use mml2015-sign and mml2015-encrypt.
	* mml2015.el (mml2015-encrypt): New function.
	(mml2015-sign): New function.
	(mml2015-encrypt-function): New variable.
	(mml2015-sign-function): New variable.
	(mml2015-mailcrypt-encrypt): Use message-recipients.
	(mml2015-setup): Don't set mml-generate-mime-postprocess-function.
	* mml-smime.el (mml-smime-setup): Ditto.

2000-10-28  Simon Josefsson  <sj@extundo.com>

	* imap.el (imap-parse-resp-text-code): Workaround bug in Stalker
	Communigate Pro 3.3.1 server.

	* mml-sec.el (mml-smime-encrypt-buffer): Support certfiles stored
	in buffers.
	(mml-secure-dns-server): Removed.
	(mml-secure-part-smime-encrypt-by-dns): Use DIG interface.  Don't
	write certificates to files.

	* smime.el (smime-dns-server): New variable.
	(smime-mail-to-domain):
	(smime-cert-by-dns): New functions.

	* dig.el: New file.

2000-10-28 10:09:41  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-options): New variable.
	(message-options-set-recipient): New function.
	(message-send): Use them.
	* gnus-int.el (gnus-request-replace-article): Use them.
	(gnus-request-accept-article): Ditto.
	* mml.el (mml-preview): Use them.
	* gnus-sum.el (gnus-summary-edit-article): Use them.

	* message.el (message-options-get): New function.
	(message-options-get): New function.
	* rfc2047.el (rfc2047-encode-message-header): Use them.
	* mm-bodies.el (mm-encode-body): Use them.

2000-10-28  Simon Josefsson  <sj@extundo.com>

	* nnimap.el (nnimap-retrieve-which-headers):
	(nnimap-request-article-part): Quote message-id.

	* smime.el (smime-CA-directory): Rename from `smime-CAs'.
	(smime-CA-file): New variable.
	(smime-call-openssl-region): Don't error.
	(smime-sign-region): Return result value.
	(smime-encrypt-region): Ditto.
	(smime-verify-region): New function.
	(smime-decrypt-region): Ditto.
	(smime-verify-buffer): Ditto.
	(smime-decrypt-buffer): Ditto.

	* mml.el: Require mml-sec.
	(mml-generate-mime-1): Support "sign" and "encrypt" MML tags.
	(mml-mode-map): Add "sign" and "encrypt" maps.
	(mml-menu): Add security menu.
	(mml-preview): Use generate-new-buffer.

	* mml-sec.el: New file.

2000-10-28 03:43:03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-find-part-by-type): Move it here.
	* mml.el (mml-postprocess): Move it here.
	(mml-postprocess-alist): Move it here. Merge them.

2000-10-28 03:38:39  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-message-header): Make sure no
	unencoded stuff in the header.

2000-10-28 02:40:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-listed-groups): New variable.
	(gnus-group-list-option): New variable.
	(gnus-group-list-limit-map): New keymap.
	(gnus-group-list-flush-map): New keymap.
	(gnus-group-list-plus-map): New keymap.
	(gnus-group-prepare-logic): New function.
	(gnus-group-prepare-flat): Merge with
	gnus-group-prepare-flat-predicate. Use gnus-group-listed-groups.
	(gnus-group-prepare-flat-list-dead): Ditto.
	(gnus-group-list-matching): Use gnus-group-prepare-function.
	(gnus-group-list-dormant): Ditto.
	(gnus-group-list-cached): Ditto.
	(gnus-group-listed-groups): New function.
	(gnus-group-list-limit): New function.
	(gnus-group-list-flush): New function.
	(gnus-group-list-plus): New function.
	* gnus-topic.el (gnus-group-prepare-topics): Accept predicate.
	(gnus-topic-prepare-topic): Ditto.

2000-10-27  Paul Jarc  <prj@po.cwru.edu>

	* message.el (message-insert-to, message-get-reply-headers):
	(message-reply, message-followup): Mail-{Followup,Reply}-To.

2000-10-27 19:45:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: New file.
	* smime.el: New file.
	* mml-smime.el: New file.

2000-10-27 19:42:12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* ChangeLog: Moved to ChangeLog.1.

    Copyright (C) 2000, 2001, 2002 Free Software Foundation, Inc.
  Copying and distribution of this file, with or without modification,
  are permitted provided the copyright notice and this notice are preserved.

;; Local Variables:
;; coding: iso-2022-7bit
;; End:
