2004-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump version.

2004-01-04 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: No Gnus v0.1 is released.

2004-01-04 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: No Gnus v0.1 is released.

2004-01-04 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: No Gnus v0.0 is released.

2004-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.
	(gnus-version): No.

2004-01-04 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Gnus v5.10.6 is released.

2004-01-04  Kai Grossjohann  <kai@emptydomain.de>

	* gnus-sum.el (gnus-summary-print-article): Doc fix.

2004-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2004-01-04 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Gnus v5.10.5 is released.

2004-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-face-from-file): Message 9.

2004-01-03  Romain FRANCOISE  <romain@orebokech.com>

	* gnus-fun.el (gnus-face-from-file): Use gnus-message.

2004-01-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-mid-or-mail-heuristic): Treat Gmane
	addresses specially.  Fix returned value and messages.

	* mm-decode.el (mm-enable-external): New variable.
	(mm-display-part): Use it.
	(mm-display-external): Fix message in case of nil handle.

	* Update copyright for several files.

	* spam-report.el (spam-report-gmane): Adjust verbosity.
	Delete trailing whitespace.  Update copyright.

	* spam.el: Fix many (but not all) checkdoc complaints.
	Delete trailing whitespace.

	* message.el (message-header-synonyms): Defcustom.
	(message-get-reply-headers): Catch `Original-To'.
	(message-carefully-insert-headers): Added comment.

	* gnus-sum.el (gnus-summary-make-menu-bar): Improved "Washing" menu.

2004-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-select-newsgroup): Use cat.

	* gnus-agent.el (gnus-agent-cat-enable-undownloaded-faces): New
	cat. 

	* gnus.el (gnus-user-agent): Moved here.

	* gnus-msg.el (gnus-user-agent): Moved from here.

	* gnus.el (gnus-version-number): Bump.

2004-01-03 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Gnus v5.10.4 is released.

2004-01-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus.el (gnus-mode-line-buffer-identification): Show version in
	help-echo.
	(gnus-read-group): Allow most group names.  Changed warning.

2004-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-dired.el (gnus-dired-mode-map): Change keymaps.

2004-01-02  Arne J,Ax(Brgensen  <arne@arnested.dk>

	* smime.el (smime-crl-check): Doc fix.

2004-01-02  Edwin Steiner  <edwin.steiner@gmx.net>

	* gnus-nocem.el (gnus-nocem-enter-article): Use the real group
	hashtb (tiny patch).

2004-01-02  Kai Grossjohann  <kai@emptydomain.de>

	* nnml.el (nnml-save-mail): Grok compressed articles.  From
	Michael Albinus <Michael.Albinus@alcatel.de>.

2004-01-02  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-copy-or-move-routine): use spam-list-articles
	(spam-list-articles): rewritten to only check a mark once per
	invocation

2004-01-01  Simon Josefsson  <jas@extundo.com>

	* mml-sec.el (mml-default-encrypt-method)
	(mml-default-sign-method): Defcustom.

2003-12-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-generate-mime-1): Remove extra ).

	* gnus-group.el (gnus-group-set-current-level): Signal errors on
	topic lines.
	(gnus-group-set-current-level): Fix fix.

2003-12-31  Jeremy Maitin-Shepard  <jbms@attbi.com>

	* mml.el (mml-generate-mime-1): Use mml-compute-boundary (tiny
	change). 

2003-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-group.el: Removed `(when t ...)' around `gnus-define-keys'.
	(gnus-group-group-map): Added `gnus-group-read-ephemeral-group'
	(already in previous commit inadvertently).
	(gnus-group-make-menu-bar): Added `gnus-group-read-ephemeral-group'.
	(gnus-group-read-ephemeral-group): Made interactive.

	* gnus-score.el (gnus-score-find-trace): Added comment on sync
	with `gnus-score-edit-file-at-point'.

	* gnus-logic.el (gnus-score-advanced): Ditto.

	* gnus-score.el (gnus-score-edit-file-at-point): Fix for
	advanced scoring.

2003-12-30  Simon Josefsson  <jas@extundo.com>

	* gnus-score.el (gnus-score-edit-file-at-point): Use
	gnus-point-at-*, for portability.

2003-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-treat-body-boundary): Fix doc-string and
	custom type.
	(gnus-button-mid-or-mail-regexp): Don't be too restrictive.
	Suggested by Felix Wiemann <Felix.Wiemann@gmx.net>.
	(gnus-button-alist): Added "M-x ... RET" and "mid:" buttons.
	Added comments about relevant RFCs.

	* gnus-sum.el (gnus-summary-mode): Untabify doc-string.
	(gnus-summary-goto-article): Allow `%40'.
	(gnus-summary-refer-article): Convert `%40' to `@'.

2003-12-30  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-crl-check): New.
	(smime-verify-region): Use it.  From Arne J,Ax(Brgensen
	<arne@arnested.dk> in <87llpk9v5q.fsf@seamus.arnested.dk> (tiny
	change).

2003-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-score.el (gnus-score-edit-file-at-point): Consider the
	whole match element.  From Karl Pfl,Ad(Bsterer <sigurd@12move.de>.
	(gnus-score-find-trace): Use it.  Added `f' and `t' commands,
	added quick help.  With some suggestions from Karl Pfl,Ad(Bsterer
	<sigurd@12move.de>.

	* gnus-util.el (gnus-emacs-version): Added doc-string.

	* mml.el (mml-minibuffer-read-disposition): New function.
	(mml-attach-file): Use it.
	(mml-preview): Added MIME preview to gnus-buffers.

2003-12-30  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-make-menu-bar): Add ellipses.

2003-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-get-unread-articles): Inline gnus-server-get-method.
	(gnus-get-unread-articles): Cache methods.
	(gnus-get-unread-articles-in-group): Indent.

	* gnus.el (gnus-version-number): Bump.
	(gnus-secondary-method-p): Extend servers to methods before comparing.
	(gnus-secondary-method-p): Revert.

2003-12-30 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Gnus v5.10.3 is released.

2003-12-29  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agentize): Improve auto-agentizing logic.
	Suggested by Steinar Bang <sb@dod.no>.
	(gnus-agent-auto-agentize-methods): Customize.

2003-12-29  Kevin Greiner <kgreiner@xpediantsolutions.com>
	* gnus.el (gnus-server-to-method): Fixed bug in 2003-12-22
	check-in.

2003-12-28  Adrian Lanz  <lanz@fowi.ethz.ch>

	* mail-source.el (mail-source-fetch-imap): Prevent storing of
	identical entries for imap mail sources, when retrieving mail
	messages from an imap server within the same Gnus session several
	times (tiny change).

2003-12-28  Jesper Harder  <harder@ifa.au.dk>

	* mm-view.el (mm-text-html-washer-alist): Use
	mm-inline-wash-with-stdin for w3m-standalone.

	* mm-decode.el (mm-text-html-renderer): Add w3m-standalone.

	* mml1991.el (mml1991-pgg-encrypt): Decode according to CTE before
	encrypting.

2003-12-28  Jesper Harder  <harder@ifa.au.dk>

	* mml1991.el (mml1991-pgg-sign): Use unibyte when re-encoding.
	From Ivan Boldyrev <boldyrev@uiggm.nsc.ru> (tiny change).

2003-12-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el: Add an advice to byte-optimize-form-code-walker to
	avoid the warning ``...called for effect'' for the pop form when
	running Emacs 21.3.

2003-12-26  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-body-encoding): Don't use 7bit if the body
	contains "^From " and mm-use-ultra-safe-encoding is true.

2003-12-25  Jesper Harder  <harder@ifa.au.dk>

	* mml1991.el (mml1991-pgg-sign): Encode and decode according to
	CTE header.  Don't insert gpg output as unibyte.

2003-12-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Remove display-time-event-handler and open-ssl-stream;
	add delete-extent for Emacs; rearrange bindings assuming w3 may
	not be available and XEmacs without the file-coding feature may be
	used.

2003-12-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (dgnushack-compile): Increase the value for
	max-specpdl-size when compiling Gnus with Emacs 20.

2003-12-22  Kevin Greiner <kgreiner@xpediantsolutions.com>
	* gnus-int.el (gnus-open-server): Fixed the server status such
	that an agentized server, when opened offline, has a status of
	offline.  Also fixes bug whereby the agent's backend was called
	twice to open each server.

	* gnus-start.el (gnus-get-unread-articles-in-group): Autoload
	gnus-agent-possibly-alter-active rather than inline to resolve
	compiler warnings.

	* gnus.el (gnus-server-to-method): Added fallback of iterating
	over gnus-newsrc-alist to resolve names of foreign servers.
	Should fix recent agent bug.

2003-12-22  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-score.el (gnus-summary-lower-score)
	(gnus-summary-increase-score): Mention symbolic prefix in the
	doc-string.  Suggested by Karl Pfl,Ad(Bsterer <sigurd@12move.de>.

2003-12-21  Jesper Harder  <harder@ifa.au.dk>

	* gnus-agent.el (gnus-agent-read-agentview): Use
	car-less-than-car.

2003-12-20  Artem Chuprina <ran@ran.pp.ru>  (tiny change)

	* message.el (message-yank-buffer): Bind message-reply-buffer to
	a buffer rather than a string.

2003-12-19  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-summary-followup): Correct documentation.

2003-12-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-inews-add-send-actions): `yanked' can be a
	list of lists.  Reported by Dmitri Paduchikh <paduch@imm.uran.ru>.

2003-12-18  Reiner Steib  <Reiner.Steib@gmx.de>

	* mm-url.el (mm-url-insert-file-contents-external)
	(mm-url-insert-file-contents): Added doc-strings.  Autoload.

2003-12-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-cus.el (defvar): defvar
	gnus-agent-cat-disable-undownloaded-faces.

2003-12-17  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-forward-subject-name-subject): Use
	gnus-extract-address-components instead of
	mail-header-parse-address because it may be called with non-ascii
	text.

2003-12-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nnmail.el (nnmail-split-fancy): The widget now supports
	restrictions.

2003-12-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnheader.el (nnheader-find-etc-directory): Find the newest one.

2003-12-16  Simon Josefsson  <jas@extundo.com>

	* sha1-el.el (autoload): Don't use ignore-errors.
	(sha1-use-external): Use condition-case.  Suggested by Katsumi
	Yamaoka <yamaoka@jpl.org>.

2003-12-15  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnmail.el (nnmail-split-fancy): Make it customizable with Emacs
	20 as well.

2003-12-15  Simon Josefsson  <jas@extundo.com>

	* sha1-el.el (autoload): Ignore errors for
	executable-find. (XEmacs ecrypto does not require sh-script where
	executable.el is located.)
	(sha1-use-external): Likewise.

	* sha1-el.el (sha1): Add defgroup.
	(sha1-maximum-internal-length, sha1-program, sha1-use-external)
	(sha1-program): Use 'sha1sum' from GNU CoreUtils instead of OpenSSL.
	(sha1): Autoload.

	* nndraft.el (nndraft-request-move-article): Copy definition of
	nnmh-request-move-article instead of calling it, because the nnmh
	version uses nnmh-request-article which isn't the same as the
	nndraft version.

2003-12-13  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: added some gnus-registry autoloads
	(spam-split-symbolic-return): makes spam-split return 'spam
	instead of the value of spam-split-group when spam is detected
	(spam-split-symbolic-return-positive): makes spam-split return
	'ham instead of nil when ham is detected
	(spam-autodetect-recheck-messages): tells spam.el whether it
	should recheck all messages in a group, or only the unseen ones
	(spam-split-last-successful-check): spam-split will set this to
	the last successful check; this was seen as a cleaner approach
	than returning a cell like '(spam spam-use-bogofilter)
	(spam-list-of-checks): documentation appended
	(spam-split): accomodate the spam-split-symbolic-return and
	spam-split-symbolic-return-positive variables
	(spam-find-spam): new function called when the summary is built
	(spam-log-registered-p): checks if a ham or spam registration has
	already been done for an article
	(spam-check-regex-headers, spam-check-blackholes, spam-check-BBDB)
	(spam-check-ifile, spam-check-stat, spam-check-whitelist)
	(spam-check-blacklist, spam-check-bogofilter-headers)
	(spam-check-spamoracle): respect the spam-split-symbolic-return
	and spam-split-symbolic-return-positive variables
	(spam-initialize): add spam-find-spam to gnus-summary-prepare-hook
	(spam-unload-hook): remove spam-find-spam from
	gnus-summary-prepare-hook

	* gnus.el (spam-autodetect, spam-autodetect-methods): new
	configuration items for spam autodetection

2003-12-12  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-draft.el (gnus-draft-mode-map): Bind `e' to
	`gnus-draft-edit-message'.  We still have `B w' for
	`gnus-summary-edit-article'.

2003-12-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnheaderxm.el (nnheader-xmas-run-at-time): Use a simple function
	definition if there is not a bug in start-itimer.

	* pgg.el (pgg-run-at-time): Ditto.

2003-12-11  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-possibly-alter-active): New Function.
	(gnus-agent-regenerate-group): When necessary, alter the group's
	active range to include articles newly recognized as being
	downloaded.
	(gnus-agent-regenerate): Removed code that updated the agent's
	active file as the new gnus-agent-possibly-alter-active function
	obsolesced it.

	* gnus-cus.el (gnus-agent-customize-category): Added missing
	agent-disable-undownloaded-faces parameter.
	
	* gnus-start.el (gnus-activate-group): Backed out my 2003-11-29
	patch as it was too late at adjusting the active range.
	(gnus-get-unread-articles-in-group): Added call to new
	gnus-agent-possibly-alter-active to adjust the active range.

2003-12-10  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-get-reply-headers): Narrow to headers.

2003-12-10  Teodor Zlatanov  <tzz@lifelogs.com> 

	* spam.el (spam-disable-spam-split-during-ham-respool): new
	variable.  From lorentey@elte.hu (L,Bu(Brentey K,Ba(Broly)
	(spam-ham-copy-or-move-routine): respect
	spam-disable-spam-split-during-ham-respool.  From
	lorentey@elte.hu (L,Bu(Brentey K,Ba(Broly)
	(spam-split-disabled): new variable.  From
	lorentey@elte.hu (L,Bu(Brentey K,Ba(Broly)
	(spam-split): respect spam-split-disabled.  From
	lorentey@elte.hu (L,Bu(Brentey K,Ba(Broly)

2003-12-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnheaderxm.el (nnheader-xmas-run-at-time): Make it work
	correctly for the first argument.

	* pgg.el (pgg-run-at-time): New function.
	(pgg-add-passphrase-cache): Use it.

2003-12-10  Simon Josefsson  <jas@extundo.com>

	* pgg-parse.el (pgg-decode-packets): Rewrite to handle corrupt
	input.
	(pgg-decode-armor-region): Don't parse packet if decoding fail.

2003-12-09  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-bogofilter): run in the correct buffer.
	From lorentey@elte.hu (L,Bu(Brentey K,Ba(Broly).
	(spam-bogofilter-database-directory): correct customization
	group.  From Xavier Maillard <zedek@gnu-rox.org>.

2003-12-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nnmail.el (nnmail-lazy, nnmail-split-fancy): New widgets.
	(nnmail-split-fancy): Use it.

2003-12-08  Joel Ray Holveck <joelh@piquan.org>  (tiny change)

	* gnus-sum.el (gnus-summary-save-parts-1): Consider the "name"
	parameter of Content-Type.

2003-12-08  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-util.el: Revert 2003-12-03 change, instead, provide the
	compiler macro for rmail-select-summary if rmail is not available,
	and bind rmail-summary-displayed and rmail-maybe-display-summary
	in order to silence the compiler even if tm is not available.

2003-12-08  Simon Josefsson  <jas@extundo.com>

	* flow-fill.el (fill-flowed-encode-tests, fill-flowed-test): Add.

2003-12-08  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-extended-version): Bind float-output-format to
	nil.

2003-12-08  Simon Josefsson  <jas@extundo.com>

	* mml-smime.el (mml-smime-sign): Replace CRLF with LF in OpenSSL
	output.  Reported by Arne J,Ax(Brgensen <arne@arnested.dk>.

2003-12-07  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-recipient-arg): Add.
	(pgg-gpg-encrypt-region): Use it.  Tiny patch from Lloyd Zusman
	<ljz@asfast.com>.
	(pgg-gpg-recipient-argument): Doc fix.  Renamed fro p-g-r-a.
	(pgg-gpg-encrypt-region): Update.

2003-12-07  Jesper Harder  <harder@ifa.au.dk>

	* spam.el (spam-check-spamoracle, spam-spamoracle-learn): Don't
	use = or zerop to test the return value of call-process, because
	it can be a string.

	* mail-source.el (mail-source-fetch-with-program): do.

	* mailcap.el (mailcap-viewer-passes-test): do.

	* gnus-uu.el (gnus-uu-treat-archive, gnus-uu-post-encode-mime)
	(gnus-uu-post-encode-file): do.

	* gnus-soup.el (gnus-soup-pack, gnus-soup-unpack-packet): do.

	* message.el (message-fix-before-sending): Fix detection of
	non-printables.  Don't replace unencodable utf-8.

2003-12-05  Jesper Harder  <harder@ifa.au.dk>

	* mm-url.el (mm-url-predefined-programs): Add user-agent for wget.
	(mm-url-insert-file-contents-external): Signal an error if program
	fails.

2003-12-04  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam-report.el (spam-report-gmane): iterate over articles
	instead of a single one; remove interactive usage

2003-12-03  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dns.el: Fix misplaced eval-when-compile.

	* gnus-util.el: Require alist and provide tm-view when compiling
	with XEmacs.

2003-12-03  Steve Youngs  <sryoungs@bigpond.net.au>

	* gnus-xmas.el: Add autoloads for macros defined in gnus.el.
	From Jerry James <james@xemacs.org>.

	* gnus-util.el: Get rmail definitions when compiling.
	From Jerry James <james@xemacs.org>.

	* dns.el: Require gnus-xmas at compile time instead of trying to
	autoload `gnus-xmas-open-network-stream' because it wasn't picking
	up the macro.
	From Jerry James <james@xemacs.org>.

2003-12-01  Kevin Greiner <kgreiner@xpediantsolutions.com>
	* gnus-agent.el (gnus-agent-consider-all-articles): Updated
	docstring.
	(gnus-predicate-implies-unread, gnus-predicate-implies-unread-1):
	Fixed implementation such that the predicate `true' no longer
	evaluates to t.

2003-12-01  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-bogofilter): check the bogofilter headers
	AFTER the save-excursion scope is over.  From Adrian Lanz
	<lanz@fowi.ethz.ch>.
	(spam-fetch-field-message-id-fast): doc fix

2003-12-01  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agent-expire-days): Doc fix.

2003-11-30  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agent-expire-group-1): Bind message-log-max
	when messaging "X % completed" to inhibit logging them to the
	message buffer.
	(gnus-agent-expire-group-1): Mention group name in messages.
	(gnus-agent-expire-group-1): Only print a message for an article
	when there actually was something done to it.

	* mm-util.el (mm-enable-multibyte): Call set-buffer-multibyte with
	'to argument.  Fixes something or other in Emacs 22, and is
	backwards compatible.  From Kenichi Handa <handa@m17n.org>.

	* gnus-agent.el (gnus-agent-expire-unagentized-dirs): Custom fix.

2003-11-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-covered-methods): Remove nil methods. 

2003-11-29  Kevin Greiner <kgreiner@xpediantsolutions.com>
	* gnus-start.el (gnus-activate-group): The active range of the
	group must include the articles known to the agent.

	* gnus.el (gnus-agent-method-p): Accept a server name as the
	method being tested.

2003-11-29  Alexander Kreuzer <alex@freesources.org>  (tiny change)

	* nnrss.el (nnrss-check-group): Set xml when nnrss-use-local is t.

2003-11-29  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-make-menu-bar): Add
	gnus-group-make-rss-group.

2003-11-28  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el: Added custom-manual links to all variables that have
	an index entry in the message manual.
	(message-generate-headers-first): Fixed doc-string.

2003-11-27  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (gnus-summary-yank-message): Don't bind
	gnus-display-mime-function to nil so that non-ascii text is
	decoded and attachments are not shown.

	* message.el (message-cite-original-without-signature): Replace
	the value of message-reply-headers with the yanked article since
	it may be a different article from the original.
	(message-cite-original): Ditto.

2003-11-25  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-blacklist-ignored-regexes): new variable, so
	blacklisting can ignore certain regular expressions (e.g. the
	user's e-mail address)
	(spam-bogofilter-spam-strong-switch,
	spam-bogofilter-ham-strong-switch): options used when articles are
	already registered as the opposite classification
	(spam-old-ham-articles, spam-old-spam-articles): lists of ham and
	spam articles, generated when a summary buffer is entered, and
	consulted when it's exited so we know what articles are changing
	state from spam to ham or vice-versa
	(spam-xor): everyone needs a little convenience
	(spam-list-of-processors): lookup table for old-style spam/ham
	exits processors
	(spam-group-processor-p): support old-style and new-style spam/ham
	exit processors
	(spam-group-processor-multiple-p): handle new-style spam/ham exit
	processors
	(spam-summary-prepare): use spam-old-{ham,spam}-articles; change
	logic to iterate over list of processors instead of manual
	individual lookup, unregister any articles that change from ham to
	spam or vice-versa in the course of the summary buffer usage; use
	the new spam-register-routine
	(spam-ham-copy-routine, spam-ham-move-routine,
	spam-mark-spam-as-expired-and-move-routine): check that the list
	of groups is not nil, because apply doesn't like to apply a
	function across nil
	(spam-registration-functions): variable for looking up spam/ham
	registration/unregistration functions based on a spam-use-* symbol
	(spam-classification-valid-p, spam-process-type-valid-p)
	(spam-registration-check-valid-p)
	(spam-unregistration-check-valid-p): convenience functions
	(spam-registration-function, spam-unregistration-function): look
	up the registration/unregistration function based on a
	classification and the check (spam-use-* symbol)
	(spam-list-articles): generate list of spam/ham articles from a
	given list of articles
	(spam-register-routine): do the heavy work of registering and
	unregistering articles, using all the articles in the group or
	specific ones as needed
	(spam-generic-register-routine): removed, no longer used
	(spam-log-unregistration-needed-p, spam-log-undo-registration):
	handle article registration/unregistration with a given spam/ham
	processor and group
	(BBDB, ifile, spam-stat, blacklists, whitelists, spam-report,
	bogofilter, spamoracle): rewrite registration/unregistration
	functions to take a list of articles and the unregister option.
	Much hilarity ensues.
	(spam-initialize): spam-stat-maybe-{save,load} already respect spam-use-stat
	(spam-stat-register-ham-routine, spam-stat-register-spam-routine):
	don't load and save unnecessarily

	* spam-stat.el (spam-stat-dirty): new variable, set when the stats
	database is modified
	(spam-stat-buffer-is-spam, spam-stat-buffer-is-non-spam)
	(spam-stat-buffer-change-to-spam, spam-stat-to-hash-table)
	(spam-stat-buffer-change-to-non-spam): set spam-stat-dirty when
	needed
	(spam-stat-save): respect spam-stat-dirty, unless the force
	parameter is specified
	(spam-stat-load): clear spam-stat-dirty

	* gnus.el (gnus-install-group-spam-parameters): marked the
	old-style exit processors as obsolete in the docs, added the
	new-style exit processors while the old ones are still allowed


2003-11-25  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (article-hide-boring-headers): Don't hide Reply-To
	unless its list of addresses is identical to From.

2003-11-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (mapc): Add the compiler macro for Emacs 20.

2003-11-24  Kevin Greiner <kgreiner@xpediantsolutions.com>
	* gnus-srvr.el (gnus-server-insert-server-line): The server names
	used in gnus-agent are different (for example, the native server
	uses the alias "native") from the names in gnus-srvr.
	Compensating by adding a second text property storing the name
	expected by gnus-agent.
	(gnus-server-named-server): New function.
	* gnus-agent.el (gnus-agent-remove-server, gnus-agent-add-server):
	No longer expect an argument as it was ignored anyway.  Uses the
	new gnus-server-named-server function to get gnus-agent compatible
	names from the server buffer.

2003-11-20  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus.el (gnus-agent-covered-methods): Documented use of
	named servers, not methods, to identity agentized groups.
	Users may now change their server configurations without having
	the server become "unagentized".
	(gnus-agent-covered-methods): Removed from gnus-variable-list to
	avoid storing two copies of gnus-agent-covered-methods, one in
	.newsrc.eld and the other in agent/lib/servers.
	(gnus-server-to-method): Do not cache server for the nil method.
	(gnus-method-to-server): New function.  Associate named server
	with all, even foreign, methods.
	(gnus-agent-method-p, gnus-agent-method-p-cache): Incorporated
	simple last-response cache to offset performance lose of having to
	always convert methods to named servers.
	* gnus-agent.el (gnus-agent-expire-days): Removed obsolete
	documentation.
	(gnus-agentize, gnus-agent-add-server, gnus-agent-remove-server):
	Modified to support new definition of gnus-agent-covered-method.
	(gnus-agent-read-servers): Rewritten to convert old method data
	into server names.
	(gnus-agent-read-servers-validate)
	(gnus-agent-read-servers-validate-native): New functions.
	(gnus-agent-write-servers): No longer use gnus-method-simplify as
	it failed to simplify foreign methods.
	(gnus-agent-close-connections, gnus-agent-synchronize-flags)
	(gnus-agent-possibly-synchronize-flags, gnus-agent-fetch-session)
	(gnus-agent-regenerate): Uses new gnus-agent-covered-methods
	function as gnus-agent-covered-methods variable no longer provides
	methods.
	(gnus-agent-covered-methods): New function
	(gnus-agent-expire-group, gnus-agent-expire): Final message will,
	if gnus-verbose is greater than 4, report statistics of NOV
	entries and files deleted as well as total bytes recovered.
	(gnus-agent-expire-done-message): New function
	(gnus-agent-unread-articles): Bug fix.  No longer drops last
	unread article onto read list.
	(gnus-agent-regenerate-group): Changed prompt to use typical
	style.
	(gnus-agent-group-covered-p): Rewrote to internally use
	gnus-agent-method-p.
	* gnus-int.el (gnus-start-news-server): Partially convert old
	gnus-agent-covered-methods to new format so that gnus-open-server
	functions correctly.
	* gnus-srvr.el (gnus-server-insert-server-line): Replaced
	gnus-agent-covered-methods with gnus-agent-method-p.
	* gnus-start.el (gnus-clear-system): Added
	gnus-agent-covered-methods to compensate for removing it from
	gnus-variable-list.
	(gnus-setup-news): Complete conversion of old
	gnus-agent-covered-methods to new format so that secondary and
	foreign servers can be correctly opened.

2003-11-20  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-copy-or-move-routine): add respooling
	support, not working well yet

	* gnus.el (ham-process-destination): make 'respool option the
	only one, so it can't be chosen together with other groups

2003-11-19  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-track-extra): make it a set of
	choices instead of a boolean
	(gnus-registry-track-subject-p, gnus-registry-track-sender-p):
	new convenience functions
	(gnus-registry-split-fancy-with-parent): use convenience
	functions, also don't return extra tracking info if sender or
	subject is found in more than one groups
	(gnus-registry-add-group): use new convenience functions to
	decide if sender and subject should be tracked

	* gnus.el (ham-process-destination): add 'respool option,
	unused by spam.el yet

2003-11-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-score.el (gnus-decay-score): Return a surely smaller value
	than the argument in XEmacs.

2003-11-18  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-insert-to): Don't use `gnus-message'.
	(message-header-synonyms): New variable.
	(message-carefully-insert-headers): Use it (check for synonyms).
	Added doc-string.  From Sam Steingold <sds@gnu.org>.

2003-11-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* html2text.el (html2text-remove-tags): Remove the tag in a
	simpler way to avoid inflooping.

2003-11-17  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-gssapi-auth-p): Don't check capability (some
	servers remove AUTH=GSSAPI from capability response returned after
	successful authentication).

2003-11-16  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el (gnus-getenv-nntpserver): Fix regexp and simplify.
	Reported by Artem Chuprina <ran@ran.pp.ru>.

2003-11-14  Simon Josefsson  <jas@extundo.com>

	* mm-util.el (mm-charset-synonym-alist): Map BIG5-HKSCS to BIG5
	when it isn't available.

2003-11-13  Alex Schroeder  <alex@gnu.org>

	* nnrss.el (nnrss-check-group): Use dc:contributor if neither
	rss:author nor dc:creator is provided.

2003-11-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-dissect-buffer): Save start="<id>" value
	contained in Content-Type header of multipart/related messages.

	* mm-view.el (mm-w3m-cid-retrieve-1): New function.
	(mm-w3m-cid-retrieve): Use it.

	* mml.el (mml-generate-mime-1): Add start="<id>" to Content-Type.
	(mml-insert-mime-headers): Insert Content-ID header.
	(mml-insert-mml-markup): Insert start="<id>" value.

2003-11-12  Teodor Zlatanov  <tzz@lifelogs.com>

	* nnml.el (nnml-request-accept-article): pass sender to
	nnmail-cache-insert

	* nnmh.el (nnmh-request-accept-article): pass sender to
	nnmail-cache-insert 

	* nnmbox.el (nnmbox-request-accept-article): pass sender to
	nnmail-cache-insert 

	* nnfolder.el (nnfolder-request-accept-article): pass sender to
	nnmail-cache-insert 

	* nnbabyl.el (nnbabyl-request-accept-article): pass sender to
	nnmail-cache-insert 

	* nnmail.el (nnmail-cache-insert): accept sender parameter and
	pass it to the nnmail-spool-hook

	* gnus-registry.el (gnus-registry-track-extra): clarify doc
	(gnus-registry-action): add sender lexical var and pass it to
	gnus-registry-add-group
	(gnus-registry-spool-action): take a sender parameter, pass to
	gnus-registry-add-group
	(gnus-registry-split-fancy-with-parent): trace by sender in
	addition to subject
	(gnus-registry-fetch-sender-fast): new function
	(gnus-registry-add-group): accept sender parameter

2003-11-11  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-copy-routine, spam-ham-move-routine)
	(spam-mark-spam-as-expired-and-move-routine): allow for the
	groups to be a list of a single item

	* gnus.el (gnus-install-group-spam-parameters):
	ham-process-destination and spam-process-destination allow lists now

2003-11-10  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-insert-to): Do error out when the user
	requested no Cc.  Don't insert empty To.  Can be added to
	`message-setup-hook' now.  From Sam Steingold <sds@gnu.org>.
	(message-mode-field-menu): Moved some entries, added
	`message-insert-wide-reply'.
	(message-change-subject): Fixed comment.

2003-11-10  Simon Josefsson  <jas@extundo.com>

	* pgg-def.el (pgg-encrypt-for-me): Change default from nil to t.

2003-11-09  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-encrypt-region): Cache passphrase under hex
	key id too (for decryption).
	(pgg-gpg-sign-region): Likewise.

2003-11-09  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-all-secret-keys): New variable.
	(pgg-gpg-lookup-all-secret-keys): New function.
	(pgg-gpg-select-matching-key): Likewise.
	(pgg-gpg-decrypt-region): Use new functions.  From Satyaki Das
	<satyakid@stanford.edu>.

2003-11-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* nnmail.el (nnmail-cache-insert): make sure that the
	nnmail-spool-hook is called with a valid newsgroup name (though
	it may be wrong)

	* gnus.el (gnus-group-real-prefix): return nil if group is not a
	string, instead of triggering an error

2003-11-06  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus.el (gnus-group-guess-full-name-from-command-method): new	function

	* gnus-registry.el (gnus-registry-fetch-group): use long names if
	requested 
	(gnus-registry-split-fancy-with-parent): when long names are in
	use, strip the name if we're in the native server, or else return nothing
	(gnus-registry-spool-action, gnus-registry-action): use
	gnus-group-guess-full-name-from-command-method instead of
	gnus-group-guess-full-name

	* spam.el (spam-mark-spam-as-expired-and-move-routine)
	(spam-ham-copy-or-move-routine): prevent article deletions or
	moves unless the backend allows it

	* gnus.el (gnus-install-group-spam-parameters): fixed parameters
	to list spamoracle as well, suggested by Jean-Marc Lasgouttes
	<Jean-Marc.Lasgouttes@inria.fr>

	* spam.el (spam-spamoracle): doc change, suggested by Jean-Marc
	Lasgouttes <Jean-Marc.Lasgouttes@inria.fr>

2003-11-04  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-score.el (gnus-decay-score): Protect against arithmetic
	errors.  Tiny patch from Norbert Koch <viteno@xemacs.org>.

2003-10-31  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el
	(spam-log-processing-to-registry): improved message and comments
	(spam-log-unregistration-needed-p): new function
	(spam-ifile-register-spam-routine)
	(spam-ifile-register-ham-routine, spam-stat-register-spam-routine)
	(spam-stat-register-ham-routine)
	(spam-blacklist-register-routine)
	(spam-whitelist-register-routine)
	(spam-bogofilter-register-spam-routine)
	(spam-bogofilter-register-ham-routine)
	(spam-spamoracle-learn-ham, spam-spamoracle-learn-spam): change
	spam-log-processing-to-registry invocations appropriately

2003-10-31  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-kerberos4-open): Ignore output from ATHENA imtest.
	Tiny patch from Derek Atkins <warlord@MIT.EDU>.
	(imap-process-connection-type): Improve docstring.  Suggested by
	Derek Atkins <warlord@MIT.EDU>.

2003-10-31  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (autoload): autoload the gnus-registry functions we'll
	need
	(spam-log-to-registry): new variable for interfacing with the
	gnus-registry
	(spam-install-hooks): variable had the wrong customization group
	(spam-fetch-field-message-id-fast): convenience function for fetch
	a message ID quickly
	(spam-log-processing-to-registry): new function
	(spam-ifile-register-spam-routine)
	(spam-ifile-register-ham-routine, spam-stat-register-spam-routine)
	(spam-stat-register-ham-routine)
	(spam-blacklist-register-routine)
	(spam-whitelist-register-routine)
	(spam-bogofilter-register-spam-routine)
	(spam-bogofilter-register-ham-routine)
	(spam-spamoracle-learn-ham, spam-spamoracle-learn-spam): add
	spam-log-processing-to-registry invocations

	* gnus-registry.el: fixed docs in the preface to mention
	gnus-registry-initialize
	(gnus-registry-store-extra): remove cached extra entry
	information when new extra entry is stored

2003-10-29  Simon Josefsson  <jas@extundo.com>

	* message.el (message-forward-make-body-plain): Fix ARG=1 mode
	after separating m-f-m-b.

2003-10-29  Simon Josefsson  <jas@extundo.com>

	* message.el (message-forward-make-body-plain): Remove ignored
	headers.  Tiny patch from Andre Srinivasan <andre@e2open.com>.
	(message-forward-make-body-plain): Fix ARG=1.

2003-10-28  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-forward-subject-name-subject)
	(message-forward-subject-author-subject): Decode non-ASCII
	newsgroup names.
	(autoload): Autoload gnus-group-decoded-name.

2003-10-27  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-possibly-cache-passphrase): New optional
	parameter key, overrides the key id used to store passphrase
	under (uses true key id from gpg output if nil).
	(pgg-gpg-encrypt-region): Search for passphrase using user suplied
	string STR, instead of (pgg-lookup-key STR t).
	(pgg-gpg-encrypt-region): Store passphrase under user suplied
	string, instead of real key id taken from gpg output.
	(pgg-gpg-decrypt-region): Likewise.
	(pgg-gpg-sign-region): Likewise.
	* pgg.el (pgg-decrypt-region): Don't set pgg-default-user-id.

2003-10-27  Romain FRANCOISE  <romain@orebokech.com>

	* gnus-art.el (gnus-article-goto-prev-page): Doc fix. 

2003-10-27  Simon Josefsson  <jas@extundo.com>

	* mm-bodies.el (mm-body-encoding): Don't use QP when message body
	only consists of short lines and ASCII, when
	mm-use-ultra-safe-encoding.  Refer to 'About foo' thread in
	gnus-bug, e.g. <ilullrg4k7p.fsf@extundo.com>, for more discussion.
	This make it possible to pipe the raw RFC 822 message into 'gpg'
	and have the signature work.  Potential problem: what if message
	contain data that would be dash-escaped by OpenPGP
	implementations? Then PGP 2.x might not be able to parse the raw
	RFC 822 message correctly.  If that problem is worth fixing, it
	should be fixed by detecting the situation, instead of applying QP
	to everything.  Based on discussion with "John A. Martin"
	<jam@jamux.com>.

2003-10-27  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-mark-spam-as-expired-and-move-routine)
	(spam-ham-copy-or-move-routine): don't ask when deleting copied
	articles, and use move instead of copy when possible
	(spam-split): added the option of specifying a string as a
	spam-split parameter; such a string will override
	spam-split-group temporarily.

	* nnmail.el (nnmail-cache-insert): protect from nil message IDs,
	but should we do something else?

	* gnus-registry.el (gnus-registry-spool-action): protect from nil
	message IDs

2003-10-26  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-alist): Allow & in mailto URLs.
	(gnus-header-button-alist): Likewise.
	(gnus-url-mailto): Handle ?to parameters.  Replace \r\n with \n.
	Reverse parameter list to use same order as in the URL.  Reported
	by f95-msv@f.kth.se (M,Ae(Brten Svantesson).

2003-10-25  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-move-spam-nonspam-groups-only): documentation fix
	for the variable

2003-10-25  Steve Youngs  <sryoungs@bigpond.net.au>

	* Makefile.in (clean-some): Remove auto-autoloads.* and
	custom-load.* as well.
	(distclean): Ditto.

	* dgnushack.el (dgnushack-make-load): Add a local vars section to
	the dummy gnus-load.el.

2003-10-24  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-copy-or-move-routine): do not delete if copy
	is t, also don't intepret the list of groups as a list of lists
	(spam-mark-spam-as-expired-and-move-routine)
	(spam-ham-copy-or-move-routine): delete articles only if 1 or
	more groups were specified (and "copy" was not specified for
	spam-ham-copy-or-move-routine) (fixed twice)

2003-10-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nndoc.el (nndoc-guess-type): Reverse the sort order.  Suggested
	by ARISAWA Akihiro <ari@mbf.ocn.ne.jp>.
	(nndoc-dissect-buffer): Don't miss even-numbered articles.

2003-10-24  Steve Youngs  <sryoungs@bigpond.net.au>

	* dgnushack.el (dgnushack-gnus-load-file): Set to
	"auto-autoloads.el" if building with XEmacs.
	(dgnushack-cus-load-file): Set to "custom-load.el" if building
	with XEmacs.
	(dgnushack-make-cus-load): We don't delete the resulting file if
	building with XEmacs so byte-compile it.
	(dgnushack-make-load): When building with XEmacs do nothing except
	byte-compile the autoload file and create a dummy gnus-load.el
	file. 

2003-10-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-make-fqdn): Bind case-fold-search.
	Suggested by Christopher Richards <richards@CS.Princeton.EDU>.

2003-10-23  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus.el (spam-process-destination, ham-process-destination):
	allow multiple groups as a choice

	* spam.el (spam-check-blackholes): remove "[IP address]"
	requirement, now just "IP address" is enough for detection for
	blackhole checking
	(spam-check-blackholes): oops, the dots were not escaped
	(spam-mark-spam-as-expired-and-move-routine): added multiple group
	support (multiple copies, then delete)
	(spam-ham-copy-routine): new function
	(spam-ham-move-routine): new function
	(spam-ham-copy-or-move-routine): new function (used to be
	spam-ham-move-routine), handle multiple groups
	(spam-summary-prepare-exit): call the new functions

2003-10-23  Simon Josefsson  <jas@extundo.com>

	* flow-fill.el (fill-flowed-encode, fill-flowed): Autoload.

2003-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-emphasis-strikethru): Use the :strike-through
	attribute in Emacs.

2003-10-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-bounce): Don't erase except bounced header.

2003-10-21  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-reverse-ip-string): new function to reverse an IP
	address in a string
	(spam-check-blackholes): use spam-reverse-ip-string

2003-10-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-narrow-to-page): Clear as well as set the
	value for gnus-page-broken.

	* gnus-sum.el (gnus-summary-beginning-of-article): Use
	gnus-break-pages instead of gnus-page-broken.
	(gnus-summary-end-of-article): Use gnus-break-pages instead of
	gnus-page-broken; narrow to the end of a page beforehand.
	(gnus-summary-toggle-header): Use gnus-break-pages instead of
	gnus-page-broken; remove delimiter buttons unless gnus-break-pages
	is non-nil.

2003-10-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picon-transform-address): Protect against
	errors. 

2003-10-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (nnspool-rejected-article-hook): Remove defvar.
	(xemacs-codename): Move defvar to gnus-util.el.

	* gnus-util.el (xemacs-codename): Defvar when compiling.

2003-10-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* spam-report.el (spam-report-url-ping-plain): Include a
	User-Agent. 

	* gnus-msg.el (gnus-extended-version): Use it.

	* gnus-util.el (gnus-emacs-version): Separated out into own
	function. 

2003-10-19  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-mode-field-menu): Added
	message-generate-unsubscribed-mail-followup-to.
	(message-forward-subject-fwd): Avoid double "Fwd: "
	(message-change-subject): Added comment.

2003-10-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-nov-parse-line): Remove condition-cases.

	* mml.el (mml-insert-mime): Quote mml.

2003-10-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-remove-odd-characters): Use
	mm-subst-char-in-string instead of subst-char-in-string.
	(gnus-summary-refer-article): Use gnus-replace-in-string instead
	of replace-regexp-in-string.

2003-10-19  Jesper Harder  <harder@ifa.au.dk>

	* gnus-uu.el (gnus-uu-uustrip-article): Really strip directory
	from file name.

2003-10-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-save-parts-last-directory): Default
	to mm-default-directory.
	(gnus-summary-save-parts-1): Use mm-file-name-rewrite-functions.

2003-10-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* pop3.el (pop3-read-response): Check whether the process is
	alive. 

	* gnus-sum.el (gnus-summary-refer-article): Strip spaces.

	* rfc2047.el (rfc2047-encode-region): Do error out on invalid
	strings. 

	* nntp.el (nntp-retrieve-headers-with-xover): Get error messages
	right. 

	* gnus-agent.el (gnus-agent-read-servers): Remove sit-for.

	* gnus-art.el (article-treat-dumbquotes): Doc fix.

	* message.el (message-field-value): New function.
	(message-insert-disposition-notification-to): Use Reply-To, too.

	* imap.el (imap-mailbox-status): Upcase STATUS commands. 

	* gnus-sum.el (gnus-remove-odd-characters): New function.
	(gnus-nov-parse-line): Use it.

2003-10-18  Matt Swift  <swift@alum.mit.edu>

	* mm-decode.el (mm-inline-media-tests): Recognize pjpeg as jpeg. 

2003-10-18  Romain FRANCOISE  <romain@orebokech.com>

	* message.el (message-forward-make-body): does both
	m-f-make-body-mml and m-f-make-body-plain, resulting in a strange
	message buffer.

2003-10-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-narrow-to-page): Only break page if it's
	broken.

	* nnrss.el (nnrss-find-rss-via-syndic8): Return nil if xml-rpc
	isn't available.

	* message.el (message-hidden-headers): Doc fix.

2003-10-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-summary-resend-message-edit): Avoid error when
	fields aren't found.

2003-10-18  Simon Josefsson  <jas@extundo.com>

	* message.el (message-forward-make-body-plain)
	(message-forward-make-body-mime, message-forward-make-body-mml)
	(message-forward-make-body-digest-plain)
	(message-forward-make-body-digest-mime)
	(message-forward-make-body-digest): New, derived from
	message-forward-make-body.
	(message-forward-make-body): Use them.
	(message-forward-show-mml): New default 'best.
	(message-forward-make-body): Support it.

2003-10-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-mode): Set gnus-page-broken to nil.
	(gnus-article-prepare): Don't set to t.
	(gnus-narrow-to-page): Set to t if we break.

2003-06-11  Daniel N,Ai(Bri  <dne@mayonnaise.net>

	* message.el (message-resend): Generate Resent-Message-ID header.

2003-10-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-next-page): Don't go to the next line
	before checking end-of-buffer.
	(gnus-mime-delete-part): Don't insert parts twice.

2003-10-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-update-date-lapsed): Make sure point
	doesn't move around (much).

2003-07-28  Vasily Korytov  <deskpot@myrealbox.com>

	* mail-source.el (mail-source-keyword-map): List "cur" before
	"new" for maildirs.

2003-10-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-enter-digest-group): ogroup, nor
	group. 

	* gnus-msg.el (gnus-inews-insert-archive-gcc): Use the parent
	name for gcc-self.
	(gnus-inews-insert-archive-gcc): Paren mistake.

	* gnus-sum.el (gnus-summary-enter-digest-group): Add
	parent-group. 

	* gnus-art.el (gnus-ignored-headers): Add more headers.

	* rfc2047.el (rfc2047-encode): See which encoding is shorter --
	base64 or QP.

	* nnmail.el (nnmail-article-group): Default to "bogus".

	* mail-source.el (mail-source-delete-incoming): Change to nil.

2003-10-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mail-source.el (mail-source-fetch-imap): Fix mismatched parens.

2003-10-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (defvar): Add post/pre/scripts.
	(mail-source-fetch-imap): Use them.

	* nndraft.el (nndraft-request-move-article): Fix infinite
	recursion. 

	* gnus-group.el (gnus-group-mark-regexp): Jump to groups.

2003-10-16  Ed L. Cashin  <ecashin@uga.edu>

	* imap.el (imap-interactive-login): Set imap-password to nil if
	login fails.

2003-10-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-inserted-headers): New variable.
	(message-mode): Make local.
	(message-mode): Set all the local action variables to nil.	

2003-10-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-inline-text-html-with-images): Doc fix.
	(mm-w3m-safe-url-regexp): Doc fix.

2003-10-12  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-respool-query): Don't narrow to head,
	it's done by nnmail-article-group.

	* gnus-uu.el (gnus-uu-grab-articles): Fix misplaced parens.
	From Mark Hood <markhood@speakeasy.net> (tiny change)

2003-10-10  Jesper Harder  <harder@ifa.au.dk>

	* mm-decode.el (mm-file-name-delete-gotchas): Avoid infloop in
	XEmacs.

2003-10-10  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-initialize): new function, does the spam-face
	update and all the hooks, replaces spam-install-hooks-function

	* gnus-registry.el (gnus-registry-initialize): new autoloaded
	function to explicitly initialize the registry

2003-10-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-w3m-safe-url-regexp): Doc fix.

	* mm-view.el (mm-w3m-mode-map): Doc fix.
	(mm-inline-text-html-render-with-w3m): Add a comment.

2003-10-10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el: Remove superfluous eval-when-compiles.

2003-10-10  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-suspend): Reset gnus-backlog-articles.

2003-10-08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* dns.el (query-dns): Don't error out on malformed resolv files.

2003-10-06  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el (gnus-group-faq-directory): Update .tw entry.  From
	Albert Chun-Chieh Huang <mr894348@cs.nthu.edu.tw>

2003-10-03  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-blackholes): exit the loop if matches are
	found (idea from Adrian Lanz <lanz@fowi.ethz.ch>)
	(spam-check-bogofilter-headers, spam-check-blackholes, spam-check-BBDB)
	(spam-from-listed-p): use nnmail-fetch-field instead of message-fetch-field
	

2003-10-03  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-attachment-file-modes): Change the default
	value into 384 from ?\600 which doesn't mean an integer in XEmacs.

2003-10-03  Jesper Harder  <harder@ifa.au.dk>

	* mm-decode.el (mm-file-name-delete-control)
	(mm-file-name-delete-gotchas): New functions.
	(mm-file-name-rewrite-functions): Use them.
	(mm-attachment-file-modes): New option.
	(mm-save-part-to-file): Use it.

2003-10-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* spam.el (spam-install-hooks-function): Added Autoload cookie.

2003-10-02  Jesper Harder  <harder@ifa.au.dk>

	* pgg-def.el (pgg-default-keyserver-address): Change to
	subkeys.pgp.net.  From Michael Shields <shields@msrl.com>

2003-10-01  Simon Josefsson  <jas@extundo.com>

	* message.el (message-idna-to-ascii-rhs-1): RHS can be terminated
	by ',', as in 'foo@example.org, bar@example.org'.

2003-10-01  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-send): Fix reversed logic of supersedes
	check.

2003-09-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-article-view-part-as-charset): Doc fix,
	suggested by Norbert Koch <viteno@xemacs.org>.

2003-09-29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-topic.el (gnus-topic-goto-missing-topic): Revert 2003-02-09
	change in order to correct the position where an invisible topic
	(because gnus-topic-display-empty-topics is nil) may be inserted.

2003-09-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-ignored-supersedes-headers): Add X-Payment.

2003-09-20  Jesper Harder  <harder@ifa.au.dk>

	* rfc2047.el (rfc2047-encode): Limit line length to 76 characters.

2003-09-20  Simon Josefsson  <jas@extundo.com>

	* tls.el (tls-process-connection-type): Doc fix.

	* imap.el (imap-starttls-open): Rewrite, should support both old
	starttls.el and new starttls.el that uses GNUTLS.

2003-09-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-treat-display-x-face): Use set-default instead
	of custom-set-default which isn't available in old XEmacsen.

2003-09-17  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-summary-resend-message-edit): Don't convert
	to MML.  MIME -> MML -> MIME does not work for PGP/MIME.

	* message.el (message-bounce, message-forward-show-mml): do.
	
2003-09-13  Jesper Harder  <harder@ifa.au.dk>

	* rfc2047.el (rfc2047-charset-encoding-alist): Add viscii.
	(rfc2047-encode): Add factors for big5, gb2312 and euc-kr.

	* nnweb.el (nnweb-google-parse-1): Fix parsing.

2003-09-12  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-fetch-control): ISC changed
	compression from .Z to .gz.

	* rfc2047.el (rfc2047-header-encoding-alist): Add "Approved" to
	address-mime.

2003-09-11  Jesper Harder  <harder@ifa.au.dk>

	* rfc2047.el (rfc2047-encode): Restrict encoded-words to 75
	characters.

2003-09-10  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el (gnus-group-charter-alist): Update.

2003-09-10  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam-report.el: use mm-url.el functions for external URL
	loading when the built-in HTTP GET is insufficient (e.g. proxies
	are in the way).  From Eric Knauel
	<knauel@informatik.uni-tuebingen.de>.
	(spam-report-url-ping-function): new option, defaults to the
	built-in HTTP GET (spam-report-url-ping-plain)
	(spam-report-url-ping): calls spam-report-url-ping-function now
	(spam-report-url-ping-plain): new function, does what
	spam-report-url-ping used to do
	(spam-report-url-ping-mm-url): function that delegates to
	mm-url.el (autoloaded)

2003-09-08  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-delete-id): function to
	completely delete an ID, including all the cache hashtables
	(gnus-registry-delete-group): use gnus-registry-delete-id
	(gnus-registry-simplify-subject): only run if the argument is a
	string, return nil otherwise

2003-09-07  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-summary-resend-bounced-mail): Docstring fix.

2003-09-05  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-split-fancy-with-parent): yet
	another error *sigh*

	* gnus-registry.el (gnus-registry-fetch-extra-entry): don't use
	puthash unless gnus-registry-entry-caching is on
	(gnus-registry-split-fancy-with-parent): misplaced parenthesis
	made everything a part of the 'else'
	(gnus-registry-save): used 'entry-caching' instead of 'caching'

2003-09-05  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-button-alist): Improve Info regexp.

2003-09-04  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el: added brief explanation of basics
	(gnus-registry-track-extra): new variable for tracking of message
	subjects
	(gnus-registry-entry-caching): caching parameter, used for extra
	data
	(gnus-registry-minimum-subject-length): minimum subject length
	before it's considered when tracing subjects
	(gnus-registry-save): accomodate extra data entry caching
	(gnus-registry-action): change function name, add the subject and
	pass it to gnus-registry-add-group
	(gnus-registry-spool-action): change function name, add the
	subject and pass it to gnus-registry-add-group
	(gnus-registry-split-fancy-with-parent): add subject tracking
	(gnus-registry-register-message-ids): pass subject to
	gnus-registry-add-group
	(gnus-registry-simplify-subject)
	(gnus-registry-fetch-simplified-message-subject-fast): new
	functions
	(gnus-registry-fetch-extra, gnus-registry-fetch-extra-entry): add
	extra data entry caching
	(gnus-registry-add-group): handle the extra subject parameter
	(gnus-registry-install-hooks, gnus-registry-unload-hook): fix the
	gnus-register-* function names

	* nnmail.el (nnmail-cache-insert): add subject parameter, pass it
	on to the nnmail-spool-hook

	* nnbabyl.el (nnbabyl-request-accept-article): added subject to
	nnmail-cache-insert call

	* nndiary.el (nndiary-request-accept-article): added subject to
	nnmail-cache-insert call

	* nnfolder.el (nnfolder-request-accept-article): added subject to
	nnmail-cache-insert call

	* nnimap.el (nnimap-split-articles): added subject to
	nnmail-cache-insert call
	(nnimap-request-accept-article): added subject to
	nnmail-cache-insert call

	* nnmbox.el (nnmbox-request-accept-article): added subject to
	nnmail-cache-insert call

	* nnmh.el (nnmh-request-accept-article): added subject to
	nnmail-cache-insert call

	* nnml.el (nnml-request-accept-article): added subject to
	nnmail-cache-insert call

2003-09-04  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-button-handle-info-url)
	(gnus-button-handle-info-url-gnome)
	(gnus-button-handle-info-url-kde, gnus-button-alist): Handle GNOME
	and KDE style Info URLs.

	* gnus-util.el (gnus-url-unhex-string): Don't replace "+" with " ".

2003-09-02  Jesper Harder  <harder@ifa.au.dk>

	* rfc2047.el (rfc2047-fold-region): Don't fold at the beginning
	of the field.

2003-09-01  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-insert-mime-headers-always): New variable.
	(mml-insert-mime-headers): Use it.  Based on (tiny) patch from
	Lars Balker Rasmussen <lars@balker.org>.

2003-08-30  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (mail-source-fetch-imap): Pass correct buffer to
	imap-open, reverts 2003-03-17 change.  Reverse remove before
	calling gnus-compress-sequence.  From Gaute Strokkenes
	<gs234@srcf.ucam.org> (tiny change).

2003-08-29  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-delete-group): Doc fix.  Suggested by
	Jochen K,A|(Bpper <jochen@jochen-kuepper.de>.

2003-08-29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-display-x-face): Make it possible to set
	the gnus-article-x-face-command variable to the lambda form.

2003-08-27  Simon Josefsson  <jas@extundo.com>

	* mm-decode.el (mm-remove-part): Try to kill external displayers
	cleanly first (if it refuses, C-g aborts loop and kill process
	unconditionally).  Also make sure process is dead before we remove
	the files it may be using.  Reported by David Coe
	<davidc@debian.org>.

2003-08-27  Jesper Harder  <harder@ifa.au.dk>

	* gnus-cache.el (gnus-cache-generate-active): Fix bug in
	replacement.  From Vagn Johansen <v@johansen.mail.dk> (tiny
	change).

2003-08-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el: Don't use defvaralias.
	(gnus-treat-display-x-face): Warn if the obsolete variable
	`gnus-treat-display-xface' exists.

2003-08-25  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-treat-display-face): Fix typo.
	(gnus-treat-display-xface): Rename to gnus-treat-display-x-face
	(reported by Jochen K,A|(Bpper <jochen@jochen-kuepper.de>)

2003-08-24  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-header-button-alist, gnus-button-alist): Fix
	type.

2003-08-22  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-make-forward-subject-function): Fix
	customize mismatch.

	* gnus.el (gnus-message-archive-method): do.

2003-08-20  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus.el (gnus-read-group): Offer to continue only if the invalid
	char is `/' and add more information for the user.

	* gnus-art.el (gnus-button-alist): Add `+' (gnus-button-handle-man).
	(gnus-header-button-alist): Added `In-Reply-To'.

	* nnimap.el (nnimap-open-connection): Allow different user names
	on the same server (and in the same authinfo file).

2003-08-20  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sieve.el (gnus-sieve-crosspost): Fix type.

	* message.el (message-make-forward-subject-function): Add
	message-forward-subject-name-subject to choices.

	* gnus-art.el (gnus-article-edit-done, gnus-article-edit-exit):
	Redisplay article after editing.

2003-08-20  Simon Josefsson  <jas@extundo.com>

	* gnus.el (gnus-read-group): Added check to ask confirmation if
	Group name contains invalid character. You can use '/' in IMAP,
	but not in filenames. G m cannot know what the user is creating,
	so let user decide. See thread m2oeysiev3.fsf@naima.lensflare.org.
	Tiny patch from letters@hotpop.com (Jari Aalto+mail.linux).

2003-08-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-score.el (gnus-summary-score-effect): Fix interactive use.

2003-08-10  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-draft.el (gnus-draft-send-all-messages): ask if all drafts
	should be sent unless gnus-expert-user is on

2003-08-09  Jesper Harder  <harder@ifa.au.dk>

	* pgg-gpg.el (pgg-gpg-extra-args): Fix customization type.

2003-08-07  Jesper Harder  <harder@ifa.au.dk>

	* pgg-gpg.el (pgg-gpg-process-region): Bind
	default-enable-multibyte-characters to nil.

2003-08-07  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el (canlock-password): Fix customization type.
	(canlock-password-for-verify): Ditto.
	* deuglify.el (gnus-outlook-deuglify-unwrap-min): Ditto.
	(gnus-outlook-deuglify-unwrap-max): Ditto.
	(gnus-outlook-deuglify-unwrap-stop-chars): Ditto.
	* gnus-sum.el (gnus-sum-thread-tree-root): Ditto.
	(gnus-sum-thread-tree-false-root): Ditto.
	(gnus-sum-thread-tree-single-indent): Ditto.
	* message.el (message-archive-note): Ditto.
	(message-subscribed-address-file): Ditto.
	(message-user-fqdn): Ditto.
	* spam-report.el (spam-report-gmane-regex): Ditto.
	* spam.el (spam-blackhole-good-server-regex): Ditto.

	* gnus-start.el (gnus-save-killed-list): Fix last change.
	* message.el (message-courtesy-message): Ditto.

2003-08-07  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-header-face-alist): Revert previous change.
	(gnus-header-newsgroups-face): Explain that it's only used for
	crossposts.

2003-08-07  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-registry.el (gnus-registry-max-entries): Fix customization
	type.
	* gnus-score.el (gnus-adaptive-word-length-limit): Ditto.
	* gnus.el (gnus-refer-article-method): Ditto.
	* message.el (message-courtesy-message): Ditto.

2003-08-06  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-header-face-alist): Fix "Newsgroups" entry.
	From Chunyu Wang <spr@db.cs.hit.edu.cn> (tiny patch)

2003-08-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-save-killed-list): Fix customization type.
	* gnus-sum.el (gnus-thread-hide-subtree): Ditto.
	* gnus.el (gnus-use-long-file-name): Ditto.

2003-08-04  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-rename-group): Don't allow renaming to
	an existing name.

	* gnus-sum.el (gnus-summary-highlight): Add uncached to docstring.

	* nnmail.el (nnmail-large-newsgroup): Docstring fix.

	* nntp.el (nntp-large-newsgroup): do.

	* nnspool.el (nnspool-large-newsgroup): do.

	* gnus-cus.el (gnus-group-parameters): Typo.

2003-07-31  Simon Josefsson  <jas@extundo.com>

	* mml-sec.el (mml-signencrypt-style-alist): Use separate S/MIME
	method by default (revert partial 2003-07-10 patch).

2003-07-28  Dave Love  <fx@gnu.org>

	* pgg-gpg.el, pgg-pgp.el, pgg-pgp5.el: Require cl when compiling.

2003-07-26  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-install): add an initial
	registry read to the loading when gnus-registry-install is set

2003-07-26  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* flow-fill.el (fill-flowed): Empty lines separate paragraphs
	even if the preceding line ends with a soft break.  Tiny patch
	from Mark Thomas <swoon@bellatlantic.net>.

2003-07-25  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-use-regex-body, spam-regex-body-spam) 
	(spam-regex-body-ham): new variables, default to nil/empty/empty
	(spam-install-hooks): added spam-use-regex-body to list or
	pre-install conditions
	(spam-list-of-checks): added spam-use-regex-body and
	spam-check-regex-body to list of checks
	(spam-list-of-statistical-checks): added spam-use-regex-body to
	list of statistical checks
	(spam-check-regex-body): invokes spam-check-regex-headers with
	appropriate variable masking
	(spam-check-regex-headers): changes to print "body" or "header"
	where appropriate

2003-07-25  Jesper Harder  <harder@ifa.au.dk>

	* smime.el (smime-ask-passphrase): Use read-passwd rather than
	comint-read-noecho.  The former is more secure.

2003-07-24  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-cache-whitespace): make "adding
	whitespace" message level 5 instead of 4
	(gnus-registry-clean-empty-function): new function to remove empty
	registry entries
	(gnus-registry-clean-empty): new variable to enable cleaning the
	registry when saving it by calling gnus-registry-clean-empty-function

	* spam.el (spam-summary-prepare-exit): use spam-process-ham-in-spam-groups
	(spam-process-ham-in-spam-groups): new variable

2003-07-24  Jesper Harder  <harder@ifa.au.dk>

	* pgg-gpg.el (pgg-gpg-process-region): Add "--yes" to options.

	* pgg-gpg.el, pgg-pgp.el, pgg-pgp5.el, pgg.el: Reapply changes
	from 2003-04-03 to fix security problem.  See
	http://www.debian.org/security/2003/dsa-339

2003-07-23  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus.el (gnus-install-group-spam-parameters): add the
	gnus-ticked-mark to the possible choices of ham marks

	* spam.el (spam-process-ham-in-nonham-groups): new variable
	(spam-summary-prepare-exit): use spam-process-ham-in-nonham-groups

2003-07-23  Jesper Harder  <harder@ifa.au.dk>

	* rfc2047.el (rfc2047-header-encoding-alist): Add Mail-Followup-To
	and Mail-Copies-To to address-mime.
	(rfc2047-narrow-to-field): Use rfc2047-point-at-bol.

2003-07-19  Jesper Harder  <harder@ifa.au.dk>

	* mm-util.el (mm-coding-system-priorities): Docstring improvement.

2003-07-17  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-thread-latest-date): Move condition-case to
	the right place.

2003-07-14  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (mail-source-fetch-imap): Don't assume
	imap-error-text returns something.

2003-07-12  Nevin Kapur  <kapur@mts.jhu.edu>

	* nnimap.el (nnimap-request-newgroups): Use the pattern in
	nnimap-list-pattern instead of "*".

2003-07-10  Simon Josefsson  <jas@extundo.com>

	* mml-sec.el (mml-signencrypt-style-alist): Use "combined" by
	default.  Improve docstring.

2003-07-10  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* imap.el (imap-arrival-filter): Fix test for missing process
	buffer.

2003-07-09  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>
	From Gaute B Strokkenes <gs234@cam.ac.uk> (tiny patch).

	* imap.el (imap-wait-for-tag): Clarify comment.  Use timeout zero
	for second, after-process-has-died, accept-process-output.
	(imap-arrival-filter): If PROC has no buffer, do nothing.

2003-07-09  Jesper Harder  <harder@ifa.au.dk>

	* flow-fill.el: Docstring and message fixes.

	* deuglify.el: do.

	* gnus-int.el: do.

	* gnus-msg.el: do.

	* gnus-util.el: do.

	* gnus-draft.el: do.

	* gnus-start.el: do.

	* gnus.el: do.

	* gnus-group.el: do.

	* gnus-art.el: do.

	* gnus-sum.el: do.

	* mail-source.el (mail-source-movemail): Handle non-numerical
	return values.

2003-07-08  Jesper Harder  <harder@ifa.au.dk>

	* mailcap.el (mailcap-parse-args-syntax-table)
	(mailcap-viewer-passes-test): Docstring fix.

	* mm-bodies.el (mm-long-lines-p): Docstring fix.

	* mm-decode.el (mm-w3m-safe-url-regexp, mm-verify-option)
	(mm-decrypt-option, mm-handle-set-external-undisplayer)
	(mm-file-name-replace-whitespace): Docstring fix.

	* mm-uu.el (mm-uu-emacs-sources-regexp): Docstring fix.
	(mm-uu-pgp-signed-test): Fix message.

	* mml.el (mml-tweak-sexp-alist): Docstring fix.
	(mml-parse-1, mml-insert-mime-headers): Fix message.

	* message.el (message-archive-header)
	(message-subscribed-address-functions)
	(message-subscribed-addresses, message-subscribed-regexps)
	(message-canlock-generate)
	(message-generate-new-buffer-clone-locals): Docstring fixes.

2003-07-07  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* imap.el (imap-wait-for-tag): After the process has died, look
	for more output still pending.  From Gaute B Strokkenes
	<gs234@cam.ac.uk> (tiny patch).

2003-07-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-bogofilter-score): redisplay article normally
	after spam-bogofilter-score is called

2003-07-06  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-send-mail-with-sendmail): Handle
	non-numeric return values.

	* gnus-sum.el (gnus-print-buffer): Apply emphasis.
	From Michael Piotrowski <mxp@dynalabs.de> (tiny change).

	* gnus-start.el (gnus-clear-system): Revert change from
	2003-06-19.

2003-07-04  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-q-encode-region): Exclude especials from
	characters not encoded, and make the list more legible.

2003-07-04  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-make-from): Revert change from 2002-01-08.

2003-06-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (nnheader-init-server-buffer): Don't add
	nntp-server-buffer to list of Gnus buffers.

2003-06-25  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-parse-list): prevent empty ("") strings

2003-06-24  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-parse-list): use gnus-extract-address-components
	instead of ietf-drums-parse-addresses
	(spam-from-listed-p): let* was unnecessary

2003-06-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-ems.el (gnus-put-image): Mark the right text segment with
	gnus-image-category. 

	* gnus-srvr.el (gnus-browse-unsubscribe-group): Strip prefix from
	native groups.

	* gnus-topic.el (gnus-group-prepare-topics): Update topic line
	format specs.

	* gnus-picon.el: Written by moi, moi, moi.

	* gnus-group.el (gnus-group-kill-group): Clean up.

2003-06-23  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-from-listed-p, spam-parse-list): use
	ietf-drums-parse-addresses to extract the address portion of the
	whitelist/blacklist file if it looks like an address can be found

2003-06-23  Didier Verna  <didier@xemacs.org>

	* gnus-ems.el (gnus-put-image): New argument CATEGORY. Add it as a
	text property.
	(gnus-remove-image): New argument CATEGORY. Only remove if
	category matches.
	* gnus-xmas.el (gnus-xmas-put-image):
	(gnus-xmas-remove-image): Ditto, with extents.
	* gnus-art.el (gnus-delete-images): Pass CATEGORY argument to
	gnus-[xmas-]remove-image.
	(article-display-face): Don't always act as a toggle. Call
	`gnus-put-image' with CATEGORY argument.
	(article-display-x-face): Call `gnus-put-image' with CATEGORY
	argument.
	* smiley.el (smiley-region): Ditto.
	* gnus-fun.el (gnus-display-x-face-in-from): Ditto.
	* gnus-picon.el (gnus-picon-insert-glyph): Ditto.
	(gnus-treat-mail-picon): Don't always act as a toggle.
	* gnus-picon.el (gnus-treat-newsgroups-picon): Ditto.

2003-06-23  Didier Verna  <didier@xemacs.org>

	* gnus-art.el (article-display-face): Check for existence of the
	original article buffer before switching to it.

2003-06-20  Jesper Harder  <harder@ifa.au.dk>

	* mm-util.el (mm-append-to-file): Say "Appended to".  Suggested by
	Dan Jacobson <jidanni@jidanni.org>.

	* mm-view.el (mm-inline-message): Bind
	gnus-original-article-buffer to the buffer in the mml handle
	holding the message.

2003-06-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (sender, from): No need to bind them.

2003-06-19  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-enter-list): search-forward specified wrong

2003-06-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el: Comment fix.

2003-06-20  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-configure-posting-styles): Remove unused
	variable.  From Jan Rychter <jan@rychter.com>.

	* spam.el (spam-spamoracle-learn): insert-string is obsolete.

2003-06-19  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-enter-list): do not enter duplicate addresses into
	the whitelist/blacklist

2003-06-19  Jesper Harder  <harder@ifa.au.dk>

	* nnheader.el (nnheader-init-server-buffer): Add
	nntp-server-buffer to gnus-buffers.

	* gnus-start.el (gnus-clear-system): Now we don't need to kill
	nntp-server-buffer separately.

2003-06-18  Didier Verna  <didier@xemacs.org>

	* gnus-art.el (article-display-face): Correctly toggle between
	display and hiding. Handle multiple Face headers.

2003-06-17  Dave Love  <fx@gnu.org>

	* nnimap.el: Require cl when compiling.

	* message.el (message-fix-before-sending): Reinstate nullifying
	the invisible text property.
	(sender, from): Defvar when compiling.
	(message-is-yours-p): Remove autoload cookie.

2003-06-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-util.el (gnus-extract-address-components): Added
	doc-string.

2003-06-16  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* nnml.el (nnml-current-group-article-to-file-alist): Don't read
	overview when using compressed files.  From Michael Albinus
	<Michael.Albinus@alcatel.de>.

2003-06-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-refer-parent-article): Extract
	Message-ID from In-Reply-To header.

2003-06-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-is-yours-p): Narrow to head; extract from
	and sender by itself.
	(message-cancel-news, message-supersede): Remove useless things.

2003-06-15  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-sum.el (gnus-summary-force-verify-and-decrypt): Bind
	`gnus-article-emulate-mime'.

2003-06-15  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>
	From Tommi Vainikainen <thv+gnus@iki.fi>.

	* message.el (message-is-yours-p): New function.  Separated common
	code from message-cancel-news and message-supersede.  Added
	matching code which uses message-alternative-emails regexp as last
	resort.
	(message-cancel-news, message-supersede): Use message-is-yours-p.

2003-06-13  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* nnimap.el (nnimap-split-articles): Narrow the right buffer to
	the headers.  From Niklas Morberg <niklas.morberg@axis.com>.

2003-06-12  Dave Love  <fx@gnu.org>

	* nnheader.el (nnheader-functionp): Deleted.

	* nnmail.el (nnmail-split-fancy-syntax-table): Define all in
	defvar.
	(nnmail-version): Deleted.
	(nnmail-check-duplication, nnmail-expiry-target-group): Don't use
	nnheader-functionp.

2003-06-10  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-bogofilter-headers): fix for when the score
	is requested but the message is not spam

2003-06-09  Teodor Zlatanov  <tzz@lifelogs.com>
	From Eric
	<knauel@informatik.uni-tuebingen.de>

	* spam.el (spam-use-spamoracle): new variable
	(spam-install-hooks): add spamoracle to the list of conditions
	for activation of spam-install-hooks
	(spam-spamoracle): new variable customization group
	(spam-spamoracle, spam-spamoracle): new variables
	(spam-group-spam-processor-spamoracle-p)
	(spam-group-ham-processor-spamoracle-p): new functions
	(spam-summary-prepare-exit): added spamoracle ham/spam exit processing
	(spam-list-of-checks, spam-list-of-statistical-checks): add
	spam-use-spamoracle
	(spam-check-spamoracle, spam-spamoracle-learn)
	(spam-spamoracle-learn-ham, spam-spamoracle-learn-spam): new functions

	* gnus.el (gnus-group-spam-exit-processor-spamoracle)
	(gnus-group-ham-exit-processor-spamoracle): new variables for SpamOracle
	(spam-process, ham-process): added spamoracle spam/ham processors

2003-06-08  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-beginning-of-line): Docstring improvement.
	Suggested by Michael R. Wolf <MichaelRunningWolf@att.net>

2003-06-07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): Removed ["Add buttons"
	gnus-summary-display-buttonized t]

2003-06-07  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* nnmail.el (nnmail-split-fancy-match-partial-words): Doc string
	fix.  Reported by Johan Bockg,Ae(Brd <bojohan+news@dd.chalmers.se>.

2003-06-07  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-beginning-of-line): Docstring improvement.

2003-06-06  Jesper Harder  <harder@ifa.au.dk>

	* gnus-srvr.el (gnus-browse-foreign-server): Parse garbage NNTP
	groups correctly.

2003-06-06  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>
	From Benjamin Rutt <rutt+news@cis.ohio-state.edu>.

	* message.el (message-fetch-field): Augment documentation to state
	the narrowed-to-headers restriction.
	(message-change-subject, message-reduce-to-to-cc)
	(message-generate-unsubscribed-mail-followup-to)
	(message-insert-importance-high, message-insert-importance-low)
	(message-insert-or-toggle-importance)
	(message-insert-disposition-notification-to): Narrow to headers
	before calling message-fetch-field or message-remove-header.

2003-06-06  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-trim): fix for when
	gnus-registry-max-entries is nil

2003-06-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* qp.el (quoted-printable-decode-region): Don't error out on
	malformed text.

2003-06-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-encode-region): Don't error out on invalid
	strings.

2003-06-04  Jesper Harder  <harder@ifa.au.dk>

	* mml1991.el (mml1991-pgg-sign): Insert pgg output as unibyte.
	From: Ivan Boldyrev <boldyrev+nospam@cgitftp.uiggm.nsc.ru> (tiny
	change)

2003-06-03  Dave Love  <fx@gnu.org>

	* gnus-soup.el (gnus-soup-send-packet): Don't use
	message-functionp.

	* gnus.el (gnus-agent-cache): Doc fix.
	(gnus-other-frame): Quote lambda used as hook.

	* message.el: Doc fixes.
	(message-functionp): Deleted.  Callers changed.
	(message-fix-before-sending): Highlight with overlays.  Clarify
	`illegible text' messages.
	(rmail-enable-mime-composing, gnus-message-group-art): Defvar when
	compiling.
	(gnus-find-method-for-group, nnvirtual-find-group-art): Autoload.

2003-06-03  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* nnmail.el (nnmail-split-fancy-match-partial-words): New user
	option.
	(nnmail-split-it): Obey it.  Don't let-bind regexp twice.

	* message.el (message-fetch-field): Mention narrow-to-headers
	requirement.

2003-06-03  Jesper Harder  <harder@ifa.au.dk>

	* gnus-xmas.el (gnus-xmas-create-image): Use
	insert-file-contents-literally.  From: Eric Eide
	<eeide@cs.utah.edu>

2003-06-02  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-fetch-group): always return the
	short name of the group

2003-06-02  Jesper Harder  <harder@ifa.au.dk>

	* gnus-cus.el (defvar): Silence byte-compiler warnings.

	* gnus-sum.el (gnus-get-newsgroup-headers): Unfold headers.

2003-05-31  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (article-unsplit-urls): Use gnus-treat-article
	rather than gnus-display-mime-function.

2003-05-30  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-use-long-group-names): new variable
	(gnus-registry-add-group): use it
	(gnus-registry-trim-articles-without-groups): new variable
	(gnus-registry-delete-group): use it
	(gnus-registry-unload-hook): uninstall all the hooks

	* spam.el (spam-install-hooks-function, spam-unload-hook): new
	functions so users that load spam.el for customization don't get
	all the hooks installed
	(spam-install-hooks): new variable, set to t by default if user
	has one of the spam-use-* variables set

	* spam-stat.el (spam-stat-install-hooks, spam-stat-unload-hook): new
	functions so users that load spam-stat.el for customization don't get
	all the hooks installed

2003-05-30  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-decode): Don't use
	mm-with-unibyte-current-buffer.

	* qp.el (quoted-printable-decode-string): Use
	mm-with-unibyte-buffer.

2003-05-29  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-save): allow forced saving even
	when registry is not dirty.  Use gnus-registry-trim to shorten the
	gnus-registry-alist.
	(gnus-registry-max-entries): new variable
	(gnus-registry-trim): new function, trim gnus-registry-alist to
	size gnus-registry-max-entries, sorting by entry mtime so the
	newest entries stick around

	* gnus-start.el (gnus-gnus-to-quick-newsrc-format): instead of
	just one specific variable, allow a list of specific variables

2003-05-28  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-encode-region): Skip ASCII at beginning and
	end of region.

2003-05-28  Jesper Harder  <harder@ifa.au.dk>

	* lpath.el: Add put-char-table and get-char-table.

2003-05-28  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-dirty): flag for modified registry
	(gnus-registry-save, gnus-registry-read)
	(gnus-registry-store-extra, gnus-registry-clear): use it (note
	that gnus-registry-store-extra is invoked for all modifications to
	set the mtime, so gnus-registry-dirty only needs to be set there)

2003-05-23  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (mml1991-pgg-sign): Use mml-sender instead of
	message-sender.

	* gnus-art.el (gnus-use-idna): Check if idna-program is installed.

	* message.el (message-use-idna): Ditto.

2003-05-20  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-q-encoding-alist): Deleted.
	(rfc2047-q-encode-region): Don't use it.
	(rfc2047-encode-message-header) <(eq method 'mime)>: Bind
	rfc2047-encoding-type to `mime'.
	(rfc2047-encode-string, rfc2047-encode): Doc fix.

2003-05-20  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-send-mail): Don't insert a courtesy copy
	notice in base64 encoded messages.

2003-05-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-move-article): Don't copy expirable
	marks if the destination group is not auto-expirable.

2003-05-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (assq-delete-all): Removed the compiler macro.

2003-05-14  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agentize): Updated documentation to match
	usage.
	(gnus-agent-expire-group-1): Do not skip over a group when the
	force argument is set.
	* gnus.el (gnus-agent): Updated documentation to reflect that
	gnus-agent now defaults to t.

2003-05-14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2003-05-14 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Gnus v5.10.2 is released.

2003-05-14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-delete-incoming): Changed to t.

	* rfc2047.el (rfc2047-syntax-table): Funcall.

	* lpath.el ((featurep 'xemacs)): Added set-char-table-range.
	((featurep 'xemacs)): No, don't.

	* rfc2047.el (rfc2047-encodable-p): Use the header charset.

	* gnus-sum.el (gnus-summary-reselect-current-group): Supply
	leave-hidden.

2003-05-14  Jonathan Kamens  <jik@kamens.brookline.ma.us>

	* gnus-sum.el (gnus-summary-exit): Added `leave-hidden'.  (Tiny
	patch.)

2003-05-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-registry.el (gnus-registry-store-extra-entry): Use
	gnus-assq-delete-all.

	* gnus-xmas.el (gnus-xmas-assq-delete-all): New function.

	* message.el (message-ignored-bounced-headers): Add Delivered-To.

	* gnus-sum.el (gnus-summary-find-next): Indent.
	(gnus-summary-find-prev): Ditto.
	(gnus-summary-catchup): Doc fix.
	(gnus-summary-mark-current-read-and-unread-as-read): New function.
	(gnus-summary-catchup): Really mark after point.

	* gnus-util.el (gnus-user-date): Use %d instead of %m.
	(gnus-user-date): Use floating point time so that we don't get
	overflows.

	* gnus-sum.el (gnus-summary-local-variables): Clean up.

	* gnus-fun.el (gnus-display-x-face-in-from): Don't use centering
	since none of the other image things do.

2003-05-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (assq-delete-all): New compiler macro for Emacs 20.

2003-05-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind find-coding-system.

	* dgnushack.el (dgnushack-make-load): Remove redundant format call
	in message.  Suggested by Yoichi NAKAYAMA <yoichi@geiin.org>.
	* pop3.el (pop3-movemail): Ditto.

2003-05-12  Colin Marquardt <c.marquardt@alcatel.de>  (tiny change)

	* gnus.el (gnus-agent): Docstring fix.

2003-05-12  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-install): new variable
	(gnus-registry-fetch-extra, gnus-registry-fetch-extra-entry)
	(gnus-registry-store-extra-entry, gnus-registry-delete-group)
	(gnus-registry-add-group): add a modification timestamp to each entry
	(gnus-registry-install-hooks): new function

2003-05-12  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-cat-name): Eval macro while compiling.
	(gnus-agent-cat-disable-undownloaded-faces): New function.
	Accessor for new agent property
	'agent-disable-undownloaded-faces'.
	gnus-cus.el (gnus-agent-parameters): Added
	agent-disable-undownloaded-faces and corrected documentation.
	(gnus-agent-cat-prepare-category-field,
	gnus-agent-customize-category): Changed to avoid creating free
	references to each field's symbol.
	gnus-sum.el (gnus-summary-use-undownloaded-faces): New local variable.
	(gnus-select-newgroup): Initialize it.
	(gnus-summary-highlight-line): Use it.

2003-05-12  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-read-charset): Deleted.
	(mm-coding-system-mime-charset): New.
	(mm-read-coding-system, mm-mule-charset-to-mime-charset)
	(mm-charset-to-coding-system, mm-mime-charset)
	(mm-find-mime-charset-region): Use it.
	(mm-default-multibyte-p): Fix non-mule case.

	* rfc2047.el (rfc2047-point-at-bol, rfc2047-point-at-bol): Eval
	and compile.
	(rfc2047-syntax-table): Fix building table to work in Emacs 22.
	(rfc2047-unfold-region): Delete unused var `leading'.

2003-05-12  Simon Josefsson  <jas@extundo.com>

	* pgg.el (pgg-temp-buffer-show-function): Reuse existing visible
	output window if one is available.  Tiny patch from Ville Skytt,Ad(B
	<scop@xemacs.org>.

2003-05-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-expire-unagentized-dirs): Added
	space.

2003-05-11  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-enter-digest-group): Don't do article
	washing etc.
	(gnus-handle-ephemeral-exit): Don't reload article after exiting.

	* nndoc.el (nndoc-type-alist): `mime-digest' should be before
	`mime-parts'.

2003-05-10  Jesper Harder  <harder@ifa.au.dk>

	* gnus-cite.el (gnus-article-hide-citation-maybe): Make toggling
	work.  Update mode-line.

2003-05-10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-logo-color-alist): Added no colours.

2003-05-09  Dave Love  <fx@gnu.org>

	* utf7.el (mm-util): Require.
	(utf7-direct-encoding-chars, utf7-imap-direct-encoding-chars):
	Defconst, not defvar.
	(utf7-utf-16-coding-system): New.
	(utf7-encode-internal): Hoist concat out of loop.
	(utf7-fragment-encode): Use mm-with-unibyte-current-buffer.
	(utf7-get-u16char-converter) [utf7-utf-16-coding-system]: New
	case.
	(utf7-latin1-u16-char-converter): Encode the region.
	(utf7-u16-latin1-char-converter): Decode the region.
	(utf7-encode, utf7-decode): Fix multibyteness.

	* mm-bodies.el (mm-body-7-or-8): Don't special-case mule.
	(mm-encode-body): Use mm-read-coding-system, not mm-read-charset.
	(mm-uu-yenc-decode-function): Defvar when compiling.
	(mm-encode-body, mm-decode-body): Doc fix.

2003-05-09  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-unregistered-group-regex):
	removed in favor of the group/topic/global variables
	(gnus-registry-register-message-ids): fixed test to omit
	gnus-registry-unregistered-group-regex

	* gnus.el (gnus-variable-list): removed gnus-registry-alist and
	gnus-registry-headers-alist from the list
	(gnus-registry-headers-alist): removed
	(registry-ignore): new parameter, with accompanying
	gnus-registry-ignored-groups global variable

	* gnus-start.el (gnus-clear-system): no need to clear the
	registry, we can do it ourselves
	(gnus-gnus-to-quick-newsrc-format): extra parameters so it can be
	used by gnus-registry.el

	* gnus-registry.el (gnus-registry-cache-file): new file variable
	(gnus-registry-cache-read, gnus-registry-cache-save): new
	functions
	(gnus-registry-cache-whitespace): new function.  From Dan
	Christensen <jdc@chow.mat.jhu.edu>
	(gnus-registry-save, gnus-registry-read): use the new
	gnus-registry-cache-{read|save} functions, and change the name
	from gnus-registry-translate-{from|to}-alist
	(gnus-registry-clear): fixed so it doesn't refer to old function name

2003-05-09  Jesper Harder  <harder@ifa.au.dk>

	* gnus-picon.el (gnus-picon-transform-address): Parse the encoded
	address.

2003-05-08  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-start.el (gnus-clear-system): added gnus-registry-alist to
	the list of cleared variables

	* gnus-registry.el (gnus-registry-split-fancy-with-parent):
	nnmail-split-fancy-with-parent-ignore-groups can be a single regex
	in addition to a list of regexes.

	* spam.el (spam-use-regex-headers): docstring fix.  From Niklas
	Morberg <niklas.morberg@axis.com>

2003-05-08  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* gnus-sum.el (gnus-summary-next-page): Mention
	`gnus-article-skip-boring' in docstring.

2003-05-08  Jesper Harder  <harder@ifa.au.dk>

	* rfc2231.el (rfc2231-parse-string): "=" should have whitespace
	syntax here.

	* ietf-drums.el (ietf-drums-syntax-table): "=" should not have
	whitespace syntax class when parsing email addresses.

	* message.el (message-forward-subject-name-subject): Don't use
	mail-decode-encoded-word-string before parsing from.

2003-05-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup-1): Setup alternative email before
	generate-headers.

	(message-forward-subject-name-subject): Fix the case when the
	field "from" doesn't exist.

2003-05-07  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-encode-region): Skip \n as whitespace.

	* mm-util.el (mm-find-mime-charset-region): Expurgate utf-16 from
	possible values.

2003-05-07  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-kill-to-signature): Fix.

2003-05-06  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-auto-goto-ignores): Docstring fix.

	* gnus-art.el (gnus-mime-display-multipart-as-mixed)
	(gnus-mime-display-multipart-related-as-mixed)
	(gnus-button-mid-or-mail-heuristic-alist): do.

2003-05-05  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-default-multibyte-p): New.
	(mm-coding-system-p): Maybe use find-coding-systems.

2003-05-04  Dave Love  <fx@gnu.org>

	* rfc2047.el (with-syntax-table): Define if necessary.
	(rfc2047-syntax-table): Fix last change for XEmacs.
	(rfc2047-parse-and-decode): Revert last change.

2003-05-03  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el: Don't test for `mm-guess-mime-charset'.

	* mm-util.el (mm-guess-mime-charset): Remove.  Not used any more.

	* gnus.el (gnus-default-charset): Set default value to
	`undecided'.

	* gnus-art.el (article-decode-charset): Don't supply 4th arg to
	mm-decode-body.

	* mm-bodies.el (mm-decode-coding-region-safely): Remove.
	(mm-decode-body): Don't use mm-decode-coding-region-safely.

2003-05-03  Vasily Korytov <deskpot@despammed.com>  (tiny change)

	* gnus-util.el (gnus-multiple-choice): Add ", ?".

2003-05-03  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-syntax-table): Don't call make-char-table
	with 2 args.
	(rfc2047-decode-string): Don't set the buffer multibyte before
	calling buffer-string.

	* mm-encode.el (mm-long-lines-p): Autoload.
	(mm-encode-content-transfer-encoding): Doc fix.  Don't make buffer
	unibyte.  Signal error on unknown encoding.
	(mm-encode-buffer, mm-qp-or-base64): Doc fix.

	* rfc2047.el (rfc2047-point-at-bol, rfc2047-point-at-eol): New.
	Callers of gnus- versions changed to use them.
	(rfc2047-header-encoding-alist): Add `address-mime' part.  Doc
	fixes.
	(rfc2047-encoding-type): New.
	(rfc2047-encode-message-header): Use mm-charset-to-coding-system.
	Don't include header name field in encoding.  Add `address-mime'
	case and bind rfc2047-encoding-type for `mime' case.
	(rfc2047-encodable-p): Deleted.
	(rfc2047-syntax-table): New.
	(rfc2047-encode-region, rfc2047-encode): Rewritten to take account
	of rfc2047 rules with respect to rfc2822 tokens and to do encoding
	in place rather than by passing strings.
	(rfc2047-encode-string): Doc fix.
	(rfc2047-q-encode-region): Don't use
	mm-with-unibyte-current-buffer.
	(rfc2047-encoded-word-regexp): eval-and-compile.
	(rfc2047-decode-region): Avoid concatenation in loop.
	(rfc2047-parse-and-decode): Remove useless disjunction.

2003-05-02  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-q-encode-region, rfc2047-decode): Use
	mm-with-unibyte-current-buffer.
	(ietf-drums, gnus-util): don't require.

	* sieve.el (sieve-manage-mode-menu): Define before use.

	* mml-smime.el (message-narrow-to-headers): Autoload.

	* mm-util.el (mm-coding-system-p): Don't override nil from
	coding-system-p.
	(mm-mule4-p, mm-disable-multibyte-mule4)
	(mm-with-unibyte-current-buffer-mule4): Deleted.
	(mm-multibyte-p): Use defun, not defalias.
	(mm-make-temp-file): Moved to group at top of file.
	(mm-point-at-eol, mm-point-at-bol): New.

	* gnus-cite.el (gnus-art): Require.

	* gnus-ems.el (gnus-get-buffer-create)
	(nnheader-find-etc-directory, message-text-with-property):
	Autoload.
	(gnus-tmp-unread, gnus-tmp-replied, gnus-tmp-score-char)
	(gnus-tmp-indentation, gnus-tmp-opening-bracket, gnus-tmp-lines)
	(gnus-tmp-name, gnus-tmp-closing-bracket, gnus-tmp-subject-or-nil)
	(gnus-check-before-posting): Only defvar when compiling.

	* gnus-int.el (gnus-agent-expire): Autoload, don't defun.

	* gnus-util.el (rmail-default-rmail-file, mm-text-coding-system):
	Defvar when compiling.
	(gnus-output-to-rmail): Require mm-util.

	* mail-source.el (mail-source-callback): Use mm-make-temp-file.
	(mail-source-make-complex-temp-name): Deleted.

	* message.el (message-use-idna): Use mm-coding-system-p.
	(message-tokenize-header, message-make-organization)
	(message-make-from):  Use with-temp-buffer.
	(message-set-work-buffer): Deleted.
	(message-fill-paragraph): Use `if' not `and' for compiler warning.
	(message-check-news-header-syntax): Remove useless lambda.
	(message-forward-make-body): Use mm-disable-multibyte,
	mm-with-unibyte-current-buffer, mm-enable-multibyte.
	(message-replace-chars-in-string): Deleted.

	* mm-extern.el (mm-extern-local-file): Use mm-disable-multibyte.
	(mm-extern-url): Use mm-with-unibyte-current-buffer,
	mm-disable-multibyte.
	(mm-extern-anon-ftp): Use mm-disable-multibyte.

	* mml1991.el (mml1991-mailcrypt-encrypt, mml1991-gpg-encrypt): Use
	mm-with-unibyte-current-buffer.

	* mml2015.el (mml): Require.
	(mml2015-mailcrypt-encrypt, mml2015-gpg-encrypt): Use
	mm-with-unibyte-current-buffer.

	* nnheader.el (gnus-util): Require.

	* nntp.el (format-spec, format-spec-make, open-tls-stream):
	Autoload.

	* rfc2231.el (mail-header-remove-comments, mm-encode-body)
	(mail-header-remove-whitespace): Autoload.

	* sieve-manage.el (starttls-negotiate): Autoload.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnrss.el (nnrss-find-rss-via-syndic8): Indent.

2003-05-01  Mark A. Hershberger  <mah@everybody.org>

	* nnrss.el (nnrss-find-rss-via-syndic8): Don't error out.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2003-05-01  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam-report.el (spam-report-gmane-regex): docstring fix.  From
	Jon Ericson <Jon.Ericson@jpl.nasa.gov> (tiny change)

	* gnus.el (gnus-install-group-spam-parameters): docstring fix.
	From Jon Ericson <Jon.Ericson@jpl.nasa.gov> (tiny change)

	* gnus-registry.el (gnus-registry-fetch-extra)
	(gnus-registry-store-extra, gnus-registry-group-count): new functions
	(gnus-registry-fetch-group, gnus-registry-delete-group)
	(gnus-registry-add-group): changed to work with extra data element
	if present

2003-05-01 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Gnus v5.10.1 is released.

2003-05-01 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.24 is released.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* dgnushack.el (when): Check whether defadvice is fbound.

2003-05-01  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-unregistered-group-regex): new variable
	(gnus-registry-register-message-ids): use it

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

	* gnus.el: Update copyright for several files.

2003-05-01 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.23 is released.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* spam-stat.el (spam-stat-test-directory): Compare against zero.

2003-05-01  Trey Jackson <tjackson@ichips.intel.com>  (tiny change)

	* spam-stat.el (spam-stat-test-directory): Skip 0 length files.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-forward-subject-name-subject): Decode
	string when forwarding.

2003-05-01  Oystein Viggen  <oysteivi@tihlde.org>

	* dgnushack.el (when): Add defadvice.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2003-05-01 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.22 is released.

2003-05-01 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.21 is released.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2003-05-01 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.20 is released.

2003-05-01  Vasily Korytov  <deskpot@despammed.com>

	* gnus-dired.el (gnus-dired-mode-map): Move to C-c C-l.

2003-04-30  Mark A. Hershberger  <mah@everybody.org>

	* mm-url.el (mm-url-insert-file-contents): set url-current-object
	in the case where mm-url-use-external is set.

	* nnrss.el (nnrss-request-article): Change the messages created to
	multipart/alternative.  Hopefully fixes a problem interaction with
	w3m.
	(nnrss-find-rss-via-syndic8): Better handling if xml-rpc.el isn't
	around.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-check-news-header-syntax): Alter "posting"
	message.

	* nnrss.el (nnrss-node-text): Don't use char classes.

2003-05-01  David Z. Maze  <dmaze@mit.edu>

	* nnrss.el (nnrss-find-rss-via-syndic8): Have an `error' branch
	in condition-case.

2003-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-required-headers): Remove In-Reply-To.

	* gnus-int.el (gnus-open-server): Revert changes.

2003-04-30  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* gnus-int.el (gnus-open-server): Try to open unagentized servers
	even when unplugged.

2003-04-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-prefer-mid-or-mail): Fixed typo in
	doc-string.

2003-05-01  Steve Youngs  <youngs@xemacs.org>

	* lpath.el: Add a section for non-Mule XEmacsen.
	fbind `find-charset-string' and `coding-system-base' in that
	section.

	* gnus-util.el (gnus-completing-read-maybe-default): New.
	(gnus-completing-read): Use it.

	* mm-view.el (mm-view-pkcs7-decrypt): Ditto.

	* gnus-art.el (gnus-read-string): New.
	(gnus-summary-pipe-to-muttprint): Use it.

	* gnus-xmas.el (gnus-xmas-open-network-stream): New.

	* dns.el (dns-make-network-process): Use it.

	Take care of some differences between XEmacs 21.1 and newer
	versions of XEmacs.

2003-04-30  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-split-fancy-with-parent): added
	diagnostic message
	(gnus-registry-grep-in-list): don't run when word is nil
	(gnus-registry-fetch-message-id-fast): new function
	(gnus-registry-delete-group, gnus-registry-add-group): make sure
	the id and group are not nil
	(gnus-registry-register-message-ids): new function
	(gnus-register-action): optimized logical flow
	(gnus-summary-prepare-hook): added gnus-registry-register-message-ids

2003-04-30  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* gnus-delay.el (gnus-delay-article): Call
	`gnus-agent-queue-setup' to create the delay group.

	* gnus-agent.el (gnus-agent-queue-setup): Support optional arg
	for the (queue) group name.

2003-04-30  Simon Josefsson  <jas@extundo.com>

	* mm-util.el (mm-charset-to-coding-system): Use user specified
	charset unless coding-system-get is fboundp.

2003-04-30  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-cat-defaccessor, gnus-agent-cat-name):
	Wrapped in eval-when-compile.
	(gnus-agent-mode): Bind gnus-agent-go-online to nil as you
	shouldn't be asked twice to go online with each server.
	(gnus-agent-get-undownloaded-list, gnus-agent-fetch-articles,
	gnus-agent-crosspost, gnus-agent-flush-cache,
	gnus-agent-fetch-session, gnus-agent-unread-articles,
	gnus-agent-uncached-articles, gnus-agent-regenerate-group,
	gnus-agent-group-covered-p): Expanded pop macros used for
	effect. Avoids compilation warning in emacs 21.3.

	* gnus-int.el (gnus-open-server): Restructured to only open
	nnagent when gnus-plugged is nil.

2003-04-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind string-to-multibyte.

2003-04-30  Steve Youngs  <youngs@xemacs.org>

	* dgnushack.el: Add some missing autoloads for XEmacs 21.1.

2003-04-29  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-registry-fetch-group): faster
	(gnus-registry-delete-group): new function
	(gnus-registry-add-group): new function
	(gnus-register-spool-action): use it
	(gnus-register-action): use it
	(gnus-registry-translate-from-alist)
	(gnus-registry-translate-to-alist): remove the headers registry
	for now

2003-04-29  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-alist): Fixed CTAN regexp.

2003-04-29  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam-report.el (spam-report-gmane): gnus-summary-article-number
	is not necessary, just use the function parameter

2003-04-29  Karl Pflysterer  <sigurd@12move.de>

	* spam-stat.el (spam-stat-save): No longer font-locks the file
	when saving

2003-04-29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el: Bind mail-header-separator when compiling (XEmacs
	provides it in mail-lib/auto-autoloads.el).

2003-04-29  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-sign): Use mml-sender instead of
	message-sender.

	* mml.el (mml-generate-mime-1): Set mml-sender too.

2003-04-29  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-display-while-building): Docstring fix.

	* mm-url.el (mm-url-use-external): do.

2003-04-29  Simon Josefsson  <jas@extundo.com>

	* canlock.el (mail-fetch-field): Autoload it (fix xemacs compile
	warnings).

	* sieve-mode.el (c-mode): Ditto.

	* pgg.el (run-at-time): Ditto.

	* mm-url.el (require): Require timer when compiling for
	with-timeout macro (fix xemacs compile warnings).

2003-04-28  Dave Love  <fx@gnu.org>

	* gnus-util.el (nnheader): Don't require.
	(Nnheader-narrow-to-headers, nnheader-replace-chars-in-string):
	Autoload.

	* spam.el: Require cl when compiling.

	* dns.el: Require cl when compiling.

2003-04-28  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-article-goto-next-page)
	(gnus-article-goto-prev-page): Revert 2003-02-12 change to make
	gnus-pick-mode work.

2003-04-28  Steve Youngs  <youngs@xemacs.org>

	* Makefile.in (FLAGS): Use @FLAGS@.

2003-04-27  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-mime-display-multipart-as-mixed)
	(gnus-mime-display-multipart-alternative-as-mixed)
	(gnus-mime-display-multipart-related-as-mixed): Added doc-strings,
	allow customization.

2003-04-27  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* dgnushack.el (dgnushack-compile-verbosely): New function.  Not
	currently called (See source for explanation).

2003-04-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-catchup): Don't mark ticked messages.
	(gnus-summary-mark-read-and-unread-as-read): Take an optional
	mark.

	* gnus.el (gnus-version-number): Bump.

2003-04-27 06:47:31 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.19 is released.

2003-04-27  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-registry.el (gnus-register-spool-action): Replaced literal
	carriage-return character with its escape sequence.

2003-04-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-catchup-from-here): Doc fix.

	* nnrss.el (nnrss-node-text): Use only one
	gnus-replace-in-string.

	* gnus.el: Remove gnus-functionp throughout.

	* gnus-util.el (gnus-functionp): Removed.

	* gnus-msg.el (gnus-summary-wide-reply-with-original): Doc fix.

	* message.el (message-required-headers): Add In-Reply-To.

2003-04-27  Marshall T. Vandegrift  <vandem2@rpi.edu>

	* gnus-fun.el (gnus-face-from-file): Bind coding-system-for-read
	to binary.

2003-04-27  Jesper Harder  <harder@ifa.au.dk>

	* mml.el (mml-preview): do.

	* message.el (message-mode): do.

	* gnus-undo.el (gnus-undo-mode): do.

	* gnus-topic.el (gnus-topic-mode): do.

	* gnus-sum.el (gnus-summary-mode, gnus-summary-edit-article): do.

	* gnus-msg.el (gnus-setup-message)
	(gnus-inews-add-send-actions, gnus-configure-posting-styles): do.

	* gnus-gl.el (gnus-grouplens-mode): do.

	* gnus-art.el (gnus-mime-save-part-and-strip)
	(gnus-mime-delete-part): Use it.

	* gnus-util.el (gnus-make-local-hook): New function.

2003-04-25  Simon Josefsson  <jas@extundo.com>

	* nnrss.el (nnrss-node-text): Don't use a star.
	(nnrss-node-text): Use g-r-i-s, not g-r-r-i-s which doesn't exist.

2003-04-24  Dave Love  <fx@gnu.org>

	* mm-encode.el (mm-long-lines-p): Autoload.
	(mm-encode-content-transfer-encoding): Don't try to make buffer
	unibyte before decoding.  Don't ignore errors for base64 encoding.

	* qp.el (quoted-printable-decode-region): Use mm-insert-byte.
	Signal error on malformed text, as for base64.
	(quoted-printable-encode-region): DTRT in Emacs 22.

	* mm-util.el (mm-make-temp-file, mm-insert-byte): New.
	(mm-auto-save-coding-system): Consider utf-8-emacs.
	(mm-mime-mule-charset-alist, mm-mule-charset-to-mime-charset)
	(mm-charset-to-coding-system, mm-mime-charset)
	(mm-find-mime-charset-region): Check for :mime-charset coding
	systems property.

	* mml-sec.el (mml2015, mml1991): Don't require.
	(mml2015-sign, mml2015-encrypt, mml1991-sign, mml1991-encrypt)
	(message-goto-body, mml-insert-tag): Autoload.

	* mm-decode.el (mm-tmp-directory): Re-write to help avoid warnings.

	* gnus-start.el (message-make-date): Autoload rather than
	requiring message.

	* gnus-group.el (gnus-group-name-charset-group-alist): Use
	mm-coding-system-p.
	(gnus-cache-active-altered): Defvar when compiling.
	(gnus-group-delete-group): Re-write to help avoid warnings.

	* gnus-art.el (gnus-use-idna): Use mm-coding-system-p.

	* pgg.el: Split eval-when-compile forms.

2003-04-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-group.el (gnus-large-ephemeral-newsgroup)
	(gnus-fetch-old-ephemeral-headers): News variables.
	(gnus-group-read-ephemeral-group): Use them.

2003-04-24  Simon Josefsson  <jas@extundo.com>

	* sieve.el (sieve-upload): Don't use replace-regexp-in-string.

	* nnrss.el (nnrss-node-text): Ditto.

2003-04-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (gnus-inews-do-gcc): Make sure the obsolete variable
	gnus-inews-mark-gcc-as-read exists.

2003-04-23  Simon Josefsson  <jas@extundo.com>

	* gnus-sieve.el (gnus-sieve-generate): Rewrite regexp search so it
	doesn't exceed the regexp stack space.

2003-04-23  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-inews-mark-gcc-as-read): Don't defvar it.

	* gnus-art.el (gnus-article-hide-pgp-hook): do.

2003-04-23  Reiner Steib  <Reiner.Steib@gmx.de>

	* mml.el (mml-preview): Bind `=', RET, and mouse-2.

2003-04-23  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-decode-body): Don't override supplied charset.

2003-04-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (merge, copy-list): Remove compiler macros.
	(butlast): Add a compiler macro.

2003-04-22  Paul Jarc  <prj@po.cwru.edu>

	* gnus-util.el (gnus-merge): Added "type" argument to match CL
	merge and gnus-sum.el's expectations.

2003-04-21  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-url-regexp): Added nntp.

	* message.el (message-generate-headers-first): Default to
	'(references).

	* gnus-art.el (gnus-mime-delete-part): Require confirmation.

2003-04-21  Jesper Harder  <harder@ifa.au.dk>

	* smime.el (smime-decrypt-region): Insert From header.

2003-04-21  Kai Gro,A_(Bjohann  <kai.grossjohann@gmx.net>

	* gnus-fun.el (gnus-face-from-file, gnus-convert-png-to-face):
	Max length of header is 726, not 740.  From Gaute B Strokkenes
	<gs234@cam.ac.uk>.

2003-04-20  Jesper Harder  <harder@ifa.au.dk>

	* nndb.el, mml1991.el: Fix license template.

2003-04-20  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-articles): Don't download body unless
	required.

	* imap.el (imap-gssapi-open, imap-ssl-open): Erase buffer before
	starting process, like imap-kerberos4-open does.

	* mml-smime.el, rfc1843.el, dig.el, smime.el, uudecode.el: Fix
	license template.

	* mml-sec.el: Fix license template.

	* gnus-sieve.el, sieve.el, sieve-manage.el, sieve-mode.el: Fix
	license template.

	* pgg-def.el, pgg.el, pgg-gpg.el, pgg-parse.el, pgg-pgp5.el,
	pgg-pgp.el: Fix license template.

2003-04-19  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-delete-article): Improve docstring.

2003-04-19  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-move-spam-nonspam-groups-only): dumb typo fix

2003-04-18  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-split): allow a particular check as a parameter,
	e.g. (: spam-split 'spam-use-bogofilter)
	(spam-mark-only-unseen-as-spam): new parameter, see doc
	(spam-mark-junk-as-spam-routine): use
	spam-mark-only-unseen-as-spam, simplify routine to take advantage
	of gnus-newsgroup-unread as well as gnus-newsgroup-unseen

2003-04-17  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus.el (gnus-group-short-name, gnus-group-prefixed-p): new functions
	(gnus-group-guess-full-name): don't prefix the group twice

	* nnmail.el (nnmail-split-fancy-with-parent): docstring fix

	* gnus-registry.el (gnus-registry-clear)
	(gnus-registry-fetch-group, gnus-registry-grep-in-list)
	(gnus-registry-split-fancy-with-parent): new functions
	(gnus-register-spool-action, gnus-register-action): simplified the format
	(gnus-registry): new customization group
	(gnus-registry-unfollowed-groups): new variable

2003-04-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-button-alist): Add nntp: urls.
	(gnus-header-button-alist): Ditto.

2003-04-17  Dave Love  <fx@gnu.org>

	* gnus-util.el (gnus-string-equal): Revert last change.

2003-04-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-browse-make-menu-bar): Fix typo.

2003-04-17  Mike Woolley  <mike@ariel.co.uk>

	* gnus-sum.el (gnus-sum-thread-tree-false-root): New variable.

2003-04-15  Michael Shields  <shields@msrl.com>

	* gnus-art.el (article-hide-boring-headers): Hide Reply-To: if
	the broken-reply-to group parameter is set.  Idea from Vasily
	Korytov <deskpot@myrealbox.com>.

2003-04-17  Steve Youngs  <youngs@xemacs.org>

	* dgnushack.el: 'setenv' is in env.el for XEmacsen <= 21.4, but in
	process.el in XEmacsen >= 21.5.

2003-04-17  Steve Youngs  <youngs@xemacs.org>

	* dgnushack.el: Add a whole swag of autoloads and defaliases to
	satisfy the byte-compiler when building with XEmacs.

	* lpath.el (maybe-bind): Add 'w3-meta-content-type-charset-regexp'
	and 'w3-meta-charset-content-type-regexp' in XEmacs.  The upstream
	W3 doesn't have these.

	* mailcap.el: Maybe require 'lpr in XEmacs.

2003-04-16  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-sign): Bind pgg-default-user-id to MML
	sender tag, if available.

2003-04-16  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-registry.el (gnus-register-action)
	(gnus-register-spool-action, hashtable-to-alist)
	(gnus-registry-translate-from-alist, alist-to-hashtable)
	(gnus-registry-translate-to-alist, gnus-registry-headers-hashtb):
	new variables and function fixes

	* gnus.el (gnus-registry-headers-alist): new variable to hold
	article header data
	(gnus-variable-list): save gnus-registry-headers-alist

	* spam-report.el (Module): new module for spam reporting

	* gnus.el (spam-process): added
	gnus-group-spam-exit-processor-report-gmane to the list of choices
	(gnus-install-group-spam-parameters): defined new spam exit processor

	* spam.el (autoload): autoload spam-report-gmane when needed
	(spam-report-gmane-register-routine): glue for spam-report.el
	(spam-group-spam-processor-report-gmane-p): glue for the
	gnus-group-spam-exit-processor-report-gmane spam processor
	(spam-summary-prepare-exit): check the report-gmane spam processor
	and run spam-report-gmane-register-routine if it's active

	From John Wiegley <johnw@gnu.org>

	* spam.el (spam-bogofilter-score): check bogofilter headers before
	checking bogofilter itself

2003-04-16  Dave Love  <fx@gnu.org>

	* gnus-agent.el: Wrap defsetf in eval-when-compile.
	(gnus-agent-cat-defaccessor): Don't use gensym.

	* mml1991.el: Require cl, mm-util when compiling.
	(quoted-printable-decode-region, quoted-printable-encode-region):
	Autoload.

	* pgg.el: Require cl when compiling.

	* nnmail.el (gnus): Require.

	* gnus-util.el: Move provide to end.
	(gnus-string-equal): Maybe use compare-strings.
	(gnus-merge): New.

	* gnus-sum.el (gnus-summary-prepare-threads): Don't use copy-list.
	(gnus-summary-insert-articles): Use gnus-merge.

	* gnus-fun.el: Require cl and mm-util when compiling.

	* gnus-diary.el (gnus-diary-delay-format-french)
	(gnus-diary-delay-format-english): Don't use setf with nthcdr.

	* nndiary.el (nndiary-compute-reminders): Don't use setf with
	nthcdr.

2003-04-16  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-make-cat): Added optional parameter to
	specify a predicate other than false.
	(gnus-category-read): Use the new feature to create a 'default'
	category with a 'short' predicate.

2003-04-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-unique-id): Comment change.

	* gnus-art.el (gnus-article-next-page-1): New function.
	(gnus-article-next-page): Use it.

2003-04-15  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-split): added save-restriction to save-excursion

2003-04-15  Reiner Steib  <Reiner.Steib@gmx.de>
	From Julien Avarre <julien@avarre.com>

	* gnus-fun.el: Fixed autoload cookie.

2003-04-15  Paul Jarc  <prj@po.cwru.edu>
	From Remi Letot  <remi.letot@easynet.be>

	* nnmaildir.el (nnmaildir-request-scan): Use gnus-remove-if
	instead of remove-if.

2003-04-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (gnus-summary-news-other-window): Use delq and
	copy-sequence instead of remove which is a cl run-time function in
	Emacs 20.

2003-04-14  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-summary-news-other-window): Make a buffer
	local copy of gnus-discouraged-post-methods with the current
	method removed.

2003-04-14  Simon Josefsson  <jas@extundo.com>

	* mailcap.el (mailcap-mime-data): Add application/pgp-keys.

2003-04-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* mm-util.el (mm-sort-coding-systems-predicate): Convert elements
	of `mm-coding-system-priorities' to base coding system.

	* gnus-sum.el: Added coding cookie ("middle dot" in
	gnus-summary-morse-message).

2003-04-13  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (article-fill-long-lines)
	(article-verify-x-pgp-sig, article-decode-group-name)
	(gnus-mime-button-menu): Split >80 character lines.

2003-04-13  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-local-variables): Use defvar since
	we're let-binding it.

	* nnmbox.el (nnmbox-mbox-buffer): It's not a constant.

2003-04-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-hide-headers): Don't do intangible.

	* gnus.el (gnus-group-prefixed-name): Comment out the test for
	colon.

	* gnus-srvr.el (gnus-browse-read-group): Don't give the real name
	to the ephemeral entry, but the prefixed name.

	* gnus.el (gnus-group-prefixed-name): Clean up.

2003-04-13  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-group-pathname): Bind
	gnus-command-method so that gnus-agent-directory will always
	return a valid directory.
	* gnus-cache.el (gnus-cache-enter-article): Remove article from
	gnus-newsgroup-undownloaded so that the summary will display the
	article as downloaded.
	(gnus-cache-remove-article): If the article isn't in the agent,
	remove it from gnus-newsgroup-undownloaded so that the summary
	will display the article as undownloaded.

2003-04-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2003-04-13 01:12:01 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.18 is released.

2003-04-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-draft.el (gnus-draft-send): Add message-hidden-headers.

2003-04-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-next-page): Use
	gnus-article-over-scroll.
	(gnus-article-over-scroll): New variable.

	* message.el (message-newline-and-reformat): Place a boundary
	before filling.
	(message-make-forward-subject-function): Changed default to
	message-forward-subject-name-subject.
	(message-forward-subject-name-subject): New function.

	* nnimap.el (nnimap-split-fancy): Ditto.

	* gnus-sum.el (gnus-summary-line-message-size): Ditto.

	* gnus-cus.el (gnus-group-parameters): Removed "which see".

	* mml.el (mml-minibuffer-read-file): Bind
	completion-ignored-extensions to nil.

	* message.el (message-fix-before-sending): Comment fix.
	(message-fix-before-sending): Make hidden headers visible.
	(message-hide-headers): Bind after-change-functions to nil.
	(message-forbidden-properties): Put invisible and intangible
	back.
	(message-strip-forbidden-properties): Ignore message-hidden text.

	* gnus-msg.el: Hide headers.

	* message.el (message-hidden-headers): New variable.
	(message-hide-headers): New function.
	(message-hide-header-p): New function.
	(message-hide-header-p): Change logic.
	(message-forbidden-properties): Remove intangible nil invisible
	nil.
	(message-hide-headers): Narrow to headers.

	* lpath.el (featurep): Bind Info-directory, Info-menu.

2003-04-12  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-body-charset-encoding-alist): UTF-16 *must* be
	encoded.
	(mm-encode-body): Don't corrupt UTF-16.
	(mm-body-encoding): Pay attention to mm-body-charset-encoding-alist.

2003-04-10  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Articles in
	the CACHE are now detected and handled the same as an article
	downloaded into the agent.
	(gnus-agent-group-path): Modified to match nnmail-group-pathname
	so that the agent front-end and back-end (nnagent) always use the
	same directory.
	(gnus-agent-group-pathname): New function. Wrapper for
	nnmail-group-pathname.
	(gnus-agent-expire-unagentized-dirs): New variable.  May be
	customized to disable gnus-agent-expire-unagentized-dirs.
	(gnus-agent-expire-unagentized-dirs): Expand gnus-agent-directory
	as the directories in gnus-agent-expire-current-dirs were
	expanded.

2003-04-10  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-make-menu-bar): Disable "Encrypt
	body" entry in read only groups.

2003-04-09  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-make-menu-bar): Disable "Import file"
	and "Create article" items in non-editable groups.

2003-04-09  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-write-active): Added option of
	replacing, rather than updating, the agent's active file.  Do NOT
	use the fully qualified group name as gnus-active-to-gnus-format
	blindly prefixes group names with server names.
	(gnus-agent-save-group-info): Merge BOTH min/max of current active
	range, was just merging min, with specified active range.
	(gnus-agent-expire): Save agent's active ranges after
	expiring all groups.
	(gnus-agent-expire-group-1): Update min of agent's active range to
	min article currently fetched.
	(gnus-agent-expire-unagentized-dirs): Avoid asking to delete the
	same ancestor multiple times.

	* gnus-async.el (gnus-asynchronous): Moved defcustom of
	gnus-asynchronous away from defgroup of gnus-asynchronous.  This
	seems to fix an intermittant error in which loading gnus-async
	fails to define gnus-asynchronous (the variable).

	* gnus-sum.el: Concur with Steve Young, 5th argument to 'load' is
	non-essential.  Removed on all platforms.
	(gnus-select-newsgroup): When the agent is active, expand the
	group's active range to include fetched articles that are no
	longer in the server's active range.

	* gnus-util.el (gnus-with-output-to-file): Removed all of the
	print-* bindings as they should be handled by the function doing
	the printing.

2003-04-09  Jesper Harder  <harder@ifa.au.dk>

	* mm-uu.el (mm-uu-copy-to-buffer): buffer-file-coding-system
	might be unbound in non-MULE XEmacsen.

2003-04-08  Jesper Harder  <harder@ifa.au.dk>

	* mm-uu.el (mm-uu-diff-groups-regexp, mm-uu-type-alist)
	(mm-uu-diff-extract, mm-uu-diff-test): New functionality:
	recognize diffs.

	* mm-bodies.el (mm-decode-body): Use the supplied charset
	unconditionally if `code-pages' hasn't been loaded.

2003-04-07  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (article-verify-x-pgp-sig): Don't use
	`insert-buffer', the docstring says "This function is meant for
	the user to run interactively.  Don't call it from programs!"

	* mm-extern.el (mm-extern-mail-server): do.

	* mml1991.el (mml1991-mailcrypt-sign, mml1991-mailcrypt-sign)
	(mml1991-gpg-sign, mml1991-gpg-encrypt, mml1991-pgg-sign)
	(mml1991-pgg-encrypt): do.

	* pgg.el (pgg-decrypt-region): do.

	* mm-view.el (mm-view-pkcs7-decrypt): do.

	* mml-smime.el (mml-smime-verify): do.

	* mml.el (mml-insert-mime, mml-preview): do.

	* mml2015.el (mml2015-gpg-decrypt-1, mml2015-gpg-sign)
	(mml2015-gpg-encrypt, mml2015-pgg-clear-decrypt)
	(mml2015-pgg-encrypt): do.

2003-04-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-bodies.el (mm-decode-body): Silence XEmacs when compiling.

2003-04-06  Jesper Harder  <harder@ifa.au.dk>

	* mm-uu.el (mm-uu-copy-to-buffer): Copy
	`buffer-file-coding-system' to the new buffer.
	(mm-uu-pgp-signed-extract-1): Don't copy
	`buffer-file-coding-system' here.

	* mm-bodies.el (mm-decode-body): last-coding-system-used doesn't
	exist in XEmacs.
	(mm-decode-body): Add missing quote.

	* mm-uu.el (mm-uu-pgp-signed-extract-1): Set
	buffer-file-coding-system.

	* mm-bodies.el (mm-decode-body): Set buffer-file-coding-system to
	last-coding-system-used.

	* mml2015.el (mml2015-pgg-clear-verify): Encode the text
	according to buffer-file-coding-system.

	* pgg-gpg.el (pgg-gpg-process-region): Revert previous change.

	* pgg-pgp.el (pgg-pgp-process-region, pgg-pgp-verify-region)
	(pgg-pgp-snarf-keys-region): do.

	* pgg-pgp5.el (pgg-pgp5-verify-region)
	(pgg-pgp5-snarf-keys-region, pgg-pgp5-process-region): do.

	* pgg.el (pgg-make-temp-file, pgg-temporary-file-directory): do.

2003-04-05  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-split): (save-excursion) around (widen)
	(spam-ham-move-routine): Use spam-group-ham-mark-p, not
	spam-group-spam-mark-p (from Michael Shields <shields@msrl.com>)

2003-04-05  Steve Youngs  <youngs@xemacs.org>

	* gnus-sum.el: XEmacs doesn't support the 5th arg to 'load', so
	don't use it when loading gnus-sum.el if we're in XEmacs.

2003-04-05  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-start.el (gnus-gnus-to-quick-newsrc-format): Bound
	print-escape-nonascii to fix more characters in compiled format
	specs.

2003-04-05  Jesper Harder  <harder@ifa.au.dk>

	* gnus-audio.el (gnus-audio-au-player, gnus-audio-wav-player):
	Fix customization type.

2003-04-04  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-start.el (gnus-gnus-to-quick-newsrc-format): Bound
	print-quoted, print-readably, print-escape-multibyte, and
	print-level to match original behavior of gnus-prin1.  This should
	repair the format of .newsrc.eld when using compiled format specs.

2003-04-04  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (tool-bar-map): defvar it.

	* gnus-art.el (tool-bar-map): do.

	* gnus-sum.el (tool-bar-map): do.

2003-04-03  Jesper Harder  <harder@ifa.au.dk>

	* earcon.el (earcon-regexp-alist): catmeow is a wav file.

2003-04-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-ctan-directory-regexp): Changed meaning
	and value.
	(gnus-button-alist): Use it.

2003-04-03  Jesper Harder  <harder@ifa.au.dk>

	* pgg-gpg.el (pgg-gpg-process-region): do.

	* pgg-pgp.el (pgg-pgp-process-region, pgg-pgp-verify-region)
	(pgg-pgp-snarf-keys-region): do.

	* pgg-pgp5.el (pgg-pgp5-verify-region)
	(pgg-pgp5-snarf-keys-region, pgg-pgp5-process-region): Use it.

	* pgg.el (pgg-make-temp-file): New function. `make-temp-name' is
	unsafe.
	(pgg-temporary-file-directory): Remove.

2003-04-02  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind Info-directory and Info-menu.

2003-04-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-util.el (gnus-message): Added doc-string.

	* gnus-score.el (gnus-score-find-trace): Changed behavior of `q'.
	(gnus-score-edit-file-at-point): Goto first match when using `e'.

2003-04-01  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-ctan-directory-regexp): New variable.
	(gnus-button-alist): Use it.  Changed CTAN and "setq" entries.

2003-04-01  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-via-rlogin-command-switches): Doc fix.
	(nntp-open-via-rlogin-and-telnet): Disable the telnet linemode.

2003-03-31  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-start.el (gnus-gnus-to-quick-newsrc-format): Bound
	print-escape-newlines to print escape sequences rather than
	literal newline characters.

2003-03-31  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-valid-fqdn-regexp): Use
	`message-valid-fqdn-regexp' for initialization.
	(gnus-button-handle-info-url): Renamed and extended version of
	`gnus-button-handle-info'.
	(gnus-button-message-level): Renamed from `gnus-button-mail-level'
	(gnus-button-handle-symbol, gnus-button-handle-library)
	(gnus-button-handle-info-keystrokes): New functions.
	(gnus-button-browse-level): New variable.
	(gnus-button-alist): Use them.  Added levels.
	(gnus-header-button-alist): Added levels.

2003-03-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2003-03-31 20:08:19 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.17 is released.

2003-03-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-unload): Removed.

	* pop3.el (pop3-read-response): Use
	nnheader-accept-process-output.
	(pop3-retr): Ditto.

	* mm-view.el (mm-text-html-renderer-alist): Add -nolist to Lynx.
	(mm-text-html-washer-alist): Ditto.

2003-03-31  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-gssapi-program): Also try GNU SASL.
	(imap-gssapi-open): Accept GNU SASL greeting.
	(imap-read-timeout): New.
	(imap-wait-for-tag): Use it.

2003-03-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nntp.el (nntp-accept-process-output): Use new function.

	* nnheader.el (nnheader-read-timeout): New variable.
	(nnheader-accept-process-output): New function.

	* nntp.el (nntp-read-timeout): Removed.

	* gnus-sum.el (gnus-summary-prepare-threads): Add comment.

2003-03-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-cache.el (gnus-cache-braid-nov): Revoke last change.

2003-03-30  Simon Josefsson  <jas@extundo.com>

	* message.el (message-idna-inside-rhs-p): Narrow to header before
	searching.

	* gnus-art.el (article-decode-idna-rhs): More restrictive regexp.

2003-03-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-process-mmdf-mail-format): Indent.

2003-03-28  Vasily Korytov  <deskpot@myrealbox.com>

	* message.el (message-make-in-reply-to): Use
	mail-extract-address-components to determine sender's
	name/address.

2003-03-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nndoc.el (nndoc-type-alist): Move mime-parts further ahead.

	* gnus-registry.el (gnus-registry-translate-to-alist): Make a
	valid lambda.
	(gnus-registry-translate-from-alist): Ditto.

	* gnus-start.el (gnus-gnus-to-quick-newsrc-format): Bind
	print-length to nil.

	* gnus-sum.el (gnus-summary-highlight-line-0): Indent.

	* gnus-fun.el (gnus-fun-ppm-change-string): New function.
	(gnus-grab-cam-face): Use it.

2003-03-28  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-set-mark)
	(nnmaildir-close-group): Allow each mark directory in a group to
	have its own inode for mark files, to accommodate AFS.

2003-03-28  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-start.el (gnus-read-newsrc-el-hook): new hook called by
	gnus-read-newsrc-el-file
	(gnus-read-newsrc-el-file): call the gnus-read-newsrc-el-hook

	* gnus-registry.el (gnus-registry-translate-to-alist)
	(gnus-registry-translate-from-alist, alist-to-hashtable)
	(hashtable-to-alist): new functions
	(gnus-register-spool-action): add a spool item to the registry

	* gnus.el (gnus-variable-list): added gnus-registry-alist to the
	list of saved variables
	(gnus-registry-alist): new variable

2003-03-27  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (article-decode-group-name): Be correct instead of
	smart.

2003-03-27  Katsumi Yamaoka <yamaoka@jpl.org>

	* lpath.el: Bind url-current-object for Emacs; bind
	gnus-agent-expire-current-dirs for XEmacs; fbind open-ssl-stream
	for both Emacsen.

2003-03-27  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-article-loose-mime)
	(gnus-article-emulate-mime): Move to gnus-article-mime customize
	group.

	* gnus-msg.el (gnus-mailing-list-groups): Fix customize type and
	doc string.

2003-03-26  Kevin Ryde <user42@zip.com.au>

	* gnus-sum.el (gnus-summary-find-for-reselect): Renamed from
	gnus-summary-find-uncancelled, skip temporary articles inserted by
	"refer" functions.

2003-03-26  Vasily Korytov  <deskpot@myrealbox.com>

	* smiley.el (smiley-buffer): New function.

2003-03-26  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Replaced
	gnus-summary-update-line (which updated the article's face) with
	gnus-summary-update-download-mark (which updates the article's
	face by calling gnus-summary-update-line AND updates the download
	mark to show that the article was fetched).

2003-03-23  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-expire-unagentized-dirs): Provides
	option of deleting agent directories for groups/servers that are
	not currently agentized.
	(gnus-agent-expire): Use gnus-agent-expire-unagentized-dirs.

	* gnus-int.el (gnus-open-server): Report backend errors in
	condition handler.

2003-03-23  Simon Josefsson  <jas@extundo.com>

	* message.el (message-idna-to-ascii-rhs-1): Don't continue outside
	header.

	* rfc2047.el (rfc2047-header-encoding-alist): Make Followup-To
	same as Newsgroups.

	* nntp.el (nntp-open-connection-function): Mention
	nntp-open-tls-stream.
	(nntp-open-tls-stream): New function.

	* tls.el: New file.

	* nnimap.el (nnimap-server-port, nnimap-stream): Say TLS/SSL
	instead of SSL.
	(nnimap-stream): Add other streams, link to imap variables.
	(nnimap-authenticator): Add other authenticator, link to imap
	variables.

	* imap.el: Autoload open-tls-stream.
	(imap-streams): Add tls in front of ssl.
	(imap-stream-alist): Add tls.
	(imap-default-tls-port): New variable.
	(imap-tls-p, imap-tls-open): New functions.

2003-03-22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el (mm-url-insert-file-contents): parse url only if
	results is a list.

2003-03-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-imap): Revert.

2003-03-22  Svend Tollak Munkejord  <stm@bacchus.pvv.org>

	* deuglify.el (gnus-outlook-repair-attribution-outlook): Use a
	less strict regexp.

2003-03-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-imap): Use buffer name for
	more imap function.

2003-03-21  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (article-decode-group-name): Replace Newsgroups and
	Followup-To data inline.

2003-03-21  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-treat-display-xface): Don't enable if
	icontopbm isn't available.

2003-03-21  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-int.el (gnus-open-server): Catch errors in backend's
	open-server method.  Returns nil rather than crashing startup.

	* gnus-sum.el (eval-when-compile): Modified to resolve
	compile-time warnings.

	* gnus-uu.el (gnus-uu-mark-series): Added informative msg.
	Reports length of series so that the user can compare N with a
	subject that should, if the entire series is present, contain
	'(.../N)'.
	(gnus-uu-delete-work-dir): Avoid hanging when O/S forbids deletion
	of temp file (Win-XP may leave the temp file locked when the
	uudecode process fails).

2003-03-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-split-line): Ignore error.

	* lpath.el (split-line): Avoid split-line warning message.

2003-03-20  Kim F. Storm  <storm@cua.dk>

	* message.el (message-split-line): New function.
	(message-mode-map): Remap split-line to message-split-line.

2003-03-20  Katsumi Yamaoka <yamaoka@jpl.org>

	* message.el (message-make-overlay): Defalias it to make-overlay.
	(message-delete-overlay): Defalias it to delete-overlay.
	(message-overlay-put): Defalias it to overlay-put.
	(message-idna-to-ascii-rhs-1): Use them.

	* messagexmas.el (message-xmas-redefine): Defalias some overlay
	functions to extent functions.

2003-03-20  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-check-news-header-syntax): Fixed regexp.

2003-03-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-decode-encoded-string): Downcase charset.

	* mm-url.el (mm-url-insert): Move url-current-object stuff into
	mm-url-insert-file-contents.

	* nnrss.el (nnrss-fetch): Fetch the local stuff.
	(nnrss-check-group): Use it.

2003-03-20 Mark A. Hershberger  <mah@everybody.org>

	* nnrss.el: Primitive XML Name-space support.  This means that RSS
	feeds like Kevin Burton's[1] can now be read in Gnus.

	Implemented support for Mark Pilgrim's RSS Autodiscovery.[2] This
	means that if you want to read the RSS feed for example.com, all
	you have to do is hit "G R http://www.example.com/ RET" and
	nnrss.el will find and the feed listed on the site or (if you have
	loaded xml-rpc.el) look it up on syndic8.com.

	Marked the message as HTML (by adding a Content-Type header) so
	that Gnus will render it as html if the user wants that.

	Implemented the ability to save nnrss-group-alist so that any new
	feeds the you subscribe to will be found the next time you start
	up.

	Implemented support for RSS 2.0 elements (author, pubDate).

	Prefer for <content:encoded> over <description> where both
	elements exist.

	* mm-url.el (mm-url-insert): Set url-current-object.

	* gnus-group.el (gnus-group-make-rss-group): New function.

2003-03-20  Katsumi Yamaoka <yamaoka@jpl.org>

	* message.el (message-idna-to-ascii-rhs-1): Don't use replace-*
	for highlight overlays.

2003-03-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-cache.el (gnus-cache-braid-nov): Test if a line looks like
	a NOV.

2003-03-20  Simon Josefsson  <jas@extundo.com>

	* message.el (message-use-idna): Disable if UTF-8 unavailable.
	(message-idna-to-ascii-rhs): Use it.

	* gnus-art.el (gnus-use-idna): Disable if UTF-8 unavailable.

2003-03-19  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-group-ham-mark-p, spam-group-spam-mark-p)
	(spam-group-ham-marks, spam-group-spam-marks): new functions
	(spam-spam-marks, spam-ham-marks): removed in favor of the
	spam-marks and ham-marks parameters
	(spam-generic-register-routine, spam-ham-move-routine): use the
	new spam-group-{spam,ham}-mark-p functions

	* gnus.el (spam-marks, ham-marks): new group parameters with
	default values same as the old spam-spam-marks and spam-ham-marks

2003-03-19  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-article-decode-hook): Add IDNA.
	(gnus-use-idna): New variable.
	(article-decode-idna-rhs): New function.

	* message.el (message-use-idna): New variable.
	(message-mode-field-menu): Add entry for IDNA.
	(message-idna-inside-rhs-p, message-idna-to-ascii-rhs-1)
	(message-idna-to-ascii-rhs): New function.
	(message-generate-headers): Invoke IDNA code.

2003-03-19  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--system-name): New function.
	(nnmaildir-request-accept-article): Use it.

2003-03-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-util.el (gnus-byte-compile): Make it work silently as the
	gnus-compile function does.

	* gnus-sum.el (gnus-summary-highlight-line-0): Revoke the last
	bogus change.

2003-03-19  Jesper Harder  <harder@ifa.au.dk>

	* mm-util.el (mm-mule-charset-to-mime-charset): Test if
	sort-coding-systems is defined.

2003-03-18  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-open-server, nnmaildir-request-scan)
	(nnmaildir-request-create-group, nnmaildir-request-delete-group):
	Replace create-directory with target-prefix.

2003-03-18  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-decode-coding-region-safely): Don't use
	find-charset-string which is slooow in XEmacs.

2003-03-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-highlight-line-0): Silence the byte-
	compiler under XEmacs.

2003-03-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-treat-highlight-signature): Make the default
	work for multipart/signed where the message text isn't `last'.

2003-03-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.el (mm-setup-w3m): Set w3m-display-inline-images to
	the value of mm-inline-text-html-with-images.
	(mm-inline-text-html-render-with-w3m): Don't bind
	w3m-display-inline-images.

	* gnus-art.el (gnus-article-wash-html-with-w3m): Don't bind
	w3m-display-inline-images.

	* lpath.el: Bind w3m-display-inline-images; bind mm-w3m-mode-map
	regardless of an Emacs flavor.

2003-03-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump.

2003-03-18 00:38:22 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.16 is released.

2003-03-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* lpath.el (featurep): Bind mm-w3m-mode-map.

2003-03-17  Paul Jarc  <prj@po.cwru.edu>

	* nnmail.el (nnmail-cache-primary-mail-backend): Not all
	'respool-able backends define a global nnchoke-get-new-mail
	variable.

2003-03-17  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-mime-delete-part): New function.
	(gnus-mime-action-alist, gnus-mime-button-commands): Use it.

2003-03-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-check-news-header-syntax): Don't push
	groups twice onto list of unknown groups.

	* nndoc.el (nndoc-type-alist): Move exim-bounce a bit further
	back.

	* nnheader.el (nnheader-find-etc-directory): Doc fix.

	* gnus-msg.el (gnus-inews-add-send-actions): Don't restore window
	config unless the summary buffer exists.

	* gnus-sum.el (gnus-summary-next-group): Semi-exit group first to
	that target group is computed correctly when articles are marked
	as read by Xref handling.

	* mail-source.el (mail-source-fetch-imap): Pass buffer-name to
	imap-open.

	* message.el (message-send-mail): Add courtesy string to Bcc's,
	too.

	* gnus-cite.el (gnus-cited-line-p): New function.

2003-03-15  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-decode-body): Add new optional parameter,
	force, to use the supplied charset unconditionally.

	* gnus-art.el (article-decode-charset): Use it.

2003-03-14  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-decode-coding-region-safely): New function.
	(mm-decode-body): Use it.

	* rfc2047.el (rfc2047-decode-region): do.
	(rfc2047-decode-string): Guess coding system if the default is
	invalid.

2003-03-12  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-update-info): Pretend missing
	articles are marked 'read, so we get correct article counts.

2003-03-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-insert-mime-button): Exclude a newline from
	the button.
	(gnus-insert-prev-page-button): Ditto.
	(gnus-insert-next-page-button): Ditto.
	(gnus-insert-mime-security-button): Ditto.

	* mm-view.el (mm-inline-image-emacs): Open the bottom of an image
	one line.  Suggested by Greg Klanderman <gak@klanderman.net>.
	(mm-inline-image-xemacs): Ditto.

2003-03-12  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--parse-filename, nnmaildir--sort-files,
	nnmaildir--scan, nnmaildir-request-accept-article): Changes for
	the recent filename uniqueness discussion.

2003-03-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.el (mm-inline-image-emacs): Make it delete an excessive
	newline next time.
	(mm-inline-image-xemacs): Ditto.

2003-03-10  Jesper Harder  <harder@ifa.au.dk>

	* gnus-agent.el (gnus-agent-synchronize-flags-server): Don't use
	kill-line.

2003-03-09  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-inews-insert-archive-gcc): Don't use
	kill-line.

2003-03-09  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetched-hook): New variable.  Just
	fixing the code to match the documentation.
	(gnus-agent-fetch-selected-article): Replaced
	gnus-summary-update-article-line with gnus-summary-update-line as
	the former did not correctly recalculate the thread indentation.
	(gnus-agent-find-parameter): The agent-predicate, if not found
	anywhere else, defaults to the value of gnus-agent-predicate.
	(gnus-agent-fetch-session): Fixed typo; now executes
	gnus-agent-fetched-hook rather than the undocumented
	gnus-agent-fetch-hook.
	(gnus-agent-fetch-group-1): Removed part of 2003-03-06 fix.  The
	default agent predicate is now provided by
	gnus-agent-find-parameter.
	(gnus-agent-message): New macro.  This macro avoids potentially
	costly parameter evaluation when the message's level is too high
	to display.
	(gnus-agent-expire-group-1): Disabled undo tracking in temp
	overview buffer. Uses new gnus-agent-message macro to reduce
	overhead of optional messages. Reversed message levels to
	emphasize percent completion messages.  Detailed messages of
	little use except when debugging code.

2003-03-08  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-move-routine): use
	spam-mark-ham-unread-before-move-from-spam-group
	(spam-mark-ham-unread-before-move-from-spam-group): new variable

2003-03-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: load nnimap.el when compiling
	(spam-setup-widening): use
	nnimap-split-download-body-default instead of
	nnimap-split-download-body which is a user-customizable variable

2003-03-07  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-download-body-default): New, holds
	default for n-s-d-b.
	(nnimap-split-download-body): Add new setting (symbol default),
	which uses contents of n-s-d-b-d, and made it the default.

2003-03-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-use-hashcash): new variable
	(spam-list-of-checks): added spam-use-hashcash with associated
	spam-check-hashcash
	(spam-check-hashcash): new function, installed iff hashcash.el is
	loaded
	(spam-setup-widening): don't use (return)

2003-03-06  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetch-group-1): Added default
	predicate of `false' to avoid an error when a group defines no
	predicate. Fixed typo that disabled agent scoring (i.e. the
	low/high predicates should now work).

2003-03-06  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: add spam-maybe-spam-stat-load to
	gnus-get-top-new-news-hook, remove it from gnus-get-new-news-hook
	(spam-bogofilter-register-with-bogofilter): use
	spam-bogofilter-spam-switch and spam-bogofilter-ham-switch
	(spam-bogofilter-spam-switch, spam-bogofilter-ham-switch): new
	custom variables to replace "-s" and "-n"

	* gnus-group.el (gnus-group-get-new-news): call the new
	gnus-get-top-new-news-hook hook

	* gnus-start.el (gnus-get-top-new-news-hook): new hook, run ONLY
	by gnus-get-new-news, NOT by gnus-group-get-new-news-this-group

2003-03-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-uu.el (mm-uu-pgp-encrypted-test): Fix message.

2003-03-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-cus.el (gnus-group-customize): Don't use delete-if which is
	a cl run-time function.

2003-03-06  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetch-group-1): Added missing binding
	on gnus-agent-short-article.
	(gnus-category-read): Replaced CL function mapcar* with new macro:
	gnus-mapcar.
	* gnus-util.el (gnus-mapcar): New macro.  Generalizes mapcar to
	support functions that accept multiple parameters.  A separate
	sequence must be provided for each parameter in the function.
	Iteration stops when the end of the shortest list is reached.

2003-03-06  Jesper Harder  <harder@ifa.au.dk>

	* nnimap.el (nnimap-request-accept-article): Use delete-region.

	* html2text.el (html2text-clean-dtdd, html2text-delete-tags)
	(html2text-delete-single-tag, html2text-clean-anchor)
	(html2text-remove-tags): Use delete-region.
	(html2text-fix-paragraphs): Simplify.

	* mml1991.el (mml1991-mailcrypt-sign, mml1991-mailcrypt-encrypt)
	(mml1991-gpg-sign, mml1991-gpg-encrypt, mml1991-pgg-sign)
	(mml1991-pgg-encrypt, mml1991-pgg-encrypt): Use delete-region, not
	kill-region.

2003-03-04  John Paul Wallington  <jpw@gnu.org>

	* gnus-agent.el (gnus-agent-enable-expiration)
	(gnus-agent-article-alist, gnus-agent-article-alist)
	(gnus-agent-cat-defaccessor): Doc fixes.

2003-03-04  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-function-implies-unread-1): Grok
	byte-compiled functions.

2003-03-04  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-sum.el (gnus-auto-goto-ignores): New variable. Provides
	customization between new maneuvering (which permits selecting
	undownloaded articles) and old maneuvering (which skipped over
	undownloaded articles) behaviors.
	(gnus-summary-find-next): Pass through the unread and subject
	parameters when calling gnus-summary-find-prev.
	(gnus-summary-find-next,gnus-summary-find-prev): Apply
	gnus-auto-goto-ignores to filter out unacceptable articles.

2003-03-04  Jesper Harder  <harder@ifa.au.dk>

	* mail-source.el (mail-source-read-passwd): Remove. `read-passwd'
	exists in all supported Emacs versions, so we don't need this
	compatibility function.
	(mail-source-fetch-pop, mail-source-check-pop)
	(mail-source-fetch-webmail): Use read-passwd.

	* nntp.el (nntp-send-authinfo, nntp-send-nosy-authinfo)
	(nntp-open-telnet, nntp-open-via-telnet-and-telnet): Use
	read-passwd.

	* nnwarchive.el (nnwarchive-open-server): Use read-passwd.

	* imap.el (imap-read-passwd): Remove.
	(imap-interactive-login): Use read-passwd.

	* canlock.el (canlock-read-passwd): Remove.
	(canlock-insert-header, canlock-verify): Use read-passwd.

	* sieve-manage.el (sieve-manage-read-passwd): Remove.
	(sieve-manage-interactive-login): Use read-passwd.

	* pop3.el (pop3-read-passwd): Remove.
	(pop3-movemail, pop3-get-message-count, pop3-apop): Use
	read-passwd.

	* pgg.el (pgg-read-passphrase): Simplify.

2003-03-04  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-mode): Fixed the mode line reports
	'plugged' when actually 'unplugged' bug.
	(gnus-category-read): Ignore nil values when converting an
	old-format category so that the new-format category will default
	those attributes to the global variables.

2003-03-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* mail-source.el (mail-source-delete-old-incoming-confirm): Fixed
	doc-string.

2003-03-03  Jesper Harder  <harder@ifa.au.dk>

	* nnrss.el (nnrss-decode-entities-unibyte-string): Use `buffer-string'.
	* nndoc.el (nndoc-dissect-mime-parts-sub): do.
	* nndb.el (nndb-request-accept-article, nndb-status-message): do.
	* mm-url.el (mm-url-decode-entities-string): do.
	* mml1991.el (mml1991-mailcrypt-sign, mml1991-gpg-sign): do.
	* mm-decode.el (mm-find-raw-part-by-type): do.
	* message.el (message-send-mail-partially)
	(message-send-mail-with-sendmail): do.
	* gnus-uu.el (gnus-uu-save-article, gnus-uu-reginize-string): do.
	* gnus-kill.el (gnus-pp-gnus-kill): do.
	* gnus-art.el (gnus-article-treat-unfold-headers)
	(gnus-article-encrypt-body): do.

2003-02-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* mail-source.el (mail-source-delete-incoming): Allow integer value.
	(mail-source-delete-old-incoming-confirm): New variable.
	(mail-source-delete-old-incoming): Use it.  New function.
	(mail-source-callback): Call `mail-source-delete-old-incoming' if
	`mail-source-delete-incoming' is a nonnegative integer.

2003-03-03  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-msg.el (gnus-extended-version): Fix for 'emacs-gnus-config.
	(gnus-user-agent): Fixed typo.

2003-03-03  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-enable-expiration): Fixed documentation.
	(gnus-agent-expire-group-1): Removed invalid (interactive) specifier.

2003-03-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-articles): Fix nil message.
	(gnus-agent-fetch-session): Allow debugging to take place.

2003-03-03  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-highlight-selected-summary)
	(gnus-article-get-xrefs, gnus-summary-show-thread): Use
	`gnus-point-at-bol' and `gnus-point-at-eol' instead of
	`(progn (beginning-of-line) (point))'.  It's shorter, faster,
	and makes it clear that we don't need the side effect.
	* gnus-util.el (gnus-delete-line): do.
	* gnus-xmas.el (gnus-group-add-icon): do.
	* nnmail.el (nnmail-article-group, nnmail-cache-fetch-group): do.
	* nntp.el (nntp-send-authinfo-from-file): do.
	* nnml.el (nnml-header-value): do.
	* nnheader.el (nnheader-insert-references): do.
	* gnus-cite.el (gnus-article-highlight-citation)
	(gnus-cite-parse): do.
	* gnus-score.el (gnus-score-followup): do.
	* gnus-draft.el (gnus-draft-send): do.
	* gnus-group.el (gnus-group-highlight-line): do.
	* gnus-cache.el (gnus-cache-braid-nov): do.
	* nnfolder.el (nnfolder-retrieve-headers)
	(nnfolder-request-article): do.
	* gnus-art.el (article-hide-boring-headers)
	(gnus-article-hide-header): do.

	* nnheader.el (nnheader-find-nov-line): Use gnus-delete-line.
	* nnml.el (nnml-request-replace-article): do.
	* nnmbox.el (nnmbox-request-move-article, nnmbox-delete-mail): do.
	* nnfolder.el (nnfolder-request-move-article): do.
	* gnus-cache.el (gnus-cache-possibly-remove-article): do.
	* gnus-art.el (gnus-mm-display-part): do.

	* gnus-art.el (gnus-article-goto-part): Use gnus-goto-char.

2003-03-02  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* nntp.el (nntp-possibly-change-group): Avoid calling
	process-buffer on nil (Which happened when you lost your
	connection while fetching); instead signal a "Server Closed
	Connection" error.

2003-03-02  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-enable-expiration): New
	variable. Either ENABLE or DISABLE.  Sets default behavior for
	selecting which groups are expired.
	(gnus-agent-cat-set-property, gnus-agent-cat-defaccessor,
	gnus-agent-set-cat-groups): Provides abstract interface for
	accessing agent category.  Category now implemented by an alist.
	(gnus-agent-add-group, gnus-agent-remove-group,
	gnus-category-insert-line, gnus-category-edit-predicate,
	gnus-category-edit-score, gnus-category-edit-groups,
	gnus-category-copy, gnus-category-add, gnus-group-category): Use
	new agent category abstraction.
	(gnus-agent-find-parameter): New function. Search for agent
	configuration parameter first in the group's parameters, then its
	topics (if any), and then the group's category.  If not found
	anywhere, use the original defined constants.
	(gnus-agent-fetch-headers, gnus-agent-fetch-group-1): Use new
	gnus-agent-find-parameter.
	(gnus-agent-fetch-headers, gnus-agent-uncached-articles): Clearing
	gnus-agent-cache now blocks retrieving headers and articles from
	the local cache.  Fetched content is still added to the cache
	before being returned.
	(gnus-agent-fetch-session): Use error-message-string to generate
	displayed error message.
	(gnus-agent-customize-category): New Command. 'e' in category
	buffer opens category customization buffer.
	(gnus-category-read): Reads either positional or alist format;
	returns alist format.
	(gnus-category-write): Writes category file compatible with
	current, and previous, versions of gnus-agent.
	(gnus-category-make-function, gnus-category-make-function-1):
	Corrected documentation; parameter is predicate NOT category.
	(gnus-predicate-implies-unread): Now works in more cases per the
	todo comment.
	(gnus-function-implies-unread-1): New function. Supports
	gnus-predicate-implies-unread.
	(gnus-agent-expire-group): Command now provides default of group
	under point.
	(gnus-agent-expire-group-1): Obeys new agent-enable-expiration and
	agent-days-until-old parameters. No longer supports
	gnus-agent-expire-days being set to an alist.
	(gnus-agent-request-article): Now performs its own checks of
	gnus-agent, gnus-agent-cache, and gnus-plugged rather than
	assuming that the caller will do them correctly.
	(): Added one-time hook to gnus-group-prepare-hook.  Detects when
	gnus-agent-expire-days is set to an alist.  Converts said alist
	into group parameter so that gnus-agent-expire-days will not be
	needed.
	* gnus-art.el (gnus-request-article-this-buffer): Conditional
	checks surrounding gnus-agent-request-article removed; now
	performed by gnus-agent-request-article.
	* gnus-cus.el (gnus-agent-parameters): New variable. List of
	customizable group/topic parameters that regulate the agent.
	(gnus-group-customize): Uses gnus-agent-parameters.  Replaced
	kill-buffer with gnus-kill-buffer to remove the killed buffer from
	the list of gnus buffers.
	(gnus-trim-whitespace): Removes leading and trailing whitespace
	from multiline strings.
	(gnus-agent-cat-prepare-category-field,
	gnus-agent-customize-category): Constructs a category
	customization buffer.
	* gnus-int.el (gnus-retrieve-headers,
	gnus-request-expire-articles): No longer checks gnus-agent-cache
	as it is handled internally by the agent.
	(gnus-request-head, gnus-request-body): Conditional checks
	surrounding gnus-agent-request-article removed; now performed by
	gnus-agent-request-article.

	* gnus-start.el (): Added defvar statements to resolve compilation
	warnings.
	(gnus-long-file-names): New function. Isolates platform dependent
	msdos-long-file-names.
	(gnus-save-startup-file-via-temp-buffer): New variable. Provides
	option of writing directly to file.  Avoids memory exhausted
	errors when .newsrc.eld is huge.
	(gnus-save-newsrc-file): Uses new
	gnus-save-startup-file-via-temp-buffer.
	(gnus-gnus-to-quick-newsrc-format): Rewritten to write to
	standard-output.
	(gnus-display-time-event-handler): Changed to alias from a defun
	to avoid a compile-time warning when display-time-event-handler is
	not defined.
	* gnus-util.el (gnus-with-output-to-file): New macro. Binds
	standard-output such that prin1 and princ will write directly to a
	file.

	* gnus.el (gnus-agent-cache): Expanded documentation.
	(gnus-summary-high-undownloaded-face): Removed second bold keyword
	so that this face is actually bold.

	* nnkiboze.el (nnkiboze-request-article): Only use the cache when
	gnus-use-cache has been set.

2003-03-02  Jesper Harder  <harder@ifa.au.dk>

	* nnvirtual.el (nnvirtual-update-xref-header): Simplify.

2003-03-01  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-article-refer-article): Be more permissive.

2003-03-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* spam.el: Fix typo.

2003-03-01  Satyaki Das  <satyaki@theforce.stanford.edu>
	(Trivial patch.)

	* pgg-gpg.el (pgg-gpg-process-region): Insert process status into
	errors-buffer. This produces a nicer error message in case of
	problems.

2003-03-01  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-maybe-spam-stat-load, spam-maybe-spam-stat-load):
	load stats iff spam-use-stat is on

	* spam.el: add spam-maybe-spam-stat-load to gnus-startup hook,
	also use spam-maybe-spam-stat-load and spam-maybe-spam-stat-save
	instead of spam-stat-load and spam-stat-save in the
	gnus-get-new-news-hook and gnus-save-newsrc-hook, respectively

2003-03-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Ignore errors from enriched-decode.

2003-03-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-make-fqdn): Protect against nil user-mail.

2003-02-28  Vasily Korytov <deskpot@myrealbox.com>

	* gnus-art.el (gnus-boring-article-headers): New values:
	'to-list and 'cc-list.

2003-02-28  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-setup-widening): new function to set
	nnimap-split-download-body, we add it to gnus-get-new-news-hook
	(spam-list-of-statistical-checks): list of statistical splitter
	checks
	(spam-split): added a widen call when a statistical check is
	enabled

2003-02-28  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-msg.el (gnus-user-agent): Changed default to
	'emacs-gnus-type, renamed 'full.

2003-02-28  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-accept-article): Don't use
	mail-header-unfold-field.

2003-02-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* imap.el (imap-ssl-open): Don't depend on ssl.el.
	* nntp.el (nntp-open-ssl-stream): Don't depend on ssl.el.

2003-02-26  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: add spam-stat-load to gnus-get-new-news-hook
	(spam-split): remove spam-stat-load call

2003-02-26  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-toggle-header): Run
	gnus-article-decode-hook instead of calling a-decode-encoded-words
	directly (the latter is run as part of the former).

2003-02-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-expire-group): Remove debug.

2003-02-25  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-sendmail-envelope-from): New option.
	(message-sendmail-envelope-from): New function.
	(message-send-mail-with-sendmail): Use it.

2003-02-25  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-mid-or-mail-heuristic-alist): Added
	compensation for TDMA addresses.

2003-02-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-msg.el (gnus-user-agent): New variable.
	(gnus-version-expose-system): Removed.  Obsoleted by
	`gnus-user-agent'.
	(gnus-extended-version): Use `gnus-user-agent'.

2003-02-24  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-stat-register-spam-routine,
	spam-stat-register-ham-routine): remove spam-stat-save
	(spam-stat hook): add spam-stat-save to the gnus-save-newsrc-hook

2003-02-24  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-group.el (gnus-topic-mode-p): Fixed free variable
	reference.

2003-02-24  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* nnheader.el (nnheader-find-nov-line): Changed midpoint
	calculation to avoid integer overflow.

2003-02-24  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-start.el (gnus-backup-startup-file): Fixed custom type.

2003-02-24  Ted Zlatanov <tzz@lifelogs.com>
	* spam.el: disabled spam-get-article-as-filename

	From Michael Shields  <shields@msrl.com>

	* gnus-group.el (gnus-group-is-exiting-without-update-p): New.
	* gnus-sum.el (gnus-summary-exit-no-update): Use it.
	* gnus-sum.el (gnus-summary-expire-articles): Use it.
	* spam.el (spam-summary-prepare-exit): Use it.
	* gnus.el (gnus-install-group-spam-parameters): New.
	* spam.el (spam-group-ham-processor-copy-p): New.
	* spam.el (spam-summary-prepare-exit): Support for ham copying.
	* spam.el (spam-mark-spam-as-expired-and-move-routine): Fix bug
	that would cause the current message to be moved if the group had
	no spam.
	* spam.el (spam-ham-move-routine): New `copy' argument.

2003-02-24  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>
	From Martin Thornquist <martint@ifi.uio.no>

	* gnus-topic.el (gnus-topic-select-group): Select last group if
	after last group.
	* gnus-group.el (gnus-group-select-group): Ditto.

2003-02-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (popup-menu): Compiler macro for Emacs 20.
	(gnus-article-refer-article): Use gnus-point-at-(b|e)ol instead of
	point-at-(b|e)ol which aren't available in Emacs 20.

	* gnus-registry.el (puthash): Alias to cl-puthash for Emacs 20.

2003-02-23  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-start.el (gnus-activate-group): Re-enabled the catch error
	clause of the condition-case statement.  Errors connecting to a
	server no longer terminate gnus.

	* gnus-agent.el (gnus-agent-toggle-plugged): Renamed parameter to
	make its use obvious.  Added no-nothing case to avoid
	opening(closing) servers when already open(closed).
	(gnus-agent-while-plugged): Added macro to facilitate internal use
	of gnus-agent-toggle-plugged.
	(gnus-agent-fetch-group): Use new gnus-agent-while-plugged to
	temporarily open servers.
	(gnus-agent-get-undownloaded-list): Sort list of article numbers
	as sorting gnus-newsgroup-headers is wrong.
	(gnus-agent-summary-fetch-group): Use new gnus-agent-while-plugged
	to temporarily open servers. Corrected logic to handle setting
	gnus-agent-mark-unread-after-downloaded.
	(gnus-agent-fetch-articles): Now handles headers with missing
	article sizes and/or missing article lengths.  Now clears the
	message buffer when finished.
	(gnus-agent-fetch-group-1): Position point before calling
	gnus-summary-set-agent-mark.
	(gnus-get-predicate): Corrected description, parameter is
	predicate not category.
	(gnus-agent-expire-group): Adapted the gnus-agent-expire-* code to
	provide a separate single group expiration function.
	(gnus-agent-regenerate-group): Now clears the message buffer when
	finished.

2003-02-23  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus.el (gnus-agent-target-move-group-header): New variable.
	* gnus-draft.el (gnus-draft-send): If special header
	"X-Gnus-Agent-Target-Move-Group" is present, do like Gcc into
	that group, instead of performing the regular sending functions.

2003-02-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-xmas.el (gnus-xmas-mime-button-menu): Accept a prefix arg.

2003-02-20  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-user-fqdn, message-valid-fqdn-regexp): New
	variables.
	(message-make-fqdn): Use it.  Improved validity check.

2003-02-23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-user-mail-address): Check whether
	user-mail-address looks valid.

	* gnus-msg.el (gnus-mailing-list-followup-to): New function.

	* gnus-util.el (gnus-fetch-original-field): New function.

2003-02-23  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* message.el (message-mode): \\(...\\) around additional
	paragraph-separate alternative.

2003-02-23  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-mime-button-commands): Add ellipsis.
	(gnus-mime-button-menu): Define MIME popup menu with easy-menu to
	display key bindings.
	(gnus-mime-button-menu): Rewrite.

2003-02-23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-button-url-regexp): Removed `.

2003-02-23  Max Froumentin  <mf@w3.org>

	* gnus-art.el (gnus-button-url-regexp): Remove `, enter '.

2003-02-23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-action-on-part): Require a match
	interactively.

	* gnus-start.el (gnus-save-newsrc-file): Use
	gnus-backup-startup-file.
	(gnus-backup-startup-file): New variable.

2003-02-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-summary-buffer-name): Moved function here.

	* gnus-draft.el (defun): Remove debug.

2003-02-22  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-refer-article): Skip method if we
	can't open server.

2003-02-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-draft.el (defun): Configure posting styles.

	* gnus-start.el (gnus-get-unread-articles-in-group): Make sure
	the entry for the group exists before we alter it.

2003-02-22  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* message.el (message-mode): MML tags separate paragraphs.  Small
	change from David S Goldberg <david.goldberg6@verizon.net>.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Sort
	`gnus-newsgroup-headers'.

	* gnus-art.el (gnus-article-refer-article): Grok more message id
	formats.  From Karl Pfl,Ad(Bsterer <sigurd@12move.de>.

2003-02-22  Jesper Harder  <harder@ifa.au.dk>

	* mm-decode.el (mm-path-name-rewrite-functions): Doc fix: don't
	use "path name".

2003-02-21  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-sum.el (gnus-summary-move-article)
	(gnus-summary-expire-articles): send data header for article, not
	just article ID

	* gnus-registry.el (gnus-registry-hashtb, gnus-register-action)
	(gnus-register-spool-action): added hashtable of message ID keys
	with message motion data

2003-02-21  Florian Weimer  <fw@deneb.enyo.de>
	From Reiner Steib  <Reiner.Steib@gmx.de>.

	* gnus-art.el (gnus-button-mid-or-mail-heuristic-alist): New
	variable, used in `gnus-button-mid-or-mail-heuristic'.
	(gnus-button-mid-or-mail-heuristic): New function derived from
	Florian Weimer's Perl script.
	(gnus-button-handle-mid-or-mail): Allow a function instead of
	'guess.
	(gnus-button-guessed-mid-regexp): Removed.

2003-02-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-resend): Bind message-setup-hook to nil;
	remove X-Draft-From header.

2003-02-20  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-simplify-subject-fully, gnus-subject-equal)
	(gnus-newsgroup-undownloaded)
	(gnus-summary-save-parts-default-mime, gnus-auto-select-next):
	Doc fixes.

2003-02-17  John Paul Wallington  <jpw@gnu.org>

	* gnus.el (gnus-shell-command-separator, gnus-email-address)
	(gnus-default-charset, gnus-other-frame-parameters): Doc fixes.

2003-02-20  Jesper Harder  <harder@ifa.au.dk>

	* gnus-spec.el (gnus-xmas-format): Use insert instead of
	insert-string which is obsolete in Emacs 21.4.

	* message.el (message-cross-post-followup-to-header): do.

	* spam.el (spam-ifile-register-with-ifile)
	(spam-stat-register-spam-routine)
	(spam-stat-register-ham-routine)
	(spam-bogofilter-register-with-bogofilter): do.

	* mailcap.el (mailcap-mime-data): Fix typo.

	* gnus-topic.el (gnus-topic-make-menu-bar): Add ellipsis.

2003-02-19  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-cite.el (gnus-cite-unsightly-citation-regexp)
	(gnus-cite-parse): Renamed `gnus-unsightly-citation-regexp' to
	`gnus-cite-unsightly-citation-regexp'.

2003-02-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (gnus-copy-article-buffer): Copy an article header
	even if there's just a header.

2003-02-19  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-fix-before-sending): Fix highlighting of
	illegible and invisible text.

	* gnus-util.el (gnus-multiple-choice): Separate choices with
	",,A (B".  Suggested by Dan Jacobson <jidanni@dman.ddts.net>.

2003-02-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-exit-no-update): Use gnus-kill-buffer.

2003-02-18  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-move-routine)
	(spam-mark-spam-as-expired-and-move-routine): use
	gnus-summary-kill-process-mark and gnus-summary-yank-process-mark
	around process-mark manipulation on the group

2003-02-17  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-sum.el (gnus-summary-make-menu-bar): Add MIME/Multipart
	submenu.

2003-02-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch): Reverse the return value of
	the continuation question.

2003-02-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nndraft.el (nndraft-request-move-article): Bind
	nnmh-allow-delete-final to t.

2003-02-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-uu-filename): Fix use of character constant.

2003-02-11  Stefan Monnier  <monnier@cs.yale.edu>

	* nntp.el (nntp-accept-process-output): Don't use point-max to get
	the buffer's size.

2003-01-31  Joe Buehler  <jhpb@draco.hekimian.com>

	* nnheader.el: Added cygwin to system-type comparisons.

2003-01-27  Juanma Barranquero  <lektu@terra.es>

	* imap.el (imap-mailbox-status): Fix typo.

2003-02-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-prepare): Don't set agent mark if
	online.

2003-02-14  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-group-make-menu-bar): Include all
	commands.
	* gnus-sum.el: Small change from Frank Weinberg
	<frank@usenet-rundfahrt.de>:
	(gnus-auto-center-group): New variable.
	(gnus-summary-read-group-1): Use it.
	(gnus-summary-next-group): Fix docstring.

2003-02-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-util.el (gnus-faces-at): Simplify.

2003-02-13  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-move-routine)
	(spam-mark-spam-as-expired-and-move-routine): made the article
	move conditional, so it's not called even if there's nothing to move

2003-02-13  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* message.el (message-unix-mail-delimiter): Accept any whitespace
	after the email address and before the date; do not require the
	space character.  From Kurt B. Kaiser <kbk@shore.net>.

2003-02-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-only-boring-p): Make sure that the
	gnus-article-boring-faces variable is bound; use gnus-faces-at.

	* gnus-util.el (gnus-faces-at): New macro.

2003-02-13  Michael Shields  <shields@msrl.com>

	* gnus-cite.el
	(gnus-cite-attribution-suffix, gnus-cite-parse):
	Better handling for Microsoft citation styles.
	(gnus-unsightly-citation-regexp): New.

2003-02-12  Michael Shields  <shields@msrl.com>

	* gnus-art.el (article-strip-banner): Strip both per-group and
	per-user-address banners.
	(article-really-strip-banner): New.

2003-02-12  Michael Shields  <shields@msrl.com>

	* gnus-sum.el (gnus-article-goto-next-page,
	gnus-article-goto-prev-page): Call gnus-summary-*-page, instead of
	relying on the summary bindings of `n' and `p'.

2003-02-12  Michael Shields  <shields@msrl.com>

	* gnus-art.el (gnus-article-only-boring-p): New.
	(gnus-article-skip-boring): New.
	* gnus-cite.el (gnus-article-boring-faces): New.
	* gnus-sum.el (gnus-summary-next-page): Use
	gnus-article-only-boring-p.

2003-02-12  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-mark-spam-as-expired-and-move-routine)
	(spam-ham-move-routine): unmark all articles before marking those
	of interest and calling gnus-summary-move-article

2003-02-12  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el (gnus-kill-buffer): Move to gnus.el because it's
	logically the complement of gnus-get-buffer-create and
	gnus-add-buffer.

	* gnus-util.el (gnus-kill-buffer): do.

	* nnmail.el: Autoload gnus-kill-buffer.

2003-02-11  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-summary-set-agent-mark): Added call to
	gnus-summary-goto-subject as gnus-summary-update-mark operates on
	the current LINE.
	(gnus-agent-summary-fetch-group): Minimized the number of times
	that the article is updated in the buffer.

2003-02-11  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-move-routine): use the process-mark instead of
	gnus-current-article when moving articles
	(spam-mark-spam-as-expired-and-move-routine): ditto, use the process-mark

2003-02-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-expire-articles): Recursive.
	(gnus-topic-catchup-articles): Ditto.
	(gnus-topic-mark-topic): Reverse recursive logic.

2003-02-11  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-refer-thread): Handle case where
	gnus-refer-thread-limit is t.

2003-02-10  Jesper Harder  <harder@ifa.au.dk>

	* mm-util.el (mm-mule-charset-to-mime-charset): Use
	sort-coding-systems to prefer utf-8 over utf-16.

2003-02-09  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-expire-days):
	gnus-request-move-article depends on gnus-agent-expire to clean up
	the cache after moving the article.  Therefore, g-a-e-d can NOT
	default to nil or can gnus-agent-expire be disabled by doing so.
	If you don't want to run gnus-agent-expire, don't call it.
	(gnus-agent-expire): The broken test to disable gnus-agent-expire
	when g-a-e-d was NOT nil was removed.
	(gnus-agent-article-name): Removed unnecessary input test as
	article IDs are always strings.
	(gnus-agent-regenerate-group): Added check to protect against
	servers that generate absurdly long article IDs.  Valid IDs are
	less than 10 digits to avoid overflow errors.  Fixed logic error
	when ensuring that the final article ID is present in the new
	alist.

2003-02-09  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-goto-missing-topic): Just move to the
	next line after finding the parent.

2003-02-08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bumped.

2003-02-08 23:23:27 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.15 is released.

2003-02-08  Michael Welsh Duggan  <md5i@cs.cmu.edu>

	* nnmail.el (nnmail-split-it): If a message ends up matching the
	  same mailbox more than once, it will cause duplicates to appear
	  in the mailbox.

2003-02-08  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-select-article): Remove blink removal
	code that only worked under Emacs.

	* pgg-gpg.el (pgg-gpg-process-region): Don't blink.  From Satyaki
	Das <satyaki@chicory.stanford.edu>.

2003-02-08  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-article-refer-article): Use
	gnus-replace-in-string.

	* gnus-util.el (gnus-map-function): Remove unneeded let-binding.
	(gnus-remove-duplicates): do.

2003-02-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-int.el (gnus-internal-registry-spool-current-method): new variable
	(gnus-request-scan): set
	gnus-internal-registry-spool-current-method to gnus-command-method
	before a request-scan operation

	* gnus-registry.el (regtest-nnmail): use
	gnus-internal-registry-spool-current-method

2003-02-07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch): Typo fix.

2003-02-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* nnmail.el (nnmail-spool-hook): new hook
	(nnmail-cache-insert): call nnmail-spool-hook

	* gnus-registry.el: new file with examples of using the hooks

	* gnus.el (gnus-registry): added registry customization group
	(gnus-group-prefixed-name): improve function to return full group
	name optionally
	(gnus-group-guess-prefixed-name): shortcut to
	gnus-group-prefixed-name, using just the group name
	(gnus-group-full-name): always get a group's full name
	(gnus-group-guess-full-name): shortcut, using just the group name

	* gnus-sum.el (gnus-summary-article-move-hook)
	(gnus-summary-article-delete-hook)
	(gnus-summary-article-expire-hook): new hooks
	(gnus-summary-move-article, gnus-summary-expire-articles)
	(gnus-summary-delete-article): invoke the new hooks

2003-02-07  Frank Weinberg  <frank@usenet-rundfahrt.de>

	* gnus-art.el (gnus-article-refer-article): Strip leading "news:"
	from message-ID

2003-02-07  Jesper Harder  <harder@ifa.au.dk>

	* gnus-util.el (gnus-run-hooks): Use save-current-buffer.

2003-02-07  John Paul Wallington  <jpw@gnu.org>

	* mm-util.el (mm-delete-duplicates, mm-append-to-file)
	(mm-write-region, mm-detect-coding-region): Doc fixes.

2003-02-07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch): Ignore errors.
	(mail-source-ignore-errors): New variable.

	* gnus-sum.el (gnus-summary-refer-thread): Don't re-fetch current
	articles.

	* gnus-msg.el (gnus-version-expose-system): Change default.

2003-02-07  Vasily Korytov  <deskpot@myrealbox.com>

	* gnus-msg.el (gnus-version-expose-system): New variable.

2003-02-07  Simon Josefsson  <jas@extundo.com>

	* mml-sec.el (mml-unsecure-message): Don't use kill-region.  Tiny
	patch from deskpot@myrealbox.com (Vasily Korytov).

2003-02-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-display-face): Get the Face header from
	the current buffer.

2003-02-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-mime-view-part-internally): Bind
	buffer-read-only to nil.

2003-02-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-agent.el (gnus-agent-expire-1,2): Pass the dir argument
	from g-a-e-1 to g-a-e-2.

2003-02-05  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-BBDB): no need to regexp-quote the argument
	of bbdb-search-simple, use spam-use-BBDB-exclusive
	(spam-check-whitelist): use spam-use-whitelist-exclusive
	(spam-use-whitelist-exclusive): new variable affecting
	spam-use-whitelist
	(spam-use-BBDB-exclusive): new variable affecting spam-use-BBDB

2003-02-05  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agent-expire-days): Change default to nil.
	(gnus-agent-expire): Don't expire if g-a-e-d is nil.
	(gnus-agent-expire): Move most code into gnus-agent-expire-1.
	(gnus-agent-expire-1): New.
	(gnus-agent-expire-1): Move code into gnus-agent-expire-2.
	(gnus-agent-expire-2): New.

2003-02-05  Jesper Harder  <harder@ifa.au.dk>

	* gnus-util.el (gnus-delete-if): Rename to gnus-remove-if.
	"delete-if" is misleading because it isn't actually destructive.

	* gnus-topic.el (gnus-group-prepare-topics): Use new name.

	* nnmail.el (nnmail-purge-split-history): do.

	* gnus-win.el (gnus-get-buffer-window): do.

	* gnus-sum.el (gnus-simplify-whitespace): Remove unnecessary
	let-binding.
	(gnus-simplify-all-whitespace): do.

2003-02-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-delay.el (gnus-delay-article): Fix binding of the
	nndraft:delayed group.

2003-02-04  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus.el (spam group parameters): change 'other to 'const in
	the group parameter definitions to soothe XEmacs

2003-02-04  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-delay.el (gnus-delay-article): Really create
	nndraft:delayed group if it doesn't exist.

2003-02-04  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-search-article): Speed up by
	disabling various visual features while searching.
	(gnus-summary-recenter): Test gnus-auto-center-summary first.

2003-02-03  Jesper Harder  <harder@ifa.au.dk>

	* spam.el (spam-list-of-checks): Don't quote nil and t in
	docstrings.  From the elisp manual:

	   When a documentation string refers to a Lisp symbol, write
	   it [..] with single-quotes around it.  [..] There are two
	   exceptions: write t and nil without single-quotes.

	* messcompat.el (message-from-style): do.

	* message.el (message-send-mail): do.

	* gnus-util.el (gnus-use-byte-compile): do.

	* gnus-score.el (gnus-score-lower-thread): do.

	* gnus-int.el (gnus-server-unopen-status): do.

	* gnus.el (gnus-define-group-parameter, gnus-large-newsgroup)
	(large-newsgroup-initial, gnus-install-group-spam-parameters): do.

	* gnus-cus.el (gnus-group-customize, gnus-score-parameters)
	(gnus-group-parameters): do.

	* gnus-art.el (gnus-article-mime-match-handle-function): do.

	* mm-decode.el (mm-text-html-renderer): do.

2003-02-02  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnheader.el (nnheader-directory-separator-character): Change the
	way to compute the dafault value.

2003-02-02  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-button-handle-describe-key): Implement it.
	(gnus-button-alist): Fix regexp for describe-key.
	(gnus-button-handle-describe-function)
	(gnus-button-handle-describe-variable)
	(gnus-button-handle-apropos, gnus-button-handle-apropos-command)
	(gnus-button-handle-apropos-variable)
	(gnus-button-handle-apropos-documentation): Docstring fix.

	* gnus-util.el (gnus-kill-buffer): Use get-buffer.

2003-02-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-draft.el (gnus-group-send-queue): Bind gnus-posting-styles
	to nil.

	* nnmail.el: Removed gnus-util autoload.

	* gnus.el: Use gnus-prin1-to-string throughout.

	* gnus-util.el (gnus-prin1-to-string): Bind print-length and
	print-level.

	* gnus-art.el (article-display-x-face): Removed grey x-face stuff.
	(gnus-treat-display-grey-xface): Removed.

	* gnus-fun.el (gnus-grab-cam-face): New.
	(gnus-convert-image-to-gray-x-face): Removed.
	(gnus-convert-gray-x-face-to-xpm): removed.
	(gnus-convert-gray-x-face-region): Removed.
	(gnus-grab-gray-x-face): Removed.

	* nnmail.el (nnmail-expiry-wait-function): Doc indent.

2003-01-31  Jesper Harder  <harder@ifa.au.dk>

	* gnus-util.el (gnus-kill-buffer): Functions in gnus-util
	shouldn't depend on the rest of Gnus, so test if gnus-buffers is
	bound.

	* nnmail.el (nnmail-cache-close): Use gnus-kill-buffer.

2003-01-30  Jesper Harder  <harder@ifa.au.dk>

	* gnus-cite.el (gnus-cite-reply-regexp, gnus-cite-always-check):
	Remove -- these are bogus options which are never used.

2003-01-29  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-article-mode): Use summary tool bar.

2003-01-27  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-blackholes)
	(spam-blackhole-good-server-regex): new variable to skip some IPs
	when checking blackholes; use it
	(spam-check-bogofilter-headers)
	(spam-bogofilter-bogosity-positive-spam-header): new variable, in
	case more X-Bogosity is used than just "Yes/No"
	(spam-ham-move-routine): semi-fixed, only first article is
	properly moved now

2003-01-27  Jesper Harder  <harder@ifa.au.dk>

	* gnus-util.el (gnus-kill-buffer): Remove buffer from gnus-buffers
	as well.

	* gnus-sum.el (gnus-select-newsgroup): Use gnus-kill-buffer.

	* gnus-score.el (gnus-score-headers, gnus-score-find-bnews): do.

	* gnus-start.el (gnus-save-newsrc-file, gnus-clear-system): do.

	* gnus-bcklg.el (gnus-backlog-shutdown): do.

	* gnus-srvr.el (gnus-server-exit, gnus-browse-exit): do.

2003-01-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-face-encode): New function.
	(gnus-convert-png-to-face): Use it.

	* gnus-sum.el (gnus-summary-make-menu-bar): Added M-& to marks.

2003-01-26  Jesper Harder  <harder@ifa.au.dk>

	* mm-decode.el (mm-dissection-list): Remove.
	(mm-dissect-singlepart): Don't push to mm-dissection-list, it's
	only used in mm-remove-all-parts.
	(mm-remove-all-parts): Remove it, it's never called.

2003-01-25  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-make-group): Report errors.

	* nnimap.el (nnimap-request-create-group): Ditto.

	* sieve-manage.el (sieve-manage-is-okno): Parse literal strings.

	* sieve.el (sieve-upload): Fix error printing.

	* mm-encode.el (mm-qp-or-base64): Always QP iff
	mm-use-ultra-safe-encoding and cleartext PGP.

	* gnus-sum.el (gnus-summary-select-article): Inhibit
	redisplay (mainly for secured messages).

	* nnmail.el (nnmail-article-group): Copy body too (but don't
	process it).

2003-01-25  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-article-setup-buffer): Reset
	gnus-button-marker-list.

2003-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nntp.el (nntp-read-timeout): Default to using a second delay
	under Microsoft Windows.

2003-01-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (nnheader-directory-separator-character): New
	variable.

2003-01-24  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-max-fetch-size)
	(gnus-agent-article-alist, gnus-agent-get-undownloaded-list)
	(gnus-agent-catchup, gnus-agent-summary-fetch-group)
	(gnus-agent-fetch-articles, gnus-agent-backup-overview-buffer)
	(gnus-agent-flush-cache, gnus-agent-fetch-headers)
	(gnus-agent-braid-nov, gnus-agent-load-alist)
	(gnus-agent-article-alist-save-format)
	(gnus-agent-read-agentview, gnus-agent-save-alist)
	(gnus-agent-fetch-group-1, gnus-agent-expire)
	(gnus-agent-uncached-articles, gnus-agent-retrieve-headers)
	(gnus-agent-regenerate-group): Reformat to keep under eighty
	columns.  Reword docstrings so that first line is under eighty
	chars and a complete sentence.  Still need to work on the rear
	end of the file, in particular gnus-agent-expire.

2003-01-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agentize): Indent.

	* gnus.el (gnus-version-number): Bumped.

2003-01-24 20:32:44 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.14 is released.

2003-01-24  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-sum.el (gnus-summary-prepare-threads): Reset state for %B
	before beginning.  Tiny patch from Mark Thomas
	<swoon@bellatlantic.net>.

2003-01-24  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-blackholes, spam-split)
	(spam-mark-junk-as-spam-routine, spam-summary-prepare-exit): added
	gnus-message calls to show to users what spam.el is doing

2003-01-24  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-message-replysign)
	(gnus-message-replyencrypt): Fix typo.

2003-01-24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-security-show-details): Toggle showing
	details.

2003-01-23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-press-button): let* -> let.
	(gnus-mime-security-show-details): Cleaned up.
	(gnus-mime-security-press-button): Save excursion.
	(gnus-insert-mime-security-button): Clean up.

	* gnus-sum.el (gnus-summary-force-verify-and-decrypt): Doc fix.

	* gnus-async.el (gnus-async-wait-for-article): Don't use a
	timeout.

	* nntp.el (nntp-accept-process-output): Removed timeout.
	(nntp-read-timeout): New variable.
	(nntp-accept-process-output): Use it.

	* gnus-sum.el (gnus-data-find-list): Remove *.

2003-01-23  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-sum.el (gnus-summary-first-subject): Fixed bug that I
	introduced on 2002-01-22.
	(gnus-summary-first-unseen-or-unread-subject): Ditto.

2003-01-23  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-regex-headers, spam-list-of-checks)
	(spam-regex-headers-spam, spam-regex-headers-ham): added spam/ham
	checks of incoming mail based on simple header regexp matching

2003-01-22  Teodor Zlatanov  <tzz@lifelogs.com>

	* gnus-sum.el (gnus-spam-mark): set to `$'

2003-01-22  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Now computes
	gnus-newsgroup-unfetched, the list of articles whose headers have
	not been fetched from the server.

	* gnus-sum.el (gnus-summary-find-next): Removed undownloaded
	parameter as it never worked due to a bug.  Added check to prevent
	selection of any article in the gnus-newsgroup-unfetched list.
	(gnus-summary-find-prev): Added check to prevent selection of any
	article in the gnus-newsgroup-unfetched list.
	(gnus-summary-first-subject): Documented API. Modified
	implementation so that constraints are handled independently.
	Added check to prevent selection of any article in the
	gnus-newsgroup-unfetched list.
	(gnus-summary-first-unseen-subject): Updated parameters in
	gnus-summary-first-subject call to match new API.
	(gnus-summary-first-unseen-or-unread-subject): Ditto.
	(gnus-summary-catchup): Do not mark unfetched articles as read.

2003-01-22  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-treat-strip-pgp, gnus-article-hide-pgp-hook):
	make-obsolete-variable allows only two arguments in XEmacs and
	Emacs 20.

	* gnus-sum.el (gnus-summary-wash-hide-map): Remove
	gnus-article-hide-pgp.
	(gnus-summary-make-menu-bar): do.

	* gnus-art.el (gnus-treat-strip-pgp): Make obsolete.
	(gnus-treatment-function-alist): Remove gnus-treat-strip-pgp and
	gnus-article-hide-pgp.
	(article-hide-pgp): Remove.
	(gnus-article-hide): Remove gnus-article-hide-pgp.

	* gnus.el: Remove gnus-article-hide-pgp

2003-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-required-headers): Doc fix.

2003-01-21  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-group-ham-processor-bogofilter-p): fixed bug
	(spam-ifile-register-ham-routine, spam-ifile-ham-category): new
	option to make ifile a purely binary classifier

2003-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml-sec.el (mml-secure-sign-pgpauto): Renamed.
	(mml-secure-encrypt-pgpmime): Removed double.

	* gnus-sum.el (gnus-summary-mark-article-as-replied): Added
	debugging statements.

2003-01-21  Andreas Fuchs  <asf@void.at>

	* mml-sec.el (mml-sign-alist): Added pgpauto.

2003-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bumped version number.

2003-01-21 07:15:41 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.13 is released.

2003-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-button-url-regexp): Removed |.

	* message.el (message-send-hook): Doc fix.

	* gnus-win.el (gnus-buffer-configuration): Display article
	instead of article-copy when `reply'.

2003-01-21  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el (gnus-format): Change customize group to gnus.
	(gnus-cache): Add link.
	(gnus-group-charter-alist): Fix docstring.

2003-01-20  Jesper Harder  <harder@ifa.au.dk>

	* mailcap.el (mailcap-print-command): lpr-command might be
	unbound in XEmacs.

2003-01-18  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-regenerate-group): Added interactive form.

	* gnus-sum.el (gnus-summary-update-article-line): Fixed
	calculation of net characters added for use in the gnus-data
	structure.

2003-01-18  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* nnmail.el (nnmail-process-unix-mail-format): Improve error
	message.  Suggested by Jari Aalto.

2003-01-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-followup-with-original): Clean up.
	(gnus-article-reply-with-original): Ditto.

	* gnus-sum.el (gnus-summary-catchup): Make sure downloadable,
	read articles don't become unread.

2003-01-17  Simon Josefsson  <jas@extundo.com>

	* gnus-fun.el (gnus-x-face-from-file):
	(gnus-face-from-file): Suggest image format in minibuffer prompt.

	* gnus-fun.el (gnus-convert-image-to-x-face-command)
	(gnus-convert-image-to-face-command): Doc fix.

2003-01-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-convert-face-to-png): Protect against errors.

2003-01-17  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-mime-print-part): Use mm-save-part-to-file to
	avoid encoding problems.

	* mailcap.el (mailcap-ps-command): New variable.
	(mailcap-mime-data): Add print entry where applicable.  Use
	pdftotext on a tty.

2003-01-16  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-alter-header-function): Add type and group.

2003-01-16  Simon Josefsson  <jas@extundo.com>

	* gnus-fun.el (gnus-convert-image-to-x-face-command)
	(gnus-convert-image-to-face-command, gnus-x-face-from-file)
	(gnus-face-from-file): Doc fix; don't mention image format.

2003-01-16  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-get-article-as-filename): new function (unused for now)
	(spam-get-article-as-buffer): new function
	(spam-get-article-as-string): use spam-get-article-as-buffer
	(spam-summary-prepare-exit): fixed bug, noticed by Malcolm Purvis

2003-01-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el: Don't use `path'.
	From the GNU coding standards:

	    Please do not use the term ``pathname'' that is used in Unix
	    documentation; use ``file name'' (two words) instead.  We use
	    the term ``path'' only for search paths, which are lists of
	    directory names.

	* nnsoup.el (nnsoup-file-name): Ditto.

	* nnmail.el (nnmail-pathname-coding-system): Ditto.
	(nnmail-group-pathname): Ditto.

	* nnimap.el (nnimap-group-overview-filename): Ditto.

	* nnheader.el (nnheader-pathname-coding-system): Ditto.
	(nnheader-group-pathname): Ditto.

	* nnfolder.el (nnfolder-group-pathname): Ditto.

	* gnus.el (gnus-home-directory): Ditto.

	* gnus-group.el (gnus-group-icon-list): Ditto.

2003-01-16  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-mime-print-part): Use mm-handle-media-type.

	* message.el (message-mode-menu): Use it.
	(message-mode-menu): Deactivate "Yank Original" if there's no
	reply buffer.

	* messagexmas.el (message-xmas-redefine): Redefine in XEmacs.

	* message.el (message-mark-active-p): New function.

2003-01-15  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-use-bogofilter-headers, spam-bogofilter-header)
	(spam-bogofilter-database-directory): new variables
	(spam-check-bogofilter-headers, spam-check-bogofilter)
	(spam-bogofilter-register-with-bogofilter)
	(spam-bogofilter-register-spam-routine)
	(spam-bogofilter-register-ham-routine)
	(spam-group-ham-processor-bogofilter-p): new functions for the new
	Bogofilter interface
	(spam-summary-prepare-exit): use the new Bogofilter functions
	(spam-list-of-checks): added spam-use-bogofilter-headers
	(spam-bogofilter-score): rewrote function
	(spam-check-bogofilter): optional score parameter, uses
	spam-check-bogofilter-headers better
	(spam-check-bogofilter-headers): optional score parameter

	* gnus.el (gnus-install-group-spam-parameters): new variable, t by
	default, in the gnus-start customization group.  Used to disable
	the spam-*/ham-* parameters.
	(gnus-group-ham-exit-processor-bogofilter): new ham processor

2003-01-15  Jesper Harder  <harder@ifa.au.dk>

	* gnus-xmas.el (gnus-xmas-redefine): Use region-exists-p in
	XEmacs.

	* gnus-ems.el (gnus-mark-active-p): do.

2003-01-15  Kevin Ryde  <user42@zip.com.au>

	* gnus.texi (Using MIME): Mention auto-compression-mode with
	gnus-mime-copy-part.

2003-01-15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send): Don't warn about duplicates when
	superseding.

2003-01-15  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-download-body): New variable.
	(nnimap-split-articles): Use it.

2003-01-14  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-check-overview-buffer): This data
	integrity checker was incorrectly flagging, and removing, articles
	whose article number was negative.
	(gnus-agent-fetch-group-1): When executed in the group's summary
	buffer, refresh each downloaded line to update the status flag and
	font.  Preserve the value of gnus-newsgroup-headers so that
	gnus-agent-fetch-articles can split the requests by size.
	(gnus-agent-expire): Corrected day calculation for when
	gnus-agent-expire-days contains a list.

2003-01-14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-audio.el (gnus-audio-au-player): Use executable-find.

2003-01-13  Jhair Tocancipa Triana <jhair_tocancipa@@gmx.net>

	* gnus-audio.el (gnus-audio-au-player, gnus-audio-wav-player): Use
	  /usr/bin/play as default player.
	  (gnus-audio-play): Added ARG-DESCRIPTOR to prompt for a file to play.

2003-01-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (gnus-inews-add-send-actions): Allow a list of
	articles to be marked as well.

2003-01-14  Kevin Greiner  <kgreiner@xpediantsolutions.com>
	* gnus-agent.el (gnus-agent-get-undownloaded-list): Include the
	fictious headers generated by nnagent (ie. Undownloaded Article
	####) in the list of articles that have not been downloaded.

	* gnus-int.el (): Added require declarations to resolve
	compile-time warnings.
	(gnus-open-server): If the server status is set to offline,
	recursively execute gnus-open-server to open the offline backend
	(e.g. nnagent).

2003-01-14  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (gnus-article-reply-with-original): Use
	gnus-mark-active-p.
	(gnus-article-followup-with-original): do.

2003-01-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-sum.el: Removed `(when t ...)' around `gnus-define-keys'.

2003-01-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-score.el (gnus-score-edit-file-at-point): New function.
	(gnus-score-find-trace): Bind it to `e' key.  Added `q' for quit.

2003-01-13  Romain FRANCOISE  <romain@orebokech.com>

	* gnus-fun.el (gnus-x-face-from-file): Quote file name.
	(gnus-face-from-file): Ditto.

2003-01-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-articles-to-read): Don't just apply
	gnus-alter-articles-to-read-function to the unread articles.

2003-01-13  Reiner Steib  <Reiner.Steib@gmx.de>

	* deuglify.el (gnus-article-outlook-unwrap-lines)
	(gnus-article-outlook-repair-attribution)
	(gnus-article-outlook-rearrange-citation): New function names,
	renamed from "gnus-outlook-" to "gnus-article-outlook-".  Changed
	doc-string.

	* gnus-sum.el (gnus-summary-mode-map): Use new function names,
	removed `W k' key binding (use `W Y f' instead).
	(gnus-summary-make-menu-bar): Use new function names.

2003-01-13  Simon Josefsson  <jas@extundo.com>

	* gnus-fun.el (gnus-random-x-face): Doc fix.
	(gnus-insert-random-x-face-header): New function.

2003-01-13  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-make-menu-bar): Deactivate items if
	mark is not active.

	* gnus-msg.el (gnus-inews-do-gcc): Comment.

	* gnus-ems.el (gnus-mark-active-p): New function.

	* gnus-group.el (gnus-topic-mode-p): New function.
	(gnus-group-make-menu-bar): Show more key bindings in topic mode.
	Deactivate items if mark is not active.

2003-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bumped version.
	(gnus-summary-line-format): Doc fix.

2003-01-12 22:02:49 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.12 is released.

2003-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-sources): Removed autoload to make it
	compile under XEmacs.

2003-01-12  Raymond Scholz  <ray-2003@zonix.de>

	* gnus-msg.el (gnus-confirm-mail-reply-to-news):  May be a
	regexp or a function too.
	(gnus-confirm-treat-mail-like-news): New variable.  Ask for
	confirmation even if the original article is mail.

2003-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-inews-add-send-actions): Get the right
	articles to be marked when not yanking.

2003-01-12  Fran,Ag(Bois-David Collin  <Francois-David.Collin@curie.fr>

	* mm-decode.el (mm-get-part): Use mm-with-unibyte-current-buffer.

2003-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-face-from-file): Autoload.

	* gnus-cite.el (gnus-cite-delete-overlays): Protect against more
	errors.

2003-01-12  Simon Josefsson  <jas@extundo.com>

	* sieve.el (sieve-upload-and-bury): New.  Suggested by
	kai.grossjohann@uni-duisburg.de (Kai Gro,A_(Bjohann).

	* sieve-mode.el (sieve-mode-map): Bind s-u-a-b to C-c C-c.
	Suggested by kai.grossjohann@uni-duisburg.de (Kai Gro,A_(Bjohann).

2003-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-ignored-headers): Don't include the ^ and :
	in every string.

	* gnus.el (gnus-version-number): Bumped version number.

2003-01-12 13:46:20 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.11 is released.

2003-01-12  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-fetch-reply-field): Narrow to headers.

	* gnus-msg.el (gnus-inews-do-gcc): Don't try to mark GCC's as read
	if Gnus isn't alive.

2003-01-11  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetch-group-1): Remove downloadable
	marks from articles that are already stored in the agent.
	(gnus-agent-backup-overview-buffer): New debug tool.  Creates a
	backup copy of an invalid .overview file for later analysis.

2003-01-12  Gregorio Gervasio, Jr.  <gtgj@pacbell.net>

	* gnus-sum.el (gnus-summary-exit): Reverse change to make group
	exit work with two frames.

2003-01-11  Fran,Ag(Bois-David Collin  <Francois-David.Collin@wanadoo.fr>

	* message.el (message-forward-make-body): Use mule4.

2003-01-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-mode-map): Move wide-reply command.

2003-01-10  Reiner Steib  <Reiner.Steib@gmx.de>

	* deuglify.el (gnus-outlook-deuglify-attrib-verb-regexp): Added
	castellano.
	(gnus-outlook-display-hook): New variable.
	(gnus-outlook-display-article-buffer): New function.
	(gnus-outlook-unwrap-lines, gnus-outlook-repair-attribution)
	(gnus-outlook-deuglify-article): Made them interactive and added
	optional arg.  Use `g-o-d-a-b'.
	(gnus-article-outlook-deuglify-article): Use `g-o-d-a-b'.

	* gnus-sum.el: Added autoloads.
	(gnus-summary-mode-map): Added gnus-summary-wash-deuglify-map.
	(gnus-summary-make-menu-bar): Added "(Outlook) Deuglify" menu.

2003-01-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-display-mime): Use the mime emulation
	variable.

	* gnus-sum.el (gnus-article-emulate-mime): New variable.

	* gnus-start.el (gnus-read-newsrc-el-file): Make sure that the
	newsrc-alist is initialized properly.

	* mail-source.el (mail-sources): Autoload.

	* gnus-sum.el (gnus-summary-make-false-root-always): Default to
	nil.

	* gnus-msg.el (gnus-configure-posting-styles): Make sure we don't
	insert two newlines.

	* message.el (message-check-news-header-syntax): Compute the
	header length correctly.

2003-01-10  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-expire): Do not remove article from
	alist when keeping fetched article file.
	(gnus-agent-retrieve-headers): When parsing response for article
	numbers, use the same algorithm as gnus-agent-braid-nov to protect
	against garbage in the server's response.

	* gnus-int.el (gnus-request-expire-articles,
	gnus-request-move-article): Only expire when the group's server
	has been agentized.

2003-01-10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-cite.el (gnus-cite-delete-overlays): Protect against
	errors when deleting overlays.

	* gnus-score.el (gnus-score-followup): Allow tracing.

	* gnus-art.el (gnus-treat-display-face): New variable.
	(article-display-face): New command.

	* gnus-fun.el (gnus-face-from-file): New function.
	(gnus-convert-face-to-png): Ditto.

	* gnus-art.el (gnus-ignored-headers): Added Face.

2003-01-10  Simon Josefsson  <jas@extundo.com>

	* nndraft.el (nndraft-request-group): Avoid crash in
	directory-files when draft directory doesn't exists.

	* gnus-sum.el (gnus-select-article-hook): Add :option.

2003-01-10  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-use-stat): new variable
	(spam-group-spam-processor-stat-p)
	(spam-group-ham-processor-stat-p): new convenience functions
	(spam-summary-prepare-exit): add spam/ham processors to sequence
	(spam-list-of-checks): add spam-use-stat to list of checks
	(spam-split): conditionally load the spam-stat tables
	(spam-stat-register-spam-routine, spam-stat-register-ham-routine,
	spam-check-ifile): new functions

	* spam-stat.el (spam-stat): typo fix
	(spam-stat-install-hooks): new variable
	(spam-stat-split-fancy-spam-group): added documentation clarification
	(spam-stat-split-fancy-spam-threshhold): new variable
	(spam-stat-install-hooks): make hooks conditional
	(spam-stat-split-fancy): use spam-stat-split-fancy-spam-threshhold

	* gnus.el (gnus-group-ham-exit-processor-stat, spam-process): add
	spam-stat ham/spam processor symbols

2003-01-10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-read-newsrc-el-file): Make sure the .eld
	file exists.

2003-01-10  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-read-group-1): Don't select first
	undownloaded/downloadable only when unplugged.

2003-01-10  Jesper Harder  <harder@ifa.au.dk>

	* gnus-srvr.el (gnus-browse-foreign-server): Optimize inner loop.

2003-01-09  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-ifile): fixed call-process-region to use the
	db parameter only if it's set
	(spam-ifile-register-with-ifile): ditto

2003-01-09  Alex Schroeder  <alex@emacswiki.org>

	* spam-stat.el (spam-stat-save): Set spam-stat-ngood and
	spam-stat-nbad before creating the hash table.
	(spam-stat-reset): Set spam-stat-ngood and spam-stat-nbad to 0.
	Changed copyright statement to FSF.

2003-01-09  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-catchup): Do not mark cached nor
	processable articles as read.
	(gnus-agent-summary-fetch-series): Remove processable and
	downloadable marks on all downloaded articles in the series.

	* nntp.el (nntp-report): Throw error after reporting the problem.
	(nntp-accept-process-output): Corrected error check to report an
	error when the process is nil.

2003-01-09  Simon Josefsson  <jas@extundo.com>

	* message.el (message-tool-bar-map): Add preview.

2003-01-09  Jesper Harder  <harder@ifa.au.dk>

	* mml.el (mml-preview): Get rid of MIME handles and buffers after
	previewing.

2003-01-08  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--grp-add-art): Fix wrong-type-argument
	bug when the (n+1)th article to be added to a group has a smaller
	number than the n articles already added.

2003-01-08  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-mode-field-menu): Use backquote.

2003-01-08  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: fixed the BBDB autoloads again, using
	bbdb-search-simple now (which is not a macro, thank god)

	* lpath.el (bbdb-search): removed function from maybe-fbind list

	* gnus.el (ham-process-destination): added new parameter for
	destination of ham articles found in spam groups at summary exit

	* spam.el (spam-get-ifile-database-parameter): use spam-ifile-database-path
	(spam-check-ifile, spam-ifile-register-with-ifile): use spam-get-ifile-database-parameter
	(spam-ifile-database-path): added new parameter for ifile's database
	(spam-move-spam-nonspam-groups-only): new parameter to determine
	if spam should be moved from all groups or only some
	(spam-summary-prepare-exit): fixed logic to use
	spam-move-spam-nonspam-groups-only when deciding to invoke
	spam-mark-spam-as-expired-and-move-routine; always invoke that
	routine after the spam has been expired-or-moved in case there's
	some spam left over; use spam-ham-move-routine in spam groups
	(spam-ham-move-routine): new function to move ham articles to the
	ham-process-destinations group parameter

2003-01-08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el (gnus-parse-complex-format): %~ => ~*.

	* gnus-agent.el (gnus-agent-fetch-selected-article): Use
	gnus-summary-update-article-line.

2003-01-08  Simon Josefsson  <jas@extundo.com>

	* nnmail.el (nnmail-expiry-target-group): Request group, create it
	not successful.

2003-01-08  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el (bbdb-records): Fbind it for both Emacs and XEmacs.

2003-01-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-ifile): fixed the spam-ifile-all-categories
	logic, finally

2003-01-08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el (gnus-parse-format): %C is a complex format.
	(gnus-parse-format): Change to %~.

	* message.el (message-generate-headers): Don't generate optional
	empty headers.

2003-01-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-cross-post-default)
	(message-cross-post-note-function, message-shoot-gnksa-feet)
	(message-strip-subject-trailing-was, message-change-subject)
	(message-mark-insert-file, message-cross-post-followup-to)
	(message-cross-post-followup-to, message-mode-map)
	(message-generate-unsubscribed-mail-followup-to)
	(message-make-mail-followup-to): Minor changes to doc-strings and
	error messages.  Updated copyright line.

	* message.el (message-make-mail-followup-to,
	message-generate-unsubscribed-mail-followup-to): New function
	names.  Renamed functions: "-mft" -> "-mail-followup-to".
	(message-make-mft, message-gen-unsubscribed-mft): Removed function
	names.

	* mml.el (mml-preview-insert-mail-followup-to): New function name.
	(mml-preview-insert-mft): Removed function name.
	(mml-preview): Use new function names.

	* gnus-art.el (gnus-article-edit-mode-map): Use new function names.

	* message.el (message-mode-field-menu): Moved header related
	commands from "Message" to "Field" menu.

2003-01-07  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-generate-headers-first): Added customization
	if variable is a list.

2003-01-07  Michael Shields  <shields@msrl.com>

	* gnus-art.el (gnus-article-next-page): Correctly handle the case
	where the last line of the article is the last line of the window.

2003-01-08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-debug): Use ignore-errors.

	* gnus-agent.el (gnus-agent-fetch-selected-article): Use
	`gnus-summary-update-line'.

2003-01-08  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-unbuttonized-mime-types)
	(gnus-buttonized-mime-types): Doc fix.

2003-01-08  Jesper Harder  <harder@ifa.au.dk>

	* mm-decode.el (mm-inline-media-tests): .xpm is 'x-xpixmap'.

2003-01-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-group-alist): Add and clear up.

2003-01-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: removed unnecessary condition-case for loading bbdb-com.el

	* lpath.el (bbdb-search): added BBDB functions for a better way to
	fix missing functions

	* spam.el (spam-check-ifile): if should be an unless

	* spam.el: define 'ignore alias for spam-BBDB-register-routine,
	spam-enter-ham-BBDB, and bbdb-create-internal initially to hush up warnings
	(spam-ifile-all-categories): doc string fixed to be less than 80 chars

2003-01-07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): Added
	gnus-summary-refer-thread to thread menu.

2003-01-07  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetch-group-1): When fetching within a
	summary buffer, articles that cannot be fetched are marked as
	canceled.

	* nntp.el (nntp-with-open-group): The quit signal handler must
	propagate the quit signal to the next outer handler so that the
	caller knows that the request aborted abnormally.

2003-01-07  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-check-ifile, spam-ifile-register-with-ifile)
	(spam-ifile-register-spam-routine)
	(spam-ifile-register-ham-routine): added ifile functionality that
	does not use ifile-gnus.el to classify and register articles
	(spam-get-article-as-string): convenience function
	(spam-summary-prepare-exit): added ifile spam and ham registration
	(spam-ifile-all-categories, spam-ifile-spam-category)
	(spam-ifile-path, spam-ifile): added customization options

	* gnus.el (gnus-group-ham-exit-processor-ifile): added ifile ham
	exit processor
	(spam-process): added gnus-group-ham-exit-processor-ifile to the
	list of choices

2003-01-07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-followup): Also score immediate
	followups.

2003-01-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnweb.el (nnweb-asynchronous-p): Changed to nil.

2003-01-07  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode-menu): Fix receipt balloon help.

2003-01-07  Jesper Harder  <harder@ifa.au.dk>

	* gnus-msg.el (gnus-group-post-news): Don't assume that "" will
	always be interpreted as news.

2003-01-07  Simon Josefsson  <jas@extundo.com>

	* gnus-sieve.el (gnus-sieve-script): Use the crosspost argument to
	gnus-sieve-script, instead of the global variable
	gnus-sieve-crosspost.  One-line patch from Steinar Bang
	<sb@dod.no>.

2003-01-06  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus.el: Renamed gnus-summary-*-uncached-face as
	gnus-summary-*-undownloaded-face to avoid confusing the agent with
	the cache.

	* gnus-sum.el: Ditto.

2003-01-06  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetch-group): Modified to permit execution
	in either the group or summary buffer.
	New command "JS", in summary buffer, will fetch articles per the
	group's category, predicate, and processable flags.
	(gnus-agent-summary-fetch-series): Rewritten to call
	gnus-agent-session-fetch-group once with all articles in the
	series.
	(gnus-agent-summary-fetch-group): Fixed bug and modified code to
	return list of fetched articles.
	(gnus-agent-fetch-articles): Split fetch list into sublists such
	that the article buffer is only slightly larger than
	gnus-agent-max-fetch-size.  Added unwind-protect to ensure that
	the group's article alist is saved.
	(gnus-agent-fetch-headers): The 'killed' and 'cached' marks no
	longer result in the agent trying to fetch an article.
	(gnus-agent-fetch-group-1): Can now be called in either the group
	or summary buffer.  Removed the max-fetch-size code that I added
	on 2002-12-13 as that capability is now part of
	gnus-agent-fetch-articles.  Added code to update summary buffer.
	When called in the group buffer, articles that can not be fetched
	are AUTOMATICALLY MARKED AS READ.

	* gnus-sum.el (): Modified eval-when-compile to minimize
	misleading compilation warnings.
	(gnus-update-summary-mark-positions): Changed code to use
	gnus-undownloaded-mark rather than gnus-downloaded-mark.

	* nnheader.el (nnheader-insert-nov-file): Do not try to insert an
	empty file as the parser assumes that the file isn't empty.

	* nntp.el (nntp-send-string): The process-send-string call can,
	because it performs I/O on the process, change the process' state
	from open to closed.  If this happens, call nntp-report
	immediately to report the broken connection.
	(nntp-report): Rewritten to avoid needing a global variable to
	determine the appropriate course of action.  Instead, two function
	implementations are provided and the nntp-report function value is
	bound to the appropriate implementation.
	(nntp-retrieve-data): Moved nntp-report call to end of implementation.
	(nntp-with-open-group): Now binds nntp-report's function cell
	rather than binding gnus-with-open-group-first-pass.  Added a
	condition-case to detect a quit during a nntp command.  When the
	quit occurs, the current connection is closed as a fetch articles
	request could have several megabytes queued up for reading.
	(nntp-retrieve-headers): Bind articles to itself.  If
	nntp-with-open-group repeats this command, I must have access to
	the original list of articles.
	(nntp-retrieve-groups): Ditto for groups.
	(nntp-retrieve-articles): Ditto for articles.
	(*): Replaced nntp-possibly-change-group calls to
	nntp-with-open-group forms in all, but one, occurrance.
	(nntp-accept-process-output): Bug fix. Detect when called with
	null process.

2003-01-06  Jesper Harder  <harder@ifa.au.dk>

	* mm-util.el (mm-find-mime-charset-region): Don't do Latin-9 hack
	if we don't need to.
	(mm-iso-8859-x-to-15-region): Fix misplaced parenthesis.

2003-01-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-make-web-group): Pass the select
	method on to group-create.
	(gnus-group-line-format-alist): %U is an integer.

	* gnus-sum.el (gnus-summary-exit-no-update): Don't update
	ephemeral groups.
	(gnus-summary-read-group-1): Ditto.
	(gnus-group-make-articles-read): Ditto.

	* mm-url.el (mm-url-program): Doc fix.

	* message.el (message-mode-map): Rebound
	message-insert-wide-reply.

2003-01-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-xmas.el (gnus-xmas-group-startup-message): Bind the oort
	color as `gnus-group-startup-message' does.

2003-01-05  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: fixed line lengths to 80 chars or less

	* gnus-sum.el (gnus-read-mark-p): added the spam-mark as a
	"not-read" mark
	(gnus-summary-mark-forward): added the spam-mark to the list of
	marks not to be marked as "read" when viewed

2003-01-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-inews-make-draft): Quote article-reply.

	* gnus-group.el (gnus-number-of-unseen-articles-in-group):
	Protect against unactive groups.

	* message.el (message-check-news-header-syntax): Check long
	header lines.
	(message-check-news-header-syntax): Update `start'.

	* gnus-group.el (gnus-group-expire-articles): Doc fix.
	(gnus-group-line-format): %U.
	(gnus-group-line-format-alist): ?U.
	(gnus-number-of-unseen-articles-in-group): New function.

	* nntp.el (nntp-accept-process-output): Use a 0.1 second timeout.

	* gnus.el (gnus-version-number): Bump version number.

2003-01-05 01:53:30 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.10 is released.

2003-01-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Fix version number.

2003-01-05 01:40:09 Lars Magne Ingebrigtsen <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.08 is released.

2003-01-04  Jesper Harder  <harder@ifa.au.dk>

	* mm-util.el: Add mm-string-make-unibyte.

	* gnus-group.el (gnus-group-jump-to-group): Make it work for
	UTF-8 groups.

2003-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-variable-list): Write gnus-format-specs last.

	* gnus-sum.el (gnus-summary-goto-subjects): Fix typo.

2003-01-04  Kevin Ryde  <user42@zip.com.au>

	* gnus-art.el (gnus-mime-jka-compr-maybe-uncompress): New
	function.

2003-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-exit): Bind gnus-group-is-exiting-p.
	(gnus-summary-read-group-1): Update group line.
	(gnus-summary-exit-no-update): Update group on exit.

	* gnus-group.el (gnus-group-line-format): Add %*.
	(gnus-group-line-format-alist): Ditto.
	(gnus-group-insert-group-line): Set it.
	(gnus-group-is-exiting-p): New variable.
	(gnus-group-insert-group-line): Use it.

2003-01-03  Teodor Zlatanov  <tzz@beld.net>

	* spam.el (spam-enter-ham-BBDB, spam-BBDB-register-routine):
	enable BBDB ham processing
	(spam-blacklist-register-routine): enable blacklist spam processing
	(spam-whitelist-register-routine): enable whitelist ham processing
	(spam-fetch-field-from-fast): fast fetching of the "from" field
	from (gnus-data-list)
	(spam-summary-prepare-exit): works completely now
	(spam-use-blacklist): oops, should be nil by default
	(spam-summary-prepare-exit): spam-use-PROCESSOR is only for
	split processing now; before it was for summary exit as
	well but that's done with the spam-contents and spam-process
	parameters now

2003-01-03  Jesper Harder  <harder@ifa.au.dk>

	* mml.el (mml-insert-tag): Don't quote non-ASCII unibyte
	characters.

2003-01-02  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-group-spam-contents-p, spam-group-ham-contents-p)
	(spam-group-processor-p, spam-group-processor-bogofilter-p)
	(spam-group-processor-ifile-p, spam-group-processor-blacklist-p)
	(spam-group-processor-whitelist-p, spam-group-processor-BBDB-p)
	(spam-mark-spam-as-expired-and-move-routine)
	(spam-generic-register-routine, spam-BBDB-register-routine)
	(spam-ifile-register-routine, spam-blacklist-register-routine)
	(spam-whitelist-register-routine): new functions
	(spam-summary-prepare-exit): added summary exit processing (expire
	or move) of spam-marked articles for spam groups; added slots for
	all the spam-*-register-routine functions

2003-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* pop3.el (pop3-retr): Wait 500 msecs.
	(pop3-read-response): Ditto.

	* gnus-msg.el (gnus-setup-message): Get the evaliation order
	right.
	(gnus-inews-make-draft): New function.
	(gnus-setup-message): Use it.

	* message.el (message-required-headers): Add From.

2003-01-02  Katsumi Yamaoka  <yamaoka@jpl.org>
	Trivial patch from Norbert Koch <nk@viteno.net>.

	* gnus-msg.el (gnus-gcc-externalize-attachments): Fix typo.

2003-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-generate-headers): Let header formatters do
	their work.

2003-01-02  Raymond Scholz  <ray-2003@zonix.de>

	* deuglify.el (gnus-article-outlook-deuglify-article):
	Rehighlight, reapply treatments and call
	`gnus-article-prepare-hook'.  Suggested by Niels Olof Bouvin.
	(gnus-outlook-repair-attribution-block): Recognize cited
	attributions.  Suggested by Niklas Morberg.

2003-01-02  Pete Kazmier  <pete@kazmier.com>

	* gnus-art.el (gnus-treat-predicate): Check condition first.

2003-01-02  Jesper Harder  <harder@ifa.au.dk>

	* lpath.el: Add url-http-file-exists-p.

	* gnus-group.el (gnus-group-fetch-charter): Use
	http://TLH.news-admin.org/charters/GROUPNAME as a fallback.

2003-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-draft-headers): Also generate From to get a
	nicer draft buffer summary.

	* gnus-xmas.el (gnus-xmas-read-event-char): Take an optional
	parameter.

	* gnus-art.el (article-wash-html): Clean up.
	(article-wash-html): Typo fix.

	* gnus-msg.el (gnus-summary-mail-forward): Clean up.
	(gnus-summary-mail-forward): To many lists of lists.

	* gnus-art.el (article-wash-html): Clean up.

2003-01-02  pete-temp  <pete-temp-12-29-2002@kazmier.com>

	* gnus-art.el (gnus-treat-wash-html): New variable.

2003-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-check-news-header-syntax): Allow posting.
	(message-check-news-header-syntax): Fix logic for sure, this
	time.

2003-01-02  Matthieu Moy  <Matthieu.Moy@imag.fr>

	* message.el (message-check-news-header-syntax): Check syntax of
	continuation headers.

2003-01-02  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-url-regexp,
	(gnus-button-mid-or-mail-regexp, gnus-button-alist,
	(gnus-header-button-alist): Regexps are case insensitive here.

2003-01-02  Simon Josefsson  <jas@extundo.com>

	* dig.el (query-dig): Doc fix.

2003-01-02  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Update whole
	summary buffer line, not just the download mark.

2003-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-goto-subjects): New function.
	(gnus-summary-insert-dormant-articles): New command and
	keystroke.

	* gnus-cache.el (gnus-summary-insert-cached-articles): Use new
	function for mass insertion of subjects.

	* nndraft.el (nndraft-generate-headers): Don't move point.

	* gnus.el (nnheader): Require nnheader.

	* nndraft.el (nndraft-request-associate-buffer): Use
	make-local-variable.

2003-01-02  Michael Shields  <shields@msrl.com>

	* nndraft.el (nndraft-request-associate-buffer): Make
	write-contents-hooks buffer-local before setting it.

2003-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-group-parameter-value): Take an extra param.
	(gnus-group-fast-parameter): Let group param results be nil.

	* gnus-art.el (gnus-article-forward-header): New function.
	(article-date-ut): Use it to remove continuation date headers.

	* gnus-sum.el (gnus-summary-walk-group-buffer): Supply prompt to
	read-event.
	(gnus-summary-remove-bookmark): Clean up.
	(gnus-summary-set-bookmark): Clean up.

	* gnus-util.el (gnus-read-event-char): Take an optional prompt.

	* gnus.el (gnus-group-startup-message): Bind data-directory to
	the Gnus etc directory.

2003-01-01  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-summary-prepare-exit): added slots for spam- and
	ham-processing of articles; use the new
	spam-group-(spam|ham)-contents-p functions
	(spam-group-spam-contents-p, spam-group-ham-contents-p): new
	convenience functions
	(spam-mark-junk-as-spam-routine): use the new
	spam-group-spam-contents-p function

	* gnus.el (spam-process, spam-contents, spam-process-destination):
	added new parameters with corresponding global variables
	(gnus-group-spam-exit-processor-ifile,
	gnus-group-spam-exit-processor-bogofilter,
	gnus-group-spam-exit-processor-blacklist,
	gnus-group-spam-exit-processor-whitelist,
	gnus-group-spam-exit-processor-BBDB,
	gnus-group-spam-classification-spam,
	gnus-group-spam-classification-ham): added new symbols for the
	spam-process and spam-contents parameters

	* spam.el (spam-ham-marks, spam-spam-marks): changed list
	customization and list itself to store mark symbol rather than
	mark character.
	(spam-bogofilter-register-routine): added logic to generate mark
	values list from spam-ham-marks and spam-spam-marks, so (member)
	would work.

2003-01-02  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-cross-post-followup-to): Fix comment.

2003-01-01  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-ham-marks, spam-spam-marks): changed list
	customization and list itself to store mark symbol rather than
	mark character.
	(spam-bogofilter-register-routine): added logic to generate mark
	values list from spam-ham-marks and spam-spam-marks, so (member)
	would work.

2003-01-01  Raymond Scholz  <ray-2002@zonix.de>

	* message.el (message-signature-insert-empty-line): New variable.

2002-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el: Renamed functions and variables: "xpost" ->
	"cross-post", "-fup2" -> "-followup-to".
	(message-cross-post-old-target, message-cross-post-default,
	message-cross-post-note, message-followup-to-note,
	message-cross-post-note-function): New variables names.
	(message-xpost-old-target, message-xpost-default,
	message-xpost-note, message-fup2-note,
	message-xpost-note-function): Removed variable names.
	(message-cross-post-followup-to-header,
	message-cross-post-insert-note, message-cross-post-followup-to):
	New function names.
	(message-xpost-fup2-header, message-xpost-insert-note,
	message-xpost-fup2): Removed function names.

2002-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-send-mail): Added message-cleanup-headers to
	prevent newlines in headers.

2003-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* dns.el (dns-make-network-process): Comment.

	* gnus-sum.el (gnus-summary-display-while-building): Default to
	nil.

2003-01-01  Wes Hardaker  <wes@hardakers.net>

	* gnus-sum.el (gnus-summary-display-while-building): New
	variable.

2003-01-01  Raymond Scholz  <ray-2003@zonix.de>

	* deuglify.el (gnus-outlook-rearrange-article): Kill overlays
	before rearranging the article.

2003-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nndraft.el (nndraft-generate-headers): New function.
	(nndraft-request-associate-buffer): Use it to write headers on
	buffer save.

	* message.el (message-generate-headers): Let the function be a
	lambda form.
	(message-draft-headers): New variable.

	* gnus-msg.el (gnus-inews-make-draft-meta-information): New
	function.
	(gnus-setup-message): Use it.

	* message.el (message-generate-headers-first): Doc fix.
	(message-setup-1): Use new function for getting which headers to
	generate.
	(message-headers-to-generate): New function.

2003-01-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-save-alist): Make directory.

2002-12-31  Reiner Steib  <4uce.02.r.steib@gmx.net>

	* gnus-sum.el (gnus-summary-limit-to-age): Make prompt string
	mention negatives.

2002-12-31  Raymond Scholz  <ray-2002@zonix.de>

	* deuglify.el (gnus-outlook-rearrange-article): Use
	`transpose-regions' instead of tempering the kill-ring.
	(gnus-article-outlook-deuglify-article): Rehighlight article
	instead of a complete redisplay.

2002-12-31  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el: most defvars are defcustoms now

	patches from Michael Shields  <shields@msrl.com>

	* spam.el (spam-bogofilter-articles): Select the article
	body using gnus-summary-show-article t instead of
	gnus-summary-select-article; this presents the raw text
	without running any hooks.

	* spam.el (spam-bogofilter-articles): Use message-remove-header
	to remove headers; the old way incorrectly removed just the first
	line of folded headers.

2002-12-31  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-load): Replace `ding-file' with `file'.

2002-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-load): New function.
	(gnus-read-newsrc-el-file): Use it.

2002-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* gnus-art.el (gnus-button-valid-fqdn-regexp): New variable.
	(gnus-button-handle-apropos-documentation): New function.
	(gnus-button-handle-ctan): New function.
	(gnus-button-alist): Use them.  Improve some regexps.
	(gnus-button-prefer-mid-or-mail): Addition to doc-string.

2002-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-subscribed-p): New function.
	(message-send-mail): Use it.
	* mml.el (mml-preview-insert-mft): New function.
	(mml-preview): Use it.

2002-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-thread-latest-date): Protect against errors
	when sorting by date.

	* gnus-art.el (gnus-article-edit-mode): New variable.
	(gnus-article-setup-buffer): Warn user about discarding edits.

	* gnus-sum.el (gnus-summary-pipe-output): Clean up.
	(gnus-summary-pipe-output): Take a symbolic prefix to save all
	headers.

	* mm-uu.el (mm-uu-configure-list): Default to (shar . disabled).

2002-12-30  Reiner Steib  <Reiner.Steib@gmx.de>

	* message.el (message-completion-alist): Added "Mail-Followup-To"
	and "Mail-Copies-To".

2002-07-21  Jesper harder  <harder@ifa.au.dk>

	* gnus-group.el: Add key bindings for
	gnus-group-sort-groups-by-real-name and
	gnus-group-sort-selected-groups-by-real-name.

2002-07-21  Jesper harder  <harder@ifa.au.dk>

	* gnus.texi (Sorting Groups): Add key bindings for
	gnus-group-sort-groups-by-real-name and
	gnus-group-sort-selected-groups-by-real-name.

2002-12-30  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-use-dig): new variable for blackhole checking
	through dig.el
	(spam-check-blackholes): added dig.el checking functionality and
	more verbose reporting; query-dig is autoloaded from dig.el
	(spam-use-blackholes): disabled by default
	(spam-blackhole-servers): removed rbl.maps.vix.com from the
	blackhole servers list

2002-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-required-headers): New variable.

2002-12-30  Teodor Zlatanov  <tzz@lifelogs.com>

	* dig.el (query-dig): new function

2002-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* flow-fill.el (fill-flowed): Don't infloop on too long fill
	prefixes.

	* dns.el (query-dns): Protect against errors.

	* gnus-msg.el (gnus-article-yanked-articles): New variable.
	(gnus-inews-add-send-actions): Mark all answered messages as
	answered.

2002-08-10  Jari Aalto  <jari.aalto@poboxes.com>

	* nnmail.el (nnmail-split-it): Added tracing to
	`:' split rule

2002-08-13  Hrvoje Niksic  <hniksic@xemacs.org>

	* mm-decode.el (mm-mailcap-command): Remove the quotes around '%s'
	and "%s" so we don't overquote them.

2002-08-13  Hrvoje Niksic  <hniksic@xemacs.org>

	* (mm-display-external): Display the actual command that has been
	executed in the echo area.

2002-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-display-missing-topic): Bind entry.

	* message.el (message-with-reply-buffer): New macro.
	(message-fetch-reply-field): Use it.
	(message-insert-wide-reply): New command and keystroke.
	(message-carefully-insert-headers): New function.
	(message-insert-to): Use new function.

	* gnus-topic.el (gnus-topic-display-missing-topic): New function.
	(gnus-topic-goto-missing-group): Use it.

	* message.el (message-required-news-headers): Removed Lines.
	(message-reply): Don't insert References first.
	(message-followup): Ditto.
	(message-make-references): New function.
	(message-followup): Set message-reply-headers before generating
	the buffer stuff.

2002-12-29  Jesper Harder  <harder@ifa.au.dk>

	* mml.el (mml-generate-mime-1): Reverse the order of
	encoding/flowing.

2002-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-expiry-target-group): Mark articles as read
	after moving them.

	* gnus-sum.el (gnus-summary-dummy-line-format): Update format to
	fit with newer standard format.
	(gnus-summary-make-false-root-always): New variable.
	(gnus-gather-threads-by-subject): Use it.

	* message.el (message-get-reply-headers): Take an address list
	optional argument.

2002-12-28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-keep-backlog): Change default to 20.

	* gnus-agent.el (gnus-agent-check-overview-buffer): Start from
	start.
	(gnus-agent-check-overview-buffer): Remove negative article
	numbers.

	* nnmail.el (nnmail-split-fancy-with-parent-ignore-groups): Doc fix.
	(nnmail-cache-ignore-groups): Doc fix.

	* nnimap.el (nnimap-debug): Made into a flag and defcustomed.
	(nnimap-debug-buffer): New variable.
	(nnimap-debug): Use it.

2002-12-28  Lars Magne Ingebrigtsen  <kgreiner@xpediantsolutions.com>

	* gnus.el (gnus-summary-high-uncached-face): New color scheme.

2002-12-28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-check-overview-buffer): Sort lines if
	they aren't already sorted.

2002-12-28  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-mode-menu): Add ellipses to menu items
	expecting user interaction.
	(message-mode-field-menu): do.

2002-12-26  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-highlight-line): Don't bind `list' --
	it isn't used any more.

2002-12-22  Jesper Harder  <harder@ifa.au.dk>

	* binhex.el (binhex-decoder-program): Fix docstring.

2002-12-21  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* mm-decode.el (mm-mailcap-command): Do not backslash-quote
	special chars if the mailcap file uses single quotes around %s.
	From Laurent Martelli <laurent@bearteam.org>.

2002-12-19  Paul Jarc  <prj@po.cwru.edu>

	* gnus-int.el (gnus-request-update-info): nnchoke-r-u-i might not
	return the info object.

2002-12-18  Paul Jarc  <prj@po.cwru.edu>

	* gnus-int.el (gnus-request-update-info): Artificially add
	(1 . (1- min)) to the read range, in case the backend doesn't
	store marks for nonexistent articles.

2002-12-17  Katsumi Yamaoka  <yamaoka@jpl.org>

	* binhex.el (binhex-insert-char): Eval-and-compile.

2002-12-17  Jesper Harder  <harder@ifa.au.dk>

	* lpath.el: Add tool-bar-local-item-from-menu.

	* message.el (message-tool-bar-local-item-from-menu): New function.
	(message-tool-bar-map): Use it.

2002-12-14  Jesper Harder  <harder@ifa.au.dk>

	* gnus-uu.el (gnus-uu-digest-headers): Mention nil value in docstring.

	* gnus-art.el (gnus-article-header-rank): Last header in
	gnus-sorted-header-list should have higher rank than non-members.

2002-12-13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-close-agent): Don't blank out the list of
	covered methods.

2002-12-12  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* nntp.el (nntp-with-open-group-first-pass): Do not wrap in
	eval-when-compile.  Suggested by Kevin Greiner.

2002-12-13  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-max-fetch-size): New, defcustom.
	(gnus-agent-fetch-headers): Initialize gnus-agent-overview-buffer
	even though no headers may have been fetched
	(gnus-agent-fetch-group-1, and perhaps others, require this
	behavior).
	(gnus-agent-fetch-group-1): Fetch articles in chucks so that the
	server buffer is constrained by gnus-agent-max-fetch-size.
	Multiple chunks in the same group may perform arbitrarily large
	updates.

2002-12-12  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Added call to
	gnus-summary-update-download-mark to update the article in the
	summary.

2002-12-11  Kevin Greiner <kgreiner@xpediantsolutions.com>

	* gnus.el (gnus-summary-high-uncached-face,
	gnus-summary-normal-uncached-face, gnus-summary-low-uncached-face)
	New faces.

	* gnus-agent.el (gnus-agent-downloaded-article-face): REMOVED.  I
	added this on 2002-11-23 but it just wasn't working out as
	intended.  The idea isn't entirely dead, three new faces
	gnus-summary-*-uncached-face are being added to gnus.el to provide
	the basis for an improved implementation.
	(gnus-agent-read-servers): Undo the change made on 2002-11-23. The
	proper file to open is lib/servers.
	(gnus-summary-set-agent-mark): Expanded documentation.  Unmarking
	(i.e. removing the article from gnus-newsgroup-downloadable) will
	now restore the article's default mark rather than simply setting
	no mark.
	(gnus-agent-get-undownloaded-list): Corrected documentation.
	Added code to set new summary local variable,
	gnus-newsgroup-agentized.  Reworked impl so that it doesn't create
	a temporary list.  No longer sets gnus-newsgroup-downloadable.
	(gnus-agent-summary-fetch-group): Keep gnus-newsgroup-undownloaded
	up to date.  Call new gnus-summary-update-download-mark to keep
	summary buffer up-to-date.
	(gnus-agent-fetch-selected-article): Keep
	gnus-newsgroup-undownloaded up to date.
	(gnus-agent-fetch-articles): Return list of articles that were
	successfully fetched.
	(gnus-agent-check-overview-buffer): No more thingatpt.
	(gnus-agent-expire): No longer deletes NOV entries of unread
	articles.
	(gnus-agent-unread-articles): New function.
	(gnus-agent-regenerate-group): The article number must be
	terminated by a tab character.  Added more messages to report
	repairs.  Inhibit quits while writing changes so it is now safe
	have to quit regeneration.  Renamed gnus-tmp-downloaded back to
	downloaded to 1) resolve the unbound references and 2) avoid
	confusing this list with the gnus-tmp-downloaded in gnus-sum.el

	* gnus-art.el (gnus-article-prepare): The agent
	downloaded/undownloaded mark is no longer stored as the article's
	mark.

	* gnus-salt.el (gnus-tree-highlight-node): Added uncached as
	gnus-summary-highlight may use it.  Added downloaded as
	gnus-summary-highlight was using it.

	* gnus-sum.el (gnus-undownloaded-mark): Changed from ?@ to ?- as
	the download mark now follows Kai's +/- convention.
	(gnus-downloaded-mark): Added ?+ mark.
	(gnus-summary-highlight): Added rules to select
	gnus-summary-high-uncached-face,
	gnus-summary-normal-uncached-face, and
	gnus-summary-low-uncached-face.  Removed the
	gnus-agent-downloaded-article-face.
	(gnus-summary-line-format-alist): Implemented the download flag
	format (?O) as named in the manual.  This implementation displays
	either gnus-undownloaded-mark, gnus-downloaded-mark, or
	gnus-no-mark.
	(gnus-newsgroup-agentized): New local variable that identifies
	which groups are agentized.  While the agent is now on by default,
	you don't have to agentize every server that you use.
	(gnus-update-summary-mark-positions): Completed support for the
	download type of mark.
	(gnus-summary-insert-line): Added undownloaded to the parameters.
	(gnus-summary-prepare-threads): Set gnus-tmp-downloaded for
	reference by the gnus-summary-line-format-spec.

	* nntp.el (nntp-with-open-group): This macro handles dropped or
	broken connections by opening a new connection and repeating the
	failed command.
	(nntp-retrieve-headers-with-xover): Some NNTP servers respond to
	XOVER commands preceeding the active articles with the nov entry
	of the first available article.  When gnus connected to such a
	server, the unexpected nov entry would result in duplicate lines
	in the agent's overview file.  This patch fixes the duplicate
	lines problem and improves performance by skipping over all
	articles IDs that preceed the first nov entry in the server's
	reply.

2002-12-11  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-tmp-downloaded): New internal variable.
	(gnus-summary-highlight): Use it instead of `downloaded'.
	(gnus-summary-highlight-line): Ditto.

	* gnus-agent.el (gnus-agent-regenerate-group): Ditto.

2002-12-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-variable-list): Add gnus-agent-covered-methods.

	* gnus-agent.el (gnus-agent-check-overview-buffer): Remove debug
	calls.

	* gnus-sum.el (gnus-summary-highlight-line): Don't set the
	downloaded variable if we're in an uncovered group.

	* gnus-agent.el (gnus-agent-downloaded-article-face): Change the
	font to soemthing less noticeable.
	(gnus-agent-group-covered-p): New function.

2002-12-09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-braid-nov): Remove corrupted lines.
	Because of an unknown bug, the group buffer is saved in .overview
	file.

2002-12-09  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* nntp.el (nntp-send-command): Braino in last commit.  Replace
	`and' with `or'.

2002-12-08  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* nntp.el (nntp-send-command): Assume that echo does not happen
	when nntp-open-connection-function is nntp-open-network-stream.
	Suggested by Sebastian D.B. Krause <krause@my.gnus.org>.

2002-12-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-retrieve-headers-1): Update the parser.

2002-12-06  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-group): bugfix: don't erase
	nntp-server-buffer if we aren't going to write to it.

2002-12-04  Katsumi Yamaoka  <yamaoka@jpl.org>
	Trivial patch from Itai Zukerman <zukerman@math-hat.com>.

	* mm-decode.el (mm-w3m-safe-url-regexp): Fix parenthesis.

2002-12-04  Katsumi Yamaoka  <yamaoka@jpl.org>

	* rfc2047.el (rfc2047-decode-region): Remove newlines between
	decoded words.

2002-12-03  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus.el (fboundp): After loading mm-util, make sure it was the
	right one.

2002-11-29  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-art.el (gnus-inhibit-mime-unbuttonizing): Moved here from
	gnus-sum.  Made into a user option.

	* gnus-sum.el (gnus-simplify-ignored-prefixes)
	(gnus-summary-mark-article-as-unread)

2002-11-29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* time-date.el (date-to-time): Typo.

	* parse-time.el: Typo.

	* nnsoup.el (nnsoup-retrieve-headers): Typo.

	* nnmail.el (nnmail-split, nnmail-process-unix-mail-format): Typos.

	* nnimap.el:
	(nnimap-split-rule, nnimap-find-minmax-uid): Typos.

	* mm-encode.el (mm-safer-encoding): Typo.

	* messcompat.el: Typo.

	* message.el (message-face-alist): Typo.

	* imap.el (imap-interactive-login, imap-open): Typos.

	* ietf-drums.el (ietf-drums-text-token, ietf-drums-qtext-token): Typos.

	* gnus.el: Typo.

	* gnus-win.el (gnus-configure-frame): Typo.

	* gnus-util.el (gnus-atomic-progn-assign): Typo.

	* gnus-topic.el (gnus-topic-sort-topics): Typo.

	* gnus-sum.el (gnus-summary-article-number)
	(gnus-summary-read-group-1, gnus-summary-mark-article)
	(gnus-summary-fetch-faq, gnus-refer-article-methods): Typos.

	* gnus-mule.el (gnus-mule-add-group): Typo.

	* gnus-mlspl.el (gnus-group-split-fancy): Typo.

	* gnus-group.el (gnus-group-fetch-faq): Typo.

	* gnus-art.el (gnus-decode-header-methods): Typo.

	* flow-fill.el: Typo.

2002-11-19  Stefan Monnier  <monnier@cs.yale.edu>

	* binhex.el (binhex-decode-region): Don't hardcode point-min == 1.

2002-11-29  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-sum.el (gnus-simplify-ignored-prefixes)
	(gnus-summary-mark-article-as-unread)
	(gnus-mark-article-as-unread, gnus-summary-highlight-line):
	Reformatting to avoid long lines.
	(gnus-inhibit-mime-unbuttonizing): Moved to gnus-art.

2002-11-28  Daiki Ueno  <ueno@unixuser.org>

	* gnus-agent.el (gnus-agent-fetch-group-1): Article numbers should
	be accessed through `mail-header-number'.

2002-11-27  Kevin Greiner  <kgreiner@xpediantsolutions.com>

	* gnus-sum.el (gnus-summary-insert-old-articles): No longer passes
	compressed range to gnus-summary-insert-articles.

2002-11-26  Kevin Ryde <user42@zip.com.au>

	* gnus-art.el (gnus-mime-copy-part): Look for filename
	parameter under content-disposition, not content-type.

	* gnus-sum.el (gnus-summary-find-uncancelled): New function.
	(gnus-summary-reselect-current-group): Use it.

2002-11-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-uncached-articles): if
	gnus-agent-load-alist fails, return ARTICLES.

	* nnrss.el (nnrss-group-alist): Update the link of Jabber.

2002-11-26  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-sum.el (gnus-summary-insert-old-articles): Remove
	superfluous function call.
	(gnus-summary-catchup-all, gnus-summary-catchup-all-and-exit):
	Add warning to docstring.

2002-11-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-agent.el: Autoload number-at-point instead.
	(gnus-agent-check-overview-buffer): No warning for deactivate-mark.

2002-11-26  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-check-overview-buffer): Explicitly
	require thingatpt (for number-at-point) and protect against
	deactivate-mark being unbound (on XEmacs).

2002-11-25  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-check-overview-buffer): Make debugger
	print message on entry.

	From Kevin Greiner <kgreiner@xpediantsolutions.com>.

	* gnus-range.el (gnus-range-difference): New function.
	* gnus-sum.el (gnus-summary-insert-old-articles): Use it.

2002-11-24  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-sum.el (gnus-summary-insert-old-articles): Use
	gnus-remove-from-range instead of gnus-range-difference which
	doesn't exist.

2002-11-23  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>
	From Kevin Greiner <kgreiner@xpediantsolutions.com>.

	* gnus-agent.el (gnus-agent-downloaded-article-face): New face,
	used for showing which articles have been downloaded.
	(gnus-agent-article-alist): Format change.  Add documentation.
	(gnus-agent-summary-mode-map): New keybinding `J s' for fetching
	process-marked articles.
	(gnus-agent-summary-fetch-series): Command for `J s'.  Articles
	in the series are individually fetched to minimize lose of
	content due to an error/quit.
	(gnus-agent-synchronize-flags-server, gnus-agent-add-server): Use
	gnus-message instead of message.
	(gnus-agent-read-servers): Use file lib/methods instead of
	lib/servers.  TODO: Why?
	(gnus-summary-set-agent-mark): Adapt to new agent-alist format.
	(gnus-agent-get-undownloaded-list): Remove articles that appear to
	come from the agent.  This means that they are not downloaded.
	(gnus-agent-fetch-selected-article): Don't use history.
	(gnus-agent-save-history, gnus-agent-enter-history)
	(gnus-agent-article-in-history-p, gnus-agent-history-path):
	Removed function; history is not used anymore.
	(gnus-agent-fetch-articles): Fix handling of crossposted articles.
	(gnus-agent-crosspost): Started rewrite then realized that a typo
	in gnus-agent-fetch-articles ensures that this function is never
	called.  This will need to be fixed later.
	(gnus-agent-check-overview-buffer): Some sanity checks on the
	agent overview buffer.  This is a safety net used during
	development.
	(gnus-agent-flush-cache): The gnus-agent-article-alist format has
	changed, write a number to the file indicating this.
	(gnus-agent-fetch-headers): Rewrite to respect
	gnus-agent-consider-all-articles without relying on the
	`.fetched' files.  Make it fast.
	(gnus-agent-braid-nov): Change resulting from
	gnus-agent-fetch-headers change.
	(gnus-agent-load-alist, gnus-agent-save-alist): Don't use
	`.fetched' files.
	(gnus-agent-read-agentview): New function, used by
	gnus-agent-load-alist.
	(gnus-agent-load-fetched-headers): Remove.
	(gnus-agent-save-alist): Rewrite to accomodate new format.
	(gnus-agent-fetch-group-1): Make sure list of articles is in the
	same order as in gnus-newsgroup-headers.
	(gnus-agent-expire): Document and implement extra args ARTICLES,
	GROUP, FORCE.  Do not restrict usage.
	(gnus-agent-uncached-articles): New function.
	(gnus-agent-retrieve-headers): Use it.
	(gnus-agent-regenerate-group): No longer needs to be called from
	gnus-agent-regenerate.  Individual groups may be regenerated. The
	regeneration code now fixes duplicate, and mis-ordered, NOV entries.
	The article fetch dates are validated in the article alist.  The
	article alist is pruned of entries that do not reference existing
	NOV entries.  All changes are computed then applied with
	inhibit-quit bound to t.  As a result, it is now safe to quit out of
	regeneration.  The optional clean parameter has been replaced with
	an optional reread parameter.  Clean is no longer necessary as
	regeneration gets the appropriate setting from
	gnus-agent-consider-all-articles.  The new reread parameter will
	result in fetched, or all, articles being marked as unread.
	(gnus-agent-regenerate): Removed code to regenerate the history
	file as it is no longer used.

	* gnus-start.el (gnus-make-ascending-articles-unread): New
	function, for efficient mass-marking.

	* gnus-sum.el (gnus-summary-highlight): Use new face for
	downloaded articles.
	(gnus-article-mark): Prefer to indicate read/unread status over
	downloaded status.
	(gnus-summary-highlight-line-0): New function, maybe rehighlights
	line.
	(gnus-summary-highlight-line): Use new face for downloaded
	articles.
	(gnus-summary-insert-old-articles): Improved performance by
	replacing the initial LIST of older articles with a compressed
	RANGE of older articles.  Some servers appear to lie about
	their active range so the original list could contain millions
	of article numbers.  The range is not expanded into a list
	until the optional ALL parameter has been applied.

2002-11-18  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-category-mode): Typo in doc string.

2002-11-21  Teodor Zlatanov  <tzz@lifelogs.com>

	* spam.el:
	added patch from Andreas Fuchs <asf@void.at> to prevent apply errors

	* spam.el: added `M s t' and `M s x' key mappings

2002-11-20  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-morse-message): Narrow to body.

2002-11-19  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-morse-message): Load
	morse.el (unmorse-region not autoloaded in Emacs 20 nor XEmacs).
	(unmorse-region): Autoload it instead.

2002-11-18  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-morse-message): New function.
	(gnus-summary-wash-map): Bind to `W m'.
	(gnus-summary-make-menu-bar): Add.

	* nnimap.el (nnimap-request-expire-articles): Compress sequence
	before storing \Deleted mark on expired articles.

2002-11-17  Shenghuo Zhu <zsh@cs.rochester.edu>
	Trivial patch from Markus Rost <rost@math.ohio-state.edu>

	* gnus-sum.el (gnus-summary-goto-unread): Doc fix - escape open
	parens in column 0.

2002-11-17  Juanma Barranquero  <lektu@terra.es>

	* nnweb.el (nnweb-google-create-mapping): Fix typo.

	* nnlistserv.el (nnlistserv-kk-create-mapping): Likewise.

	* gnus-nocem.el (gnus-nocem-liberal-fetch): Likewise.

2002-11-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-set-auto-save-file-name): Use
	make-directory, to avoid the dependence on gnus-util.

2002-11-16  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-callback-callback-function):
	(nnimap-callback-buffer): Removed, these cannot be global but must
	be embedded into the callback.
	(nnimap-make-callback): New.  Embedd article number, callback and
	buffer in function.
	(nnimap-callback, nnimap-request-article-part): Update.

2002-11-15  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mml.el (mml-preview): Bind message-this-is-mail if it is mail.

2002-11-13  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus.el (gnus-summary-line-format): Document %C.

2002-11-11  Simon Josefsson  <jas@extundo.com>

	* pgg.el (pgg-encrypt, pgg-decrypt, pgg-sign, pgg-verify): Display
	output when called interactively.

2002-11-08  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-edit-exit): Kill local variables.

	* message.el (message-draft-coding-system): Improve comment; use
	mm-auto-save-coding-system for the default value.

	* nndraft.el (nndraft-request-article): Revert to the state before
	2002-10-29; regexp-quote mail-header-separator.

2002-11-06  Jesper Harder  <harder@ifa.au.dk>

	* gnus-draft.el (gnus-draft-setup): Set gnus-message-group-art to
	allow editing of drafts from an nnvirtual group.

2002-11-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nndraft.el (nndraft-request-article): Replace emacs-mule with
	mm-auto-save-coding-system.

	* message.el (message-draft-coding-system): Default to
	iso-2022-7bit.

	* mm-util.el (mm-auto-save-coding-system): Undo last change to
	restore the default value to emacs-mule or escape-quoted.

2002-11-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-encrypt-body): Inhibit encrypting of
	a delayed or a queued article as well as a draft.

	* gnus-sum.el (gnus-summary-edit-article): Inhibit editing of a
	delayed or a queued article in the raw format; treat a delayed
	article as a raw article as well as a draft.
	(gnus-summary-setup-default-charset): Clear gnus-newsgroup-charset
	for the delayed group.

	* nndraft.el (nndraft-request-article): Ignore auto save files for
	a delayed or a queued article; don't bother to decode a queued
	article; don't bind nnmail-file-coding-system for a queued article.

	* nnmail.el (nnmail-split-fancy-with-parent): Ignore the delayed
	and the queue group.

2002-11-04  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-delete-group):
	gnus-cache-active-hashtb might be void.

2002-11-02  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-encrypt-region): Makes PGG respect the
	setting of the default user ID.  From Raymond Scholz
	<ray-2002@zonix.de>.

2002-11-01  Jesper Harder  <harder@ifa.au.dk>

	* mm-bodies.el (mm-body-encoding): Don't return 8bit for 7bit
	charset.

2002-10-31  Ted Zlatanov <tzz@lifelogs.com>
	From Alex Schroeder <alex@emacswiki.org>
	* spam-stat.el (spam-stat-process-directory): add dir to message
	(spam-stat-reduce-size): No longer remove words
	with values close to 0.5, because the default value is 0.2.

2002-10-31  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-util.el (gnus-user-date-format-alist): Clarify and correct
	documentation.

2002-10-28  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-fetched-headers)
	(gnus-agent-load-fetched-headers)
	(gnus-agent-save-fetched-headers): Remove variable and two
	functions.  Kevin Greiner's version of gnus-agent-fetch-headers
	works better.
	(gnus-agent-fetch-headers): New implementation from Kevin
	Greiner.  Uses gnus-agent-article-alist to store information
	about fetched messages which aren't on the server anymore.  The
	trick is to return a list of considered messages to the caller,
	but to only fetch those which haven't been fetched yet.

2002-10-30  Simon Josefsson  <jas@extundo.com>

	* pgg-def.el (pgg-passphrase-cache-expiry): New, defcustom.

	* pgg.el (pgg-passphrase-cache-expiry): Removed.

2002-10-30  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* mm-view.el (mm-w3m-local-map-property): Make it work with older
	versions of emacs-w3m than 1.3.3.

	* lpath.el: Bind w3m-minor-mode-map.

	* mm-view.el (mm-w3m-mode-command-alist)
	(mm-w3m-mode-dont-bind-keys, mm-w3m-mode-ignored-keys): Removed.
	(mm-w3m-mode-map): Undefined for Emacs21 and XEmacs.
	(mm-setup-w3m): Simplified.
	(mm-w3m-local-map-property): New function.
	(mm-inline-text-html-render-with-w3m): Use it.

	* gnus-art.el (gnus-article-wash-html-with-w3m): Use
	mm-w3m-local-map-property.

2002-10-29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-util.el (mm-auto-save-coding-system): Default to
	iso-2022-7bit.

	* nndraft.el (nndraft-request-article): Decode an article using
	the coding-system emacs-mule if it seems to have been saved using
	emacs-mule.
	(nndraft-request-replace-article): Use message-draft-coding-system
	instead of mm-auto-save-coding-system for the draft or delayed
	group.

2002-10-28  Josh  <huber@alum.wpi.edu>

	* mml.el (mml-mode-map): Fixed keybindings for mml-secure-*
	functions.

2002-10-28  Katsumi Yamaoka  <yamaoka@jpl.org>
	From mah@everybody.org (Mark A. Hershberger).

	* mm-url.el (mm-url-insert-file-contents): Make it return the same
	type values ("url" size) regardless of the values of
	mm-url-use-external.

2002-10-26  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* nnimap.el (nnimap-request-article-part): Try harder to show
	group name in debugging message.

2002-10-25  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-save-fetched-headers): Create
	directory if it doesn't exist.
	(gnus-agent-fetch-headers): Remove old cruft that tried to
	abstain from downloading articles more than once if
	gnus-agent-consider-all-articles was true.  This is now done
	properly via the .fetched files.

2002-10-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nndraft.el (nndraft-request-article): Treat delayed articles
	like drafts.

2002-10-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-agent.el (gnus-agent-load-alist): Fix parenthesis.

2002-10-24  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-save-alist, gnus-agent-load-alist):
	Remove unused optional arg DIR and corresponding code.

	* nnimap.el (nnimap-request-article-part): Include group name in
	debugging output.

2002-10-24  Paul Jarc  <prj@po.cwru.edu>

	* gnus-agent.el (gnus-agent-fetch-headers): Add some comments.

2002-10-23  Kai Gro,A_(Bjohann  <kai.grossjohann@uni-duisburg.de>

	* gnus-agent.el (gnus-agent-fetched-headers): New variable,
	contains range of headers that have been fetched by the agent
	already.  Compare gnus-agent-article-alist.
	(gnus-agent-file-header-cache): Like
	gnus-agent-file-loading-cache, but for gnus-agent-fetched-headers.
	(gnus-agent-fetch-headers): Improve comment.  Revert to old
	seen/recent logic.
	Remember which headers have been fetched before and don't fetch
	them again the next time round.
	(gnus-agent-load-fetched-headers)
	(gnus-agent-save-fetched-headers): New functions, for remembering
	which headers have been fetched before.

2002-10-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Remove useless bindings.

2002-10-22  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-execute-command): Disable visual
	features while searching.

2002-10-22  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* pgg.el (pgg-snarf-keys): Do not refer unbinded local variables.

2002-10-22  Simon Josefsson  <jas@extundo.com>

	* pgg.el (pgg-encrypt, pgg-decrypt, pgg-sign, pgg-verify)
	(pgg-snarf-keys): Add.

2002-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind bbdb-records.

	* spam.el: Don't autoload bbdb-records.

2002-10-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam.el: Set autoload for bbdb-records after loading bbdb-com to
	prevent inf-loop.

2002-10-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el: Removed some test lines.
	More test.

2002-10-21  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-headers): Remove articles that
	are known to be downloaded already.

2002-10-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-text-html-renderer-alist): Add w3m-standalone.
	(mm-text-html-washer-alist): Ditto.

2002-10-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nnheader.el (nnheader-remove-body): Fix an error of detecting
	boundary between headers and body.
	* nnml.el (nnml-parse-head): Ditto.

2002-10-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-generate-active): Ignore any bogus
	entries.

	* gnus-group.el (gnus-fetch-group): Allow an optional
	specification of the articles to select.

	* gnus-srvr.el (gnus-server-prepare): Removed superfluous cdr.

2002-10-20  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-group-1): After fetching
	headers from the group, update variable `articles' to contain
	only those numbers where headers exist.  (When fetching all
	articles in a group, Gnus creates lots of numbers where there is
	no articles.)

2002-10-20  Steve Youngs  <youngs@xemacs.org>

	* pgg-parse.el (pgg-parse-public-key-algorithm-alist): XEmacs
	doesn't have the 'alist custom type, use cons cells instead.
	(pgg-parse-symmetric-key-algorithm-alist): Ditto.
	(pgg-parse-hash-algorithm-alist): Ditto.
	(pgg-parse-compression-algorithm-alist): Ditto.
	(pgg-parse-signature-type-alist): Ditto.

	* pgg-gpg.el (pgg-gpg-extra-args): Fix custom mismatch.

	* pgg-pgp5.el (pgg-pgp5-extra-args): Ditto.

	* pgg-pgp.el (pgg-pgp-extra-args): Ditto.

2002-10-19  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-open-server): Check imap-state in IMAP server
	buffer.

2002-10-18  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-spec.el (gnus-make-format-preserve-properties)
	(gnus-xmas-format, gnus-parse-simple-format): Preserve text
	properties also on XEmacs.  `gnus-xmas-format' is like format but
	preserves text properties on XEmacs (though it only understands
	simple format specs).  The variable
	`gnus-make-format-preserve-properties' controls whether the
	function is used, and is checked in `gnus-parse-simple-format'.
	Patch by Paul Moore <gustav@morpheus.demon.co.uk>.

	* gnus-agent.el (gnus-agent-fetch-articles): More debugging
	output.
	(gnus-agent-consider-all-articles): New variable.
	(gnus-agent-get-undownloaded-list): Comment that marks todo item.
	(gnus-agent-fetch-headers): Depending on
	gnus-agent-consider-all-articles, maybe get all articles.
	(gnus-category-predicate-alist, gnus-agent-read-p): New predicate
	`read'.
	(gnus-predicate-imples-unread): New function.
	(gnus-agent-fetch-headers): Optimize to call
	gnus-list-of-unread-articles if that is sufficient.
	Check unseen and recent instead of seen and recent.
	(gnus-agent-fetch-headers): Abstain from calling
	gnus-list-range-intersection if range (a . b) would have (> a b).

2002-10-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-send-mail): Make it possible to perform
	edebug-defun.

2002-10-18  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-man-handler): Change default to
	`manual-entry' (defined in both emacsen).
	(gnus-button-man-handler): Remove emacsen difference and use
	`manual-entry'.

2002-10-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam.el: Wrap autoload settings for bbdb-records,
	executable-find and ifile-spam-filter with eval-and-compile.
	(spam-display-buffer-contents): Remove.
	(spam-bogofilter-score): Merge spam-display-buffer-contents.

2002-10-17  Ted Zlatanov  <tzz@lifelogs.com>

	* spam.el (spam-display-buffer-contents): New function.
	(spam-bogofilter-score): use spam-display-buffer-contents, patch
	from Katsumi Yamaoka <yamaoka@jpl.org>.

2002-10-17  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nnheader.el (nnheader-parse-naked-head): New function.
	(nnheader-parse-head): Use the above function, in order to handle
	continuation lines properly.
	(nnheader-remove-body): New function.
	(nnheader-remove-cr-followed-by-lf): New function.
	(nnheader-ms-strip-cr): Use the above function.

	* gnus-agent.el (gnus-agent-regenerate-group): Call
	`nnheader-remove-body'; use `nnheader-parse-naked-head' instead of
	`nnheader-parse-head'.
	* gnus-cache.el (gnus-cache-possibly-enter-article): Ditto.

	* gnus-msg.el (gnus-inews-yank-articles): Do not unfold
	continuation lines by itself; call `nnheader-parse-naked-head'
	instead of `nnheader-parse-head'.
	* nndiary.el (nndiary-parse-head): Ditto.
	* nnfolder.el (nnfolder-parse-head): Ditto.
	* nnimap.el (nnimap-retrieve-headers-progress): Ditto.
	* nnmaildir.el (nnmaildir--update-nov): Ditto.
	* nnml.el (nnml-parse-head): Ditto.

2002-10-17  Steve Youngs  <youngs@xemacs.org>

	* gnus-art.el (gnus-button-man-handler): Add 'manual-entry' for
	XEmacs, default to it if featurep 'xemacs.

2002-10-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam-stat.el: Check for the existence of hash functions instead
	of the Emacs version to decide whether to load cl.  Suggested by
	Kai Gro,A_(Bjohann.

2002-10-15  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Open history
	if it isn't open yet.

2002-10-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el: Require mm-url only when compiling.
	(gnus-group-fetch-charter): Require mm-url.

	* spam-stat.el: Require cl for the functions gethash,
	hash-table-count, make-hash-table and mapc for Emacs 20.
	(puthash): Alias to cl-puthash for Emacs 20.
	(with-syntax-table): New macro for Emacs 20.

2002-10-12  Jesper Harder  <harder@ifa.au.dk>

	* gnus-spec.el (gnus-pad-form): Use gnus-string-width-function.

2002-10-11  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el (spam-check-ifile): added ifile as a spam checking
	backend, and spam-use-ifle as the variable to toggle that check.

2002-10-12  Simon Josefsson  <jas@extundo.com>

	* message.el (message-beginning-of-line): New variable.
	(message-beginning-of-line): Use it.

2002-10-11  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el: more compilation fixes for BBDB

	* spam-stat.el added code from Alex Schroeder <alex@gnu.org>
	(spam-stat-reduce-size): Interactive.
	(spam-stat-reset): New function.
	(spam-stat-save): Interactive.

2002-10-11  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el: Autoload gnus-delay-initialize.

	* message.el: Autoload gnus-delay-article.

2002-10-11  Jesper Harder  <harder@ifa.au.dk>

	* gnus-spec.el (gnus-balloon-face-function): Use the help-echo
	text property in Emacs.

2002-10-11  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-decrypt, mml2015-pgg-clear-decrypt)
	(mml2015-pgg-verify, mml2015-pgg-clear-verify): Remove CR.

	* mml1991.el (mml1991-pgg-sign): Remove CR.

2002-10-10  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-decrypt): Set gnus details even when
	decrypt failed.
	(mml2015-trust-boundaries-alist): Removed.
	(mml2015-gpg-extract-signature-details): Don't use it.
	(mml2015-unabbrev-trust-alist): New.
	(mml2015-gpg-extract-signature-details): Use it.

2002-10-10  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el: compilation fixes, spam-check-bbdb function is nil if no
	BBDB installed

	* spam-stat.el: added code from Alex Schroeder <alex@gnu.org> to do
	statistical analysis of spam in Lisp only

2002-10-10  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-open-server): Re-open server if it isn't in
	auth, selected or examine state.

	* pgg-gpg.el (pgg-gpg-verify-region): Filter out stuff into output
	buffer and error buffer depending on type of information.

	* mml2015.el (mml2015-gpg-extract-signature-details): Parse
	--status-fd stuff even if gpg.el is not used (revert earlier
	change).
	(mml2015-pgg-{clear-,}verify): Store both output and errors as
	gnus details.
	(mml2015-pgg-{clear-,}verify): Extract signature info from errors
	buffer.

	* pgg.el (pgg-verify-region): Use it.

	* pgg-def.el (pgg-query-keyserver): New variable.

	* pgg.el (pgg-decrypt-region): Bind pgg-default-user-id to
	key-identifier in packet.  Is this a good idea?

	* mml.el (mml-mode-map): Add security commands that operates on
	MIME parts.
	(mml-menu): And menu items for them.

	* mml1991.el (mml1991-pgg-encrypt): Remove headers.

	* mml.el (mml-parse-1): Support sender in #secure tags.

	* mml1991.el (mml1991-pgg-sign): Only use message-sender if it is
	defined.

	* mml-sec.el (mml-smime-encrypt-buffer): Warn about combined signing.
	(mml-pgp-encrypt-buffer): Support combined signing.

	* mml1991.el (mml1991-mailcrypt-encrypt): Support combined signing.
	(mml1991-gpg-encrypt): Ditto.
	(mml1991-pgg-encrypt): Ditto.
	(mml1991-encrypt): Pass sign parameter.

	* mml-sec.el (mml-signencrypt-style-alist): Defcustom.
	(mml-signencrypt-style): Mention the variable.

2002-10-09  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (mml1991-pgg-sign): Bind pgg-default-user-id, not
	pgg-gpg-user-id.

	* pgg.el (pgg-insert-url-with-w3): Ignore errors.
	(pgg-fetch-key-function): Nil if w3 is not installed.

2002-10-08  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Bind
	gnus-agent-current-history.

2002-10-06  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-status): Don't use read to read token.

2002-10-05  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-fetch-selected-article): Do nothing
	for methods not covered by the agent, and when unplugged.

2002-10-05  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-encrypt-region): Query passphrase when
	signing.

	* gnus-agent.el (gnus-agent-read-servers): If getting method from
	a named server fails, ignore the server.

	* mml1991.el (mml1991-pgg-sign): Do QP.

	* pgg-gpg.el (pgg-gpg-encrypt-region): Make signencrypt really
	work.

2002-10-04  Simon Josefsson  <jas@extundo.com>

	* pgg-gpg.el (pgg-gpg-encrypt-region): Make signencrypt work.

	* pgg-pgp.el (pgg-pgp-verify-region): Inline
	binary-write-decoded-region from MEL.

	* pgg.el (pgg-encrypt-region): Support sign.

	* pgg-gpg.el (pgg-gpg-encrypt-region): Ditto.

	* mml2015.el (mml2015-pgg-encrypt): Ditto.

	* pgg.el, pgg-def.el, pgg-parse.el, pgg-gpg.el, pgg-pgp5.el,
	pgg-pgp6.el: Moved from ../pgg/.  Modifications compared to EMIKO
	branch where PGG was taken from in the ChangeLog entries below.

2002-10-01  Simon Josefsson  <jas@extundo.com>

	* pgg-pgp.el: Don't require mel.  Don't use luna.
	(pgg-scheme-pgp-instance, pgg-make-scheme-pgp): Remove.
	(pgg-pgp-process-region): Use expand-file-name instead of concat.
	(pgg-pgp-process-region): Don't use binary-funcall.

	* pgg-pgp5.el (pgg-pgp5-process-region): Don't use binary-funcall.

	* pgg-gpg.el (pgg-gpg-process-region): Use expand-file-name
	instead of concat.

	* pgg-pgp5.el (pgg-pgp5-process-region): Ditto.

2002-09-29  Simon Josefsson  <jas@extundo.com>

	* pgg-parse.el (pgg-char-int, pgg-string-as-unibyte): Prevent byte
	compile warnings.

	* pgg.el (pgg-decrypt-region): Don't parse packet.

	* pgg.el, pgg-gpg.el, pgg-pgp5.el: Don't depend on luna.el.

2002-09-29  Daiki Ueno <ueno@unixuser.org>

	* pgg.el: Remove dependency on calist.el.

2002-09-28  Simon Josefsson  <jas@extundo.com>

	* pgg.el (pgg-temporary-file-directory): New variable.
	(pgg-verify-region): Don't assume set-buffer-multibyte exists.

	* pgg-pgp5.el (pgg-pgp5-process-region, pgg-scheme-verify-region)
	(pgg-scheme-snarf-keys-region): Use pgg-temporary-file-directory.

	* pgg-parse.el (pgg-char-int): Defalias.
	(pgg-format-key-identifier, pgg-byte-after, pgg-read-byte)
	(pgg-read-bytes, pgg-read-body): Use it.
	(pgg-decode-packets): Don't use MEL, use base64-*.
	(pgg-parse-armor): Don't assume set-buffer-multibyte exists.
	(pgg-string-as-unibyte): Defalias.
	(pgg-parse-armor-region): Use it.

	* pgg-gpg.el (pgg-gpg-process-region): Use
	pgg-temporary-file-directory.

	* luna.el: Don't def-edebug.

	* pgg-pgp5.el (pgg-scheme-verify-region): Inline
	binary-write-decoded-region from MEL.

	* pgg-pgp5.el, pgg-gpg.el: Don't require mel.

	* alist.el, calist.el: Don't require product/APEL.

	* pgg-parse.el (top-level): Remove dependency on static.el,
	pccl.el, mel.el.
	(pgg-parse-crc24, pgg-parse-crc24-string): Only define if
	`define-ccl-program' is boundp, instead of using broken.

2002-10-01  Simon Josefsson  <jas@extundo.com>

	* message.el (message-required-mail-headers): Remove Lines:.

2002-10-03  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Jesper Harder.

	* gnus-group.el (gnus-group-fetch-charter,
	gnus-group-fetch-control): Prompt for group if given a prefix
	argument.
	* gnus-sum.el (t): Add gnus-group-fetch-charter and
	gnus-group-fetch-control to summary key map and menu.

2002-10-03  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--group-maxnum-art): fix maximum article
	number when there are no articles.

2002-10-03  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-summary-fetch-group): Optional prefix
	arg ALL means to fetch all articles, not only downloadable ones.
	(gnus-agent-fetch-selected-article): New function for
	gnus-select-article-hook or gnus-mark-article-hook.

2002-10-02  Katsumi Yamaoka  <yamaoka@jpl.org>
	From Peter von der Ahe <nospam2159@daimi.au.dk>.

	* gnus-ems.el (gnus-x-splash): Set coding-system-for-read to
	raw-text.

2002-09-30  Ted Zlatanov <tzz@lifelogs.com>

	* spam.el: merged changes from pinard@iro.umontreal.ca (Fran,Ag(Bois
	Pinard).
	Major revamp of the code, documentation is in comments in the file
	for now.

2002-09-30  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-pgg-clear-verify): Verifying in a unibyte
	buffer seem to be needed?

2002-09-29  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (pgg-output-buffer, pgg-errors-buffer): Prevent byte
	compile warnings.

	* mml1991.el (mml1991-function-alist): Add pgg.
	(mml1991-pgg-sign, mml1991-pgg-encrypt): New functions.
	(mml1991-pgg-encrypt): Fix recipients querying.

2002-09-28  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (autoload): Autoload correct files.  Trivial patch
	from dme@dme.org.
	(mml2015-pgg-decrypt, mml2015-pgg-verify): Make sure either nil or
	handle is returned.

2002-09-27  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-fixup-nnimap-unread-after-getting-new-news):
	Protect against non-existent of `nnimap-mailbox-info'.

2002-09-27  Simon Josefsson  <jas@extundo.com>

	* gnus-start.el (gnus-fixup-nnimap-unread-after-getting-new-news): New.
	(gnus-setup-news-hook): Use it.
	(gnus-after-getting-new-news-hook): Ditto.

	* nnimap.el (nnimap-fixup-unread-after-getting-new-news): Remove.

2002-09-27  Katsumi Yamaoka  <yamaoka@jpl.org>
	From Mats Lidell <matsl@contactor.se>.

	* gnus-art.el (gnus-article-mode-syntax-table): Replace "-" to " ".

2002-09-27  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-sum.el (gnus-nov-parse-line): When an error is signaled in
	the part to decode encoded words, use raw words instead of decoded
	words.

2002-09-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnimap.el (nnimap-update-unseen): Use gnus-gethash-safe.

	* mm-view.el (mm-w3m-mode-ignored-keys): New variable.
	(mm-setup-w3m): Use it.

2002-09-27  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-article-mode-syntax-table): Make M-. work in
	article buffers.

	* nnimap.el (nnimap-fixup-unread-after-getting-new-news): Autoload
	it just in case.
	(nnimap-update-unseen): New function; update unseen count in
	`n-m-info'.
	(nnimap-close-group): Call it.

	* gnus-start.el (gnus-setup-news-hook): Add n-f-u-a-g-n-n.
	(gnus-after-getting-new-news-hook): Ditto.

	* nnimap.el (nnimap-retrieve-groups): Move the quick mail check
	message into verboselevel 9.  Change slow mail check message.
	(nnimap-retrieve-groups): Use prefixed names in n-mailbox-info.
	(nnimap-fixup-unread-after-getting-new-news): New function, to be
	used as a hook after getting new mail.

2002-09-26  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-resp-text-code): The UNSEEN value in
	SELECT/EXAMINE is first unseen article, not number of unseen
	articles.  Make them distinct by renaming the former to
	`first-unseen' instead of `unseen'.

	* nnimap.el (nnimap-retrieve-groups): Get uidvalidity and unseen
	too.
	(nnimap-retrieve-groups): Don't used cached data if uidvalidity
	changed.
	(nnimap-retrieve-groups): Store uidvalidity and unseen data too.

	* gnus-int.el (gnus-server-unopen-status): Defcustom.

	* mml-sec.el (mml-signencrypt-style): Docstring to font-lock
	better.

	* mml2015.el (mml2015-pgg-decrypt): Only add security information
	if dissecting resulting buffer actually had any information.

2002-09-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el (gnus-group-sort-by-method): Remove `symbol-name'
	because the function `string<' allows symbols.

	* gnus-sum.el (gnus-summary-make-menu-bar): Ditto.

2002-09-25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward-make-body): Revert an early change
	because 8-bit utf-8 emails.

2002-09-25  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* gnus-agent.el (gnus-category-line-format): Doc fixes (mostly added
	links to Info)
	* gnus-art.el (gnus-treat-highlight-signature):
	* gnus-art.el (gnus-treat-buttonize):
	* gnus-art.el (gnus-treat-buttonize-head):
	* gnus-art.el (gnus-treat-emphasize):
	* gnus-art.el (gnus-treat-strip-cr):
	* gnus-art.el (gnus-treat-unsplit-urls):
	* gnus-art.el (gnus-treat-leading-whitespace):
	* gnus-art.el (gnus-treat-hide-headers):
	* gnus-art.el (gnus-treat-hide-boring-headers):
	* gnus-art.el (gnus-treat-hide-signature):
	* gnus-art.el (gnus-treat-fill-article):
	* gnus-art.el (gnus-treat-hide-citation):
	* gnus-art.el (gnus-treat-hide-citation-maybe):
	* gnus-art.el (gnus-treat-strip-list-identifiers):
	* gnus-art.el (gnus-treat-strip-pgp):
	* gnus-art.el (gnus-treat-strip-pem):
	* gnus-art.el (gnus-treat-strip-banner):
	* gnus-art.el (gnus-treat-highlight-headers):
	* gnus-art.el (gnus-treat-highlight-citation):
	* gnus-art.el (gnus-treat-date-ut):
	* gnus-art.el (gnus-treat-date-local):
	* gnus-art.el (gnus-treat-date-english):
	* gnus-art.el (gnus-treat-date-lapsed):
	* gnus-art.el (gnus-treat-date-original):
	* gnus-art.el (gnus-treat-date-iso8601):
	* gnus-art.el (gnus-treat-date-user-defined):
	* gnus-art.el (gnus-treat-strip-headers-in-body):
	* gnus-art.el (gnus-treat-strip-trailing-blank-lines):
	* gnus-art.el (gnus-treat-strip-leading-blank-lines):
	* gnus-art.el (gnus-treat-strip-multiple-blank-lines):
	* gnus-art.el (gnus-treat-unfold-headers):
	* gnus-art.el (gnus-treat-fold-headers):
	* gnus-art.el (gnus-treat-fold-newsgroups):
	* gnus-art.el (gnus-treat-overstrike):
	* gnus-art.el (gnus-treat-display-xface):
	* gnus-art.el (gnus-treat-display-smileys):
	* gnus-art.el (gnus-treat-from-picon):
	* gnus-art.el (gnus-treat-mail-picon):
	* gnus-art.el (gnus-treat-newsgroups-picon):
	* gnus-art.el (gnus-treat-body-boundary):
	* gnus-art.el (gnus-treat-capitalize-sentences):
	* gnus-art.el (gnus-treat-fill-long-lines):
	* gnus-art.el (gnus-treat-play-sounds):
	* gnus-art.el (gnus-treat-translate):
	* gnus-art.el (gnus-treat-x-pgp-sig):
	* gnus-art.el (gnus-mime-button-line-format):
	* gnus-art.el (gnus-button-man-level):
	* gnus-art.el (gnus-button-emacs-level):
	* gnus-cus.el (gnus-group-parameters):
	* gnus-gl.el (bbb-build-mid-scores-alist):
	* gnus-group.el (gnus-group-line-format):
	* gnus-mlspl.el (gnus-group-split-setup):
	* gnus-mlspl.el (gnus-group-split):
	* gnus-msg.el (gnus-mailing-list-groups):
	* gnus-msg.el (gnus-posting-styles):
	* gnus-nocem.el (gnus-nocem-issuers):
	* gnus-score.el (gnus-score-regexp-bad-p):
	* gnus-srvr.el (gnus-server-line-format):
	* gnus-topic.el (gnus-topic-line-format):
	* gnus.el (gnus-summary-line-format):
	* mail-source.el (mail-sources):
	* message.el (message-subscribed-address-file):
	* nnmail.el (nnmail-split-fancy):

2002-09-24  Evgeny Roubinchtein  <zhenya@freeshell.org>

	* mail-source.el(mail-source-run-script): use `functionp' to test
	whether the argument `script' is in fact a function.
	(mail-sources): adjust the defcustom to allow users to specify a
	function or a string as the value of the `:prescript' and
	`:postscript' arguments of the `file' and `pop3' mail sources.

2002-09-25  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--grp-add-art): fix minimum article
	number when article 1 does not exist.

2002-09-25  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (gnus-button-handle-apropos-variable): Fall back to
	apropos if apropos-variable does not exist.
	(gnus-button-guessed-mid-regexp)
	(gnus-button-handle-describe-prefix, gnus-button-alist): Better
	regexes.  From Reiner Steib.
	(gnus-button-handle-describe-function)
	(gnus-button-handle-describe-variable): Doc fix.  From Reiner Steib.
	(gnus-button-handle-describe-key, gnus-button-handle-apropos)
	(gnus-button-handle-apropos-command): Doc fix.  From Reiner Steib.

2002-09-25  Mark A. Hershberger  <mah@everybody.org>
	Trivial patch.

	* nnrss.el (nnrss-save-server-data): Save nnrss-group-alist in
	the file.

2002-09-24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-1): Create nndraft:queue, nndraft:drafts.

2002-09-24  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (top-level): Require mm-util for mm-make-temp-file.
	(mml2015-use): Prefer PGG if installed.
	(mml2015-function-alist): Add PGG wrappers.
	(mml2015-gpg-extract-signature-details): Check mml2015-use too.
	(mml2015-gpg-extract-signature-details): PGG strips "gpg: "
	prefix, make regexp optionally skip it.
	(mml2015-pgg-decrypt, mml2015-pgg-clear-decrypt)
	(mml2015-pgg-verify, mml2015-pgg-clear-verify, mml2015-pgg-sign)
	(mml2015-pgg-encrypt): New functions.
	(defvar, autoload): Prevent byte-compile warnings.

2002-09-24  Katsumi Yamaoka  <yamaoka@jpl.org>
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>.

	* gnus-art.el (article-strip-banner): Check for the existence of
	from header.

2002-09-23  Kai Gro,b_(Bjohann  <grossjoh@ls6.informatik.uni-dortmund.de>

	* gnus-art.el (gnus-button-guessed-mid-regexp): Improved regexp.
	(gnus-button-alist): Improved regexp for
	gnus-button-handle-mid-or-mail (false positives), fixed
	gnus-button-handle-man entries.
	From Reiner Steib.

2002-09-23  Paul Jarc  <prj@po.cwru.edu>
	From Josh Huber.

	* nnmaildir.el (nnmaildir--update-nov): fix wrong-type error when
	nnmail-extra-headers is non-nil.

2002-09-23  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: Store article numbers persistently.  General
	revision.
	(nnmaildir-request-expire-articles): handle 'immediate and 'never
	for nnmail-expiry-wait; delete instead of moving if 'force is
	given.

2002-09-23  Simon Josefsson  <jas@extundo.com>
	Trivial fix from beaker@iavmb.pl (Krzysztof J,Bj(Bdruczyk).

	* smime.el (smime-sign-buffer): Get key and extra certs.
	(smime-get-key-with-certs-by-email): Utility function.

2002-09-21  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Micha Wiedenmann <mw-u1@gmx.de>

	* gnus-soup.el (gnus-soup-add-article): Mark as read only when the
	article exists.

2002-09-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-next-group): Switch to the summary buffer.

2002-09-20  Kai Gro,b_(Bjohann  <grossjoh@ls6.informatik.uni-dortmund.de>
	From Reiner Steib.

	* gnus-art.el (gnus-button-handle-custom,
	gnus-button-handle-mid-or-mail,
	gnus-button-handle-describe-{function,variable,key},
	gnus-button-handle-apropos{,command,variable}): New functions.
	(gnus-button-prefer-mid-or-mail,gnus-button-guessed-mid-regexp,
	gnus-button-{man,emacs,mail}-level): New variables.
	(gnus-button-alist): Use the above to buttonize emacs and mail
	related links.

2002-09-18  Juanma Barranquero  <lektu@terra.es>

	* gnus-int.el (gnus-status-message): Fix spacing.

	* imap.el (imap-continuation): Fix typos.

2002-09-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-configure-posting-styles): Sort results.

	* gnus-art.el (gnus-article-reply-with-original): Correct
	with-current-buffer scope.

	* message.el (message-completion-alist): Add Reply-To, From, etc.

2002-09-18  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-request-expire-articles): Make flag setting
	conditional.  From Nevin Kapur <nevin@jhu.edu>.

2002-09-17  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-expiry-target): Don't search for which
	articles exists here.
	(nnimap-request-expire-articles): Do it here instead.  Only expire
	when articles are found.  Suggested by Nevin Kapur
	<nevin@jhu.edu>.

2002-09-17  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Reiner Steib <reiner.steib@gmx.de>.

	* message.el (message-strip-subject-trailing-was)
	(message-change-subject, message-add-archive-header)
	(message-xpost-fup2-header, message-xpost-insert-note)
	(message-xpost-fup2, message-reduce-to-to-cc): New functions
	adopted from message-utils.el.  Add functions to the keymap, mode
	describtion and menu.
	(message-change-subject,message-xpost-fup2): Signal error if
	current header is empty.
	(message-xpost-insert-note): Changed insert position.
	(message-archive-note): Ensure to insert note in message body (not
	in head).
	(message-archive-header, message-archive-note)
	(message-xpost-default, message-xpost-note, message-fup2-note)
	(message-xpost-note-function): New variables adopted from
	message-utils.el.  Changed some doc-strings.
	(message-mark-insert-{begin,end}): Rename from
	message-{begin,end}-inserted-text-mark (message-utils.el), changed
	values.
	(message-subject-trailing-was-query)
	(message-subject-trailing-was-ask-regexp)
	(message-subject-trailing-was-regexp): New variables.
	(message-to-list-only): Added doc-string and menu entry.

	* message-utils.el: Removed.  Functions are now in message.el.

2002-09-16  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-reply-with-original,
	gnus-article-followup-with-original): Switch to
	gnus-summary-buffer before reply/followup.

2002-09-15  John Paul Wallington  <jpw@shootybangbang.com>

	* gnus-sum.el (gnus-summary-toggle-header): The article window may
	not exist. Toggle it anyway.

2002-09-13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-copy-article-buffer): Bind mail-header-separator.

	* gnus-art.el (article-fill-long-lines): Fill-paragraph properly.
	Trivial patch from Urban Engberg <ue@ccieurope.com>.

	* rfc2047.el (message-posting-charset): Defvar it.
	(rfc2047-charset-encoding-alist): Use B for iso-8859-7 and
	iso-8859-8. Fix doc.  Suggested by Dave Love <fx@gnu.org>.

	* mail-source.el (mail-source-fetch): Hide password.

	* gnus-sum.el (gnus-summary-next-group): Semi-exit only when needed.

2002-09-12  Katsumi Yamaoka  <yamaoka@jpl.org>
	From John Paul Wallington <jpw@shootybangbang.com>.

	* gnus.el (gnus-visual, gnus-meta): Fix typo.

2002-09-11  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-address-banner-alist): Doc fix.

2002-09-11  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-expiry-target): Only expiry-target existing articles.
	(nnimap-split-rule): Doc fix.
	(nnimap-request-expire-articles): Cleanup code.

2002-09-11  Katsumi Yamaoka  <yamaoka@jpl.org>
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>.

	* gnus-art.el (gnus-article-address-banner-alist): New option.
	(article-strip-banner): Refer the above option to split banners of
	free mail servers, when no group parameter is specified.

2002-09-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-wait-for-string): Check for a process in the
	current buffer instead of `nntp-server-buffer'.

2002-09-09  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-man-handler): New variable.
	(gnus-button-alist): Use g-b-handle-man.
	(gnus-button-handle-man): New, call g-b-man-handler.

2002-09-08  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-alist): Buttonize man page links.

2002-09-07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-dumbquotes-map): Add \230.

2002-09-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-browse-make-menu-bar): Add "d".

	* gnus-sum.el (gnus-summary-limit-to-unseen): New command and
	keystroke.

	* gnus-srvr.el (gnus-browse-describe-group): New command and
	keystroke.

2002-09-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-treat-body-boundary): Don't quote a
	value for gnus-decoration property.

2002-09-06  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-cache-fetch-group): Don't return "" (empty
	string) as group name in case we have a CRLF in the file.

2002-09-04  Jesper Harder  <harder@ifa.au.dk>

	* rfc1843.el (rfc1843-decode-loosely): Move to mime customization
	group.
	(rfc1843-decode-hzp): do.
	(rfc1843-newsgroups-regexp): do.

2002-09-04  Simon Josefsson  <jas@extundo.com>

	* message.el (message-canlock-generate): Make sure sha1 doesn't
	call external programs.

2002-09-03  Simon Josefsson  <jas@extundo.com>

	* nntp.el (nntp-wait-for-string): Dont infloop if process died.

	* gnus-agent.el (gnus-agent-batch): Add doc.

2002-09-03  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el (gnus-summary-handle-replysign): Change the order we
	check for signed and encrypted parts.
	* mml.el (mml-parse-1): Correct small typo which preventing
	setting recipients in a secure tag.

2002-09-03  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-util.el (mm-coding-system-priorities): Default to a list of
	iso-2022-jp and others for the Japanese environment.

2002-09-03  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-util.el (gnus-frame-or-window-display-name): Exclude
	invalid display names.

2002-08-30  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-fetch-control): Fix typo in last
	commit.  From Reiner Steib <4uce.02.r.steib@gmx.net>.

2002-08-26  Jesper Harder  <harder@ifa.au.dk>

	* gnus.el (gnus-group-charter-alist): New option.
	(gnus-group-fetch-control-use-browse-url): New option.

	* gnus-group.el (gnus-group-fetch-charter): New function.
	(gnus-group-fetch-control): New function.
	Add them to the keymap and menu. Require mm-url.

2002-08-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-mlspl.el (gnus-group-split-fancy): Doc fix.
	From Alex Schroeder <alex@emacswiki.org>.

2002-08-29  Jesper Harder  <harder@ifa.au.dk>

	* gnus-group.el (gnus-group-make-menu-bar): Add ellipses to menu
	items expecting user interaction.

	* gnus-topic.el (gnus-topic-make-menu-bar): do.

	* gnus-sum.el (gnus-summary-make-menu-bar): do.

	* gnus-srvr.el (gnus-server-make-menu-bar): do.

	* mml.el (mml-menu): do.

2002-08-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mail-source.el (mail-source-touch-pop): New function.

	* message.el (message-smtpmail-send-it): New function.
	(message-send-mail-function): Add it for a candidate.

2002-08-27  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (posting-charset-alist): Use
	gnus-define-group-parameter instead of defcustom.
	(gnus-put-message): Handle SPC in GCC.
	(gnus-inews-insert-gcc): Ditto.
	(gnus-inews-insert-archive-gcc): Ditto.

2002-08-26  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agent-auto-agentize-methods): New variable.
	(gnus-agentize): Auto agentize all nntp and nnimap groups.
	(gnus-agent-possibly-save-gcc): Autoload.
	Suggested by (KOSEKI Yoshinori) <kose@meadowy.org>.

2002-08-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-other-frame-function): New user option.
	(gnus-other-frame): Use it; add a doc-string; make it work with
	the gnuclient program.

	* gnus-util.el (gnus-frame-or-window-display-name): New function.

	* lpath.el: Fbind `frame-parameter', `make-frame-on-display',
	`device-connection' and `dfw-device'.

2002-08-22  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (gnus-emphasis-alist): Strikethru had a lot of false
	positives, make it stricter.  From Jochen Hein (trivial change).

2002-08-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-other-frame): Trivial fix.

2002-08-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-other-frame-parameters): New user option.
	(gnus-other-frame-object): New variable.
	(gnus-other-frame): Make it search for existing Gnus frame; don't
	read new news; delete frame on exit.

	* gnus-util.el (gnus-select-frame-set-input-focus): New function.

	* lpath.el: Fbind w32-focus-frame and x-focus-frame.

2002-08-20  Katsumi Yamaoka  <yamaoka@jpl.org>
	From $B>.4X(B $B5HB'(B (KOSEKI Yoshinori) <kose@meadowy.org>.

	* message.el (message-set-auto-save-file-name): Add support for
	the Cygwin Emacs; the system-type is `cygwin'.
	* nnheader.el (nnheader-file-name-translation-alist): Ditto.

2002-08-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-button-url-regexp): Use POSIX regexp if possible.

	* nnmh.el (nnmh-request-list-1): Use %.0f instead of %d to
	avoid arithmetic errors.

2002-08-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el: Don't fbind `gnus-article-replace-with-quoted-text'.

2002-08-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-ignored-supersedes-headers): Add X-Hashcash.
	(message-ignored-resent-headers): Add envelope From.

2002-08-18  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus.el (gnus-summary-line-format): Document %k specifier.

2002-08-17  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-summary-line-message-size): New function.
	(gnus-summary-line-format-alist): Use it.

2002-08-15  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-make-date-line): Refer to the value for
	`gnus-article-time-format' in the summary buffer.

	* message.el (message-cite-prefix-regexp): Exclude ":" and ",A;(B".

2002-08-14  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-button-alist): Use ' not ` for default value
	quoting.
	(gnus-button-alist): Fix doc.
	(gnus-header-button-alist): Use ' not ` for default value quoting.
	(gnus-header-button-alist): Don't inline gnus-button-url-regexp,
	rationale similar to 2002-05-01 change.
	(gnus-article-add-buttons-to-head): Evaluate expression.

	* gnus-sum.el (gnus-summary-make-menu-bar): Add MIME button option.

2002-08-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-font-lock-keywords): Refer to the value for
	`message-cite-prefix-regexp' dynamically.

2002-08-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-decode-header-methods): Doc fix.

2002-08-12  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-shell-open): Allow non-list `imap-shell-program'.
	(imap-shell-open): Skip initial junk before IMAP greeting.

2002-08-11  Simon Josefsson  <jas@extundo.com>

	* message-utils.el (message-xpost-default,
	message-xpost-fup2-header, message-xpost-fup2): Fixed
	Typos.  Trivial changes from Reiner Steib
	<4uce.02.r.steib@gmx.net>.

2002-08-09  Simon Josefsson  <jas@extundo.com>

	* message.el (message-canlock-password): Set
	canlock-password-for-verify to newly generated canlock-password.
	When Emacs is restarted, Custom makes sure this is set, but during
	the same session we must set it manually.

2002-08-07  Jesper Harder  <harder@ifa.au.dk>

	* yenc.el: New file.

	* mm-uu.el (mm-uu-yenc-decode-function): New variable.
	(mm-uu-type-alist): Add yenc.
	(mm-uu-yenc-filename): New function.
	(mm-uu-yenc-extract): New function.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Add yenc.

2002-08-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (merge): Don't use coerce.

2002-05-27  Jesper Harder  <harder@ifa.au.dk>

	* mailcap.el (mailcap-mime-data): Test window-system rather than
	mm-device-type.
	(mailcap-mime-data): Call xdvi and gv with "-safer".

	* mm-util.el: Don't define mm-device-type.

2002-08-05  Simon Josefsson  <jas@extundo.com>

	* mm-util.el (mm-coding-system-priorities): coding-system type not
	supported everywhere.

2002-08-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bumped version number.

2002-08-04 01:48:57 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.07 is released.

2002-08-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-thread-sort-functions): Doc fix.
	(gnus-article-sort-functions): Doc fix.
	(t): New keystroke.
	(gnus-article-sort-by-random): New function.
	(gnus-thread-sort-by-random): New function.

2002-08-02  Simon Josefsson  <jas@extundo.com>

	* gnus-logic.el (gnus-advanced-integer): Swap arguments in
	funcall.  From Scott A Crosby <scrosby@cs.rice.edu>.

2002-07-31  Danny Siu  <dsiu@adobe.com>

	* nnimap.el (nnimap-split-articles): do not call nnmail-fetch-field
	when splitting malformed messages without message-id

2002-07-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Niklas Morberg <niklas.morberg@axis.com>.

	* nnweb.el (nnweb-type, nnweb-type-definition)
	(nnweb-gmane-create-mapping, nnweb-gmane-wash-article)
	(nnweb-gmane-search, nnweb-gmane-identity): Added gmane
	functionality.
	* nnweb.el: Removed old non-functioning search engines.

2002-07-27  Simon Josefsson  <jas@extundo.com>

	* message.el (message-forward-make-body): Don't use
	`message-forward-ignored-headers' when doing a "raw" followup (it
	is important to preserve e.g. CTE).

	* flow-fill.el (fill-flowed): Disable filladapt-mode.

	* gnus-sieve.el (gnus-sieve-guess-rule-for-article): Don't
	regexp-quote, Cyrus Sieve is fixed.

	* sieve-manage.el (sieve-manage-deletescript): New function.

	* sieve.el (sieve-manage-mode-map): Fix down-mouse-2 and down-mouse-3.
	(sieve-manage-mode): Fix menubar.
	(sieve-activate): Change some messages.
	(sieve-deactivate-all): New function.
	(sieve-deactivate): New alias.
	(sieve-remove): New function.
	(sieve-help): Fix help.
	All suggested by Ned Ludd.

2002-07-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-inline-text-html-with-images): Doc fix.
	(mm-w3m-safe-url-regexp): New user option.

	* mm-view.el (mm-inline-text-html-render-with-w3m): Use
	`mm-w3m-safe-url-regexp' to bind `w3m-safe-url-regexp'.

2002-07-23  Karl Kleinpaste  <karl@charcoal.com>

	* gnus-sum.el (gnus-summary-delete-article): Force
	nnmail-expiry-target to 'delete, so that absolute deletion
	happens when absolute deletion is requested.

2002-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Nevin Kapur <nevin@jhu.edu>.

	* nnmail.el (nnmail-fancy-expiry-target): Treat nonexisting
	headers as empty headers.

2002-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Jochen Hein <jochen@jochen.org>.

	* gnus-art.el (gnus-emphasis-alist): Add strikethrough and
	correct typo.
	(gnus-emphasis-strikethru): New face.

2002-07-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Jason Merrill <jason@redhat.com>.

	* nnfolder.el (nnfolder-retrieve-headers): Avoid searching the
	entire file for each of a sequence of missing articles.

	* gnus-salt.el (gnus-binary-display-article): Respect an existing
	value for gnus-view-pseudos.

	* gnus-sum.el (gnus-summary-insert-new-articles): Count down to
	avoid nreverse.

2002-07-14  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Ted Zlatanov <teodor.zlatanov@divine.com>.

	* gnus-sum.el (gnus-auto-expirable-marks): Remove `spam'.
	(gnus-summary-mode-line-format-alist): Add %h for number of
	spams.
	(gnus-newsgroup-spam-marked): New variable.
	(gnus-summary-local-variables): Add gnus-newsgroup-spam-marked.
	(gnus-article-read-p, gnus-article-mark)
	(gnus-set-global-variables, gnus-set-global-variables)
	(gnus-article-marked-p, gnus-summary-mark-article-as-read)
	(gnus-summary-mark-article-as-unread)
	(gnus-summary-mark-article-as-unread, gnus-summary-mark-article)
	(gnus-mark-article-as-read, gnus-mark-article-as-unread)
	(gnus-mark-article-as-unread, gnus-summary-catchup): Grok spam.

2002-07-10  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-to-groups): Allow group string to be a
	function.  From KANEMATSU Daiji <kdaiji@bea.com>.

2002-07-09  Nevin Kapur  <nevin@jhu.edu>

	* gnus-sum.el (gnus-summary-delete-article): Respect group
	parameters while expiring.

2002-07-08  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (article-make-date-line): Fix string.  From Henrik
	Enberg.

2002-07-08  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (article-unsplit-urls): Only display MIME when this
	function is called interactively.  From Niklas Morberg.

2002-07-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-indent, gnus-topic-unindent): Change
	cdaar to cdar and car.

	* nnsoup.el (nnsoup-retrieve-headers, nnsoup-request-type)
	(nnsoup-read-active-file, nnsoup-article-to-area): Ditto.

2002-07-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-toggle-header): Show headers anyway;
	don't break a narrowed article.

	* nntp.el (nntp-via-rlogin-command-switches): Doc fix.
	(nntp-open-via-rlogin-and-telnet): Ditto.

2002-07-02  Didier Verna  <didier@xemacs.org>

	* nnmail.el (nnmail-split-methods): fix custom type.

2002-07-02  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (article-unsplit-urls): Keep URL buttonized after
	unsplitting.  From Niklas Morberg <niklas.morberg@axis.com>.

2002-07-01  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-summary-resend-default-address): New user option.
	(gnus-summary-resend-message): Use it.

2002-06-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-via-rlogin-command-switches): New variable.
	(nntp-open-via-rlogin-and-telnet): Re-revert; use the var above.

2002-06-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Don't fontify
	headers in the message body, only in the header.
	(message-font-lock-make-header-matcher): New function, used by
	message-font-lock-keywords.
	From Katsumi Yamaoka <yamaoka@jpl.org>.

2002-06-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-open-via-rlogin-and-telnet): Revert last change.

2002-06-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-open-via-rlogin-and-telnet): Hide commandline args.

2002-06-26  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Revert 2002-06-22
	change.

2002-06-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Put colon in header
	name match.

2002-06-22  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-font-lock-keywords): Don't use header faces
	in the body.  Thanks to Stefan Monnier for the hint on the
	implementation.

2002-05-09  Miles Bader  <miles@gnu.org>

	* gnus-cite.el (gnus-cite-blank-line-after-header): New variable.
	(gnus-article-hide-citation): Respect it.

2002-04-12  Juanma Barranquero  <lektu@terra.es>

	* pop3.el (pop3-open-server): Fix typo.

2002-06-18  Josh Huber  <huber@alum.wpi.edu>

	* gnus.el (gnus-find-subscribed-addresses): Use add-to-list
	instead of push to ignore duplicate to-(list|address) values.
	* nnmail.el (nnmail-cache-ignore-groups): New.
	* nnmail.el (nnmail-cache-insert): Obey nnmail-cache-ignore-groups

2002-06-18  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-queue): Delete the delay header
	before sending.  Suggested by Jan Rychter.

2002-06-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (remove): New compiler macro.
	(last, coerce, subseq): Remove compiler macros for those built-in
	or unused functions.

2002-06-17  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-start.el (gnus-clear-system, gnus-read-newsrc-file): Make
	sure to write byte-compiled versions of gnus-*-format-alist to
	.newsrc.eld.  From Simon Josefsson.

2002-06-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-agent.el (gnus-agent-read-servers)
	(gnus-agent-write-servers): Put server name (string like
	"nnchoke:frumple") in the file instead of a server specification
	(Lisp expression like (nnchoke "frumple" ...parameters...)).
	From Bj,Ax(Brn Mork <bmork@dod.no>.

2002-06-16  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-remove-article): n is &optional.  From
	Reiner Steib <4uce.02.r.steib@gmx.net>.

2002-06-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-file-name-translation-alist): Set the
	default value for MS Windows systems.

	* gnus-ems.el (nnheader-file-name-translation-alist): Removed.

2002-06-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-beginning-of-line): Keep the region active
	in XEmacs.  Suggested by TAKAHASHI Kaoru <kaoru@kaisei.org>.

2002-06-13  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el (gnus-summary-followup): Use g-s-handle-replysign.
	* gnus-msg.el (gnus-summary-reply): Ditto.
	* gnus-msg.el (gnus-summary-handle-replysign): New.

2002-06-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-send-mail-with-sendmail): Kill errbuf even
	if sending failed.

2002-06-11  Josh Huber  <huber@alum.wpi.edu>

	* gnus-start.el (gnus-dribble-enter): Don't call set-window-point anymore
	* mml2015.el (mml2015-mailcrypt-encrypt): Accept optional argument
	to sign while encrypting.

2002-06-11  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-request-move-article): Agent expire article if
	successfuly moved.

	* nnweb.el (nnweb-google-create-mapping): Honors the value of
	nnweb-max-hits.  From Niklas Morberg <niklas.morberg@axis.com>.

2002-06-10  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-request-expire-articles): Fix last change?

2002-06-09  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-delete-article): Don't agent expire here.

	* gnus-int.el (gnus-request-expire-articles): Do it here instead.

2002-06-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* flow-fill.el (fill-flowed): Ignore errors.

2002-06-06  Simon Josefsson  <jas@extundo.com>

	* message.el (message-send-mail-with-sendmail): Improve error message.

2002-06-06  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-interactive): Change default from nil to t.
	Better to be safe than to be fast.

2002-06-05  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-send-mail-with-sendmail): Check return value
	from call-process-region.

2002-06-04  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-group-mail, gnus-group-news)
	(gnus-group-post-news, gnus-summary-mail-other-window)
	(gnus-summary-news-other-window, gnus-summary-post-news): Bind
	gnus-article-copy to nil, thereby inhibiting the `header' posting
	style match to use data from last viewed article.
	Suggested by Hrvoje Niksic.

2002-06-04  Katsumi Yamaoka  <yamaoka@jpl.org>

	* spam.el (spam-point-at-eol): New alias.
	(spam-parse-whitelist): Use it.

2002-06-03  Simon Josefsson  <jas@extundo.com>

	* nnmail.el (nnmail-mail-splitting-decodes): New variable.
	(nnmail-article-group): Use it.

2002-05-30  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-inews-yank-articles): Merge split header lines
	so that code reading them won't be surprised.  From Jesper Harder
	<harder@ifa.au.dk>.

2002-05-29  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-delete-article): Agent expire deleted
	articles.

	* gnus.el (gnus-agent-cache): Doc fix.
	(gnus-agent): Change default to t.

	* gnus-agent.el (gnus-agent-expire): Make it accept optional
	ARTICLES, GROUP and FORCE parameters.

2002-05-28  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-line-format): Doc fix.

2002-05-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-inews-yank-articles): Unfold headers of
	original article before yanking.  From Jesper Harder
	<harder@ifa.au.dk>.

2002-05-26  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-menu-split): New function.
	(gnus-summary-make-menu-bar): Split charset submenu.
	(gnus-summary-menu-maxlen): New variable.
	(gnus-summary-menu-split): Use it.

2002-05-25  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-preview): Generate some headers.

	* gnus.el (gnus-large-newsgroup): Fix :type.

	* nnimap.el (nnimap-nov-is-evil): Change default to t (because the
	Agent cache NOV's by default now).
	(nnimap-nov-is-evil): Make it default to `gnus-agent' instead.

2002-05-18  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-dependencies-add-header): Avoid one unecessary
	call to gnus-parent-id when we check for References loops.
	(gnus-summary-prepare-threads): Avoid simplifying every Subject
	twice by saving the simplified subject string in simp-subject.

2002-05-23  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-confirm-mail-reply-to-news): Typo.  Trivial
	change from Benjamin Rutt <rutt+news@cis.ohio-state.edu>.

	* nnweb.el (nnweb-type): Remove dejanewsold.  Trivial change from
	Niklas Morberg <niklas.morberg@axis.com>.

2002-05-22  Simon Josefsson  <jas@extundo.com>

	* sieve.el (sieve-change-region): Define it before it is used.

	* gnus-msg.el (gnus-confirm-mail-reply-to-news)
	(gnus-summary-reply): Ask for confirmation when replying to news.
	Defaults to not ask.  From Benjamin Rutt
	<rutt+news@cis.ohio-state.edu>.

	* nnimap.el (nnimap-nov-is-evil): Improve doc.

2002-05-21  Simon Josefsson  <jas@extundo.com>

	* sieve-mode.el (sieve-manage): Fix autoloads.

	* sieve-manage.el (sieve-manage-cram-md5-auth): Just send the SASL
	name (makes it work with recent Cyrus timsieved).

2002-05-20  Jason  <jbaker@cs.utah.edu>
	Trivial patch.

	* gnus-art.el (gnus-request-article-this-buffer): Try
	reconnecting if you don't get the message.

2002-05-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-enter-digest-group): Only get
	Reply-To headers from the headers.

2002-05-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-url.el (mm-url-insert): Remove junk message.

2002-05-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-list): Parse new html.
	(nnslashdot-use-front-page): New variable.
	(nnslashdot-request-list): Use it.

	* mm-url.el (mm-url-timeout): New variable.
	(mm-url-retries): Ditto.
	(mm-url-insert): Use it.

2002-05-16  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-simplify-all-whitespace): New function.
	(gnus-simplify-subject-functions): Mention g-s-a-w.

2002-05-15  Josh Huber  <huber@alum.wpi.edu>

	* nnbabyl.el (nnbabyl-request-accept-article): Pass group to
	nnmail-cache-insert.
	* nndiary.el (nndiary-request-accept-article): Ditto.
	* nnfolder.el (nnfolder-request-accept-article): Ditto.
	* nnimap.el (nnimap-request-accept-article): Ditto.
	* nnmail.el (nnmail-process-unix-mail-format): Ditto.
	* nnmail.el (nnmail-check-duplication): Ditto. (from gnus-art)
	* nnmbox.el (nnmbox-request-accept-article): Ditto.
	* nnmh.el (nnmh-request-accept-article): Ditto.
	* nnmail.el (nnmail-cache-insert): Change group to required,
	removed code which tried to figure out the group.

2002-05-13  Josh Huber  <huber@alum.wpi.edu>

	* mml.el (mml-generate-mime-1): Fix mml generation for signed only
	messages. From Hans de Graaff <hans@degraaff.org>.
	* nnml.el (nnml-request-accept-article): Pass in the group name to
	nnmail-cache-insert, since it's available.

2002-05-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-mime-digest-type-p): Set proper file-end.

2002-05-08  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Florian Weimer <fw@deneb.enyo.de>.

	* gnus.el (subscribed): New group parameter.
	(gnus-find-subscribed-addresses): Use it.

2002-05-08  Josh Huber  <huber@alum.wpi.edu>

	* mml-sec.el (mml-signencrypt-style-alist): Rename.  Also, changed
	the default for pgpmime to support pgp v2.
	* mml-sec.el (mml-signencrypt-style): New accessor function to
	allow users to get/set the signencrypt style more easily without
	frobbing the alist directly.
	* mml.el (mml-generate-mime-1): Use accessor function.

2002-05-08  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (gnus-article-mode-syntax-table): Specify matching
	parenthesis for "<" and ">".  Suggested by Andreas Schwab
	<schwab@suse.de>.

2002-05-07  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-cache-insert): Prefer group-art over group
	when intuiting the group the message is written to.  From Josh
	Huber <huber@alum.wpi.edu>.

2002-05-06  Simon Josefsson  <jas@extundo.com>

	* gnus-topic.el (gnus-group-topic-parameters): Work when group
	buffer doesn't show group.  From Matt Armstrong <matt@lickey.com>.

2002-05-06  Josh Huber  <huber@alum.wpi.edu>

	* mml2015.el (mml2015-gpg-encrypt): Changed name of optional
	argument, and fixed compiler warning. (added autoload for
	gpg-encrypt).

2002-05-04  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (mml1991-function-alist): Doc fix.

	* mml.el (mml-preview): Bind gnus-newsrc-hashtb temporarily if it
	doesn't exist (for previewing messages without having Gnus
	started).

	* mm-util.el (mm-coding-system-priorities): Defcustom.

	* mm-encode.el (mm-content-transfer-encoding-defaults): Defcustom.

2002-05-01  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el (gnus-message-replysignencrypted): enabled by
	default.
	* mml-sec.el:
	* mml-sec.el (mml-signencrypt-style): New.
	* mml-sec.el (mml-pgpmime-encrypt-buffer): Accept optional
	argument `sign'.
	* mml-sec.el (mml-secure-message-encrypt-pgp): Changed default to
	signencrypt.
	* mml-sec.el (mml-secure-message-encrypt-pgpmime): Ditto.
	* mml.el (mml-generate-mime-1): Changed logic so a part which is
	both signed & encryped is processed in one operation. (rather than
	two separate ops: sign, then encrypt)
	* mml2015.el (mml2015-gpg-extract-signature-details): Give some
	indication if a message is signed by an expired key.
	* mml2015.el (mml2015-gpg-encrypt): Accept optional argument which
	enables combined sign & encrypt operation. (this was always on
	before).
	* mml2015.el (mml2015-encrypt): Accept optional argument `sign'.

2002-05-01  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-retrieve-groups): Use separate data for each
	server.
	(nnimap-mailbox-info): defvar instead of defvoo.

2002-05-01 20:09:21 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.06 is released.

2002-05-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* lpath.el: Bind url-package-version.

2002-05-01  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-request-delete-group): Figure out nov/mrk
	filename before deleting the group itself, because the presence of
	a group filename decides if long filenames are used or not.

	* gnus-art.el (gnus-button-alist): Don't inline
	gnus-button-url-regexp.  This makes it possible to change g-b-u-r
	without also modifying g-button-alist.
	(gnus-button-alist): Fix type to allow variable as well as regexp.
	(gnus-article-add-buttons): Evaluate regexp.  Strings evaluate to
	themselves, variables to its contents.
	(gnus-button-entry): Ditto.

2002-05-01  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-resp-text-code, imap-parse-status): Treat
	UIDNEXT as a string.

	* nnimap.el (nnimap-string-lessp-numerical): New function.
	(nnimap-retrieve-groups): Compare UIDNEXT as strings instead of
	integers.

2002-04-29  Simon Josefsson  <jas@extundo.com>

	* nnmail.el (nnmail-cache-insert): Accept optional group
	parameter.

	* nnimap.el (nnimap-retrieve-groups): Don't send STATUS when
	n-r-g-a is disabled.

2002-04-29  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-fancy): Fix doc.
	(nnimap-split-fancy): Fix doc.

	* nnimap.el (nnimap-retrieve-groups-asynchronous): New variable.
	(nnimap-mailbox-info): New internal variable.
	(nnimap-retrieve-groups): Implement faster new mail check.

	* nnimap.el (nnimap-split-articles): Support
	nnmail-cache-accepted-message-ids.
	(nnimap-request-accept-article): Ditto.

	* imap.el (imap-mailbox-status-asynch): New command.

2002-04-29  Nevin Kapur  <nevin@jhu.edu>

	* gnus.el (gnus-find-subscribed-addresses): Return nil when there
	are no subscribed mail groups.
	- Strip quoted names when comparing addresses

2002-04-28  Jesper Harder  <harder@ifa.au.dk>

	* mm-decode.el (mm-text-html-renderer): Change customize type to
	const.

	* gnus-msg.el (gnus-discouraged-post-methods): Fix typo.
	(gnus-debug-exclude-variables): do.

2002-04-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-article-mail): Use gnus-msg-mail instead.
	Trivial change from Karl Pfl,Ad(Bsterer <sigurd@12move.de>.

2002-04-27  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dns.el (dns-make-network-process): New macro.
	(query-dns): Use it.

2002-04-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-reply): Remove unbound variable
	article-buffer.

	* mm-url.el (mm-url-package-name): New variable.
	(mm-url-package-version): New variable.
	(mm-url-insert-file-contents): Bind url-package-name and
	url-package-version here.
	* nnrss.el (nnrss-insert-w3): Move the bindings.

	* nnrss.el (nnrss-insert-w3): Bind url-package-name and
	url-package-version. Trivial change from Andrew J Cosgriff
	<ajc@polydistortion.net>

	* mm-decode.el (mm-save-part): Fill in file name when GUI saving
	attachments. Trivial change from Peter 'Luna' Runestig
	<peter@runestig.com>.

2002-04-19  Jesper Harder  <harder@ifa.au.dk>

	* nnkiboze.el (nnkiboze-request-scan): Call
	nnkiboze-possibly-change-group.
	(nnkiboze-generate-group): Use mm-with-unibyte to avoid encoding
	problems.
	(nnkiboze-generate-group): Set newsrc to the *highest* article
	number kibozed, not the lowest.

2002-04-15  Jesper Harder  <harder@ifa.au.dk>

	* gnus-art.el (article-unsplit-urls): Allow trailing SPC.

2002-04-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Dan Christensen <jdc+news@uwo.ca>.

	* nndoc.el (nndoc-type-alist, nndoc-lanl-gov-announce-type-p)
	(nndoc-transform-lanl-gov-announce, nndoc-generate-lanl-gov-head):
	Recognize math postings.  Extract Date (now ignores "(15kb)").
	Extract email address using gnus-extract-address-components
	instead of just taking the first word.  Create Date and From
	headers for message which are missing these headers.  Get rid
	of spurious \\ lines (purely cosmetic).  Extend body-end and
	file-end regexps, to exclude more garbage from the message.
	Make URL rephrasing regexp more flexible, to match current
	format.

2002-04-23  Simon Josefsson  <jas@extundo.com>

	* netrc.el: New file, functions copied from gnus-util.el by Ted
	Zlatanov <tzz@lifelogs.com>.

	* gnus-util.el: Require netrc.
	(gnus-netrc-get, gnus-netrc-machine, gnus-parse-netrc): Aliased to
	new code in netrc.el.

2002-04-23  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-summary-resend-message-edit): Remove
	message-ignored-resent-headers, too.  From Matthieu Moy
	<Matthieu.Moy@imag.fr>.

2002-04-22  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): it is a
	boolean not a string
	* gnus-group.el (gnus-group-line-format): add description of %C
	* gnus-group.el (gnus-group-line-format-alist): add gnus-tmp-comment
	  as %C
	* gnus-group.el (gnus-group-insert-group-line): add gnus-tmp-comment

2002-04-22  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-scan): typo: set
	nnmaildir-get-new-mail, not nnmaildir-new-mail.  Don't call
	nnmail-get-new-mail for 'find-new-groups.

2002-04-21  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-update-info,
	nnmaildir-request-group, nnmaildir-retrieve-groups): remove
	unnecessary calls to nnmaildir-request-scan.

2002-04-20  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el:
	* gnus-msg.el (gnus-message-replysign): New.
	* gnus-msg.el (gnus-message-replyencrypt): New.
	* gnus-msg.el (gnus-message-replysignencrypted): New.
	* gnus-msg.el (gnus-summary-reply): Use the three new variables
	(above) to automatically encrypt/sign to encrypted/signed
	messages.
	* message.el:
	* message.el (message-mode-map): Add keybinding for
	`message-to-list-only'
	* message.el (message-mode): Add description for
	`message-to-list-only'
	* message.el (message-to-list-only): New.
	* message.el (message-make-mft): Changed to use the cl loop macro,
	and added optional flag to return only the matched list. (for use
	in new message-to-list-only function)

2002-04-20  Josh Huber  <huber@alum.wpi.edu>

	* gnus-msg.el:
	* gnus-msg.el (gnus-message-replysign):
	* gnus-msg.el (gnus-replysign): New.
	* gnus-msg.el (gnus-replyencrypt): New.
	* gnus-msg.el (gnus-replysignencrypted): New.
	* gnus-msg.el (gnus-summary-reply):
	* message.el:
	* message.el (message-mode-map):
	* message.el (message-mode):
	* message.el (message-to-list-only): New.
	* message.el (message-make-mft):

2002-04-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-windows-hook): Fix typo.

2002-04-18  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-gen-unsubscribed-mft): accept a prefix
	argument so CC can be included with C-u C-c C-f C-a

2002-04-17  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Ted Zlatanov <teodor.zlatanov@divine.com>.

	* spam.el (spam-whitelist, spam-blacklist, spam-enter-whitelist):
	Improve docstring.
	(spam-enter-blacklist): New command.

	* gnus-sum.el (gnus-spam-mark): New mark.
	(gnus-auto-expirable-marks): Add gnus-spam-mark.
	(gnus-summary-make-tool-bar): Correct conditional.
	(gnus-summary-limit-to-unread): Add gnus-spam-mark.
	(gnus-summary-mark-as-spam): New command.

2002-04-13  Josh Huber  <huber@alum.wpi.edu>

	* mml-sec.el (mml-secure-message): changed to support arbritrary
	modes.
	* mml-sec.el (mml-secure-message-encrypt-(smime|pgp|pgpmime)):
	changed to support "signencrypt" mode.
	* mml.el (mml-parse-1): changed to support different secure modes
	more easily. (for signencrypt)

2002-04-11  Stefan Monnier  <monnier@cs.yale.edu>

	* gnus-sum.el (gnus-update-summary-mark-positions)
	(gnus-summary-toggle-header):
	* gnus-uu.el (gnus-uu-binhex-article, gnus-uu-reginize-string)
	(gnus-uu-expand-numbers, gnus-uu-post-make-mime)
	(gnus-uu-post-encoded):
	* nnfolder.el (nnfolder-possibly-change-group):
	* nnimap.el (nnimap-retrieve-headers):
	* nnmbox.el (nnmbox-create-mbox): Don't assume point-min == 1.

2002-04-08  Stefan Monnier  <monnier@cs.yale.edu>

	* nnml.el (nnml-save-nov, nnml-generate-nov-file):
	* pop3.el (pop3-md5): Don't hardcode point-min == 1.

2002-04-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-srvr.el (gnus-server-set-info): Clear
	`gnus-server-method-cache' when `gnus-server-alist' is changed.
	From Daiki Ueno <ueno@unixuser.org>.

2002-04-11  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-force-verify-and-decrypt): Force
	viewing of security buttons.  Thanks to Nicolas Kowalski
	<Nicolas.Kowalski@imag.fr>.

	* smime.el (smime-CA-directory): Fix doc.  Thanks to Arne
	J,Ax(Brgensen <arne+usenet@daimi.au.dk>.
	(smime-sign-buffer): Work in XEmacs.  Thanks to Nicolas Kowalski
	<Nicolas.Kowalski@imag.fr>.
	(smime-decrypt-buffer): Ditto.

2002-04-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-prepare): Place point on the emtpy
	header line.

2002-04-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-refer-article-method): Change `dejanews' to `google'.

2002-04-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-delete-marked-with): Fix typo.

2002-04-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text-html-render-with-w3): Don't ignore
	errors when debug.

2002-04-07  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-make-mft): Changed MFT code from using
	message-recipients (which included Bcc) to use only the To and CC
	headers.

2002-04-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-treat-from-picon): Add to gnus-picon group and
	add link.
	(gnus-treat-mail-picon): Ditto.
	(gnus-treat-newsgroups-picon): Ditto.
	(gnus-picon-databases): Fix custom type.
	(gnus-picon-databases): Add link.
	(gnus-article-x-face-command): Add to gnus-picon group.

2002-04-01  Jesper Harder  <harder@ifa.au.dk>

	* message.el (message-buffer-naming-style): Remove.

2002-04-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-make-tool-bar): Load tool-bar first.

	* message.el (message-tool-bar-map): Ditto.

	* gnus-sum.el (gnus-summary-make-tool-bar): Ditto.

2002-04-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-mail-archive-article): Fix typo.

2002-04-01  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: fixed some buggy invocations of nnmaildir--pgname.

2002-03-31  Andrew Cohen  <cohen@andy.bu.edu>
	Trivial patch.

	* dns.el: open-network-stream under XEmacs does udp.

2002-03-31  Lars Magne Ingebrigtsen  <larsi@quimbies.gnus.org>

	* spam.el (spam-enter-whitelist): New function.
	(spam-parse-whitelist): Ditto.
	(spam-refresh-list-cache): Ditto.
	(spam-address-whitelisted-p): New function.

	* dns.el (query-dns): Use TCP when make-network-process isn't
	available.
	(dns-servers): New variable.
	(dns-parse-resolv-conf): New function.
	(query-dns): Use it.

	* spam.el: New file.

	* dns.el (query-dns): Test.

2002-03-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* lpath.el (featurep): Bind make-network-process.

2002-03-31  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: Use defstruct.  Use a single copy of
	nnmail-extra-headers to save memory.  Store server's group name
	prefix instead of each group's prefixed name.
	* nnnil.el (nnnil-retrieve-headers, nnnil-request-list): Erase
	nntp-server-buffer.

2002-03-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* dns.el: New file.

2002-03-28  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-dummy-line-format):
	* gnus.el (gnus-summary-line-format): Fixing links to Info.
	Trivial change from Bj,Av(Brn Torkelsson <torkel@pdc.kth.se>.

2002-03-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-summary-move-article)
	(gnus-summary-copy-article): Mention `gnus-move-split-methods' in
	the doc string.

2002-03-28  Simon Josefsson  <jas@extundo.com>

	* mml-sec.el (mml-secure-message): Search after
	mail-header-separator from top of message.

2002-03-28  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el: Cosmetic changes.
	(nnmaildir--with-nntp-buffer, nnmaildir--with-work-buffer,
	nnmaildir--with-nov-buffer, nnmaildir--with-move-buffer,
	nnmaildir--group-ls): New macros/functions.  Use them.
	(nnmaildir--unlink): Evalutate argument only once.

2002-03-27  Jesper Harder  <harder@ifa.au.dk>

	* gnus-sum.el (gnus-summary-highlight): Use `eq' when comparing
	symbols.
	(gnus-summary-highlight-line): Use `gnus-point-at-bol' and
	`gnus-point-at-eol'.

2002-03-27  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--subdir, nnmaildir--nov-dir,
	nnmaildir--marks-dir): New macros.  Use them.
	Use inhibit-quit for atomicity instead of in-memory journaling.
	(nnmaildir--edit-prep): New function.
	(Local Variables): Use it.

2002-03-26  Pavel@Janik.cz (Pavel Jan,Am(Bk)

	* gnus-sum.el (gnus-summary-make-menu-bar): Fix typo.

2002-03-25  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode): Fix doc.

2002-03-25  Simon Josefsson  <jas@extundo.com>

	* message.el (message-subject-re-regexp): Skip Re[42]: junk.  From
	Matthieu Moy <Matthieu.Moy@imag.fr>.

2002-03-24  Jesper Harder  <harder@ifa.au.dk>

	* mml-sec.el (mml-unsecure-message): Add docstring.

2002-03-23  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-large-newsgroup): Fix doc, allow non-numeric
	value.
	Trivial change from andre@slamdunknetworks.com

2002-03-22  Josh Huber  <huber@alum.wpi.edu>

	* mml.el (mml-mode-map): Added a keybinding for
	`mml-unsecure-message'.  Also, added a menu entry for said
	function in the Attachments menu.

2002-03-22  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el (canlock-version): Remove.
	(canlock-sha1-with-openssl): Don't use `canlock-string-as-unibyte'
	here; simplify \x insertions.
	(canlock-sha1): New function, always return a unibyte string.
	(canlock-make-cancel-key): Use `canlock-sha1'; simplify truncation
	of a password.
	(canlock-insert-header): Use `canlock-sha1'.
	(canlock-verify): Ditto.

2002-03-21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fix-before-sending): Add an option that
	ignores illegible text.
	Trivial change from Mark Milhollan <mlm@attglobal.net>

	* message.el (message-font-lock-keywords): Support multi-line MML
	tags.

	* gnus-sum.el (gnus-print-buffer): Remove gnus-decoration.
	Trivial change from lorentey@elte.hu (L,Bu(Brentey K,Aa(Broly)

2002-03-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): Use intern'ed function
	symbols for "View as different encoding" submenu.

2002-03-19  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-make-menu-bar): Add "View as different
	encoding" submenu.

2002-03-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-process-prefix): Make sure there is a mark.

2002-03-19  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-sum-thread-tree-root)
	(gnus-sum-thread-tree-single-indent)
	(gnus-sum-thread-tree-vertical, gnus-sum-thread-tree-indent)
	(gnus-sum-thread-tree-leaf-with-other)
	(gnus-sum-thread-tree-single-leaf): Make customizable.

2002-03-16  Simon Josefsson  <jas@extundo.com>

	* gnus-util.el (gnus-extract-address-components): Don't break on
	names such as James "Kibo" Parry.  From Francis Litterio
	<franl@world.std.com>.

2002-03-13  Simon Josefsson  <jas@extundo.com>

	* pop3.el (pop3-open-server): Revert multibyte change.  From
	Pavel@Janik.cz (Pavel Jan,Am(Bk).

	* message.el (message-send-mail-with-qmail): Make it work.  From
	Pavel@Janik.cz (Pavel Jan,Am(Bk).

2002-03-13  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-make-mft): Set case-fold-search while
	generating the MFT.  Also, a little cleanup in the MFT code.

2002-03-12  Simon Josefsson  <jas@extundo.com>

	* message.el (message-qmail-inject-args): May be function.
	(message-send-mail-with-qmail): Call function if m-q-i-a is
	function.  From fn@hungry.org (Faried Nawaz).

2002-03-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-abbrevs-loaded): Remove.
	(mailabbrev): Require it.

	* nnslashdot.el (nnslashdot-request-article): Remove IFRAME.

2002-03-12  Katsumi Yamaoka  <yamaoka@jpl.org>

	* pop3.el (pop3-open-server): Set process buffer unibyte.

2002-03-10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-subscribe-to-mailing-list): New function.

2002-03-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-request-article): Remove javascript
	too.

2002-03-09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-save-parts-default-mime): Remove
	duplication.
	(gnus-summary-save-parts-type-history): Ditto.
	(gnus-summary-save-parts-last-directory): Ditto.
	Trivial change from andre@slamdunknetworks.com

2002-03-09  Paul Jarc  <prj@po.cwru.edu>

	* gnus-start.el (gnus-auto-subscribed-groups): Include nnmaildir.

2002-03-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-request-article): Use "<!-- no ad 6
	-->" as the end of the first article.

	* gnus-msg.el (gnus-summary-resend-message-edit): New function.
	From Matthieu Moy <Matthieu.Moy@imag.fr>

	* message.el (message-add-action): Use add-to-list.
	(message-delete-action): New function.

	* nndoc.el (nndoc-mail-in-mail-type-p): Break a long regexp into
	pieces.

2002-03-05  Paul Jarc  <prj@po.cwru.edu>

	* nnnil.el: New file.
	* gnus.el (gnus-valid-select-methods): Include nnnil.

2002-03-05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-syntax-checks): Because canlock is
	supported, we disable sender syntax check.
	(message-shoot-gnksa-feet): Add cancel-messages option doc.

	* gnus-draft.el (gnus-draft-send): If interactive, use its default
	value of message-syntax-checks.

	* qp.el (quoted-printable-decode-region): Doc addition.
	From: Eli Zaretskii <eliz@is.elta.co.il>

	* mail-source.el (make-source-make-complex-temp-name): Use
	make-temp-file.

	* mm-util.el (mm-make-temp-file): New function.
	* nneething.el (nneething-file-name): Use it.
	* mml-smime.el (mml-smime-encrypt): Ditto.
	* mm-view.el (mm-inline-wash-with-file): Ditto.
	* mm-decode.el (mm-display-external, mm-create-image-xemacs): Ditto.
	* gnus-uu.el (gnus-uu-decode-binhex, gnus-uu-decode-binhex-view)
	(gnus-uu-digest-mail-forward, gnus-uu-initialize): Ditto.
	* gnus-start.el (gnus-slave-save-newsrc): Ditto.
	* gnus-fun.el (gnus-convert-image-to-gray-x-face): Ditto.
	* gnus-art.el (gnus-mime-print-part): Ditto.

2002-03-04  Paul Jarc  <prj@po.cwru.edu>

	* message.el (nnmaildir-article-number-to-base-name): New
	function.
	(nnmaildir-base-name-to-article-number): New function.

2002-03-04  Katsumi Yamaoka  <yamaoka@jpl.org>

	* smime.el (smime-make-temp-file): Don't quote
	`temporary-file-directory'.

2002-03-04  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-sign-region): Rename argument keyfiles to
	keyfile. You only sign something with one key.
	(smime-sign-buffer): Better completing-read prompt.
	(smime-decrypt-buffer): Ditto.

	* smime.el (smime-make-temp-file): Make it work under XEmacs.

	* mm-view.el (mm-view-pkcs7-decrypt): Better prompt for
	completing-read.
	(mm-view-pkcs7-decrypt): CRLF->LF.

2002-03-04  Paul Jarc  <prj@po.cwru.edu>

	* message.el (message-hierarchical-addresses): New variable.
	(message-get-reply-headers): Use it.
	From Ted Zlatanov <teodor.zlatanov@divine.com>

2002-03-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mode): If buffer-file-name, don't set auto
	save file name.
	Trivial change from Geoff Greene <ggreene@wpi.edu>

2002-03-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-multiple-choice): Use message. XEmacs only
	takes one argument in read-char.

	* message.el (message-fix-before-sending): Forward a char.
	Check mmu-multibyte-p, add control-1.

2002-03-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-read-init-file): Ditto.

	* gnus-agent.el (gnus-agent-fetch-session): Ditto.

	* dgnushack.el (dgnushack-make-load): Ditto.

	* mail-source.el (mail-source-fetch): Extract the right error
	code.

	* message.el (message-fix-before-sending): Check illegible text.

	* gnus-util.el (gnus-multiple-choice): New function.

	* gnus-kill.el (gnus-score-insert-help): Removed, because it is
	also defined in gnus-score.el.

2002-03-01  Paul Jarc  <prj@po.cwru.edu>

	* message.el (message-get-reply-headers): downcase email addresses
	for comaparisons for duplicate removal.

2002-03-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-view-pkcs7-verify): New function. A bogus
	implementation of PKCS#7, which just allows users read the
	message.
	(mm-view-pkcs7): Use it.

2002-02-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (large-newsgroup-initial): New parameter.

	* gnus-sum.el (gnus-articles-to-read): Use large-newsgroup-initial.
	(gnus-summary-insert-old-articles): Ditto.

2002-02-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-articles-to-read): `gnus-large-newsgroup' is
	used as the default answer of the question, "How many articles?".
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>

	* nnagent.el (nnagent-retrieve-headers): Remove articles with
	small numbers.

2002-02-24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* deuglify.el: Fix comments.

2002-02-23  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* html2text.el (html2text-clean-anchor): If there is no HREF,
	insert nothing.

	* mml.el (mml-generate-mime-1): Add cdr.
	From: andre@slamdunknetworks.com

	* mm-view.el (mm-text-html-renderer-alist): Add html2text.
	(mm-text-html-washer-alist): Ditto.

	* mm-decode.el (mm-text-html-renderer): Add html2text.

	* html2text.el: Face lift.

	* html2text.el: New file from Joakim Hove <hove@phys.ntnu.no>.

2002-02-22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el: Add gnus-article-outlook-deuglify-article.

	* deuglify.el: Change copy right. Add autoload. Add coding-system.

	* deuglify.el: New file. The original file name is
	gnus-outlook-deuglify.el from Raymond Scholz <rscholz@zonix.de>.

	* mm-decode.el (mm-display-external): Use
	mm-file-name-rewrite-functions.  From <andre@slamdunknetworks.com>

2002-02-22  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-list): Report the highest
	article number, not the total number of articles.

2002-02-21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el: Move uu key map here.
	(gnus-summary-make-menu-bar): Add gnus-summary-save-parts.

2002-02-21  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-expire-articles): Use
	nnmail-expiry-wait* if expire-age parameter is not set.

2002-02-21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-sort-groups-by-real-name): New
	function.
	(gnus-group-sort-selected-groups-by-real-name): New function.
	(gnus-group-make-menu-bar): Add sort by real name.

	* gnus-sum.el (gnus-dependencies-add-header): If replaced, don't
	rebuild.
	(gnus-summary-edit-article-done): Gnus-get-newsgroup-headers takes
	nil as dependencies as well.

2002-02-20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-dissect-mime-parts-sub): Fix MIME-Version header
	for mime-parts.

	* gnus-art.el (gnus-article-edit-done): Widen the buffer.

	* gnus-group.el (gnus-group-name-decode): Don't test
	multibyte-string, because it breaks XEmacs.
	From: TSUCHIYA Masatoshi <tsuchiya@pine.kuee.kyoto-u.ac.jp>

	* message.el (message-send-mail): Be talkative.

	* mm-decode.el (mm-inlined-types): Add application/x-emacs-lisp.
	(mm-automatic-display): Ditto.

	* mailcap.el (mailcap-mime-data): Ditto.
	From: Reiner Steib <4uce.02.r.steib@gmx.net>

2002-02-20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* many files: Remove trailing whitespaces, replace spc+tab with
	tab, replace leading whitespaces with tabs.

2002-02-19  Paul Jarc  <prj@po.cwru.edu>

	* gnus-sum.el (gnus-summary-toggle-header): Fix handling of
	articles with no body and no blank line after the header.

2002-02-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-multipart): Consider the case of empty
	parts.

	* ietf-drums.el (ietf-drums-syntax-table): Modify syntax of
	non-ascii chars.

	* rfc2231.el (rfc2231-parse-string): Support non-ascii chars.

	* gnus-art.el (gnus-article-wash-html-with-w3): Remove
	w3-delay-image-loads.
	* mm-view.el (mm-inline-text-html-render-with-w3): Ditto.
	(mm-w3-prepare-buffer): Ditto.

	* mail-source.el (mail-source-fetch-directory): Run scripts.

2002-02-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-respond-to-confirmation): Do the right thing
	for Majordomo confirmations.

2002-02-18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-respond-to-confirmation): New command.

2002-02-11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Clean up.

2002-02-18  Paul Jarc  <prj@po.cwru.edu>

	* gnus-util.el (gnus-parent-id): Ignore trailing whitespace in the
	References header field.  From Mark Thomas <mthomas@cmu.edu>.

2002-02-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-render-with-file): With unibyte buffer.
	(mm-inline-render-with-stdin): Ditto.
	(mm-inline-render-with-function): Ditto.
	(mm-inline-wash-with-file): Bind coding-system-for-write.
	(mm-inline-wash-with-stdin): Ditto.

2002-02-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	Suggested by Felix Natter <fnatter@gmx.net>

	* gnus-art.el (gnus-mime-view-part-externally): Rename from
	gnus-mime-externalize-view.
	(gnus-mime-view-part-internally): Rename from
	gnus-mime-internalize-view.
	(gnus-article-view-part-externally): Rename from
	gnus-article-externalize-part.
	(gnus-mime-action-alist): Change correspondingly.
	(gnus-mime-button-commands): Ditto.
	(gnus-mime-action-alist): Remove duplication.

	* gnus-sum.el (gnus-summary-mime-map): Change correspondingly.

2002-02-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-buffer): Add loose-mime parameter.

	* gnus-art.el (gnus-display-mime): Use it.

	* mm-partial.el (mm-partial-find-parts): Use it.

	* gnus-sum.el (gnus-article-loose-mime): Rename from
	gnus-article-no-strict-mime.
	(gnus-summary-save-parts): Use it.

2002-02-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Remove unused
	local variable.

	* gnus-art.el (article-display-x-face): Don't sort multiple
	X-Faces.

2002-02-18  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Improved to speed
	up.  Suggested by Yuuichi Teranishi <teranisi@gohome.org>.

	* gnus-art.el (article-display-x-face): Sort gray X-Faces.

2002-02-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	Some ideas is inspired by code from Hrvoje Niksic
	<hniksic@arsdigita.com>

	* gnus-art.el (gnus-article-wash-function): Set the default to
	nil, so that we use mm-text-html-renderer instead.
	(article-wash-html): Use mm-text-html-renderer.

	* mm-decode.el (mm-inline-media-tests): Use mm-inline-text-*.
	(mm-text-html-renderer): New variable.
	(mm-inline-text-html-renderer): Set the default to nil, so that we
	use mm-text-html-renderer instead.

	* mm-view.el (mm-inline-text-html): New function.
	(mm-text-html-renderer-alist): New variable.
	(mm-inline-text-vcard): New function.
	(mm-inline-text): Split.
	(mm-links-remove-leading-blank): New function.
	(mm-inline-render-with-file): New function.
	(mm-inline-render-with-stdin): New function.
	(mm-inline-render-with-function): New function.
	(mm-text-html-washer-alist): New variable.
	(mm-inline-wash-with-file): New function.
	(mm-inline-wash-with-stdin): New function.

2002-02-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message-utils.el: Fix installation doc.
	From: Reiner Steib <4uce.02.r.steib@gmx.net>

2002-02-16  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-discouraged-post-methods): New variable.
	(gnus-post-method): Use it.
	(gnus-summary-cancel-article): Find the correct post-method.

	* gnus-soup.el (gnus-soup-send-packet): Via ... using ...
	* message.el (message-send-news): Ditto.
	Suggested by Lloyd Zusman <ljz@asfast.com> and IPmonger
	<ipmonger@delamancha.org>

	* gnus.el (gnus-select-method): Fix doc.
	(gnus-server-string): Use 'using nntp'.

	* gnus-agent.el (gnus-slave-unplugged): New command.
	From: Felix Natter <fnatter@gmx.net>

2002-02-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-edit-done): Kill-all-local-variables.
	Call edit-done-function first, then change the window
	configuration.
	(gnus-article-edit-mode-map): Add message key bindings. Add menu.
	(gnus-article-edit-mode): mml-mode.

	* gnus-util.el (gnus-byte-compile): Work around a bug in XEmacs
	21.4. Suggested by Russ Allbery <rra@stanford.edu> .

	* message-utils.el: Adopt the file.

	* message-utils.el: New file.
	From Holger Schauer <Holger.Schauer@gmx.de>

2002-02-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-move-article): Select-article only
	when gnus-move-split-methods is non-nil. And we don't render or
	mark the article.

	* gnus-fun.el (gnus-shell-command-to-string): New function.
	(gnus-shell-command-on-region): New function.
	(gnus-random-x-face): Use them.
	(gnus-x-face-from-file): Ditto.
	(gnus-convert-image-to-gray-x-face): Ditto.
	(gnus-convert-gray-x-face-to-xpm): Ditto.
	(gnus-convert-image-to-x-face-command): Don't use 2>/dev/null.

2002-02-14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-treat-display-xface): Don't use
	`shell-command-to-string' when compiling.
	(gnus-treat-display-grey-xface): Ditto.

2002-02-13  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--article-count): If the group is
	completely empty, report minimum article number as 1 instead of 0.

2002-02-13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-get-predicate): Use nconc.

	* gnus-sum.el (gnus-summary-display-make-predicate): Use
	gnus-summary-display-cache as cache.

	* nndoc.el (nndoc-type-alist): Add mail-in-mail type.
	(nndoc-mail-in-mail-type-p): New function.
	(nndoc-mail-in-mail-article-begin): New function.

2002-02-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-mime-data): Use enriched-decode.

	* gnus-cite.el (gnus-article-fill-cited-article): Bind
	use-hard-newlines to nil.

	* gnus-xmas.el (gnus-xmas-image-type-available-p): Assume that
	image is not available if window-system is not available.

	* gnus-sum.el (gnus-summary-display-make-predicate): Add unread.

2002-02-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-article-unpropagated-mark-lists): Don't propagate
	bookmark, because update-mark doesn't handle it correctly.

2002-02-09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-soup.el (gnus-soup-send-packet): Send news and mail
	directly instead of calling message-send-mail.

	* gnus-start.el (gnus-read-descriptions-file): Use
	gnus-default-charset.

	* mm-util.el (mm-guess-mime-charset): New function.

	* gnus.el (gnus-default-charset): Use it.
	(gnus-group-charset-alist): Remove .*, Let gnus-default-charset be
	the default.

2002-02-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treat-display-grey-xface): New variable.
	(article-display-x-face): Use it.  Disable grey xface, if
	uncompface is not found.

	* message.el (message-mode): Don't enable multibyte on an indirect
	buffer.

	* nnrss.el (nnrss-content-function): New variable.
	(nnrss-request-article): Use it.

2002-02-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Add article-unsplit-urls.
	* gnus-sum.el: Ditto.
	* gnus-art.el (gnus-treat-strip-cr): New variable.
	(gnus-treatment-function-alist): Use it.
	(article-unsplit-urls): New function.
	(gnus-article-make-menu-bar): Use it.
	From: Michael Cook <michael.cook@cisco.com>

2002-02-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-braid-nov): Find the first article to
	copy.

2002-02-07  Paul Jarc  <prj@po.cwru.edu>

	* gnus-util.el (gnus-split-references): Allow (broken) Message-IDs
	with internal whitespace.
	(gnus-parent-id): Ditto.

2002-02-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-treat-body-boundary): Add
	gnus-decoration property.
	* gnus-msg.el (gnus-copy-article-buffer): Remove gnus-decoration.

	* message.el (message-mode): Set local-abbrev-table.
	From Matt Armstrong <matt@lickey.com>.

	* gnus-art.el (gnus-article-treat-unfold-headers): Don't remove
	too many spaces.

	* rfc2047.el (rfc2047-unfold-region): Ditto.
	(rfc2047-decode-region): Don't unfold. Let
	gnus-article-treat-unfold-headers do it.

	* gnus-sum.el (gnus-dependencies-add-header): Fix typo.
	From: Jesper Harder <harder@ifa.au.dk>

2002-02-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-posting-styles): Add x-face-file.
	(gnus-configure-posting-styles): Use it.
	(gnus-configure-posting-styles): Remove trailing newspaces.

2002-02-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-articles-to-read): Fetch all if the predicate
	is non-nil.

	* mm-util.el (mm-use-find-coding-systems-region): Add doc.

	* gnus.el (gnus-server-to-method): Switch position with
	gnus-server-get-method.
	(gnus-agent): Add doc.

	* gnus-sum.el (gnus-article-no-strict-mime): New variable.
	(gnus-summary-save-parts): Use it.

	* gnus-art.el (gnus-display-mime): Use it.
	* mm-partial.el (mm-partial-find-parts): Use it.

	* nnweb.el (nnweb-google-parse-1): Use a correct format of date.

	* gnus-agent.el (gnus-agent-summary-make-menu-bar): Fix typo.
	From Stefan Reich,Av(Br <xsteve@riic.at>.

	* nnagent.el (nnagent-request-expire-articles): Don't delete
	files.

2002-02-05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-gen-unsubscribed-mft): New function.
	From Sriram Karra <karra@cs.utah.edu>.

	* gnus.el (gnus-article-unpropagated-mark-lists): Backslash the
	open parenthesis.

	* mm-view.el (mm-w3-prepare-buffer): Bind url-gateway-unplugged.
	(mm-inline-text-html-render-with-w3): Ditto.
	* gnus-art.el (gnus-article-wash-html-with-w3): Ditto.
	Suggested by Dave Love  <d.love@dl.ac.uk>.

	* mm-url.el (mm-url-load-url): Require w3-vars for old versions.

	* nntp.el (nntp-send-command-and-decode): Check PROCESS.
	* nntp.el (nntp-send-command): Ditto.
	* nntp.el (nntp-send-command-nodelete): Ditto.

2002-02-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el (mm-url-load-url): New function.
	(mm-url-insert-file-contents): Use it.

	* gnus-msg.el (gnus-summary-mail-forward): Use gnus-article-charset.

	* message.el (message-forward-make-body): Correctly copy
	forward-buffer.

	* rfc2047.el (rfc2047-decode-region): Don't decode us-ascii characters.

2002-02-04  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-article-followup-with-original): Mark with
	force, prevent errors when following up from article buffer.
	(gnus-article-reply-with-original): Ditto.

	* binhex.el (binhex-decoder-switches): Fix doc.  From
	Pavel@Janik.cz (Pavel Jan,Am(Bk).

2002-02-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treatment-function-alist): Move hide-citation,
	highlight-citation after emphasize.

2002-02-04  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-open-marks):

	* nnml.el (nnml-open-marks): Message when done.  From David
	Edmondson <dme@sun.com>.

2002-02-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* imap.el (imap-anonymous-auth): Fix typo.
	From: Steinar Bang <sb@dod.no>

	* gnus-cache.el (gnus-cache-braid-nov): Use set-buffer instead of
	save-excursion.
	(gnus-cache-braid-heads): Ditto.

	* gnus-agent.el (gnus-agent-copy-nov-line): Move to the correct
	line, because there are extra articles in the overview buffer.

	* nntp.el (nntp-retrieve-groups): Check whether BUF is live.

	* message.el (message-forward-rmail-make-body): Directly use
	rmail-msg-restore-non-pruned-header to avoid calling
	vertical-motion.

2002-02-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-summary-insert-cached-articles):
	(gnus-summary-limit-include-cached): gnus-newsgroup-cached is sorted.

	* gnus-group.el (gnus-group-mark-article-read): Nreverse
	gnus-newsgroups-unselected.

	* gnus-agent.el (gnus-summary-set-agent-mark): Use
	gnus-add-to-sorted-list.

	* gnus-sum.el (gnus-summary-update-info): gnus-newsgroup-unreads
	gnus-newsgroup-unselected are sorted. Use gnus-sorted-union.
	(gnus-build-all-threads): Use gnus-add-to-sorted-list.
	(gnus-update-read-articles): UNREAD is sorted.
	(gnus-newsgroup-unreads, gnus-newsgroup-unselected)
	(gnus-newsgroup-marked, gnus-newsgroup-cached)
	(gnus-newsgroup-expirable, gnus-newsgroup-downloadable)
	(gnus-newsgroup-dormant): Require sorted.

	* gnus-dired.el (gnus-dired-find-file-mailcap): Correctly handle
	directories.
	(gnus-dired-print): New function.

	* gnus-art.el (gnus-mime-print-part): Add argument filename. Call
	ps-despool.

2002-02-02  Simon Josefsson  <jas@extundo.com>

	* gnus-dired.el (turn-on-gnus-dired-mode): Autoload.  Make defun.

2002-02-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-1): Call gnus-agentize if gnus-agent is
	t. This makes gnus-agent customizable without putting
	gnus-agentize into .gnus.

	* gnus.el (gnus-agent): Make it customizable.

	* gnus-dired.el: New file.
	From Benjamin Rutt <brutt@bloomington.in.us>

	* gnus-cache.el (gnus-cache-articles-in-group): Remove from active
	if no article.
	(gnus-cache-possibly-remove-article): Ditto.
	(gnus-cache-possibly-enter-article): Use gnus-add-to-sorted-list.

2002-02-01  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-request-accept-article): Use gnus-get-function.

2002-02-01  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.el (mm-w3m-mode-dont-bind-keys): New variable.
	(mm-setup-w3m): Don't bind keys listed in the above.

2002-02-01  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.el (mm-inline-text-html-render-with-w3m): Bind
	`w3m-safe-url-regexp' with nil if `mm-inline-text-html-with-images'
	is non-nil; bind `w3m-force-redisplay' with nil.

	* gnus-art.el (gnus-article-wash-html-with-w3m): Ditto.

	* mm-decode.el (mm-inline-text-html-with-images): Supplement docs.

2002-01-31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-replace-article): Unfold. Don't
	use mail-header-unfold-field.

	* gnus-cache.el (gnus-summary-insert-cached-articles): Use
	gnus-summary-limit.

	* gnus-range.el (gnus-add-to-sorted-list): New function.
	* gnus-sum.el (gnus-mark-article-as-read): Use it.
	(gnus-mark-article-as-unread): Ditto.
	(gnus-summary-mark-article-as-unread): Ditto.
	(gnus-build-get-header): Ditto.
	(gnus-summary-prepare-threads): Ditto.
	(gnus-summary-insert-pseudos): Ditto.
	(gnus-articles-to-read): Use gnus-sorted-union and gnus-sorted-nunion.
	(gnus-summary-insert-new-articles): Use gnus-sorted-nunion.
	(gnus-summary-insert-old-articles): Ditto.

	* gnus-msg.el (gnus-posting-styles): Add new format of header.
	(gnus-configure-posting-styles): Support the new format.

	* mail-source.el (mail-source-bind, mail-source-bind-common): Set
	edebug-form-spec to (sexp body).
	Suggested by Joe Wells <jbw@izanami.cee.hw.ac.uk>.

	* message.el (message-reply-headers): Add doc.

2002-01-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-delete-group): Nix the entry in
	gnus-cache-active-hashtb.

	* gnus-agent.el (gnus-agent-mark-unread-afer-downloaded): New variable.
	(gnus-agent-summary-fetch-group): Use it.

	* gnus-msg.el (gnus-debug-files): New variable.
	(gnus-debug-exclude-variables): New variable.
	(gnus-debug): Use them.

	* gnus-range.el (gnus-range-length): Don't use gnus-uncompress-range.

2002-01-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-prefix-regexp): Use text-mode-syntax-table.
	(message-mode-syntax-table): Move back the previous position.

	* nnagent.el (nnagent-retrieve-headers): Use gnus-sorted-difference.

	* gnus-agent.el (gnus-agent-retrieve-headers): Use
	gnus-sorted-difference.

	* nnsoup.el (nnsoup-request-expire-articles): Use
	gnus-sorted-difference.

	* nnheader.el: Autoload gnus-sorted-difference.

	* nnfolder.el (nnfolder-request-expire-articles): Use
	gnus-sorted-difference.

	* gnus-cache.el (gnus-cache-retrieve-headers): Use
	gnus-sorted-difference.

	* gnus-range.el: Autoload cookies.
	(gnus-sorted-difference): New function.
	(gnus-sorted-ndifference): New function.
	(gnus-sorted-nintersection): Rename from
	gnus-set-sorted-intersection.
	(gnus-sorted-nunion): Rename from gnus-set-sorted-union.
	(gnus-list-range-difference): Rename from
	gnus-inverse-list-range-intersection.
	(gnus-inverse-list-range-intersection): Use defalias.

	* gnus-sum.el (gnus-select-newsgroup): Use gnus-sorted-difference,
	gnus-sorted-ndifference, and gnus-sorted-nintersection.
	(gnus-articles-to-read): Use gnus-sorted-difference.
	(gnus-summary-limit-mark-excluded-as-read): Use
	gnus-sorted-intersection and gnus-sorted-ndifference.
	(gnus-list-of-read-articles): Use gnus-list-range-difference.
	(gnus-summary-insert-articles): Use gnus-sorted-difference.

	* gnus-sum.el (gnus-summary-update-info): Use gnus-sorted-union.

2002-01-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Add keymap
	property to the buffer for using emacs-w3m command keys.

	* mm-decode.el (mm-inline-text-html-with-w3m-keymap): New user
	option.

	* mm-view.el (mm-w3m-mode-map): New variable.
	(mm-w3m-mode-command-alist): New variable.
	(mm-w3m-minor-mode): Removed.
	(mm-setup-w3m): Setup `mm-w3m-mode-map'; don't add minor mode.
	(mm-inline-text-html-render-with-w3m): Add keymap property to the
	buffer for using emacs-w3m command keys.

2002-01-29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mode-syntax-table): Move forward.
	(message-cite-prefix-regexp): Auto detect non word constituents.
	(message-cite-prefix-regexp): Don't use with-syntax-table.

	* gnus-sum.el (gnus-summary-update-info): Use
	gnus-list-range-intersection.

	* gnus-agent.el (gnus-agent-fetch-headers): Use
	gnus-list-range-intersection.

	* gnus-range.el (gnus-range-normalize): Use correct predicate.
	(gnus-list-range-intersection): Use it.
	(gnus-inverse-list-range-intersection): Ditto.
	(gnus-sorted-intersection): Add doc.
	(gnus-set-sorted-intersection): Add doc.
	(gnus-sorted-union): New function.
	(gnus-set-sorted-union): New function.

	* gnus-range.el (gnus-list-range-intersection): Correct the logic.
	(gnus-inverse-list-range-intersection): Ditto.

2002-01-29  Karl Kleinpaste  <karl@charcoal.com>

	* mm-uu.el (mm-uu-type-alist): Add optional leading `0'.

	* gnus-uu.el (gnus-uu-shar-name-marker): Add optional leading `0'
	and permit `:' and `\' in order to handle full Windows pathnames.
	(gnus-uu-begin-string): Add optional leading `0'.  Leading `0' is
	technically not correct per standard, but seems to have common use.

2002-01-29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-expand-numbers): Ignore errors when
	replacing numbers.

2002-01-28  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-followup-with-original): Use (mark).

	* gnus-score.el (gnus-score-insert-help): Move to (point-min).
	Don't split when the window is small, e.g. when a small *BBDB*
	window is the lowest one.

	* gnus-agent.el (gnus-agent-retrieve-headers): Use
	nnheader-find-nov-line to speed up. Use nreverse, because it is
	sorted. Use nnheader-insert-nov-file.

2002-01-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-decode.el (mm-inline-text-html-with-images): New user option.

	* mm-view.el (mm-inline-text-html-render-with-w3m): Bind the value
	of `w3m-display-inline-images' with the value of
	`mm-inline-text-html-with-images'.
	From: TSUCHIYA Masatoshi <tsuchiya@namazu.org>.

	* gnus-art.el (gnus-article-wash-html-with-w3m): Ditto.

2002-01-27  Richard M. Stallman  <rms@gnu.org>

	* time-date.el: Add autoload cookies.  Many doc fixes.
	(time-add): New function.
	(time-subtract): Renamed from subtract-time.
	(subtract-time): New alias for time-subtract.

2002-01-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Replace w3m to
	emacs-w3m in doc-string.

	* lpath.el: Bind `w3m-cid-retrieve-function-alist' and
	`w3m-current-buffer'.

2002-01-27  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Handle cid: URLs.

	* mm-view.el (mm-setup-w3m): Add `mm-w3m-cid-retrieve' to
	`w3m-cid-retrieve-function-alist' for `gnus-article-mode'.
	(mm-w3m-cid-retrieve): New function.
	(mm-inline-text-html-render-with-w3m): Handle cid: URLs.

2002-01-27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-articles): Don't save empty articles.

2002-01-27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-cache-file-contents): Don't use equalp.

2002-01-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (nnheader-insert-nov-file): Increased cutoff to
	32K.

	* gnus-sum.el (gnus-summary-expire-articles): Clean up.

	* nnmail.el (nnmail-article-group): Decode headers before running
	split rules over them.
	(nnmail-mail-splitting-charset): New variable.

	* smiley.el: Replaced with smiley-ems.el.

2002-01-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el (mm-url-predefined-programs): Add w3m.
	(mm-url-program): Ditto.

2002-01-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnml.el (nnml-use-compressed-files): New variable.
	(nnml-filenames-are-evil): Removed.
	(nnml-current-group-article-to-file-alist): Don't use.
	(nnml-update-file-alist): Inhibit.
	(nnml-article-to-file): Use new var.

2002-01-26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-parse-without-error): Add edebug-form-spec.

	* nnagent.el (nnagent-retrieve-headers): loop until eobp.

2002-01-26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-load-alist): Use new caching
	function.

	* gnus-util.el (gnus-cache-file-contents): New function.

	* gnus-agent.el (gnus-agent-file-loading-cache): New variable.
	(gnus-agent-load-alist): Use it.

	* nnagent.el (nnagent-retrieve-headers): Use optimized function.

	* nnheader.el (nnheader-insert-nov-file): New function.

	* gnus-util.el (gnus-parse-without-error): Correct the loop.

	* gnus-sum.el (gnus-dependencies-add-header): Use in-reply-to if
	there are no references.
	(gnus-extract-message-id-from-in-reply-to): New function.
	(gnus-nov-parse-line): Use in-reply-to if there are no
	references.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnagent.el (nnagent-retrieve-headers): Use new macro.

	* gnus-util.el (gnus-parse-without-error): New macro.

2002-01-25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-wash-html-with-w3m): Call w3m-region.
	(gnus-article-wash-function): use locate-library to decide which
	to use.

2002-01-25  Simon Josefsson  <jas@extundo.com>

	* pop3.el (pop3-munge-message-separator): Work if no date.
	Trivial patch from Marius Vollmer <mvo@zagadka.ping.de>.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-save-alist): Fix.

	* nnagent.el (nnagent-retrieve-headers): Must have cut too much by
	mistake.  Reinstated lost code.

2002-01-25  Josh Huber  <huber@alum.wpi.edu>

	* mml2015.el (mml2015-mailcrypt-decrypt): Display a signature if
	one exists in the case of an encrypted message with an internal
	signature.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-save-alist): Optimized.

2002-01-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el: Commented out the experimental code.

2002-01-25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-range.el (gnus-inverse-list-range-intersection): Off-by-one
	error.

	* gnus.el (gnus-server-to-method): Made into subst.
	(gnus-server-method-cache): New variable.
	(gnus-server-to-method): Use it.
	(gnus-group-method-cache): New variable.
	(gnus-find-method-for-group-1): Renamed.
	(gnus-find-method-for-group): New function.
	(gnus-group-method-cache): Removed.

	* gnus-sum.el (gnus-compute-unseen-list): Use new optimized
	function.

	* gnus-range.el (gnus-members-of-range): New function.
	(gnus-list-range-intersection): Renamed.
	(gnus-inverse-list-range-intersection): New function.

	* gnus-sum.el (gnus-compute-unseen-list): Made into own function.

	* nnagent.el (nnagent-retrieve-headers): New implementation.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): New, faster
	implementation.

2002-01-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind `w3m-charset-to-coding-system'; bind
	`w3m-meta-content-type-charset-regexp'.

	* mm-view.el (mm-inline-text-html-render-with-w3m): Decode
	charset-encoded html contents.

2002-01-24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-request-article): Make sure it is not
	an empty file.

	* nnweb.el (url): Ignore errors when request url.

	* nnrss.el: Clean up the comments.

2002-01-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Fbind `w3m-region'; bind `w3m-mode-map'.

	* mm-decode.el (mm-inline-text-html-renderer): New user option.
	(mm-inline-media-tests): Test whether the value of
	`mm-inline-text-html-renderer' is a function for text/html.

	* mm-view.el (mm-inline-text-html-render-with-w3): New function
	separated from `mm-inline-text'.
	(mm-w3m-minor-mode): New variable.
	(mm-w3m-setup): New variable.
	(mm-setup-w3m): New function.
	(mm-inline-text-html-render-with-w3m): New function.
	(mm-inline-text): Funcall `mm-inline-text-html-renderer' for
	text/html.

2002-01-23  Paul Jarc  <prj@po.cwru.edu>

	* lpath.el: fbind make-symbolic-link and unix-sync for nnmaildir.

2002-01-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-xmas.el (gnus-xmas-redefine): Quote `gnus-completing-read'
	and `gnus-xmas-completing-read'.

2002-01-19  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nneething.el (nneething-message-id-number): Abolished.
	(nneething-encode-file-name): Not encode numerical characters.
	(nneething-make-head): `nneething-message-id-number' is not
	used to generate message IDs.

2002-01-23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-emphasis-alist): Include !? as sentence-ending
	characters.

2002-01-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-xmas.el (gnus-xmas-completing-read): New function.
	(gnus-xmas-redefine): Redefine conditionally.

2002-01-22  Josh Huber  <huber@alum.wpi.edu>

	* mml.el (mml-parse-1): Fixed usage of recipients in the secure
	tag.

2002-01-22  Josh Huber  <huber@alum.wpi.edu>

	* message.el (message-font-lock-keywords): Added the secure tag.
	* mml-sec.el: Added functions to generate/modify/remove the secure
	tag while in message mode.
	* mml-sec.el (mml-secure-message): New.
	* mml-sec.el (mml-unsecure-message): New.
	* mml-sec.el (mml-secure-message-sign-smime): New.
	* mml-sec.el (mml-secure-message-sign-pgp): New.
	* mml-sec.el (mml-secure-message-sign-pgpmime): New.
	* mml-sec.el (mml-secure-message-encrypt-smime): New.
	* mml-sec.el (mml-secure-message-encrypt-pgp): New.
	* mml-sec.el (mml-secure-message-encrypt-pgpmime): New.
	* mml.el (mml-parse-1): Added code to recognise the secure tag and
	convert it to either a part or multipart depending on if there are
	other parts in the message.
	* mml.el (mml-mode-map): Changed default sign/encrypt keybindings
	to use the secure tag, rather than the part tag.
	* mml.el (mml-preview): Added a save-excursion to keep cursor
	position after doing an MML preview.

2002-01-22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (nnheader-parse-overview-file): New function.
	(nnheader-write-overview-file): New function.

2002-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-group-fast-parameter): Check better if expansion
	in wanted.

	* nnweb.el (nnweb-type-definition): Clean up.

2002-01-21  Alastair Burt  <burt@dfki.de>
	Trivial patch.

	* gnus-art.el (gnus-mm-display-part): Make sure that the summary
	buffer exists before jumping to it.

2002-01-21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-wash-html-with-w3): Made into own
	function.
	(article-wash-html): Use it.
	(gnus-article-wash-function): New variable.
	(gnus-article-wash-html-with-w3m): New function.

2002-01-20  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* dgnushack.el (dgnushack-compile): Compile smiley-ems for
	XEmacs.

2002-01-20  John H. Palmieri  <palmieri@math.washington.edu>

	* gnus-fun.el (gnus-convert-image-to-gray-x-face): More standard
	command line.

2002-01-21  Simon Josefsson  <jas@extundo.com>

	* canlock.el (base64-encode-string): Autoload it from base64.
	(canlock-make-cancel-key): Base64 encode unibyte string.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnfolder.el (nnfolder-request-accept-article): Unfold
	x-from-line.
	(nnfolder-request-replace-article): Ditto.

2002-01-20  Nevin Kapur  <nevin@jhu.edu>

	* gnus-group.el (gnus-group-best-unread-group): Use the right
	positioning function.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* smiley-ems.el (smiley-region): Use new function.
	(smiley-update-cache): Use general image functions.
	(smiley-region): Use general functions.

	* gnus-util.el (gnus-graphic-display-p): New function.

	* nnmail.el (nnmail-article-group): Allow outputting traces of
	non-strings.

	* nndoc.el (nndoc-type-alist): Rules for exim bounces.
	(nndoc-exim-bounce-type-p): New function.

	* message.el (message-dont-send): Doc fix.

	* gnus-util.el (gnus-completing-read): Remove
	inherit-input-method.

	* gnus-art.el (gnus-treat-smiley): Doc fix.

	* gnus-agent.el (gnus-agent-fetch-headers): Ignore seen and recent
	articles.

2002-01-19  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-gssapi-open): Don't wait for logout to complete.
	(imap-kerberos4-open): Ditto.
	(imap-open): Set port correctly, don't set auth.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-version-number): Bump version number.

2002-01-20 05:33:30 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.05 is released.

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnkiboze.el (nnkiboze-generate-group): Make sure the directory
	exists.

	* gnus-spec.el (gnus-string-width-function): New function.
	(gnus-tilde-cut-form): Use it.
	(gnus-tilde-max-form): Ditto.
	(gnus-use-correct-string-widths): Default to (featurep 'xemacs).
	(gnus-substring-function): Use it.
	(gnus-tilde-cut-form): Ditto.
	(gnus-substring-function): New function.

	* message.el (message-check-news-header-syntax): New message.

	* gnus.el (gnus-slave-no-server): Doc fix.

	* gnus-spec.el (gnus-use-correct-string-widths): Default to t.

2002-01-15  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-adjust-marked-articles): Fix the record for
	`seen' if it looks like (seen NUM1 . NUM2).  It should be
	(seen (NUM1 . NUM2)).

2002-01-20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-catchup-articles): Update article
	number in closed topics.

2002-01-19  Daniel Pittman  <daniel@rimspace.net>

	* gnus-sum.el (gnus-summary-first-unseen-or-unread-subject): New
	functions.

2002-01-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-group-find-parameter): Clean up.

	* gnus-sum.el (gnus-summary-goto-subject): Error on non-numerical
	articles.

	* gnus-util.el (gnus-completing-read-with-default): Renamed.

	* nnmail.el (nnmail-article-group): Clean up.

2002-01-19  Paul Stodghill  <stodghil@cs.cornell.edu>

	* gnus-agent.el (gnus-category-name): Intern the category name.

2002-01-19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-move-group): Use gnus-topic-history.

	* gnus-util.el (gnus-completing-read): New function.

2002-01-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-add-wash-type): Use add-to-list.

	* smiley-ems.el (smiley-region): Register smiley.
	(smiley-toggle-buffer): Rewrite the function.
	(smiley-active): Removed.

2002-01-19  Simon Josefsson  <jas@extundo.com>

	* gnus-util.el (gnus-parent-id): Optimize null n case.  From
	Jesper Harder <harder@ifa.au.dk>.

2002-01-18  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-art.el (gnus-request-article-this-buffer): Call
	`nneething-get-file-name' to extract the file name from the
	message id.

	* nneething.el (nneething-encode-file-name): New function.
	(nneething-decode-file-name): Ditto.
	(nneething-get-file-name): Ditto.
	(nneething-make-head): Encode the file name and encapsulate it
	into the field of the message id.

2002-01-18  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-update-info): Don't erase flags that isn't
	stored in .marks.

	* nnfolder.el (nnfolder-request-update-info): Ditto.

2002-01-18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-url-parse-query-string): Allow new line in value.

2002-01-18  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-starttls-p): Don't check for binary.
	(imap-gssapi-auth-p): Ditto.
	(imap-kerberos4-auth-p): Ditto.
	(imap-open): Change logic.  Iterate through all possible streams,
	instead of bailing out after first failure.  Move authenticator
	decision to `imap-authenticate'.
	(imap-authenticate): Change logic, now finds the authenticator to
	use, was previously in `imap-open'.
	(imap-open): Return nil on failure.
	(imap-open): Setup temp buffer correctly.
	(imap-open): Return buffer only on success.
	(imap-interactive-login, imap-interactive-login): Tell the user
	which stream/authenticator is used for the queried
	username/password.
	(imap-open, imap-authenticate): Set variables.
	(imap-gssapi-auth-p, imap-kerberos4-auth-p): Fix typo.
	(imap-open): Don't assume how `with-temp-buffer' is implemented.

2002-01-17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-grab-cam-x-face): New function.

2002-01-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-emphasis-alist): Allow matching "*this*.)".

2002-01-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-toggle-group-plugged): New function.
	(gnus-agent-group-mode-map): Bind it to "Jo".
	(gnus-agent-group-make-menu-bar): Add it into menu bar.

2002-01-17  Karl Kleinpaste  <karl@charcoal.com>

	* gnus-xmas.el (gnus-group-toolbar): Add .newsrc save button.
	(gnus-summary-mail-toolbar): Add mail article deletion button.

	* smiley.el (smiley-deformed-regexp-alist): Eliminate noseless
	false positives for lines of "^^^^".

	* gnus-picon.el (gnus-picon-find-face): faces database is all
	lowercase.

2002-01-17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-retrieve-headers): Use correct buffer.
	(gnus-agent-braid-nov): Switch back to nntp-server-buffer. Remove
	duplications.
	(gnus-agent-batch): Bind gnus-agent-confirmation-function.

2002-01-16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-initial-limit): Inline
	gnus-summary-limit-children.
	(gnus-summary-initial-limit): Don't limit if
	gnus-newsgroup-display is nil.
	(gnus-summary-initial-limit): No, don't.

	* gnus-util.el
	(gnus-put-text-property-excluding-characters-with-faces): Inline
	gnus-put-text-property.

	* gnus-spec.el (gnus-default-format-specs): New variable.

	* gnus-start.el (gnus-read-newsrc-file): Don't clear
	gnus-format-specs.
	(gnus-read-newsrc-el-file): Default to gnus-default-format-specs.

	* gnus-spec.el (gnus-update-format-specifications): Really check
	the Gnus version of the .newsrc.eld file.
	(gnus-format-specs): Save the new default summary format.

	* gnus-util.el (gnus-parent-id): Check whether references is empty
	before splitting.

	* gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): Inline some
	functions.
	(gnus-gather-threads-by-references): Inline
	`gnus-split-references'.

	* gnus-spec.el (gnus-summary-line-format-spec): New, optimized
	default value of gnus-summary-line-format-spec.

2002-01-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-retrieve-headers-1): A better error
	message.
	(nnslashdot-request-list): Ditto.
	(nnslashdot-sid-strip): Removed.

2002-01-15  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-close-asynchronous): Enable.
	(nnimap-close-group): Expunge.

2002-01-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-user-date-format-alist): Typo.
	From: Frank Schmitt <usereplyto@Frank-Schmitt.net>

2002-01-15  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nneething.el (nneething-request-article): Set
	`nnmail-file-coding-system' to `binary' locally, in order to read
	files without any conversion.

2002-01-15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-retrieve-headers): Use
	nnheader-file-coding-system and nnmail-active-file-coding-system.
	(gnus-agent-regenerate-group): Ditto.
	(gnus-agent-regenerate): Ditto.
	(gnus-agent-write-active): Ditto.
	Suggested by Katsumi Yamaoka <yamaoka@jpl.org>

2002-01-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-button-alist): Don't highlight <URL:.
	Suggested by Ian Fitchet <ian.fitchet@lunanbay.com>

2002-01-14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: We don't need gnus-article-show-all-headers.

	* gnus-art.el (article-show-all, gnus-article-show-all-header):
	Ditto.

	* gnus-sum.el (gnus-summary-select-article): Don't call
	show-all-headers, because hidden headers are not hidden text any
	more.

2002-01-13  Simon Josefsson  <jas@extundo.com>

	* message.el (message-newline-and-reformat): Use `newline' instead
	of inserting \n, so that the newline is marked as hard.

	* gnus-spec.el (gnus-pad-form): Don't evaluate EL multiple times.
	From Jesper Harder <harder@ifa.au.dk>.

2002-01-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* imap.el (imap-close): Keep going if quit.

	* gnus-agent.el (gnus-agent-retrieve-headers): Erase
	nntp-server-buffer.

2002-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-display-inline-fontify): Require font-lock to
	avoid unbinding shadowed variables.

	* gnus-art.el (gnus-picon-databases): Moved here.
	(gnus-picons-installed-p): Moved here.
	(gnus-article-reply-with-original): Use `mark'.

	* gnus.el (gnus-picon): Moved here and renamed.

	* gnus-art.el (gnus-treat-from-picon): Only be on if picons are
	installed.
	(gnus-treat-mail-picon): Ditto.
	(gnus-treat-newsgroups-picon): Ditto.

	* gnus-picon.el (gnus-picons-installed-p): New function.

2002-01-12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-go-online): Fix doc.

2002-01-12  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-need-unselect-to-notice-new-mail)
	(nnimap-before-find-minmax-bugworkaround): Use it.
	(nnimap-find-minmax-uid): Don't reselect current mailbox.
	(nnimap-dont-close): New variable.
	(nnimap-close-group): Use it.

2002-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-reply-with-original): Use
	`mark-active'.

	* gnus-msg.el (gnus-summary-reply): Don't bug out on regions.

	* gnus-logic.el (gnus-advanced-score-rule): Thinko fix.
	(gnus-score-advanced): Clean up.
	(gnus-score-advanced): Accept a multiple of the score.

2002-01-12  Simon Josefsson  <jas@extundo.com>

	* flow-fill.el (fill-flowed-display-column)
	(fill-flowed-encode-columnq): New variables.  Suggested by
	Kai.Grossjohann@CS.Uni-Dortmund.DE (Kai Gro,b_(Bjohann).
	(fill-flowed-encode, fill-flowed): Use them.

	* message.el (message-send-news, message-send-mail): Use
	m-b-s-n-p-e-h-n.

	* mml.el (autoload): Autoload fill-flowed-encode.
	(mml-buffer-substring-no-properties-except-hard-newlines): New
	function.
	(mml-read-part): Use it.
	(mml-generate-mime-1): Encode format=flowed if appropriate.
	(mml-insert-mime-headers): Insert format=flowed.

	* flow-fill.el (fill-flowed-encode): New function.
	(fill-flowed): Bind fill-column to window width.

2002-01-12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-buffer-name): Return the dead name if
	it exists.
	(gnus-summary-setup-buffer): Wake up dead summary buffers.
	(gnus-summary-buffer-name): Don't return the dead name after all.
	(gnus-summary-setup-buffer): Kill the dead buffer.

	* gnus-art.el (gnus-article-followup-with-original): Store the
	value of the mark before deactivating it.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-fun.el (gnus-display-x-face-in-from): Fake it.
	From: Karl Kleinpaste <karl@charcoal.com>

	* gnus-art.el (article-display-x-face): Ditto.
	(gnus-article-reply-with-original): Use gnus-region-active-p.
	(gnus-article-followup-with-original): Ditto.

	* gnus-sum.el (gnus-summary-read-group-1): Don't select
	downloadable article either.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-display-x-face): Insert From:.

	* gnus-sum.el (gnus-summary-move-article): Don't draw the
	article. Bind gnus-display-mime-function and
	gnus-article-prepare-hook.

	* gnus-agent.el (gnus-agent-retrieve-headers): Load agentview.
	(gnus-agent-toggle-plugged): Use gnus-agent-go-online. Move
	gnus-agent-possibly-synchronize-flags to the last.
	(gnus-agent-go-online): New function. New variable.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-regenerate-group): Add clean option.
	(gnus-agent-regenerate): Ditto.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-ignored-news-headers)
	(message-ignored-mail-headers): Add X-Gnus-Agent-Meta-Information:.
	Suggested by ARISAWA Akihiro <ari@atesoft.advantest.co.jp>

	* gnus.el (gnus-gethash-safe): New macro.

	* gnus-agent.el (gnus-agent-regenerate-history): New function.
	(gnus-agent-regenerate): Show messages.

2002-01-11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-regenerate-group): New function.
	(gnus-agent-regenerate): New function.
	(gnus-agent-save-alist): Sort.
	(gnus-agent-copy-nov-line): Test eobp.
	(gnus-agent-retrieve-headers): Erase buffer.

2002-01-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-to-coding-system): Change charset to cs.
	From: Torsten Hilbrich <email@myrkr.in-berlin.de>

	* gnus.el (gnus-agent-covered-methods): Move here.
	(gnus-online): New function.
	(gnus-agent-method-p): Move here.

	* nnagent.el (nnagent-retrieve-headers): Check whether arts is
	nil. Remove articles-alist.

	* gnus-start.el (gnus-get-unread-articles): Check online.
	(gnus-groups-to-gnus-format): Ditto.
	(gnus-active-to-gnus-format): Ditto.

	* gnus-agent.el (gnus-agent-get-function): Use it.
	(gnus-agent-get-undownloaded-list): Ditto.
	(gnus-agent-fetch-session): Only fetch online methods.

	* gnus-srvr.el (gnus-server-make-menu-bar): Add offline.
	(gnus-server-mode-map): Ditto.
	(gnus-server-offline-face): New face.
	(gnus-server-offline-face): New variable.
	(gnus-server-font-lock-keywords): Add offline.
	(gnus-server-insert-server-line): Ditto.
	(gnus-server-offline-server): New function.

	* gnus-int.el (gnus-open-server): Turn to offline.
	(gnus-server-unopen-status): New variable.

2002-01-10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnkiboze.el (nnkiboze-request-article): Use
	gnus-agent-request-article.

	* nnagent.el (nnagent-retrieve-headers): Don't use nnml
	function. Insert undownloaded NOV.

	* gnus-agent.el (gnus-agent-retrieve-headers): New function.
	(gnus-agent-request-article): New function.

	* gnus.el (gnus-agent-cache): New variable.

	* gnus-int.el (gnus-retrieve-headers): Use
	gnus-agent-retrieve-headers.
	(gnus-request-head): Use gnus-agent-request-article.
	(gnus-request-body): Ditto.

	* gnus-art.el (gnus-request-article-this-buffer): Use
	gnus-agent-request-article.

	* gnus-sum.el (gnus-summary-read-group-1): Don't show the first
	article if it is undownloaded.

2002-01-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-spec.el (gnus-spec-tab): Deal with wide characters.

2002-01-09  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el (canlock-string-as-unibyte): New macro.
	(canlock-sha1-with-openssl): Return a unibyte string.
	(canlock-make-cancel-key): Treat Message-ID as a unibyte string.

2002-01-09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-expand-group-parameters): Match \N or \& only.

2002-01-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-encode.el (mm-content-transfer-encoding-defaults): Add
	application/x-emacs-lisp.

	* gnus-msg.el (gnus-bug): Use application/emacs-lisp.

	* nntp.el (nntp-request-article): Add group parameter.
	(nntp-request-head): Ditto.
	(nntp-find-group-and-number): Add parameter group. Figure out
	number if the status line doesn't give (e.g. quimby.gnus.org).

2002-01-08  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-generate-mime-1): Set recipient correctly.

2002-01-08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-read-from-minibuffer): Add parameter
	initial-contents.
	* gnus-msg.el (gnus-summary-resend-message): Use it.

	* gnus-group.el (gnus-group-read-ephemeral-group): Restore the old
	behavior of quit-config.

	* message.el (message-make-from): Don't quote fullname.
	From: Bj,Ax(Brn Mork <bmork@dod.no>

	* gnus-group.el (gnus-group-suspend): Don't kill message buffers.
	From: <andre@slamdunknetworks.com>

2002-01-07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-mark-article-read): Typo. Increase n.

	* gnus-art.el (gnus-header-button-alist): Handle mailto.

	* mml.el (mml-preview): Bind gnus-original-article-buffer because
	article-decode-group-name uses it.  Bind gnus-article-prepare-hook
	because bbdb may use it.

2002-01-07  TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* nneething.el (nneething-request-article): When a non-text file
	is converted to an article, its data is encoded in base64.  Call
	`nneething-make-head' with options to specify MIME types.
	(nneething-make-head): Add optional arguments to specify MIME
	types.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-fun.el (gnus-display-x-face-in-from): Fake a "From: "
	header if there is not.

	* gnus-xmas.el (gnus-xmas-put-image): Insert " " if bobp.

	* gnus-msg.el (gnus-gcc-mark-as-read): New variable.
	(gnus-inews-mark-gcc-as-read): Obsolete variable.
	(gnus-inews-do-gcc): Use them.

	* gnus-group.el (gnus-group-mark-article-read): Put holes into
	gnus-newsgroup-unselected.

2002-01-06  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-ssl-open, imap-ssl-open, imap-parse-fetch): Use
	condition-case, not ignore-errors.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-insert-old-articles): Bind
	gnus-fetch-old-headers.

	* gnus-art.el (article-display-x-face): Use the current buffer
	unless `W f'. Otherwise, X-Face may be shown in the header of a
	forwarded part.
	(gnus-treatment-function-alist): Treat xface before hiding
	headers.

2002-01-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-read-ephemeral-group): Fix
	parameters.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-multibyte-p): Define conditionally when load.
	(mm-guess-charset): New function.
	(mm-charset-after): Use it.
	(mm-detect-coding-region): New function.
	(mm-detect-mime-charset-region): New function.

	* gnus-sum.el (gnus-summary-show-article): Use
	mm-detect-coding-region.

2002-01-06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-make-fqdn): Be less violent.

	* gnus.el (gnus-logo-color-style): Compute custom form
	automatically.

	* gnus-sum.el (gnus-summary-enter-digest-group): Feed the adaptive
	score file of the parent to the document group.

	* gnus-group.el (gnus-group-read-ephemeral-group): Add an optional
	parameters parameter.

	* gnus-score.el (gnus-score-load-file): Clean up.

2002-01-06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-thread-sort-by-most-recent-number): Fix typo.
	From: Damien Wyart <damien.wyart@free.fr>

	* gnus-util.el (gnus-local-map-property): In Emacs 21, use keymap.

2002-01-05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-select-group-hook): Typo.

	* rfc2047.el (rfc2047-decode-string): Return immediately if there
	is no quoted-printable-encoded STRING.
	From: Jesper Harder <harder@ifa.au.dk>

	(rfc2047-decode-string): Decode it.

2002-01-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-logo-color-alist): Added more colors from Luis.

2002-01-05  Keiichi Suzuki  <keiichi@nanap.org>
	Trivial patch.

	* nntp.el (nntp-possibly-change-group): Erase contents of nntp
	buffer to get rid of junk line.

2002-01-05  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode-map): Bind message-goto-from to C-c C-f
	C-o.
	(message-mode-map): Bind message-insert-or-toggle-importance to
	C-c C-u.
	(message-mode-map): Bind message-disposition-notification-to to
	C-c M-n.
	(message-mode-menu): Add m-d-n-t.
	(message-mode-field-menu): Add m-goto-from.
	(message-mode): Doc fix.
	(message-goto-from): New function.
	(message-insert-disposition-notification-to): New function.
	(message-tool-bar-map): Add receipt button.

2002-01-05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-thread-latest-date): New function.
	(gnus-thread-sort-by-most-recent-number): Renamed.
	(gnus-thread-sort-functions): Doc fix.
	(gnus-select-group-hook): Don't use setq on a hook.
	(gnus-thread-latest-date): Use date, not number

	* gnus-agent.el (gnus-agent-expire-days): Doc fix.
	(gnus-agent-expire): Allow regexp of expire-days.

	* gnus-art.el (gnus-article-reply-with-original): Deactivate
	region.
	(gnus-article-followup-with-original): Ditto.

	* gnus-sum.el (gnus-thread-highest-number): Doc fix.

	* gnus-art.el (gnus-mime-display-alternative): Use
	gnus-local-map-property.
	(gnus-mime-display-alternative): Ditto.
	(gnus-insert-mime-security-button): Ditto.
	(gnus-insert-next-page-button): Ditto.
	(gnus-button-prev-page): Take optional args.
	(gnus-insert-prev-page-button): widget-convert.

	* gnus-util.el (gnus-local-map-property): New function.

	* gnus-art.el (gnus-prev-page-map): Use parent map.
	(gnus-next-page-map): Ditto.

	* gnus-spec.el (gnus-parse-format): Clean up.
	(gnus-parse-format): Do complex formatting for %=.

	* gnus-fun.el (gnus-display-x-face-in-from): Add the string
	"X-Face: " to the data in the built-in scenario.

	* gnus-spec.el (gnus-parse-simple-format): Use gnus-pad-form.
	(gnus-correct-pad-form): Renamed.
	(gnus-tilde-max-form): Clean up.
	(gnus-pad-form): Use gnus-use-correct-string-widths.

	* gnus-fun.el (gnus-display-x-face-in-from): Use native xface
	support if that is available.

	* gnus-sum.el (gnus-thread-highest-number): New function.
	(gnus-thread-sort-by-most-recent-thread): New function.
	(gnus-thread-sort-functions): Doc fix.

2002-01-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-select-article): Disable multibyte in
	all cases.
	(gnus-summary-mode): Enable it in all cases.
	(gnus-summary-display-article): Ditto.
	(gnus-summary-edit-article): Ditto.

	* gnus-ems.el (gnus-put-image): Really return glyph.

	* gnus-art.el (gnus-article-x-face-command): Fix :type.
	(gnus-treat-smiley): Don't take "P" in the interactive form.

2002-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* compface.el (uncompface): XEmacs and Emacs have differing
	capabilities.

	* gnus-fun.el (gnus-display-x-face-in-from): Use face.

	* gnus-ems.el (gnus-article-xface-ring-internal): Removed.
	(gnus-article-xface-ring-size): Removed.
	(gnus-article-display-xface): Removed.
	(gnus-remove-image): Cleaned up.

	* gnus-xmas.el (gnus-xmas-create-image): Convert pbm to xbm.
	(gnus-xmas-create-image): Take pbm files.
	(gnus-x-face): Removed.
	(gnus-xmas-article-display-xface): Removed.

	* gnus-fun.el (gnus-display-x-face-in-from): Bind
	default-enable-multibyte-characters.

	* compface.el (uncompface): Doc fix.

	* gnus-art.el (gnus-article-x-face-command): Use
	gnus-display-x-face-in-from.

	* gnus-xmas.el (gnus-xmas-put-image): Return the image.

	* gnus-ems.el (gnus-put-image): Return the image.

	* gnus-fun.el (gnus-display-x-face-in-from): New function.
	(gnus-x-face): Moved here.

2002-01-04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-put-image): Don't insert SPC or make
	invisible if string is nil.
	(gnus-xmas-article-display-xface): Use it.

	* gnus-ems.el (gnus-put-image): Explicitly use SPC, and add text
	property when string is nil.
	(gnus-article-display-xface): Use it.

2002-01-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-display-x-face): Check whether valid grey
	face was returned.
	(article-display-x-face): Place image in the right spot.

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Get rid of
	stderr.
	(gnus-convert-gray-x-face-to-xpm): Check whether output is valid.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-xmas.el (gnus-xmas-create-image): Take optional
	parameters.
	(gnus-xmas-put-image): Allow non-strings to be passed.

	* gnus-art.el (article-display-x-face): Use optional parameters.

	* gnus-ems.el (gnus-create-image): Take optional parameters.

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Use uncompface.

	* compface.el (compface-xbm-p): Removed.

	* gnus-ems.el (gnus-article-compface-xbm): Removed.
	(gnus-article-display-xface): Use compface.

	* compface.el: New file.

	* gnus-fun.el (gnus-convert-pbm-to-x-face-command): Remove quotes.
	(gnus-convert-image-to-x-face-command): Ditto.
	(gnus-random-x-face): Quote argument.
	(gnus-x-face-from-file): Ditto.

2002-01-03  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-request-expire-articles): evaluate
	the expire-group parameter once per article rather than once
	per group; bind `nnmaildir-article-file-name' and `article'
	for convenience.  Leave article alone when expire-group
	specifies the current group.
	(nnmaildir--update-nov): be more concurrency-friendly with
	temp file names.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-read-init-file): Cleaned up.

2002-01-03  Dave Love  <d.love@dl.ac.uk>

	* gnus-start.el (gnus-startup-file-coding-system): Removed.
	(gnus-read-init-file): Don't use it.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-session): Run hook.

2002-01-03  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-start.el (gnus-read-init-file): Don't force coding system
	for ~/.gnus.  From Dave Love <fx@gnu.org>.

2002-01-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-send-buffer): Use mm-with-unibyte-current-buffer.
	* nnspool.el (nnspool-request-post): Ditto.

	* mm-util.el (mm-use-find-coding-systems-region): New variable.
	(mm-find-mime-charset-region): Use it.

2002-01-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-summary-line-format): Added :link.
	* gnus-topic.el (gnus-topic-line-format): Ditto.
	* gnus-sum.el (gnus-summary-dummy-line-format): Ditto.
	* gnus-srvr.el (gnus-server-line-format): Ditto.
	* gnus-group.el (gnus-group-line-format): Ditto.

	* gnus-sum.el (gnus-summary-make-menu-bar): Use correct syntax for
	:keys, it works on both Emacsen.

2002-01-03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-to-coding-system): Don't setq charset.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-summary-send-map): Fix binding for very-wide.

2002-01-03  Reiner Steib  <reiner.steib@gmx.de>

	* gnus-sum.el (gnus-summary-make-menu-bar): Menu bar entries for
	very wide reply.

2002-01-03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picon-transform-address): Cache stuff.
	(gnus-picon-cache): New variable.
	(gnus-picon-transform-newsgroups): Cache stuff.

	* gnus-art.el (gnus-article-reply-with-original): New command.
	(gnus-article-followup-with-original): New command.

	* gnus-msg.el (gnus-copy-article-buffer): Take optional BEG and
	END parameters.
	(gnus-summary-followup): Take a list of list of articles.
	(gnus-inews-yank-articles): Allow lists of article/regions.

	* gnus-art.el (gnus-article-read-summary-keys): `R' and `F' are no
	longer the usual commands.

	* gnus-fun.el (gnus-convert-image-to-gray-x-face): Use pnmnoraw.
	(gnus-convert-gray-x-face-to-xpm): Don't use six parameters to
	shell-command-on-region.

2002-01-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-picon.el (gnus-picon-transform-newsgroups): Fix for the case
	  "Newsgroups: rec.music.beatles.moderated, rec.music.beatles".

2002-01-03  Steve Youngs  <youngs@xemacs.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): XEmacs doesn't
	understand ':keys', wrap it in an featurep 'xemacs.

2002-01-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ems.el (gnus-article-display-xface): Show xface in the
	order of headers (Actually, it is called in a reversed order). Add
	'gnus-image-text-deletable property.
	(gnus-remove-image): Remove text with such a property.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Don't use
	gnus-put-image.

	* gnus-art.el (gnus-article-treat-fold-newsgroups): Replace ", *"
	with ", "

2002-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el (gnus-convert-gray-x-face-to-xpm): Renamed.

	* gnus-art.el (gnus-ignored-headers): Hide all X-Faces.
	(article-display-x-face): Display grey X-Faces.

	* gnus-fun.el (gnus-convert-gray-x-face-region): New function.
	(gnus-convert-gray-x-face-to-ppm): Ditto.
	(gnus-convert-image-to-gray-x-face): Ditto.

	* gnus-sum.el (gnus-summary-make-menu-bar): Add a :keys to
	gnus-summary-show-raw-article.

2002-01-02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	Display picons in XEmacs without showing text.

	* gnus-xmas.el (gnus-xmas-create-image): Don't use
	mm-create-image-xemacs to create xbm glyph, because it deletes
	temporary files.
	(gnus-xmas-put-image): Use end-glyph. Make text invisible.
	(gnus-xmas-remove-image): Make text visible, remove glyph.

	* gnus-picon.el (gnus-picon-transform-newsgroups)
	(gnus-picon-transform-address): Insert spec backward, due to the
	incompatibility of gnus-xmas-put-image.

2002-01-02  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-fun.el (gnus-convert-pbm-to-x-face-command): Doc fix.

2002-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Doc fix.

	* gnus-art.el: Doc fix.

	* gnus-agent.el: Doc fix.

2002-01-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-diary.el, gnus-delay.el: Fix copyright lines.

2002-01-01  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir--update-nov): automatically parse
	NOV data out of the message again if nnmail-extra-headers has
	changed.

2002-01-02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-fun.el: New file.
	(gnus-convert-image-to-x-face-command): New variable.
	(gnus-insert-x-face): New function.
	(gnus-random-x-face): Renamed.
	(gnus-x-face-from-file): Renamed.

	* gnus-art.el (gnus-body-boundary-delimiter): Changed default to
	"_".
	(gnus-body-boundary-delimiter): Typo fix.

2002-01-02  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-article-treat-body-boundary): Handle nil.
	(gnus-body-boundary-delimiter): Fix type.

2002-01-01  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-treat-buttonize, gnus-treat-buttonize-head)
	(gnus-treat-emphasize, gnus-treat-strip-cr)
	(gnus-treat-leading-whitespace, gnus-treat-hide-headers)
	(gnus-treat-hide-boring-headers, gnus-treat-hide-signature)
	(gnus-treat-fill-article, gnus-treat-hide-citation)
	(gnus-treat-hide-citation-maybe)
	(gnus-treat-strip-list-identifiers, gnus-treat-strip-pgp)
	(gnus-treat-strip-pem, gnus-treat-strip-banner)
	(gnus-treat-highlight-headers, gnus-treat-highlight-citation)
	(gnus-treat-date-ut, gnus-treat-date-local)
	(gnus-treat-date-english, gnus-treat-date-lapsed)
	(gnus-treat-date-original, gnus-treat-date-iso8601)
	(gnus-treat-date-user-defined, gnus-treat-strip-headers-in-body)
	(gnus-treat-strip-trailing-blank-lines)
	(gnus-treat-strip-leading-blank-lines)
	(gnus-treat-strip-multiple-blank-lines)
	(gnus-treat-unfold-headers, gnus-treat-fold-headers)
	(gnus-treat-fold-newsgroups, gnus-treat-overstrike)
	(gnus-treat-display-xface, gnus-treat-display-smileys)
	(gnus-treat-from-picon, gnus-treat-mail-picon)
	(gnus-treat-newsgroups-picon, gnus-treat-body-boundary)
	(gnus-treat-capitalize-sentences, gnus-treat-fill-long-lines)
	(gnus-treat-play-sounds, gnus-treat-translate)
	(gnus-treat-x-pgp-sig): Doc fix, add link to manual.

	* gnus-art.el (gnus-body-boundary-delimiter): New variable.
	(gnus-article-treat-body-boundary): Use it.

	* message.el (message-mode): Fix doc.
	(message-mode-menu): Fix names.

2002-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-first-subject): Really go to unseen
	articles.

	* gnus-picon.el (gnus-picon-find-face): Search MISC for all types.
	(gnus-picon-transform-address): Search for unknown faces as well.
	(gnus-picon-find-face): Don't search "news" for MISC.
	(gnus-picon-user-directories): Changed default back to exclude
	"unknown".

	* gnus-sum.el (gnus-summary-hide-all-threads): Reversed logic.

	* gnus-picon.el (gnus-picon-find-face): Search through all
	databases.
	(gnus-picon-find-face): New implementation.

	* gnus-topic.el (gnus-topic-goto-previous-topic): New command and
	keystroke.
	(gnus-topic-goto-next-topic): Ditto.

	* gnus.el (gnus-summary-line-format): Changed default.

	* nnmail.el (nnmail-extra-headers): Change default.

	* gnus-sum.el (gnus-extra-headers): Change default.

	* message.el (message-news-other-window): Changed "news" to
	"posting".
	(message-news-other-frame): Ditto.
	(message-do-send-housekeeping): Ditto.

	* gnus-sum.el (gnus-summary-maybe-hide-threads): Use predicate
	function.
	(gnus-article-unread-p): New function.
	(gnus-article-unseen-p): New function.
	(gnus-dead-summary-mode-map): Typo.

	* gnus-util.el (gnus-make-predicate): New function.
	(gnus-make-predicate-1): New function.

	* gnus-sum.el: New function.
	(gnus-map-articles): New function.

	* gnus-art.el (gnus-treat-fold-headers): New variable.
	(gnus-article-treat-fold-headers): New command and keystroke.

	* gnus-sum.el (gnus-dead-summary-mode-map): Clean up.
	(gnus-dead-summary-mode-map): Bind q to bury-buffer.

2002-01-01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fcc-externalize-attachments): New variable.
	(message-do-fcc): Use it.

	* gnus-msg.el (gnus-gcc-externalize-attachments): New variable.
	(gnus-inews-do-gcc): Use it.

	* mml.el (mml-tweak-sexp-alist): New variable.
	(mml-externalize-attachments): New variable.
	(mml-tweak-part): Use mml-tweak-sexp-alist.
	(mml-tweak-externalize-attachments): New function.

2002-01-01  Steve Youngs  <youngs@xemacs.org>

	* gnus-xmas.el (gnus-xmas-article-display-xface): Uncomment
	'set-glyph-face' so x-face back/foreground can be set.

2001-12-31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fix-before-sending): Fix a typo.

2002-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-smiley): Renamed command.
	(gnus-article-remove-images): New command and keystroke.

	* gnus-sum.el (gnus-summary-toggle-smiley): Removed.

	* smiley-ems.el (gnus-smiley-display): Removed.

	* gnus.el (gnus-version-number): Update version.

	* message.el (message-text-with-property): Renamed and moved
	here.
	(message-fix-before-sending): Highlight invisible text and place
	point there.

2002-01-01 02:32:53 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.04 is released.

2002-01-01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-delay.el (gnus-delay-send-queue): Renamed.

	* gnus-art.el (gnus-ignored-headers): More headers,

	* ietf-drums.el (ietf-drums-parse-addresses): Use `error' instead
	of `scan-error', since XEmacs doesn't seem to support that.

2001-12-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-best-unread-article): Take a prefix
	arg.
	(gnus-summary-best-unread-subject): Ditto.
	(gnus-summary-best-unread-subject): No, don't.
	(gnus-summary-better-unread-subject): New command.

	* gnus-xmas.el (gnus-xmas-put-image): Insert the string itself.

	* lpath.el ((featurep 'xemacs)): fbind url function.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use data, not
	buffer.
	(gnus-xmas-remove-image): Implementation that does something.
	(gnus-xmas-article-display-xface): Mark images properly.

	* gnus-art.el (gnus-mime-print-part): Use mm-temp-directory.

2001-12-31  Florian Weimer  <fw@deneb.enyo.de>

	* gnus.el (gnus): Warn if trying to run Gnus un-byte-compiled.

2001-12-31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-line-format): Added %O to the default
	value.

	* gnus-util.el (gnus-text-with-property): The smallest point is
	point-min.

	* smiley-ems.el (smiley-region): Return images.
	(gnus-smiley-display): Allow toggling.
	(smiley-region): Use text properties, not overlays.

	* gnus-xmas.el (gnus-xmas-remove-image): New function, not
	implemented yet.

	* smiley-ems.el (smiley-update-cache): Check for valid types.

	* gnus-art.el (gnus-with-article-buffer): New macro.

	* gnus-picon.el (gnus-picon-transform-newsgroups): Keep the
	strings as well as the glyphs.
	(gnus-picon-transform-address): Ditto.
	(gnus-picon-insert-glyph): Ditto.
	(gnus-picon-transform-newsgroups): Toggle.
	(gnus-picon-transform-address): Toggle.

	* gnus-ems.el (gnus-remove-image): New function.
	(gnus-put-image): Take an optional string.

	* gnus-util.el (gnus-text-with-property): New function.

	* gnus-art.el (gnus-delete-images): New function.

	* gnus-ems.el (gnus-article-display-xface): Mark and store image.

	* gnus-art.el (gnus-article-wash-status-entry): Renamed.
	(gnus-article-wash-status): Use it.
	(gnus-signature-toggle): Clean up.
	(gnus-add-wash-status): New function.
	(gnus-delete-wash-status): New function.
	(gnus-article-hide-text-type): Use them throughout.
	(gnus-add-image): New function.

	* gnus-ems.el (gnus-article-display-xface): Use new interface.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use new
	interface.

	* gnus-art.el (article-display-x-face): Cleaned up.

	* rfc2047.el (rfc2047-field-value): New function.

	* mail-parse.el (mail-header-field-value): New alias.

	* gnus-art.el (gnus-mime-print-part): Fix typos.

	* smiley-ems.el (gnus-smiley-file-types): New variable.
	(smiley-update-cache): Use it.
	(smiley-regexp-alist): Suffix-less smiley names.
	(smiley-regexp-alist): Added more smileys.

	* gnus-sum.el (gnus-print-buffer): Made into own function.
	(gnus-summary-print-article): Use it.

	* mailcap.el (mailcap-mime-info): Actually return the bit that we
	looked for when REQUEST is a string.

	* gnus-art.el (gnus-mime-button-commands): Add printing
	keystroke.
	(gnus-mime-copy-part): Doc fix.
	(gnus-mime-print-part): New command.

2001-12-31  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-fetch): Notice empty flags responses.  From
	Nic Ferrier <nferrier@tf1.tapsellferrier.co.uk>.

2001-12-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-picon.el (gnus-treat-from-picon): Autoload.
	(picon): Fix doc.

	* gnus-win.el (gnus-window-to-buffer): gnus-picon-buffer-name no
	longer exists. Remove those codes.
	* gnus.el (gnus-use-picons): Ditto.

2001-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-treat-fold-newsgroups): Don't
	infloop.

	* gnus-sum.el (t): New `W D' map.

	* gnus-art.el (gnus-treat-fold-newsgroups): New variable.
	(gnus-article-treat-body-boundary): Clean up.
	(gnus-body-boundary-face): Removed.
	(gnus-article-goto-header): Moved here.
	(gnus-article-goto-header): Allow better regexps.
	(gnus-article-treat-fold-newsgroups): New command.

	* gnus-sum.el (gnus-summary-move-article): We have to select an
	article to give `gnus-read-move-group-name' an opportunity to
	suggest an appropriate default.

	* rfc2047.el (rfc2047-fold-line): New function.
	(rfc2047-unfold-line): Ditto.
	(rfc2047-fold-region): Don't fold just after the header name.

	* mail-parse.el (mail-header-fold-line): New alias.
	(mail-header-unfold-line): Ditto.

	* gnus-art.el (gnus-body-boundary-face): Renamed.
	(gnus-article-treat-body-boundary): Use it.
	(gnus-article-treat-body-boundary): Use an invisible header and a
	line of underline characters.

2001-12-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* ietf-drums.el (ietf-drums-parse-addresses): Recover from errors.

	* gnus-picon.el (gnus-picon-transform-address): Skip bad addresses.
	(gnus-picon-split-address): New function.
	(gnus-picon-find-face): Use it.
	(gnus-picon-transform-address): Use it. Set first to t for each
	address.

	* gnus-art.el (gnus-with-article-headers): Move to here. Define
	the macro then use it.
	(gnus-treatment-function-alist): Treat picons earlier.

2001-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-body-separator-face): New variable.
	(gnus-article-treat-body-boundary): Use a blank, colored line.

	* gnus-picon.el (gnus-picon-find-face): Look into misc/MISC as
	well.

	* gnus-art.el (gnus-treat-body-boundary): New variable.
	(gnus-article-treat-unfold-headers): Use helper macro.
	(gnus-article-treat-body-boundary): New command.

	* gnus.el (gnus-logo-color-style): Change the default color.
	(gnus-splash-face): Gray, gray.

	* gnus-xmas.el (gnus-xmas-group-startup-message): Use general
	colors.

	* gnus.el (gnus-logo-color-alist): Moved here and renamed.
	(gnus-logo-color-style): Ditto.
	(gnus-logo-colors): Ditto.

	* gnus-picon.el (gnus-picon-create-glyph): Cache glyphs.

	* gnus-art.el (gnus-treat-newsgroups-picon): New variable.

	* gnus-picon.el (gnus-treat-newsgroups-picon): New function.
	(gnus-picon-transform-newsgroups): New function.

	* ietf-drums.el (ietf-drums-parse-addresses): Accept a nil
	string.

	* gnus-picon.el (gnus-treat-mail-picon): Renamed.

	* gnus-art.el (gnus-treat-cc-picon): New variable.
	(gnus-treat-mail-picon): Renamed.

	* gnus-picon.el: New implementation.
	(gnus-picon-find-face): Renamed.
	(gnus-treat-from-picon): Use it.
	(gnus-picon-transform-address): Renamed.
	(gnus-treat-from-picon): Use it.
	(gnus-picon-create-glyph): Renamed.
	(gnus-picon-transform-address): Use it.
	(gnus-treat-cc-picon): New command.

	* mm-decode.el (mm-create-image-xemacs): Separated out into
	function.
	(mm-get-image): Use it.

	* gnus-art.el (gnus-treat-display-picons): Simplify.
	(gnus-treat-from-picon): Renamed.

	* gnus-ems.el (gnus-create-image): New function.
	(gnus-put-image): New function.

	* gnus-art.el (gnus-article-treat-unfold-headers): Doc fix.
	(gnus-with-article-headers): New macro.
	(gnus-article-goto-header): New function.

	* gnus-xmas.el (gnus-image-type-available-p): New function.

	* gnus-ems.el (gnus-image-type-available-p): New function.

2001-12-30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-check-group): Find the correct tag, because
	xml.el is changed.

2001-12-30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-treat-unfold-headers): Only fold when
	lines are shorter than the window width.
	(gnus-ignored-headers): More headers.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-unfold-lines): New variable.
	(gnus-treat-unfold-headers): Renamed.
	(gnus-article-treat-unfold-headers): New command and keystroke.

	* rfc2047.el (rfc2047-encode-message-header): Clean up.

	* gnus-int.el (gnus-open-server): Mark quit-ed server as denied.

2001-12-29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* sha1-el.el (sha1-use-external): New variable.
	(sha1-region): Use it.
	(sha1-string): Ditto.

	* dgnushack.el (dgnushack-compile): Compile gnus-picon for Emacs.
	* gnus-picon.el: Less warnings when compile.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-news-directories): Removed obsolete
	alias.
	(gnus-picons-database): Default to list.
	(gnus-picons-lookup-internal): Use it.

	* nnmail.el (nnmail-article-group): Default nnmail-split-methods
	to "bogus".

	* gnus-win.el (gnus-configure-windows-hook): New hook.

2001-12-29  Sascha L,A|(Bdecke  <sascha@meta-x.de>

	* gnus-win.el (gnus-configure-windows): Minimize tree buffer.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-update-marks): Don't uncompress the seen
	lists.
	(gnus-select-newsgroup): Don't append; push.
	(gnus-adjust-marked-articles): Remove obsolete ranges from
	`seen'.
	(gnus-update-marks): Clean up.
	(gnus-select-newsgroup): Don't stomp gnus-newsgroup-seen.

2001-12-29  Frank Schmitt  <usereplyto@Frank-Schmitt.net>

	* gnus-sum.el (gnus-summary-limit-to-age): Allow negative days.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-auto-select-subject): New variable.
	(gnus-summary-best-unread-subject): New function.
	(gnus-summary-best-unread-article): Use it.
	(gnus-summary-first-unseen-subject): New function and command.

	* gnus-art.el (gnus-treatment-function-alist): Emphasize after
	other treatments.

	* gnus-util.el (gnus-put-overlay-excluding-newlines): New
	function.

	* gnus-art.el (gnus-article-show-hidden-text): Remove the type
	from the list of hidden types.

	* mm-view.el (mm-inline-text): Ditto.
	(mm-inline-text): Ditto.
	(mm-w3-prepare-buffer): Ditto.

	* gnus-art.el (article-wash-html): Inhibit more remote fetching.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-ignored-headers): Added more headers.

2001-12-29  Jesper Harder  <harder@ifa.au.dk>

	* gnus-srvr.el (gnus-browse-foreign-server): Compute the prefix
	once.

2001-12-29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): Doc fix.

2001-12-28  Simon Josefsson  <jas@extundo.com>

	* gnus-srvr.el (gnus-browse-foreign-server): Fix typo.  From
	Jesper Harder <harder@ifa.au.dk>.

2001-12-27  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-select-newsgroup): Make
	`gnus-newsgroup-unseen' sorted.  Make `gnus-newsgroup-unseen'
	contain all articles (instead of none) when no seen marks have
	been set for the group.
	(gnus-update-marks): Use `gnus-range-add' on a uncompressed list
	instead, it seems to result in shorter ranges.

2001-12-26 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-x-to-15-region): Use
	insert-before-markers.
	From Jesper Harder <harder@ifa.au.dk>

2001-12-26  Paul Jarc  <prj@po.cwru.edu>

	* nnmaildir.el (nnmaildir-save-mail): create the destination
	groups if they do not exist.

2001-12-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el (canlock-sha1-with-openssl): Remove unused variable.

2001-12-22 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-read-ephemeral-group): Call
	gnus-group-real-name.

	* gnus-sum.el (gnus-decode-encoded-word-methods): Backslash paren.
	(gnus-newsgroup-variables): Ditto.

	* gnus.el (gnus-group-prefixed-name): If group name is prefixed,
	return it.

2001-12-21  Paul Jarc  <prj@po.cwru.edu>

	* gnus.el (gnus-valid-select-methods): Include nnmaildir.
	* nnmaildir.el (top-level): Add commentary.
	(nnmaildir-version): Indicate that nnmaildir is now a standard
	part of Gnus, not separately released.

2001-12-21 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el, gnus-picon.el, gnus-sieve.el, gnus-sum.el:
	* gnus-xmas.el, imap.el, mailcap.el, mm-util.el, nnfolder.el:
	* nnheader.el, nnmail.el: Nil/NIL vs. nil.
	From  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

2001-12-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmaildir.el: Copyright changes. Require cl only at compile time.

2001-12-20  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (top-level): Don't require cl.  Suggested by ShengHuo
	ZHU <zsh@cs.rochester.edu>.
	(nnimap-close-group): Don't quote KEYLIST items.  Suggested by
	Brian P Templeton <bpt@tunes.org>.

2001-12-19 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmaildir.el: New file.
	From Paul Jarc <prj@po.cwru.edu>.

2001-12-19 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-type-alist): Move forward to the end.

2001-12-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-find-subscribed-addresses): Replace `mapc' with
	`dolist'.

2001-12-19 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-frames-on-display-list): New function.
	(gnus-get-buffer-window): Use it.

2001-12-19 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-mail-archive-xover): Fix the regexp.

2001-12-18 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-get-buffer-window): Use gnus-delete-if.

2001-12-18 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	   From Harald Meland <Harald.Meland@usit.uio.no>

	* gnus-win.el (gnus-get-buffer-window): New function.
	(gnus-all-windows-visible-p): Use it.

	* gnus-util.el (gnus-horizontal-recenter)
	(gnus-horizontal-recenter, gnus-horizontal-recenter)
	(gnus-horizontal-recenter, gnus-set-window-start): Use it.

	* gnus-score.el (gnus-score-insert-help): Use it.

	* gnus-salt.el (gnus-tree-recenter, gnus-generate-tree)
	(gnus-generate-tree, gnus-highlight-selected-tree)
	(gnus-highlight-selected-tree, gnus-tree-highlight-article): Use
	it.

	* gnus-art.el (gnus-article-set-window-start)
	(gnus-mm-display-part, gnus-request-article-this-buffer)
	(gnus-button-next-page, gnus-button-prev-page)
	(gnus-article-button-next-page, gnus-article-button-prev-page):
	Use it.

2001-12-18  Josh Huber  <huber@alum.wpi.edu>

	* ChangeLog, ChangeLog.1, nnwfm.el, smiley.el:
	* gnus-cite.el, gnus-delay.el, gnus-spec.el, message.el:
	* mml1991.el, nnultimate.el: Removed buffer-file-coding-system tag.

2001-12-18 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* ChangeLog,  ChangeLog.1, nnwfm.el,  gnus-smiley.el:
	* gnus-cite.el, gnus-delay.el, gnus-spec.el, message.el:
	* mml1991.el, nnultimate.el: Add `coding'.

2001-12-17  Josh Huber  <huber@alum.wpi.edu>

	* ChangeLog: changed coding to buffer-file-coding-system
	* ChangeLog.1: same
	* nnwfm.el: same
	* gnus-smiley.el: same
	* gnus-cite.el: moved -*- magic cookie -*- to Local Variables
	* gnus-delay.el: same
	* gnus-spec.el: same
	* message.el: same
	* mml1991.el: same
	* nnultimate.el: same

2001-12-16  Simon Josefsson  <jas@extundo.com>
	Inspired by code by Dirk Meyer <dischi@tzi.de>.

	* gnus-sum.el (gnus-summary-muttprint-program): New variable.
	(gnus-summary-save-map): Add muttprint.
	(gnus-summary-make-menu-bar): Ditto.
	(gnus-summary-muttprint): New function.

	* gnus-art.el (gnus-summary-pipe-to-muttprint): New function.

2001-12-14 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* uudecode.el (uudecode-decode-region-internal): Speedup by using
	temporary list instead of buffer.

	* mm-url.el (executable-find): autoload.

2001-12-12  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-mlspl.el (gnus-group-split-fancy): Doc fix (add reference
	to variable, follow doc-string conventions).

2001-12-13  Josh Huber  <huber@alum.wpi.edu>

	* gnus-cus.el (gnus-extra-topic-parameters): added topic parameter
	subscribe-level
	* gnus-topic.el (gnus-subscribe-topics): use it.

2001-12-13 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-mail-forward): Forward all marked
	messages. (A small patch with indentation)
	From Sean Neakums <sneakums@zork.net>.

	* gnus-uu.el (gnus-uu-grab-articles): Set gnus-current-article to
	nil after shooting down the gnus-original-article-buffer.

2001-12-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* uudecode.el (uudecode-use-external): New variable.
	(uudecode-decode-region): Automatically detect external program.

	* binhex.el (binhex-use-external): New variable.
	(binhex-decode-region-internal): New function.
	(binhex-decode-region): Automatically detect external program.

	* mm-uu.el (mm-uu-decode-function,mm-uu-binhex-decode-function):
	Use them.

2001-12-12  Simon Josefsson  <jas@extundo.com>

	* nnvirtual.el (nnvirtual-always-rescan)
	(nnvirtual-component-regexp): Fix doc.

	* nnoo.el (defvoo): Add doc to defvoo variables.

	* nnml.el (nnml-directory, nnml-active-file)
	(nnml-newsgroups-file, nnml-get-new-mail, nnml-nov-is-evil)
	(nnml-marks-is-evil, nnml-filenames-are-evil)
	(nnml-prepare-save-mail-hook, nnml-inhibit-expiry): Fix doc.

	* nnmh.el (nnmh-directory, nnmh-get-new-mail)
	(nnmh-prepare-save-mail-hook, nnmh-be-safe): Fix doc.
	(nnmh-possibly-change-directory): Use `nnheader-report' instead of
	`error'.

	* nnmbox.el (nnmbox-mbox-file, nnmbox-active-file)
	(nnmbox-get-new-mail, nnmbox-prepare-save-mail-hook):

	* nnfolder.el (nnfolder-directory, nnfolder-active-file)
	(nnfolder-newsgroups-file, nnfolder-get-new-mail)
	(nnfolder-save-buffer-hook, nnfolder-inhibit-expiry)
	(nnfolder-nov-is-evil, nnfolder-marks-is-evil): Fix doc.

	* nnbabyl.el (nnbabyl-mbox-file, nnbabyl-active-file)
	(nnbabyl-get-new-mail, nnbabyl-prepare-save-mail-hook): Fix doc.

	* imap.el, nnimap.el: Fix indentation.

	* gnus-sieve.el (gnus-sieve-article-add-rule): Autoload it.

2001-12-12  Didier Verna  <didier@xemacs.org>

	* gnus-msg.el (gnus-group-news): New function.
	* gnus-group.el (gnus-group-mode-map): bind it to `i'.
	* gnus-group.el (gnus-group-make-menu-bar): add a menu item for it.
	* gnus-salt.el (gnus-carpal-group-buffer-buttons): add a button
	for it.
	* gnus-msg.el (gnus-summary-news-other-window): New function.
	* gnus-msg.el ((gnus-summary-send-map "S" gnus-summary-mode-map)):
	bind it to `i'.
	* gnus-sum.el (gnus-summary-mode-map): bind it to `i'.
	* gnus-sum.el (gnus-summary-make-menu-bar): add a menu item for it.
	* gnus-salt.el (gnus-carpal-summary-buffer-buttons): add a button
	for it (called with a prefix).
	* gnus-msg.el (gnus-configure-posting-styles): add an optional
	group-name argument.
	* gnus-msg.el (gnus-setup-message): use it.

2001-12-12 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Fix doc.

2001-12-10 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mime-to-mml): Remove Content-Disposition too.

2001-12-09 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-buffer-name): Decode group name.
	* gnus-group.el (gnus-group-name-decode): Decode unibyte
	strings only.
	From TSUCHIYA Masatoshi <tsuchiya@namazu.org>

2001-12-08  Nevin Kapur  <nevin@jhu.edu>

	* nnmail.el (nnmail-fancy-expiry-targets): New variable.
	(nnmail-fancy-expiry-target): Use it.
	Suggestions from Simon Josefsson <jas@extundo.com>.

2001-12-07 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Recount lines if not exist.

2001-12-07 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnwfm.el (nnwfm-create-mapping): Use gnus-url-unhex-string.

	* gnus-util.el (gnus-url-unhex-string): Move here.

2001-12-07 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-decode-entities-unibyte-string): Use
	mm-url-decode-entities-nbsp.

	* nnlistserv.el, nnultimate.el, nnwarchive.el, nnweb.el:
	* webmail.el, nnwfm.el: Use mm-url.

	* mm-url.el (mm-url-fetch-form): Move from nnweb.
	(mm-url-remove-markup): Move from nnweb.
	(mm-url-fetch-simple): Move from webmail.

	* nnslashdot.el (nnslashdot-request-post): Use mm-url-fetch-form.

2001-12-07 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-truncate-and-quote): New function.
	(gnus-summary-print-article): Use it.

	* gnus-util.el (gnus-replace-in-string): Typo.

2001-12-06 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-replace-in-string): Removed.

	* gnus-util.el (gnus-replace-in-string): New function.
	(gnus-mode-string-quote): Use it.

	* nnrss.el (nnrss-format-string): Use gnus-replace-in-string.
	* nnwfm.el (nnwfm-create-mapping): Ditto.

2001-12-06 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): nnrss.el and
	nnslashdot.el don't depend on nnweb, url, w3.

	* nnrss.el: Use mm-url.

2001-12-06 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el (mm-url-insert-file-contents): Support file:.

2001-12-05 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el: Lower case for the description line. Sync from the
	Emacs CVS.

2001-12-05 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-find-new-groups): Fix doc.
	From:  Stefan Monnier  <monnier@cs.yale.edu>

2001-12-05  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-view.wl (mm-inline-text): Decode a charset-encoded rich text.

2001-12-04 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el: Require executable.
	Suggested by Katsumi Yamaoka <yamaoka@jpl.org>.

2001-12-03 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-munge-message-separator): Only use valid date.
	Trivial patch from Michael Welsh Duggan <md5i@cs.cmu.edu>.

	* Makefile.in: gnus-load.elc may not be generated.

2001-12-03 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-url.el: New file.
	* nnslashdot.el: Use it.
	* mm-extern.el (mm-extern-url): Use it.

2001-12-01 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-save-article): Nix
	gnus-display-mime-function and gnus-article-prepare-hook.

	* gnus-spec.el (gnus-parse-complex-format): Properly handle %C at
	the beginning of lines.
	(gnus-complex-form-to-spec): Ditto.

2001-12-01 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-mft): Fix the m-s-a-file regexp.
	From Paul Jarc <prj@po.cwru.edu>.

2001-11-30 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el: New variable message-subscribed-address-file;
	use it in message-make-mft.  From Paul Jarc <prj@po.cwru.edu>.

2001-11-30 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tab-body-function): Set to nil.
	(message-tab): Use text-mode-map or global-map.
	Suggested by Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>.

2001-11-30  Simon Josefsson  <jas@extundo.com>

	* gnus-agent.el (gnus-agent-fetch-headers): Use gnus-range-add
	instead of gnus-union, for speed.  Suggested by Christoph Conrad
	<christoph.conrad@gmx.de>.
	(gnus-agent-fetch-group-1): Add verbose message.

2001-11-29 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-write-active): Make sure sym is a cons
	of integers.

2001-11-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-newgroups-header-regexp)
	(message-completion-alist, message-tab-body-function): Use
	defcustom rather than defvar.
	(message-tab): Mention `message-tab-body-function' in doc.
	Suggested by Karl Eichwalder.

2001-11-28 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-save-article): Use #part instead of #mml.

2001-11-28 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-find-nov-line): Don't use macro
	gnus-delete-line.

	* gnus-group.el (gnus-group-name-decode): Defun instead of defsubst.
	(gnus-group-name-charset): Ditto.

	* gnus-util.el (gnus-buffer-live-p): Ditto.

2001-11-28 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* sieve-manage.el (sieve-manage-stream-alist): Backslash before
	open parenthesis in doc.
	(sieve-manage-authenticator-alist): Typo in doc.
	* imap.el (imap-authenticator-alist): Typo in doc.
	(imap-stream-alist): Backslash.

	* gnus-sum.el (gnus-summary-limit-to-author): Missing arguments.
	  Thanks to david.goldberg6@verizon.net (David S. Goldberg)

2001-11-27 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-mode): Add LOCAL for add-hook.

	* message.el (message-mode): make-local-hook is harmless in Emacs 21.

	* gnus-msg.el (gnus-configure-posting-styles): use
	make-local-hook. Add LOCAL for add-hook.

2001-11-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-mode): Use `make-local-hook' unless
	obsolete.
	Patch by Katsumi Yamaoka <yamaoka@jpl.org>.

2001-11-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* canlock.el: Remove sha1.el and base64.el stuff.

2001-11-26  Didier Verna  <didier@xemacs.org>

	* nnmbox.el (nnmbox-create-mbox): create the mbox file directory
	if needed.

2001-11-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-tamago-not-in-use-p): New function.
	(message-strip-forbidden-properties): Use it.

2001-11-26  Didier Verna  <didier@xemacs.org>

	* gnus-start.el (gnus-check-first-time-used): only check for
	existence of .el[d] files.

2001-11-25 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-coding-system-priorities): Add backslash in the doc.

	* message.el (message-setup-1): Clean up mc-*.

2001-11-25 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-directory-sep-char-regexp): New variable.
	* gnus-score.el (gnus-score-find-bnews): Use it.

	* gnus-sum.el (gnus-summary-limit-to-subject): An exclusion version.
	(gnus-summary-limit-to-author): Ditto.
	(gnus-summary-limit-to-extra): Ditto.
	(gnus-summary-find-matching): Support not-matching argument.

2001-11-25  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-wash-subject): Use `insert' rather than
	`insert-string', which is deprecated.

2001-11-24  Simon Josefsson  <jas@extundo.com>

	* mm-encode.el (mm-encode-content-transfer-encoding): Fix error
	message. (Gnus does not "default" to using 8bit for the message,
	it default to use 8bit encoding and the user-supplied CTE
	value. Calling this behaviour "treating it as 8bit" is perhaps
	better.)

	* mm-bodies.el (mm-body-encoding): Intern encoding if needed
	(compare mm-charset-to-coding-system).

2001-11-23 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* canlock.el (canlock-sha1-with-openssl): Use unibyte
	buffer. Correctly decode hex.

2001-11-21 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-category-insert-line): Convert category
	names to strings.

2001-11-20 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (sha1): eval-and-compile.

2001-11-20  Simon Josefsson  <jas@extundo.com>

	* message.el (message-allow-no-recipients): New variable.
	(message-send): Use it, customize the prompting when posting to
	Gcc/Fcc alone.  From prj@po.cwru.edu (Paul Jarc).

2001-11-20 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-coding-system-priorities): New variable.
	(mm-sort-coding-systems-predicate): New function.
	(mm-find-mime-charset-region): Resort coding systems if needed.
	Suggested by Katsumi Yamaoka <yamaoka@jpl.org>.

2001-11-20  Didier Verna  <didier@xemacs.org>

	* gnus-group.el (gnus-group-make-help-group): new optional
	argument to control the error behavior.
	* gnus-start.el (gnus-check-first-time-used): use it to avoid
	erroring.

2001-11-19  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode-map): Use C-c C-f C-i for Importance:
	instead of C-c C-u.  Suggested by Per Abrahamsen
	<abraham@dina.kvl.dk>.

2001-11-18 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-read-folder): Use group instead of
	nnfolder-current-group.
	Suggested by Lorentey Karoly <lorentey@elte.hu>.

2001-11-17  Simon Josefsson  <jas@extundo.com>

	* message.el (message-send): Ask user if Fcc/Gcc should be
	performed when no other sender was specified.
	Suggested by prj@po.cwru.edu (Paul Jarc).

2001-11-17  Simon Josefsson  <jas@extundo.com>

	* message.el (message-mode, message-mode-map): Use C-c C-u for
	Importance: instead of C-c C-p (used by SC).

2001-11-16  Simon Josefsson  <jas@extundo.com>

	* message.el (message-insert-importance-high)
	(message-insert-importance-low): Save point.

	* mail-source.el (mail-source-fetch-imap): Fix BODY.PEEK return
	value.

2001-11-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-strip-special-text-properties): New option.
	(message-strip-forbidden-properties): Obey it.

2001-11-14  Sam Steingold  <sds@gnu.org>

	* gnus-score.el: Fixed some doc strings to properly quote symbols.

2001-11-15  Simon Josefsson  <jas@extundo.com>

	Support "Importance:" header in Message.

	* message.el (message-mode-map): Bind C-c C-p to
	`message-insert-or-toggle-importance'
	(message-mode-menu): Add message-insert-importance-{high,low}.
	(message-insert-importance-high, message-insert-importance-low)
	(message-insert-or-toggle-importance): New functions.
	(message-tool-bar-map): Add {un,}important.
	(message-mode): Doc fix.

2001-11-15  Simon Josefsson  <jas@extundo.com>

	* message.el (message-tool-bar-map): Fix attach toolbar tooltip.

	* mml.el (mml-menu): Fix toolbar tooltip.

2001-11-15 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-save-marks): gnus-prin1 takes one argument.
	* nnml.el (nnml-save-marks): Ditto.

	* gnus-sum.el (gnus-newsgroup-variables): Fix doc.

2001-11-15  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-save-marks):
	* nnfolder.el (nnfolder-save-marks): Use `gnus-prin1'.
	Suggested by Istvan Marko <mi-gnus@imarko.dhs.org>.

2001-11-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-article-wash-status-strings): Use
	`copy-sequence', not `copy-seq'.

2001-11-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-article-wash-status-strings): New constant.
	(gnus-gnus-article-wash-status-entry): New function.
	(gnus-article-wash-status): Use it.

2001-11-13 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml1991.el: Add coding header.

2001-11-12  Simon Josefsson  <jas@extundo.com>

	* mml1991.el (mml1991-use, mml1991-function-alist): New variables.
	(mml1991-gpg-sign, mml1991-gpg-encrypt): Renamed, from
	`mml1991-sign' and `mml1991-encrypt'.
	(mml1991-encrypt, mml1991-sign): New glue functions.
	(mml1991-mailcrypt-sign, mml1991-mailcrypt-encrypt): New functions.

	* mml.el (mml-mode-map): `C-c RET o' map for PGP.
	(mml-menu): Add PGP to menu.

	* mml-sec.el (top-level): Require mml1991.  Don't require smime.
	(mml-sign-alist, mml-encrypt-alist): Add "pgp".
	(mml-pgp-sign-buffer, mml-pgp-encrypt-buffer)
	(mml-secure-sign-pgp, mml-secure-encrypt-pgp): New glue functions.

	* mml2015.el: Mention RFC 3156.

	* mml1991.el: New file.  From Sascha L,A|(Bdecke <sascha@meta-x.de>.

2001-11-12 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-auto-subscribed-groups): Use ^nnml.

	* gnus-sum.el (gnus-summary-move-article): Use number-to-string.
	  From <Michael.Cook@cisco.com>

2001-11-11  Simon Josefsson  <jas@extundo.com>

	* message.el (top-level): Autoload sha1.
	(message-canlock-generate): Use sha1 instead of md5 (sha1 used by
	canlock, no need to require two different hash algs).  Suggested
	by Ferenc Wagner <wferi@bolyai1.elte.hu>.

2001-11-09  Simon Josefsson  <jas@extundo.com>

	* gnus.el (gnus-local-domain): Fix doc.  From Pavel Jan,Am(Bk
	<Pavel@Janik.cz>.

2001-11-09  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-point-in-header-p): New function.
	(message-do-auto-fill): Use it.
	(message-beginning-of-line): New function.  Goes to beginning of
	header value (i.e., end of header name), or to beginning of line
	if already at beginning of value.  Behaves like
	`beginning-of-line' when in message body.
	(message-mode-map): Bind it.

2001-11-08  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-posting-styles): Add doc.

2001-11-07  Simon Josefsson  <jas@extundo.com>

	* gnus-sieve.el (gnus-sieve-generate): Don't invoke sieve-mode.

	* sieve-mode.el (sieve-control-commands-face)
	(sieve-control-commands-face, sieve-action-commands-face)
	(sieve-test-commands-face, sieve-tagged-arguments-face): New
	faces.
	(sieve-font-lock-keywords): Use them.
	(sieve-mode): Only set font-lock-defaults in emacs.

	* gnus-art.el (gnus-default-article-saver): Add
	gnus-summary-save-body-in-file.
	(gnus-summary-write-to-file): Fix doc.

2001-11-07  Simon Josefsson  <jas@extundo.com>

	* gnus-art.el (gnus-treat-highlight-signature): Add cross
	reference to the correct chapter in the manual.

	* mml.el (mml-mode): Add cross reference to Emacs MIME manual.
	Suggested by "Golubev I. N." <gin@mo.msk.ru>.

2001-11-07 06:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-preview): Bind mail-header-separator.

2001-11-07  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el: Always require canlock.
	(message-ignored-supersedes-headers): Include Cancel-Lock and
	Cancel-Key.
	(message-insert-canlock): Don't require canlock.
	(message-cancel-news): Don't check whether canlock is available.
	(message-supersede): Support cancel-locks.

	* gnus-art.el: Don't autoload canlock.

2001-11-06 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-imap): ASYNC param.
	From: <andre@slamdunknetworks.com>

2001-11-06 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* many files: Fix copyright lines.

2001-11-05 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Use mm-with-unibyte-current-buffer.
	Suggested by Dave Love  <fx@gnu.org>.

2001-11-04 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-kill-buffer): Remove auto-save file after
	confirm.

	* message.el (message-send-mail): Call message-generate-headers
	once.  Suggested by Matt Armstrong <matt@lickey.com>.

	* gnus-topic.el (gnus-topic-rename): Initial-input.
	Suggested by Katsuhiro Hermit Endo <hermit@koka-in.org>.

2001-11-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-forbidden-properties): New constant.
	(message-strip-forbidden-properties): New function.
	(message-mode): Activate it.

2001-11-02 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-15-compatible): Fix doc.
	(mm-hack-charsets): Fix doc.

2001-11-02  Simon Josefsson  <jas@extundo.com>

	* gnus-int.el (gnus-check-server): Message "...done" when done.

	* imap.el (imap-close): Don't message (imap-send-command-wait
	returns if the connection is dropped).
	(imap-wait-for-tag): Nix out message only when necessary.

	* gnus-sieve.el (gnus-sieve-script): Use "stop" instead of "elsif"
	for non-crossposting.
	(gnus-sieve-crosspost): Default to t to be consistent with other
	parts of Gnus.

2001-11-01 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-15-compatible): Add inconvertible chars.
	(mm-iso-8859-x-to-15-table): Ditto.
	(mm-iso-8859-x-to-15-region): Ditto.
	(mm-find-mime-charset-region): Ditto.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-close-asynchronous): New variable.
	(nnimap-close-group): Use it.
	(nnimap-expunge): Don't use it.

	* imap.el (imap-callbacks): New variable.
	(imap-remassoc): Copied from `gnus-remassoc'.
	(imap-add-callback): New function.
	(imap-mailbox-expunge, imap-mailbox-close): Support asynchronous
	behaviour.
	(imap-parse-response): Call the callback.

	* message.el (message-insert-canlock): New variable.
	(message-canlock-generate, message-canlock-password)
	(message-insert-canlock): New functions.
	(message-send-news): Call `message-insert-canlock'.
	(top-level): Require canlock when compiling.
	(message-insert-canlock): Require canlock before we need it.

2001-11-01 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-copy-article-buffer): Copy sequence.

2001-11-01 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-make-load): A workaround for
	custom-add-loads bug in some versions of XEmacs.

2001-11-01 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-synonym-alist): Revert (some).

2001-11-01 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-iso-8859-x-to-15-region): New function.
	(mm-hack-charsets): New variable.
	(mm-iso-8859-15-compatible): New variable.
	(mm-iso-8859-x-to-15-table): New variable.
	(mm-find-mime-charset-region): Add parameter hack-charsets.

	* mm-bodies.el (mm-encode-body): Use it.
	* mml.el (mml-parse-1): Ditto.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-make-menu-bar): Add Sieve.

2001-11-01 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-to-coding-system): Return nil, if charset
	is nil.

2001-11-01 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smiley-ems.el (smiley-update-cache): Auto detect file type.

	* message.el (message-forward-rmail-make-body): Use
	save-window-excursion.
	(message-encode-message-body): Search with noerror.
	(message-setup-1): Convert compose-mail send-actions to
	message-send-actions.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* sieve.el: Don't require easy-mmode. Suggested by Katsumi Yamaoka
	<yamaoka@jpl.org>.

2001-10-31 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* sieve-manage.el (sieve-string-bytes): No complain.

2001-11-01  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-mode-map): Bind "D u" to
	`gnus-sieve-update' and "D g" to `gnus-sieve-generate'. (Functions
	has autoload cookies, so no `require' should be necessary.)

	* sieve.el, sieve-mode.el, sieve-manage.el, gnus-sieve.el: New
	files.

2001-10-31  Simon Josefsson  <jas@extundo.com>

	* gnus-cus.el (gnus-group-parameters): Support integer `display'
	parameter.

	* gnus-sum.el (gnus-select-newsgroup): If group parameter
	`display' is a number (and C-u wasn't used to enter group), only
	fetch that number of articles.

2001-10-31  Matt Armstrong  <matt@lickey.com>

	* gnus.el (gnus-find-subscribed-addresses): Doc fix:
	not-subscribed -> subscribed.

2001-10-31 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From: Josh Huber <huber@alum.wpi.edu>

	* message.el (message-subscribed-address-functions): New variable.
	(message-subscribed-addresses): New variable.
	(message-subscribed-regexps): New variable.
	(message-goto-mail-followup-to): New function.
	(message-send-mail): Add Mail-Followup-To.
	(message-make-mft): New function.

	* gnus.el (gnus-find-subscribed-addresses): New function.

2001-10-31 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch): If debug, don't regain signals.
	(mail-source-fetch-pop): Ditto.
	(mail-source-check-pop): Ditto.

	* gnus-start.el (gnus-read-init-file): Ditto.
	(gnus-activate-group): Ditto.
	(gnus-read-newsrc-el-file): Ditto.

2001-10-30 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-get-reply-headers): Make sure there is ", ".

	* mm-util.el (mm-mime-mule-charset-alist): Move down and call
	mm-coding-system-p. Don't correct it only in XEmacs.
	(mm-charset-to-coding-system): Use mm-coding-system-p and
	mm-get-coding-system-list.
	(mm-emacs-mule, mm-mule4-p): New variables.
	(mm-enable-multibyte, mm-disable-multibyte,
	mm-enable-multibyte-mule4, mm-disable-multibyte-mule4,
	mm-with-unibyte-current-buffer,
	mm-with-unibyte-current-buffer-mule4): Use them.
	(mm-find-mime-charset-region): Treat iso-2022-jp.

	From  Dave Love  <fx@gnu.org>:

	* mm-util.el (mm-mime-mule-charset-alist): Make it correct by
	construction.
	(mm-charset-synonym-alist): Remove windows-125[02].  Make other
	entries conditional on not having a coding system defined for
	them.
	(mm-mule-charset-to-mime-charset): Use
	find-coding-systems-for-charsets if defined.
	(mm-charset-to-coding-system): Don't use
	mm-get-coding-system-list.  Look in mm-charset-synonym-alist
	later.  Add last resort search of coding systems.
	(mm-enable-multibyte-mule4, mm-disable-multibyte-mule4)
	(mm-with-unibyte-current-buffer-mule4): Just treat Mule 5 like
	Mule 4.
	(mm-find-mime-charset-region): Re-write.
	(mm-with-unibyte-current-buffer): Restore buffer as well as
	multibyteness.

2001-10-30 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* canlock.el, sha1-el.el, hex-util.el: Move from contrib
	directory. Thanks to Katsumi Yamaoka <yamaoka@jpl.org> and Shuhei
	KOBAYASHI <shuhei@aqua.ocn.ne.jp>.

2001-10-30 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-display-x-face): Nix buffer-read-only
	again.

	* mml2015.el (mml2015-gpg-verify): Convert <LF> to <CR><LF>.

2001-10-30 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-spec.el (gnus-parse-simple-format): Use
	  buffer-substring-no-properties.

2001-10-30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-verify-cancel-lock): New function.

	* nnheader.el (nntp-process-response): New variable.
	(nnheader-init-server-buffer): Make `nntp-process-response'
	buffer-local in `nntp-server-buffer'.

	* nntp.el (nntp-prepare-post-hook): New hook.
	(nntp-wait-for): Save a server's ID in `nntp-process-response'.
	(nntp-async-trigger): Ditto.
	(nntp-request-post): Insert a server's ID if there's no Message-ID
	header; run `nntp-prepare-post-hook'.

2001-10-30 04:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-decode-group-name): Use nnmail-fetch-field
	instead.

	* message.el (message-forward-subject-author-subject): Don't use
	message-news-p, which widens the buffer.
	(message-forward-make-body): New function.
	(message-forward): Use it.
	(message-insinuate-rmail): New function.
	(message-forward-rmail-make-body): New function.

2001-10-30 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-extern.el (mm-extern): Provide it.

	* mm-partial.el (mm-partial): Provide it.

2001-10-28 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-setup-message): Call post-command-hook.

2001-10-29  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-preview): Bind message-this-is-news if it is
	news. From Jesper Harder <harder@myrealbox.com>.

2001-10-28  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-group-make-articles-read): Inline group.

2001-10-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* smiley-ems.el (smiley-regexp-alist): Add support for sad and
	ironic smilies.

2001-10-27  Simon Josefsson  <jas@extundo.com>

	* message.el (message-indent-citation): Don't add trailing
	whitespace when citing text.

	* gnus.el (gnus-group-faq-directory): Fix.  From Jesper Harder
	<harder@ifa.au.dk>.

2001-10-26 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-possibly-change-server): Create nnweb-hashtb if
	not available.
	(nnweb-request-scan): Nix nnweb-hashtb if ephemeral.
	(nnweb-type-definition): Add google as alias of dejanews.
	(nnweb-google-parse-1): Forward 1 line.

2001-10-26  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-msg.el (gnus-summary-mail-forward): Doc fix: add pointer to
	variable `message-forward-ignored-headers'.

2001-10-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-expand-group-parameter): New function.
	(gnus-expand-group-parameters): Call it.
	(gnus-group-fast-parameter): New function.
	(gnus-group-find-parameter): Call it.

2001-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-news-group-p): Rewrote.  Now accepts a header
	vector (it didn't before because of a bug).
	* gnus-msg.el (gnus-post-news): Use header vector directly, if
	available.  Before it converted it to an article number.

	This makes followup to news articles with negative numbers in
	nnvirtual groups use news instead of mail.

2001-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (post-method): Use `native' instead of `nil'.

	* gnus-msg.el (gnus-post-method): Ditto.

2001-10-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-define-group-parameter): Grammar fix.

2001-10-22  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-extended-version): Include
	system-configuration.
	Suggested by Kai.Grossjohann@CS.Uni-Dortmund.DE (Kai Gro,b_(Bjohann).

2001-10-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (post-method): Customization fix: `native' is not a
	valid value.
	* gnus-msg.el (gnus-post-method): Doc and customization fix:
	`native' is not a valid value.

2001-10-21  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap): Defgroup
	(nnimap-strict-function, nnimap-strict-function-match): New
	widget, from Per Abrahamsen  <abraham@dina.kvl.dk>.
	(nnimap-split-crosspost, nnimap-split-inbox)
	(nnimap-split-rule, nnimap-split-predicate)
	(nnimap-split-predicate): Defcustom.
	(nnimap-split-inbox, nnimap-expunge-search-string)
	(nnimap-importantize-dormant): Remove "*" from doc.

2001-10-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-summary-limit-to-score): Prompt for score if
	not supplied via prefix arg.  From Lisp, make arg mandatory.
	Suggested by Frank Schmitt.

2001-10-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-do-auto-fill): Avoid calling
	'rfc822-goto-eoh'.

2001-10-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Paul Jarc <prj@po.cwru.edu>.

	* message.el (message-get-reply-headers): Restructure the logic
	and add comments.  From Paul Jarc <prj@po.cwru.edu>.

2001-10-20  Simon Josefsson  <jas@extundo.com>

	* message.el (message-cancel-news): Support cancel-locks.
	Suggested by Per Abrahamsson.

	* nnml.el (nnml-marks-changed-p): Use `equal' when comparing
	conses.  From David Z Maze <dmaze@MIT.EDU>.

	* nnfolder.el (nnfolder-marks-changed-p): Ditto.

2001-10-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mm-decode.el (mm-default-directory): Fix customize type.

	* message.el (message-setup-fill-variables): Kludge to use
	normal-auto-fill-function even if auto fill is already activated.

2001-10-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-do-auto-fill): New version that does not
	rely on text properties, by Simon Josefsson <jas@extundo.com>.
	(message-setup-1): Removed the `message-field' property.

	* gnus-draft.el (gnus-draft-edit-message): Removed the
	`message-field' property.

2001-10-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-draft.el (gnus-draft-edit-message): Change `field' to
	`message-field'.  The `field' property has a special significance in
	Emacs 21.

	* message.el (message-send, message-setup-1): Ditto.

2001-10-18  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-group-make-articles-read): Call g-r-set-mark
	when undoing.

2001-10-18  Simon Josefsson  <jas@extundo.com>
	From Frank Schmitt <usereplyto@Frank-Schmitt.net>

	* gnus-sum.el (gnus-summary-limit-to-display-predicate): Fix typo.
	(gnus-summary-make-menu-bar): Ditto.

2001-10-17  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-expiry-target): Make sure it is back to the
	server. Suggested by ShengHuo ZHU <zsh@cs.rochester.edu>.

2001-10-17 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-line-format-alist): user-date entry.
	* gnus-util.el (gnus-user-date): New function.
	From Frank Schmitt <usenet@Frank-Schmitt.net>.

2001-10-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-check-news-header-syntax): Special case
	nnvirtual groups.

	* gnus-sum.el (gnus-summary-respool-default-method): Changed
	customize type to `symbol'.

2001-10-17 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-spec.el (gnus-parse-simple-format): Support extended spec
	%&foo;.
	(gnus-parse-simple-format): Support user extended spec too.
	%u&foo; invokes gnus-user-format-function-foo.

2001-10-17 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-request-expire-articles): Make sure it is back to
	the server.
	* nnmbox.el (nnmbox-request-expire-articles): Ditto.
	* nnfolder.el (nnfolder-request-expire-articles): Ditto.
	* nnbabyl.el (nnbabyl-request-expire-articles): Ditto.
	* nndiary.el (nndiary-request-expire-articles): Ditto.
	(nndiary-schedule): Defsubst it before use it.
	(nndiary-error): eval-and-compile.

2001-10-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-msg.el (gnus-post-method): Changed two instances of
	`active' to `current' and one `null' to `not'.

2001-10-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Katsumi Yamaoka <yamaoka@jpl.org>.

	* message.el (message-setup-fill-variables): Use
	`normal-auto-fill-function' instead of `auto-fill-function'.

2001-10-16  Simon Josefsson  <jas@extundo.com>

	* mml2015.el (mml2015-fix-micalg): Fix for Mutt-bug.
	(mml2015-gpg-decrypt-1): Decanonicalize decrypted MIME
	body. (Mailcrypt seem to do this, but gpg.el doesn't.)

2001-10-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	Patch by Oliver Scholz <oscholz@my.gnus.org>.

	* gnus-draft.el (gnus-draft-edit-message): Add text property
	`field' with value `header' to message headers.
	* message.el (message-setup-1): Really add text property to all of
	the header, not just part of it.

2001-09-04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-sort-by-server): Use it.

	* gnus.el (gnus-method-to-full-server-name): New, bogus function.

	* gnus-topic.el (gnus-topic-sort-groups-by-server): New command
	and keystroke.

2001-10-14  Simon Josefsson  <jas@extundo.com>

	* dig.el: Doc fix.

	* smime.el: Doc fix.

	* gnus-msg.el (gnus-inews-do-gcc): Port header encoded-word
	charset magic from message.el.

2001-10-12  Simon Josefsson  <jas@extundo.com>
	Suggested by david.goldberg6@verizon.net (David S. Goldberg)

	* gnus-cite.el (gnus-article-toggle-cited-text): Don't remove
	'cite from g-a-wash-types.
	(gnus-cite-toggle): Ditto.  Add 'cite.  Set modeline.
	(gnus-article-hide-citation): Fix.

	* gnus-cite.el (gnus-article-hide-citation): Add `c' mode line
	character.
	(gnus-article-toggle-cited-text): Toggle `c' mode line character.

	* gnus-art.el (gnus-treat-hide-citation-maybe): Remove duplicate
	definition.
	(gnus-signature-toggle): Toggle `s' mode line character.

	* gnus-art.el (article-emphasize): Set `g-a-wash-types' after
	doing stuff that clears it.

2001-10-12  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-summary-limit-include-cached): Rewrite.
	From Eric Marsden <emarsden@laas.fr>.

2001-10-12 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-do-auto-fill): Use gnus-point-at-bol.
	(autoload): Add some autoloads.

2001-10-12  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	Suggested by Oliver Scholz <epameinondas@gmx.de>.

	* message.el (message-do-auto-fill): New function.  Like
	`do-auto-fill' but don't fill when in the message header.
	(message-setup-1): Put a text property on the message header.
	(message-setup-fill-variables): Use `message-do-auto-fill'.

2001-10-10 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-partially): Insert an empty line
	first, because of the change of message-make-lines.

2001-10-10  Florian Weimer  <fw@deneb.enyo.de>

	* mm-util.el (mm-charset-synonym-alist): If Emacs doesn't support
	iso-8859-15, make it an alias for iso-8859-1.

2001-10-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-send-news): Don't modify the value of
	`message-syntax-checks' if it is not a list (possibly it is
	`dont-check-for-anything-just-trust-me').

2001-10-10  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el (gnus-group-name-charset-group-alist): Use
	`find-coding-system' for XEmacs to check whether the coding-system
	`utf-8' is available.

2001-10-09 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): Detect mh-e and xml.

2001-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-send-news): Oops, missed case with no
	"Followup-To" header...

2001-10-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-send-news): Allow
	`gnus-group-name-charset-group-alist' to affect encoding of the
	"Newsgroups" and "Followup-To" headers.

2001-10-07 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in (install-el): Depend on gnus-load.el.

2001-10-07 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in (install-el): Use -f.
	From: Amos Gouaux <amos+lists.ding@utdallas.edu>

2001-10-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-send-news): Don't encode Followups-To when
	`gnus-group-name-charset-group-alist is' ".*".  [Yuck]

	* gnus-util.el (gnus-decode-newsgroups): No space in newsgroup
	header.

	* gnus-art.el (article-decode-group-name): Also decode
	"Followup-To".

	* rfc2047.el (rfc2047-encode-message-header): Encode without
	asking for null methods.

	* gnus-group.el (gnus-group-name-charset-group-alist): Make utf-8
	default charset for newsgroup names in accordance with USEFOR.

	* gnus-group.el (gnus-group-name-charset-method-alist,
	gnus-group-name-charset-group-alist): Removed "*" from doc
	strings, "*" should not be used for complex variables.

2001-10-06  Simon Josefsson  <jas@extundo.com>

	Support UTF-8 group names better.

	* message.el (message-check-news-header-syntax): Encode group
	names before comparison.

	* gnus-msg.el (gnus-copy-article-buffer): Run all
	`gnus-article-decode-hook's except `article-decode-charset'
	instead of hardcoding call to one of them.

	* gnus-art.el (gnus-article-decode-hook): Add
	`article-decode-group-name'.
	(article-decode-group-name): New function, use `g-d-n'.

	* gnus-group.el (gnus-group-insert-group-line): Decode
	gnus-tmp-group using `g-d-n'.

	* gnus-util.el (gnus-decode-newsgroups): New function.

2001-10-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-srvr.el (gnus-browse-foreign-server): Fixed bug non-nil
	`gnus-group-name-charset-group-alist'.

2001-10-06 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in: Install el in install. Add uninstall.

2001-10-05  Simon Josefsson  <jas@extundo.com>

	* nnheader.el (gnus-verbose-backends, gnus-nov-is-evil): Custom.

	* gnus-sum.el (gnus-summary-move-article): Also activate new groups.

	* nnfolder.el (nnfolder-normalize-buffer): Don't insert \n\n in
	empty folders.

	* gnus-sum.el (gnus-select-newsgroup): Don't enable `display'
	limiting if read-all (C-u RET) was used.

2001-10-04  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (mail-source-movemail-program): New variable.
	(mail-source-movemail): Use it.  Suggested by Taylor Hutt
	<thutt@thutt.vmware.com>.

2001-10-03  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): New param.
	(gnus-summary-line-format-alist): Fix param.

2001-10-02  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-request-move-article): Use imap.el directly,
	don't go through `nnimap-request-expire-articles' to delete the
	article.  Thanks to prj@po.cwru.edu (Paul Jarc).

2001-10-02 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-write-active): The min in the
	agent/active may be larger than that in the server/active.

2001-10-01  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (mail-source-fetch-imap): Use BODY.PEEK if server
	is IMAP4rev1.

	* nnml.el (gnus-article-unpropagatable-p): Autoload gnus-sum.

	* nnfolder.el: Ditto.

2001-09-30  Dan Christensen  <jdc@uwo.ca>

	* gnus-sum.el (gnus-summary-extract-address-component): New function.
	(gnus-summary-from-or-to-or-newsgroups): Optimize.

2001-09-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-mode-map): Keybinding for `gnus-delay-article'.
	(message-mode-menu): Menu item for same.

	* gnus-group.el (gnus-group-make-menu-bar): Menu item for sending
	delayed articles.

	* gnus-delay.el (gnus-delay-send-drafts): Do nothing if
	nndraft:delayed does not exist.
	(gnus-delay-initialize): Don't set up keymap, that's done from
	message.el now.
	(gnus-delay, gnus-delay-group, gnus-delay-header)
	(gnus-delay-default-delay, gnus-delay-default-hour): Customize.

2001-09-29  Simon Josefsson  <jas@extundo.com>

	* mm-util.el (mm-mime-mule-charset-alist): Encode mule-utf-8 as
	utf-8, not eight-bit-control.

	* imap.el (imap-shell-host, imap-default-user, imap-use-utf7)
	(imap-log, imap-debug): Custom.
	(imap-log-buffer, imap-debug-buffer): New constants.
	(imap-kerberos4-open, imap-gssapi-open, imap-ssl-open)
	(imap-network-open, imap-shell-open, imap-starttls-open)
	(imap-send-command-1, imap-send-command, imap-arrival-filter)
	(imap-debug): Use imap-*-buffer.

	* nndoc.el (nndoc-article-type): Add mailman.
	(nndoc-type-alist): Ditto.
	(nndoc-mailman-type-p): New function.

2001-09-28 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-article-x-face-command): Merge it into
	gnus-art.el.

2001-09-27  Simon Josefsson  <jas@extundo.com>

	* gnus-topic.el (gnus-topic-mode-map): Add catchup.
	(gnus-topic-catchup-articles): New function. Suggested by Robin
	S. Socha <robin-dated-1001857693.185e29@socha.net>.

2001-09-27 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Gerd M,Av(Bllmann <gerd@gnu.org>.

	* gnus-ems.el (gnus-article-display-xface): Insert xface after
	previous ones.

2001-09-27 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Daiki Ueno  <ueno@unixuser.org>

	* gnus-sum.el (gnus-summary-show-article): The arglist of
	detect-coding-region is incompatible.

2001-09-26 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Katsuhiro Hermit Endo <hermit@koka-in.org>

	* gnus-group.el (gnus-group-delete-group): Typo.

2001-09-26  Simon Josefsson  <jas@extundo.com>

	* nnmail.el (nnmail-expiry-target-group): Add doc warning.

	* nnimap.el (nnimap-expiry-target): Use temp buffer.

2001-09-26 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cus.el (gnus-group-parameters): Display as sexp.

2001-09-22  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-open-marks): Remove unpropagatable marks.

	* nnfolder.el (nnfolder-open-marks): Ditto.

	* gnus-sum.el (gnus-article-unpropagatable-p): New function.
	(gnus-update-marks): Use it.
	(gnus-update-marks): Use `gnus-article-mark-to-type' instead of
	hardcoded list.

	* gnus.el (gnus-article-special-mark-lists): Add killed.
	(gnus-article-unpropagated-mark-lists): New constant.

2001-09-22  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-mode-hook): Add gnus-pick-mode as
	custom option.

2001-09-23  Simon Josefsson  <jas@extundo.com>

	* gnus-draft.el (gnus-draft-setup): Add mark in backend as well.

2001-09-23 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-button-mailto): Hack save-selected-window-window.

2001-09-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-group.el (gnus-group-sort-function): Fix customize type to
	accept lists of functions.

2001-09-20  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-catchup): Update expire marks in
	backend.  Also, if ALL also set expire marks on tick/dormant.

2001-09-20  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-tab-body-function): New variable.
	* message.el (message-tab): Use it.

2001-09-19  Sam Steingold  <sds@gnu.org>

	* gnus-win.el (gnus-buffer-configuration): Respect
	`gnus-bug-create-help-buffer'.

2001-09-18  Simon Josefsson  <jas@extundo.com>

	* gnus-spec.el (gnus-correct-pad-form): Re-revert.
	(gnus-parse-simple-format): Re-revert.

2001-09-16  Katsuhiro Hermit Endo  <hermit@koka-in.org>
	Trivial patch.

	* gnus-spec.el (gnus-parse-complex-format): Don't fold search
	case.  (Thanks to Daiki Ueno <ueno@unixuser.org>.)

2001-09-18  Simon Josefsson  <jas@extundo.com>

	* gnus-spec.el (gnus-correct-pad-form): Remove until papers are
	signed.
	(gnus-parse-simple-format): Don't use it.

2001-09-17  Miles Bader  <miles@gnu.org>

	* gnus-srvr.el (gnus-server-insert-server-line): Don't let an
	error querying a backend abort the whole process.

2001-09-17 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-server-mode): Fix bogus fontification.
	From Gerd M,Av(Bllmann <gerd@gnu.org>.

2001-09-17  Didier Verna  <didier@xemacs.org>

	* nndiary.el: version 0.2-b14.
	* gnus-diary.el (gnus-diary-check-message): fix `read-string'
	compatibility problem with XEmacs 21.1.

2001-09-15  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-line-format): Document %c.

	* nnml.el (nnml-parse-head): Handle CRLF files.
	(nnml-generate-nov-file): Ditto.
	(nnml-retrieve-headers): Ditto.

2001-09-15  Michael Welsh Duggan  <md5i@cs.cmu.edu>

	* gnus-spec.el (gnus-parse-format): Don't treat %c as %C.

2001-09-13  Martin Kretzschmar  <Martin.Kretzschmar@inf.tu-dresden.de>

	* gnus-spec.el (gnus-correct-substring): Still stopped one
	character before we wanted (never included last character).
	(gnus-tilde-max-form, gnus-tilde-cut-form) Made readable again,
	add missing "," (once per function)

2001-09-14  Simon Josefsson  <jas@extundo.com>

	* gnus-start.el (gnus-group-mode-hook): Moved from gnus-group
	(otherwise e.g. gnus-agentize in .gnus overrides the customized
	default before gnus-group is loaded and the variable set.)

	* nnimap.el (nnimap-request-set-mark): Do not store bookmark,
	killed or unsent marks.

	* gnus-draft.el (gnus-draft-setup): Don't set mark when there
	isn't an article to set it on (e.g. when you `a' in a group).

2001-09-12  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* mm-util.el (mm-charset-synonym-alist): add windows-1250 so we
	can read e-mails from Microsoft Outlook users not using ISO
	8859-2 character set.

2001-09-12 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-diary.el: Minor modifications to avoid warnings.
	(gnus-summary-misc-menu): defvar.
	(gnus-diary-check-message): Use gnus-point-at-eol.
	(gnus-diary-kill-entire-line): eval-and-compile.

2001-09-12  Didier Verna  <didier@xemacs.org>

	* nndiary.el: new version (0.2-b13).
	* nndiary.el (nndiary-mail-sources): doc update.
	* nndiary.el (nndiary-split-methods): ditto.
	* nndiary.el (nndiary-request-accept-article-hooks): New.
	* nndiary.el (nndiary-request-accept-article): use it, check
	message validity.
	* nndiary.el (nndiary-get-new-mail): changed default to nil.
	* nndiary.el (nndiary-schedule): fix bug (misplaced
	condition-case): it didn't return nil on error.
	* gnus-diary.el: new version.
	* gnus-diary.el (gnus-diary-summary-line-format): removed %I.
	* gnus-diary.el (gnus-diary-header-value-history): New.
	* gnus-diary.el (gnus-diary-narrow-to-headers): New.
	* gnus-diary.el (gnus-diary-add-header): New.
	* gnus-diary.el (gnus-diary-check-message): New.
	* gnus-diary.el (message-mode-map): bind the above to `C-c D c'.
	* gnus-diary.el (gnus-article-edit-mode-map): ditto.

2001-09-10 TSUCHIYA Masatoshi  <tsuchiya@namazu.org>

	* gnus-sum.el (gnus-select-newsgroup): Make
	`gnus-current-select-method' buffer-local.

	* gnus-art.el (gnus-request-article-this-buffer): Refer
	`gnus-current-select-method' in the current summary buffer.

2001-09-10  Simon Josefsson  <jas@extundo.com>
	From Daniel Pittman <daniel@rimspace.net>

	* gnus-spec.el (gnus-correct-pad-form): Fix.

2001-09-09  Simon Josefsson  <jas@extundo.com>

	* mm-decode.el (mm-inline-media-tests): Add
	application/x-emacs-lisp.
	(mm-attachment-override-types): Add
	application/{x-,}pkcs7-signature.

	* gnus-srvr.el (gnus-server-mode-hook, gnus-server-exit-hook)
	(gnus-server-line-format, gnus-server-mode-line-format)
	(gnus-server-browse-in-group-buffer): Customize.

2001-09-08 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-marks-changed-p): Typo.
	(nnml-save-marks, nnml-open-marks): Use gnus-sethash.
	(nnml-marks-changed-p): Use gnus-gethash.
	(nnml-marks-modtime): Use gnus-make-hashtable.

	* nnfolder.el (nnfolder-marks-changed-p): Typo.
	(nnfolder-request-expire-articles, nnfolder-save-marks)
	(nnfolder-open-marks): Typo.
	(nnfolder-save-marks, nnfolder-open-marks): Use gnus-sethash.
	(nnfolder-marks-changed-p): Use gnus-gethash.
	(nnfolder-marks-modtime): Use gnus-make-hashtable.

2001-09-08  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-marks-modtime): New variable.
	(nnfolder-marks-changed-p): New function.
	(nnfolder-save-marks, nnfolder-open-marks): Save modtime.
	(nnfolder-request-update-info): Don't update if marks didn't change.

	* nnml.el (nnml-marks-modtime): New variable.
	(nnml-marks-changed-p): New function.
	(nnml-save-marks, nnml-open-marks): Save modtime.
	(nnml-request-update-info): Don't update if marks didn't change.

	* gnus-agent.el (gnus-agent-any-covered-gcc)
	(gnus-agent-add-server, gnus-agent-remove-server): Use
	gnus-agent-method-p.

	* gnus-art.el (gnus-buttonized-mime-types): New variable.
	(gnus-unbuttonized-mime-type-p): Use it.

	* gnus-agent.el (gnus-agent-fetch-group): If online, actually
	fetch group.

2001-09-08  Simon Josefsson  <jas@extundo.com>
	From Daniel Pittman <daniel@rimspace.net>

	* gnus-spec.el (gnus-correct-pad-form): New function.
	(gnus-parse-simple-format): Use it.

2001-09-07  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-group-sort-groups): Unmark all groups.
	(gnus-group-sort-selected-groups): Ditto.  Suggested by Harry
	Putnam <reader@newsguy.com>.
	(gnus-group-sort-selected-groups): Touch dribble file.

2001-09-07 Raja R Harinath  <harinath@cs.umn.edu>

	* nnml.el (nnml-filenames-are-evil): New variable.
	(nnml-article-to-file-alist): Rename to ...
	(nnml-current-group-article-to-file-alist): ... this.
	Respect `nnml-filenames-are-evil'.
	(nnml-active-number): Update.
	(nnml-update-file-alist): Update.
	(nnml-request-article): Use nnheader-article-to-file-alist.
	(nnml-request-rename-group): Likewise.

2001-09-06  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-insert-line): Fix.

2001-09-06  Bj,Av(Brn Torkelsson  <torkel@acc.umu.se>

	* gnus-sum.el: Bind g-s-t-s to "W g".
	* gnus-sum.el (gnus-summary-make-menu-bar): Add g-s-t-s.
	* gnus-sum.el (gnus-summary-toggle-smiley): New function. Toggles
	display of graphical smilies.

2001-09-07 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-setup-news): A typo.
	From Bill White <billw@wolfram.com>.

2001-09-06  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-insert-line): Insert forwarded, recent
	and unseen marks.

2001-09-05  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-split-fancy): Document `junk'.

2001-09-04  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-search): Don't error if server is broken.

2001-09-02  Benjamin Rutt  <brutt@bloomington.in.us>

	* nnmbox.el (nnmbox-find-article): Fix infinite loop when
	searching for an article that isn't in the mbox.

2001-09-02 23:12:48  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-retrieve-headers-1): Get references
	right, and get all the comments.

2001-09-02  Simon Josefsson  <jas@extundo.com>
	Suggested by Dan Christensen <jdc+news@uwo.ca>

	* nnfolder.el (nnfolder-request-update-info): Fix message.

	* nnml.el (nnml-request-update-info): Ditto.

2001-09-01  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-expire-articles): Also bind
	`nnml-current-group' and `nnml-article-file-alist' when using
	expiry-target. (Otherwise nnml will be in a inconsistent internal
	state causing all kind of problems.)
	(nnml-request-expire-articles): If `nnml-article-to-file' or
	`file-attributes' failes, return article as un-expirable instead
	of treating it as expired.

2001-08-31  Sam Steingold  <sds@gnu.org>

	* imap.el (imap-mailbox-examine, imap-mailbox-examine-1): Fix a
	typo: `exmine' --> `examine'.

2001-08-30 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-forward-type-p): It is not a digest.

2001-08-30 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-check-directory-twice): Remove.
	(nnml-retrieve-headers): Ditto.
	(nnml-article-to-file): Use nnheader-directory-files-is-safe.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* nnheader.el (nnheader-directory-files-is-safe): No need to read
	directory twice on Windows, or on GNU Emacs-21.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* nnml.el (nnml-request-article): Use nnml-article-to-file-alist.
	(nnml-request-rename-group): Ditto.
	(nnml-active-number): Ditto.
	(nnml-request-create-group): Use nnml-directory-articles.
	(nnml-request-expire-articles): Use nnml-directory-articles, which
	gets list from nov database if available.
	(nnml-get-nov-buffer): New function.
	(nnml-open-nov): Use it.
	(nnml-update-file-alist): Use nnml-article-to-file-alist, which
	gets alist from nov database if available.
	(nnml-directory-articles): New function.
	(nnml-article-to-file-alist): New function.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* mm-decode.el (mm-display-external): Use `name' as filename, if
	`filename' attribute is not present.

2001-08-30  Andrew Innes  <andrewi@gnu.org>

	* mail-source.el (mail-source-flash): New defcustom.
	(mail-source-new-mail-p): Ring visible bell if appropriate.
	(mail-source-start-idle-timer): Use unwind-protect to ensure idle
	timer is cleared even if mail check signals an error.

2001-08-29 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-move-article): Only update marks of
	type 'list.

2001-08-29 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* flow-fill.el (fill-flowed): eol might be point-max.

2001-08-27  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-update-info): Fix message.
	(nnml-open-marks): Ditto.

	* nnfolder.el (nnfolder-request-update-info):
	(nnfolder-open-marks): Fix message.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	* nnfolder.el (nnfolder-save-marks): Don't create directory named
	after group in ~/.

2001-08-25  Simon Josefsson  <jas@extundo.com>
	From Andreas Jaeger  <aj@suse.de>

	* nnfolder.el (nnfolder-open-marks): Fix typo.
	* nnml.el (nnml-open-marks): Likewise.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	Make nnfolder groups self-contained as far as marks are concerned.

	* nnfolder.el (nnfolder-marks-directory, nnfolder-marks-is-evil)
	(nnfolder-marks, nnfolder-marks-file-suffix): New variables.
	(nnfolder-open-server): Make marks directory.
	(nnfolder-request-delete-group): Delete marks file.
	(nnfolder-request-delete-group): Check of nov/marks file exist
	before deleting.
	(nnfolder-request-rename-group): Rename marks file.
	(nnfolder-request-rename-group): Only rename nov/mark if they exists.
	(nnfolder-request-set-mark, nnfolder-request-update-info)
	(nnfolder-group-marks-pathname, nnfolder-save-marks)
	(nnfolder-open-marks): New functions.
	(top-level): Require gnus.

2001-08-25 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-type-definition): Use google raw file.
	(nnweb-google-parse-1): Ditto.
	(nnweb-google-identity): Ditto.
	(nnweb-reference-wash-article): Move nnweb-decode-entities here.
	(nnweb-altavista-wash-article): Ditto.
	(nnweb-request-article): Remove nnweb-decode-entities.

	* nnml.el: Require 'gnus.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-marks-is-evil): Add doc.

2001-08-25  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-save-marks): Wrap saving marks in a
	condition-case, to allow user to start Gnus if saving marks failed
	for some reason.

2001-08-24 16:05:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el (gnus-compile): Don't compile gnus-version.

	* gnus-group.el (gnus-update-group-mark-positions): Bind
	gnus-group-update-hook to nil.

2001-08-24 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Force as multibyte string.

2001-08-24 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-insert-line)
	(gnus-summary-prepare-threads): gnus-tmp-lines should be a string.
	From Martin Kretzschmar <Martin.Kretzschmar@inf.tu-dresden.de>

	* gnus-spec.el (gnus-correct-substring): Take optional END.

	* nnrss.el (nnrss-request-article): Remove \n.
	(nnrss-retrieve-headers): Lines number is -1.

2001-08-24  Simon Josefsson  <jas@extundo.com>

	* gnus-group.el (gnus-info-clear-data): Call
	nnfoo-request-set-mark to propagate marks.  Fix bug:
	`gnus-group-update-line' doesn't update read range unless we call
	`gnus-get-unread-articles-in-group' first.

	* nnimap.el (nnimap-request-set-mark): Don't propagate seen flags
	to server.

2001-08-23 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-create-info-command): Return an interactive
	function.

2001-08-23 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Katsumi Yamaoka <yamaoka@jpl.org>

	* gnus-spec.el (gnus-parse-complex-format): Use equal.

2001-08-23 18:43:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-select-newsgroup): Use it.

	* gnus-util.el (gnus-not-ignore): New function.

	* lpath.el (featurep): Don't fbind char-int.

	* gnus-util.el (gnus-create-info-command): New function.

	* gnus-group.el (gnus-group-edit-group): Make C-c C-i go to the
	right node.

	* gnus-sum.el (gnus-select-newsgroup): Clean up.
	(gnus-summary-limit-children): Use 'identity instead of `all'.
	(gnus-summary-limit-to-display-predicate): New command and
	keystroke.

2001-08-23 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-group-alist): Use fm-releases.rdf.

	* gnus-spec.el (gnus-format-specs): Miss a right parenthesis.

2001-08-23 18:43:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el: Add the Gnus version.
	(gnus-update-format-specifications): If the Gnus version changes,
	nix out the format spec cache.

	* gnus.el (gnus-continuum-version): Made into a command and
	optionalize the VERSION.

	* gnus-spec.el (gnus-parse-complex-format): Remove %C specs from
	the start of the lines.

2001-08-22 00:06:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-visual-p): Define function before use of
	function.

2001-08-21 23:28:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-adjust-marked-articles): Use new variable.
	(gnus-article-mark-to-type): New function.
	(gnus-update-missing-marks): Only update marks of type 'list.

	* gnus.el (gnus-article-special-mark-lists): New variable.

2001-08-21 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-limit-children): Check 'all.
	(gnus-select-newsgroup): Still use 'all.
	(gnus-summary-initial-limit): Comparing with 'all.

2001-08-20 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-activate-group): If dont-check, don't update
	active.

2001-08-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-retrieve-headers-1): Replace
	nnslashdot-*-retrieve-headers.
	(nnslashdot-request-article): Fix for slashcode 2.2.
	(nnslashdot-make-tuple): New function.
	(nnslashdot-read-groups): Use it.

2001-08-20 01:34:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-expand-group-parameters): Don't alter the variable
	list.

	* gnus-sum.el (gnus-summary-move-article): Don't select article.

2001-08-20  Simon Josefsson  <jas@extundo.com>

	* gnus-msg.el (gnus-inews-do-gcc): If archive server can't be
	opened, error instead of continuing (and exploding later).

2001-08-20 01:34:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-expand-group-parameters): Return the parameter
	list.

	* gnus-sum.el (gnus-summary-show-article): Doc fix.
	(gnus-summary-show-article): Guess at charset if required.

	* gnus-spec.el (gnus-correct-substring): Stopped one character
	before we wanted.

2001-08-19  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* earcon.el (earcon-auto-play): Remove unused option.

2001-08-19 16:14:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-headers): Move the "Scoring..."
	message down in levels, since it happens very fast.

	* smiley-ems.el (smiley-update-cache): Respect the symbol version
	of smiley-regexp-alist.

	* mm-view.el (mm-inline-text): Ignore vcard errors.

	* gnus-art.el (gnus-ignored-headers): Added more junk headers.

	* gnus-score.el (gnus-all-score-files): Use append instead of
	nconc.

	* gnus.el (gnus-splash-face): Doc fix.

	* mm-decode.el (mm-mailcap-command): Use
	mm-path-name-rewrite-functions.
	(mm-path-name-rewrite-functions): New variable.

	* gnus-spec.el (gnus-parse-complex-format): React to ?=.
	(gnus-complex-form-to-spec): Insert tab.
	(gnus-spec-tab): New function.

	* gnus-sum.el (gnus-select-newsgroup): Set the marks before
	entering the group.

	* gnus-spec.el (gnus-complex-form-to-spec): Insert Lisp to match
	the positional spec.
	(gnus-parse-complex-format): React to %C.

	* gnus-ems.el (gnus-char-width): Moved here.

	* gnus-sum.el (gnus-select-newsgroup): Set
	gnus-newsgroup-articles.
	(gnus-unseen-mark): New variable.
	(gnus-newsgroup-unseen): Ditto.
	(gnus-newsgroup-seen): Ditto.
	(gnus-adjust-marked-articles): Use them.
	(gnus-update-marks): Use them.
	(gnus-summary-update-secondary-mark): Display.
	(gnus-summary-prepare-threads): Display.

	* gnus-msg.el (gnus-inews-group-method): Use and return the
	method, not the server.

2001-08-19  Simon Josefsson  <jas@extundo.com>

	* gnus-srvr.el (gnus-server-agent-face): New.
	(gnus-server-agent-face): New.
	(gnus-server-mode): Turn on font-lock-mode.

	* gnus.el (gnus-server-visual): Add defgroup.

2001-08-19  Simon Josefsson  <jas@extundo.com>
	From Joe Casadonte <jcasadonte@northbound-train.com>

	* gnus-srvr.el (gnus-server-opened-face, gnus-server-closed-face,
	gnus-server-denied-face): New.
	(gnus-server-opened-face, gnus-server-closed-face,
	gnus-server-denied-face): New.
	(gnus-server-font-lock-keywords): Add.

2001-08-19  Simon Josefsson  <jas@extundo.com>

	* nnml.el (nnml-request-set-mark): Return nil.
	(nnml-save-marks): Use nnml-possibly-create-directory.
	(nnml-open-marks): Only work in temp buffer when inserting/reading
	.marks file.

2001-08-18 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-expand-group-parameters): Fix.

	* gnus-spec.el (gnus-char-width): New function.
	(gnus-correct-substring, gnus-correct-length): Use it.

	* message.el (message-required-mail-headers): Fix doc.

2001-08-18 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-group-make-articles-read): gnus-request-set-mark.

	* mm-decode.el (mm-save-part-to-file): Insert the handle.

2001-08-18 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-threaded-retrieve-headers):
	slashdot 2.2 (not fully fixed yet).
	(nnslashdot-request-article): Ditto.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	* gnus-util.el (gnus-remassoc, gnus-update-alist-soft): Moved from
	nnimap.

	* nnimap.el (nnimap-remassoc, nnimap-update-alist-soft): Moved to
	gnus-util.
	(nnimap-request-update-info-internal): Use new functions.

	* nnml.el (nnml-request-set-mark, nnml-request-update-info): Use
	new functions.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	Make nnml groups self-contained as far as marks are concerned.

	* nnml.el (nnml-request-delete-group): Delete marks file.
	(nnml-request-rename-group): Move marks file.
	(nnml-marks-file-name, nnml-marks-is-evil, nnml-marks): New server
	variables.
	(nnml-request-set-mark, nnml-request-update-info): New server
	functions.
	(nnml-save-marks, nnml-open-marks): New functions.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	* gnus-sum.el (gnus-summary-move-article): Use `add' instead of
	`set' when setting marks.

2001-08-17 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-info-find-node): Take an argument.

	* gnus-art.el (gnus-button-handle-info): New function.
	(gnus-url-unhex-string): Replace "+" with " ".

2001-08-17 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-header-syntax): Check bad From.

2001-08-18 00:14:45  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-spec.el (gnus-correct-length): New function.
	(gnus-correct-substring): New function.
	(gnus-tilde-max-form): Use it.

2001-08-17  Nevin Kapur  <nevin@jhu.edu>

	* nnmh.el: Docstring changes as below.

	* nnml.el: Docstring changes as below.

	* nnbabyl.el: Docstring changes as below.

	* nnmbox.el: Docstring changes as below.

	* nnfolder.el: Added docstrings identifying each virtual server
	parameter.

2001-08-18  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-menu): Collapse Attach, Insert and Security submenu.

2001-08-17  Bj,Av(Brn Torkelsson  <torkel@acc.kth.se>

	* message.el: rename "Abort Message" to "Postpone Message".
	Remove "Attach file as MIME" from Message menu, it's already in
	the MIME menu.

2001-08-17 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smime.el (smime-point-at-eol): eval-and-compile.
	(smime-make-temp-file): New function.
	(smime-sign-region, smime-encrypt-region, smime-decrypt-region):
	Use it.

2001-08-17 10:41:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-group): Go online if offline.
	(gnus-agent-summary-fetch-group): New command and keystroke.

	* gnus-art.el (gnus-insert-mime-button): Tiny clean-up.
	(gnus-mime-display-security): Make it respect
	gnus-unbuttonized-mime-type-p.

	* gnus-sum.el (gnus-articles-to-read): Comments.
	(gnus-article-marked-p): New function.
	(gnus-summary-display-make-predicate): New function.
	(gnus-select-newsgroup): Use them.

	* mm-decode.el (mm-save-part-to-file): Made it not error.

2001-08-17  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-wait-for-tag): If process-status isn't open or
	run, return nil instead of sit-for looping.

2001-08-17 10:41:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* lpath.el (featurep): fbind xml-parse-region.

	* gnus.el (gnus-message-archive-method): Default to "archive".
	(gnus-message-archive-method): Doc fix.
	(gnus-parameters-get-parameter): Cleaned up.
	(gnus-expand-group-parameter): New function.

	* gnus-start.el (gnus-setup-news): Push the archive server only
	the server list.

	* mml.el (mml-menu): Changed name to "Attachments".

	* mm-decode.el (mm-destroy-postponed-undisplay-list): Only message
	when there is something to detroy.

2001-05-21 17:11:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): Default to
	nil.

2001-08-15  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-article): Allow "01:23" time spec,
	which specifies a time today or tomorrow.

2001-08-15  Simon Josefsson  <jas@extundo.com>
	From Pavel@Janik.cz (Pavel Jan,Am(Bk)

	* gnus-agent.el (gnus-agent-make-mode-line-string)
	(gnus-agent-toggle-plugged): Use new API.

2001-08-14  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-drafts): Fix check whether
	deadline has expired.

2001-08-12  Simon Josefsson  <jas@extundo.com>
	Suggested by Kai.Grossjohann@CS.Uni-Dortmund.DE

	Support `recent' mark indicating newly arrived messages (to
	separate from old but unread messages).

	* nnimap.el (nnimap-retrieve-groups): Push dummy article into
	`nnmail-split-history' if recent is > 0.
	(nnimap-request-update-info-internal): Update `recent' marks.
	(nnimap-request-set-mark): Never set `recent' marks.
	(nnimap-mark-to-predicate-alist, nnimap-mark-to-flag-alist): Add
	recent.

	* gnus-sum.el (gnus-recent-mark): New mark.
	(gnus-newsgroup-recent): New variable.
	(gnus-summary-local-variables): Add gnus-newsgroup-recent.
	(gnus-summary-prepare-threads): Mark recent articles.
	(gnus-summary-add-mark): Support recent.
	(gnus-summary-update-secondary-mark): Support recent.

	* gnus.el (gnus-article-mark-lists): Add recent.

2001-08-12  Simon Josefsson  <jas@extundo.com>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Returns
	whether successful decoding took place.  Add doc.

2001-08-12  Simon Josefsson  <jas@extundo.com>
	Suggested by Per Abrahamsen <abraham@dina.kvl.dk>

	* gnus.el (gnus-summary-line-format, gnus-parameters):
	* gnus-gl.el (gnus-summary-grouplens-line-format):
	* gnus-salt.el (gnus-summary-pick-line-format):
	* gnus-spec.el (gnus-format-specs): %n is 23 chars.

2001-08-11 09:40:00  Karl Kleinpaste  <karl@charcoal.com>
	Committed by Kai Gro,b_(Bjohann.

	* gnus-score.el (gnus-score-string): Fix `match' regexp
	for `extra' header case.

2001-08-10 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmbox.el (nnmbox-read-mbox): No warning.

2001-08-10 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-article-type): Fix doc.
	(nndoc-generate-article-function): New variable.
	(nndoc-dissection-function): New variable.
	(nndoc-type-alist): Add oe-dbx.
	(nndoc-oe-dbx-type-p): New function.
	(nndoc-oe-dbx-dissection): New function.
	(nndoc-oe-dbx-generate-article): New function.

2001-08-11  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-drafts): Cleaner way to check
	whether deadline has been reached.  Patch from Dan Nicolaescu
	<dann@godzilla.ics.uci.edu>.

2001-08-10 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (turn-on-gnus-mailing-list-mode): Use
	gnus-group-find-parameter. Suggested by Janne Rinta-Manty
	<rintaman@cs.Helsinki.FI>.

	* mail-source.el (mail-source-movemail): The error buffer is
	modified, but nothing in it.

2001-08-10 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-bogus-system-names): New variable.
	(message-make-fqdn): Use it.

2001-08-09 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-group): Use
	nndraft-auto-save-file-name.

2001-08-09  Simon Josefsson  <jas@extundo.com>

	* mm-view.el (mm-view-pkcs7-decrypt): Operate in current buffer.
	Don't ask whether to decrypt.  Just leave result in buffer (don't
	call mm).

	* mm-decode.el (mm-dissect-buffer): Possibly verify/decrypt single
	parts as well.
	(mm-inline-media-tests): Ignore application/{x-,}pkcs7-mime.
	(mm-possibly-verify-or-decrypt): Support application/{x-,}pkcs7-mime.

2001-08-09  Simon Josefsson  <jas@extundo.com>

	* mm-decode.el (mm-insert-part): Return decoding success status.
	(mm-save-part-to-file): Error if decoding failed.

2001-08-09 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tab): Use indent-relative.
	(message-mode): Don't bind indent-line-function to indent-relative.

2001-08-09  Simon Josefsson  <jas@extundo.com>

	* message.el (message-get-reply-headers): Fix string. Suggested by
	Christoph Conrad <cc@cli.de>.

2001-08-08 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tab): Use the current value of
	indent-line-function.
	(message-mode): Bind indent-line-function to indent-relative.

2001-08-08  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-gssapi-auth-p, imap-kerberos4-auth-p): Also check
	whether `imtest' is installed.

2001-08-04  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Nuutti Kotivuori  <nuutti.kotivuori@smarttrust.com>

	* gnus-sum.el (gnus-summary-show-article): Call
	gnus-summary-update-secondary-secondary-mark.
	* gnus-sum.el (gnus-summary-edit-article-done): Ditto.
	* gnus-sum.el (gnus-summary-reparent-thread): Ditto.

2001-08-07 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-make-menu-bar): Misc -> Gnus.

	* gnus-group.el (gnus-group-make-menu-bar): Ditto.

	* mm-uu.el (mm-uu-dissect): Autoload. From Gerd M,Av(Bllmann
	<gerd@gnu.org>.

	* gnus-art.el (gnus-output-to-file): Bind file-name-coding-system.

	* gnus-util.el (gnus-output-to-rmail): Ditto.
	(gnus-output-to-mail): Ditto.

	* nnmail.el (nnmail-pathname-coding-system): Set default to nil.

2001-08-06  Florian Weimer  <fw@deneb.enyo.de>

	* message.el (message-indent-citation): Use
	`message-yank-cited-prefix' for empty lines.

2001-08-05  Florian Weimer  <fw@deneb.enyo.de>

	* message.el (message-indent-citation): Quote only lines starting
	with ">" using `message-yank-cited-prefix'.

2001-08-05  Nuutti Kotivuori  <nuutti.kotivuori@smarttrust.com>
	Trivial patch.

	* gnus-cache.el (gnus-cache-possibly-enter-article): Use
	gnus-cache-fully-p.

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-possibly-update-active): Create active
	file if it doesn't exist (by calling gnus-cache-read-active).

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-possibly-enter-article): Revert.
	(gnus-cache-passively-or-fully-p): Removed.
	(gnus-cache-fully-p): Fix it.

	* mm-view.el (mm-pkcs7-signed-magic): Support more ASN.1 lengths.

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-fully-p)
	(gnus-cache-passively-or-fully-p): New functions.
	(gnus-cache-possibly-enter-article): Cosmetic change, use
	`g-c-p-o-f-p'.
	(gnus-cache-possibly-enter-article): Use `g-c-p-u-a'; last change
	was bogus (`g-c-p-a-a' does not change active info, just change
	the functions parameters).
	(gnus-cache-possibly-remove-articles-1): Make sure articles are
	not removed in groups that match `gnus-uncacheable-groups'.

	Reported and modifications based on discussions with Nuutti
	Kotivuori <nuutti.kotivuori@smarttrust.com>.

2001-08-04  Simon Josefsson  <jas@extundo.com>
	Trivial patch from Nuutti Kotivuori  <nuutti.kotivuori@smarttrust.com>

	* gnus-cache.el (gnus-cache-possibly-update-active): New function;
	calls `gnus-cache-update-active' if bounds has been extended.

2001-08-04 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-security-verify-or-decrypt): Insert
	before remove.
	(gnus-mime-security-show-details): Ditto.

2001-08-04  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-split-fancy-with-parent): Correct `mapconcat'
	syntax.  Protect string-match against nil string and regexp.

2001-08-03 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-charset-region): Remove control-1.

2001-08-03 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-readable-p): Emacs 20 takes one argument.

2001-08-04  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-sign-region, smime-encrypt-region): Fix details
	buffer.  Delete MIME-Version header.

2001-08-03  Simon Josefsson  <jas@extundo.com>

	* gnus-cache.el (gnus-cache-possibly-enter-article): The article
	that is entered does not necessarily have the highest article
	number in the group, so use `gnus-cache-possibly-alter-active'
	instead of `gnus-cache-update-active'.

2001-08-03 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-gpg-extract-signature-details): Don't barf.

2001-08-03  Simon Josefsson  <jas@extundo.com>

	* mml.el (mml-menu): Rename from MML to Mime. Collapse Security
	menu.

2001-08-02  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (post-method): New group parameter.  It also provides
	the user option `gnus-post-method-alist' and the internal function
	`gnus-parameter-post-method'.

	* gnus-msg.el (gnus-post-method): Bind the value of
	`gnus-post-method' to the group parameter if it is defined.

2001-08-02  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-extra-arguments): Removed.
	(smime-call-openssl-region): Don't use it.

2001-08-02  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-sign-region): Handle stderr.
	(smime-encrypt-region): Ditto.

	* mm-view.el (mm-pkcs7-signed-magic): Make it a regexp.  Don't
	match the ASN.1 length bytes.
	(mm-pkcs7-enveloped-magic): Ditto.
	(mm-view-pkcs7-get-type): Don't regexp quote.

2001-08-01 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Andreas Fuchs <asf@void.at>

	* mml2015.el (mml2015-trust-boundaries-alist): Typo.

2001-08-01 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-header-button-alist): References regexp.

2001-08-01  Gerd Moellmann  <gerd@gnu.org>

	* mm-view.el (autoload): Don't autoload `diff-mode' if it's
	already fboundp.  Add INTERACTIVE arg to autoload form.

2001-08-01 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-init): Add as gnus buffer.

	* nnmail.el (nnmail-cache-open): Ditto.

2001-07-31 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-button-fetch-group): Fix the regexp.

2001-07-31  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-msg.el (gnus-post-method): Refer to `gnus-parameters'.

2001-07-31 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Originally from Pavel Jan,Am(Bk <Pavel@Janik.cz>

	* gnus-agent.el (gnus-agent-make-mode-line-string): New function.
	(gnus-agent-toggle-plugged): Use it.

2001-07-31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-startup-file-coding-system): Revert to binary.
	(gnus-ding-file-coding-system): New variable.
	(gnus-read-newsrc-el-file, gnus-save-newsrc-file)
	(gnus-slave-save-newsrc): Use it.

2001-07-31  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-initialize): Use standard define-key
	syntax.

2001-07-30 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Originally from Andreas Fuchs <asf@void.at>

	* mml2015.el (mml2015-trust-boundaries-alist): New variable.
	(mml2015-gpg-pretty-print-fpr): New function.
	(mml2015-gpg-extract-signature-details): More details, rename from
	`m-g-e-from'.
	(mml2015-gpg-verify): Use them.
	(mml2015-gpg-clear-verify): Use them.

2001-07-31  Simon Josefsson  <jas@extundo.com>

	* mml-smime.el (mml-smime-sign, mml-smime-encrypt): Goto end of
	buffer when done.

2001-07-30  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-call-openssl-region): Revert previous change,
	just pass on buf to `call-process-region'.
	(smime-verify-region): Doc fix.  Don't message stuff.  Use
	`smime-new-details-buffer'.  Inserts error messages into buffer.
	(smime-noverify-region): Ditto.
	(smime-decrypt-region): Ditto.  Handles stderr separately.
	(smime-verify-buffer, smime-noverify-buffer)
	(smime-decrypt-buffer): Doc fix.
	(smime-new-details-buffer): New function.
	(smime-pkcs7-region, smime-pkcs7-certificates-region)
	(smime-pkcs7-email-region): Use `smime-new-details-buffer'.
	(smime-sign-region, smime-encrypt-region): Don't use
	`insert-buffer'.

	* mml-smime.el (mml-smime-verify): Fix security button strings.

2001-07-30 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-save-part-and-strip): Save
	gnus-article-mime-handles.

2001-07-29  Simon Josefsson  <jas@extundo.com>

	* mail-source.el (top-level): Require message for message-directory.
	(mail-source-directory): Change default to message-directory.

	* smime.el (smime-keys, smime-CA-directory, smime-CA-file)
	(smime-certificate-directory, smime-openssl-program)
	(smime-encrypt-cipher, smime-dns-server): Fix doc (leading "*").
	(smime-extra-arguments): New variable.
	(smime-dns-server): Fix customize group.
	(smime-call-openssl-region): Use `smime-extra-arguments'.

2001-07-29  Simon Josefsson  <jas@extundo.com>
	From Vladimir Volovich <vvv@vsu.ru>

	* smime.el (smime-call-openssl-region): Ignore stderr.

2001-07-29  Simon Josefsson  <jas@extundo.com>
	From Christoph Conrad <christoph.conrad@gmx.de>

	* gnus-agent.el (gnus-agent-save-group-info): Don't destroy active
	file.

2001-07-29  Simon Josefsson  <jas@extundo.com>

	* mm-view.el (mm-view-pkcs7-decrypt): Adhere to `mm-decrypt-option'.

	Support S/MIME decryption.

	* mm-decode.el (mm-inline-media-tests):
	(mm-inlined-types):
	(mm-automatic-display):
	(mm-attachment-override-types): Add application/{x-,}pkcs7-mime.

	* mm-view.el (mm-pkcs7-signed-magic):
	(mm-pkcs7-enveloped-magic): New variables.
	(mm-view-pkcs7-get-type): New function; identify PKCS#7 type.
	(mm-view-pkcs7): New function; mm viewer for PKCS#7 blobs.
	(mm-view-pkcs7-decrypt): New function; mm viewer for encrypted
	PKCS#7 blobs.

	* smime.el (smime-decrypt-region): Expand keyfile.

2001-07-29  Simon Josefsson  <jas@extundo.com>

	* nntp.el (nntp-open-ssl-stream): Don't mess with internal
	`ssl.el' variables.

	* gnus-agent.el (gnus-agent-save-group-info): Delete everything
	but line instead of narrowing to it, because `nnmail-parse-active'
	calls widen.  Thanks to Christoph Conrad
	<christoph.conrad@gmx.de>.

2001-07-29  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus.el (gnus-summary-line-format): Mention `gnus-sum-thread-*'
	for %B spec.

	* gnus-sum.el (gnus-summary-prepare-threads): If
	gnus-sum-thread-tree-root is nil, use subject instead.
	(gnus-sum-thread-tree-root, gnus-sum-thread-tree-single-indent)
	(gnus-sum-thread-tree-vertical, gnus-sum-thread-tree-indent)
	(gnus-sum-thread-tree-leaf-with-other)
	(gnus-sum-thread-tree-single-leaf): Documentation.
	(gnus-sum-thread-tree-single-indent): Allow nil.

2001-07-28 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-fill-paragraph): Do nothing if the user
	wants filladapt-mode.

2001-07-27 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-image-type-from-buffer): New function.
	(mm-get-image): Use it.

2001-07-27 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-large-newsgroup): Add doc, "If it is nil, ..."

	* gnus-art.el (gnus-mime-view-all-parts): buffer-read-only covers
	mm-display-parts too.

2001-07-27 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-accept-article): Bind
	nntp-server-buffer.

	* nnmail.el (nnmail-parse-active): Read from buffer instead of
	nntp-server-buffer.

2001-07-27 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-header-syntax): Use
	message-post-method.
	(message-send-news): Bind message-post-method.

2001-07-27 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-tweak-type-alist): New variable.
	(mml-tweak-function-alist): New variable.
	(mml-tweak-part): New function.
	(mml-generate-mime-1): Use it.

2001-07-26 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-accept-article): Replace
	nnfolder-request-list.

2001-07-27  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-open-server): Set nnimap-server-buffer if
	nnoo-change-server failed to do it.

2001-07-26 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-parameters): Make it customizable.

2001-07-26 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mm-display-part): Narrow to point if eobp.

	* message.el (message-set-auto-save-file-name): More
	poor-system-types.

	* mailcap.el (mailcap-parse-mimetypes): poor-system-types.

	* gnus-ems.el (nnheader-file-name-translation-alist): M$Windows-NT
	supports +.

2001-07-26 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-readable-p): New function.
	(mm-inline-media-tests): Fix the default testers.

2001-07-26  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-version): Bump version number.

2001-07-26 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Steven E. Harris <seh@speakeasy.org>

	* nnheader.el (nnheader-translate-file-chars): cygwin32 is running
	in M$Windows too.

2001-07-26  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-send-drafts): Don't `error'.

2001-07-25 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-bcklg.el (gnus-backlog-shutdown): Make interactive.

	* mm-decode.el (mm-get-image): Guess then use the type.

	* gnus-art.el (gnus-mime-view-part-as-type): Don't copy cache.

2001-07-25 12:54:00  Danny Siu  <dsiu@adobe.com>

	* gnus-sum.el (gnus-summary-prepare-threads): Shouldn't do tree
	display (%B) for threads if threading is off.

2001-07-25 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Henrik Enberg <henrik@enberg.org>

	* gnus-msg.el: Customization patch.

2001-07-25 22:22:22  Raymond Scholz  <rscholz@zonix.de>

	* nnmail.el (nnmail-split-fancy-with-parent-ignore-groups): New
	variable.
	(nnmail-split-fancy-with-parent): Ignore certain groups.

2001-07-25 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-byte-compile): New function.
	(gnus-use-byte-compile): New variable.
	(gnus-make-sort-function): Use it.

	* nnmail.el (nnmail-get-new-mail): Use it.

	* gnus-agent.el (gnus-category-make-function): Simple function or
	compiled function.
	(gnus-agent-fetch-group-1): Don't use (caaddr predicate).

	* gnus-gl.el (bbb-build-rate-command): Remove quote before lambda.
	* gnus-topic.el (gnus-topic-sort-topics-1): Ditto.
	(gnus-topic-sort-topics-1): Use gnus-byte-compile.

	* message.el (message-check-news-header-syntax): Remove quote.

2001-07-24 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-use-mail-followup-to): `t' is not a
	documented value.

2001-07-24 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-display-arrow): Test fboundp.

2001-07-24 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-encode.el (mm-encode-buffer): Don't use 7bit encoding if
	there are long lines.

2001-07-24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (copy-list): New compiler macro.

2001-07-24 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-bounce): If no Return-Path, the whole
	content is considered as the original message.

	* nnml.el (nnml-check-directory-twice): New variable.
	(nnml-article-to-file): Use it.
	(nnml-retrieve-headers): Hack it.

2001-07-24 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-buffer-configuration): New configure.

	* gnus-art.el (gnus-mm-display-part): Don't select-window if it is
	not alive.

	* mm-decode.el (mm-remove-part): Don't murder the current window (nil).
	(mm-display-external): Use display-term configure.

2001-07-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-default-hour): New variable.
	(gnus-delay-article): Allow specific date in YYYY-MM-DD format.

2001-07-23 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Karl Kleinpaste <karl@charcoal.com>

	* gnus-sum.el (gnus-summary-line-format-alist): Add %B.
	(gnus-summary-prepare-threads): Ditto.

	* gnus.el (gnus-summary-line-format): Add %B.

2001-07-23 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-articles-to-read): Use gnus-group-decoded-name.

	* mm-util.el (mm-string-as-multibyte): New function.

	* nnmh.el (nnmh-request-list-1): Encode, not decode!

2001-07-23 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-universal-coding-system): New variable.

	* gnus-start.el (gnus-startup-file-coding-system): Use it.

	* score-mode.el (score-mode-coding-system): Use it.

2001-07-23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-setup-news): Call
	`gnus-check-bogus-newsgroups' just after the native server is
	opened.

2001-07-23  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-do-request-post): Util function to be used by
	`nnchoke-request-post' for all nnmail-derived backends.

	* nnml.el (nnml-request-post): Use it.

	* gnus.el (gnus-valid-select-methods): nnml is a post-mail
	backend, for it groks nnml-request-post.

	* gnus-group.el (gnus-group-highlight, gnus-group-highlight-line):
	Treat `mail-post' backends like `mail' backends, not like `news'
	backends.

2001-07-22 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-setup-message): make-local-hook.

2001-07-22  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el (gnus-delay-article): Fix `read-string' for
	XEmacs.  Allow more units.  Submitted by Karl Kleinpaste
	<karl@charcoal.com>, slightly changed by Kai.

	* message.el (message-check-news-header-syntax): When checking
	whether the groups exist, check the right server based on
	`gnus-post-method'.

2001-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-delay.el: New file.

2001-07-21 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-read-coding-system): Take two arguments.

	* gnus-sum.el (gnus-summary-show-article): Use
	mm-read-coding-system.

	* gnus-art.el (article-de-quoted-unreadable):
	(article-de-base64-unreadable, article-wash-html):
	(gnus-mime-inline-part, gnus-mime-view-part-as-charset): Ditto.

2001-07-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnml.el (nnml-request-post): New function.  Can be used for
	annotations in nnml groups.

2001-07-19  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-request-newgroups): Use UTC date for NEWGROUPS
	command.

	* gnus-start.el (gnus-find-new-newsgroups): Use
	`message-make-date' instead of `current-time-string'.
	(gnus-ask-server-for-new-groups): Ditto.
	(gnus-check-first-time-used): Ditto.

2001-07-20 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-home-score-file): nnheader-translate-file-chars.

2001-07-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-shorten-references): Change `maxcount' and
	`cut' to obey USEFOR draft 5.

2001-07-12  Colin Walters  <walters@cis.ohio-state.edu>

	* gnus-sum.el (gnus-summary-display-arrow): New variable.
	(gnus-summary-set-article-display-arrow): New function.
	(gnus-summary-goto-subject): Use it.

2001-07-18 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-import-article): Insert date if
	doesn't exist.

2001-07-18 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-content-type-parameters): New variable.
	(mml-content-disposition-parameters): New variable.
	(mml-insert-mime-headers): Use them.
	(mml-parse-1): Accept charset.

2001-07-17 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-select-group): Doc fix.

	* gnus-eform.el (gnus-edit-form-done): Return nil if end-of-file.

2001-07-17  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (dgnushack-make-auto-load): Advise `make-autoload'
	to handle `define-derived-mode'.

2001-07-16 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From:  Stefan Monnier  <monnier@cs.yale.edu>

	* message.el (message-mode): Use define-derived-mode.
	(message-tab): message-completion-alist.

	* imap.el (imap-interactive-login): Use make-local-variable.
	(imap-open): Ditto.
	(imap-authenticate): Ditto.

	* gnus-msg.el (gnus-setup-message): Change-major-mode-hook.

	* gnus-art.el (gnus-article-edit-mode): Use define-derived-mode.

2001-07-16  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-citation-line-function): Refer to
	gnus-cite-attribution-suffix.

2001-07-15  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-art.el,...: Error convention changes.

2001-07-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-rebuild-thread): Count hidden lines too.

2001-07-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-read-group-data): Nuke emacs-lisp-mode-hook.
	(nnrss-read-server-data): Ditto.

2001-07-13 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-setup.el (gnus-use-installed-gnus): Typo.
	* Cleanup files.
	From Pavel@Janik.cz (Pavel Jan,Am(Bk).

2001-07-13 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-summary-line-format): Add %o.

	* gnus-sum.el (gnus-summary-pipe-output): Don't configure as pipe
	unless shell outputs something.

2001-07-13 07:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-boring-article-headers): Better doc.
	(article-hide-headers): Better regexp.
	Suggested by Matt Swift <swift@alum.mit.edu>.

	* nnheader.el (nnheader-max-head-length): Better doc.
	(nnheader-header-value): Skip spaces.
	(nnheader-parse-head): Remove space.
	Suggested by Matt Swift <swift@alum.mit.edu>.

	* gnus-sum.el (gnus-summary-show-raw-article): New function.
	(gnus-get-newsgroup-headers): Remove space.

2001-07-12 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-treat-broken-reply-to): Add force.
	(gnus-summary-reply): Use it.
	(gnus-summary-reply-broken-reply-to): New function.
	(gnus-msg-force-broken-reply-to): New function.

	* mm-view.el (mm-inline-text): Showing as text/plain when error.

2001-07-12 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-setup): Restore gnus-newsgroup-name.

2001-07-12 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-external-terminal-program): New variable.
	(mm-display-external): Use it. Use term to display when no
	window-system.

2001-07-12  Bj,Av(Brn Torkelsson  <torkel@hpc2n.umu.se>

	* gnus-srvr.el (gnus-browse-make-menu-bar): Changed one of the
	Browse->Next entries to Browse->Prev

2001-07-11 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-do-gcc): Don't test gnus-alive-p.

2001-07-11 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-encode.el (mm-content-transfer-encoding-defaults): Use base64
	for the default encoding.

	* nnrss.el (nnrss-url-field): New field.
	(nnrss-request-article): Add newsgroups.

	* nnfolder.el (nnfolder-read-folder): Force to use a multibyte buffer.

2001-07-11 04:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-restore-buffer): Don't remove Date.

	* gnus-draft.el (gnus-draft-edit-message): Remove Date here.
	(gnus-draft-setup): Remove backlog.

2001-07-10  Pavel Jan,Am(Bk  <Pavel@Janik.cz>

	* gnus-logic.el, gnus-srvr.el, gnus-vm.el, nnheaderxm.el, nnoo.el:
	Cleanup.

2001-07-09 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-bug): Erase buffer.

	* nnfolder.el (nnfolder-possibly-change-group): Don't create group.

2001-07-09 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-attachment-override-p): Fix typo.

2001-03-19 05:28:00  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-kill.el (gnus-execute): Work with the extra headers.
	* gnus-sum.el (gnus-summary-execute-command): Ditto.

2001-07-09 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): w3-coding-system-for-mime-charset
	may not defined. From: Raja R Harinath <harinath@cs.umn.edu>.

	* message.el (message-send-mail-real-function): New variable.
	(message-send-mail-partially, message-send-mail):

	* nngateway.el (nngateway-request-post): Use it.

	* gnus-agent.el (gnus-agentize): Use it.

	* nnsoup.el (nnsoup-old-functions, nnsoup-set-variables)
	(nnsoup-revert-variables): Use it.

2001-07-09  Colin Walters  <walters@cis.ohio-state.edu>

	* mm-decode.el (mm-inline-media-tests): Default to displaying as
	text/plain if the type doesn't match any other media types.
	(mm-inlined-types): Doc fix.
	(mm-display-inline): Revert previous change (now handled by a
	default type in `mm-inline-media-tests'.
	(mm-inlinable-p): Revive.
	(mm-display-part): Call `mm-inlinable-p'.
	(mm-attachment-override-p): Ditto.
	(mm-inlined-p): Doc fix.

	* gnus-art.el (gnus-mime-display-single): Call `mm-inlinable-p' as
	well as `mm-inlined-p'.

2001-07-09 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-send-command, nntp-send-command-nodelete):
	(nntp-send-command-and-decode): Use gnus-point-at-bol.

2001-07-09 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From  Paul Jarc <prj@po.cwru.edu>

	* message.el (message-use-mail-followup-to): New variable.
	(message-get-reply-headers): Use it.

2001-07-04  Gerd Moellmann  <gerd@gnu.org>

	* nnheader.el (nnheader-init-server-buffer): Make sure the
	*nntpd* buffer is made multibyte instead of a random buffer.

2001-07-09 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-get-newsgroup-headers-xover): Get headers only
	when it returns headers.

2001-07-07  Simon Josefsson  <jas@extundo.com>

	* rfc2047.el (rfc2047-encode-message-header): Skip header when
	trying to fold. Thanks to Colin Walters
	<walters@cis.ohio-state.edu>

2001-07-06  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-parse-address-list, imap-parse-flag-list)
	(imap-parse-body-extension, imap-parse-body-ext, imap-parse-body):
	Add information in `assert's.

	* nnimap.el (nnimap-possibly-change-group): Ignore uidvalidity
	changes. (From nnimaps' point of view, `nnimap-verify-uidvalidity'
	and `nnimap-group-overview-filename', should handle all
	change-of-uidvalidity related issues.  But there may be other
	problems.)

2001-07-05  Colin Walters  <walters@cis.ohio-state.edu>

	* rfc2047.el (rfc2047-encode-message-header): Don't include the
	header name when folding.

2001-07-05  Colin Walters  <walters@cis.ohio-state.edu>

	* mm-decode.el (mm-inlined-types): Document relationship with
	`mm-inline-media-tests'.
	(mm-display-inline): Default to displaying as plain text if no
	inlining handler is available.
	(mm-inlinable-p): Remove.
	(mm-inlined-p): Don't call `mm-inlinable-p'.
	(mm-automatic-display-p): Ditto.
	(mm-attachment-override-p): Ditto.

2001-07-04  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-importantize-dormant): New variable.
	(nnimap-request-update-info-internal): Use it.
	(nnimap-request-set-mark): Ditto.

2001-07-04  Didier Verna  <didier@lrde.epita.fr>

	* nntp.el (nntp-send-command): don't pass a buffer argument to
	`point'. Only XEmacs accepts this.
	* nntp.el (nntp-send-command-nodelete): ditto.
	* nntp.el (nntp-send-command-and-decode): ditto.

2001-07-04  Didier Verna  <didier@lrde.epita.fr>

	* nntp.el (nntp-open-connection-function): doc update.
	* nntp.el (nntp-pre-command): New.
	* nntp.el (nntp-via-rlogin-command): New.
	* nntp.el (nntp-via-telnet-command): New.
	* nntp.el (nntp-via-telnet-switches): New.
	* nntp.el (nntp-via-user-name): New.
	* nntp.el (nntp-via-user-password): New.
	* nntp.el (nntp-via-address): New.
	* nntp.el (nntp-via-envuser): New.
	* nntp.el (nntp-via-shell-prompt): New.
	* nntp.el (nntp-open-telnet-stream): New.
	* nntp.el (nntp-open-via-rlogin-and-telnet): New.
	* nntp.el (nntp-open-via-telnet-and-telnet): New.
	* nntp.el (nntp-wait-for): check for possibly echo'ed commands.
	* nntp.el (nntp-send-command): ditto.
	* nntp.el (nntp-send-command-nodelete): ditto.
	* nntp.el (nntp-send-command-and-decode): ditto.

2001-06-30  YAGI Tatsuya  <yagi@is.titech.ac.jp>
	Trivial patch.

	* gnus-start.el (gnus-check-first-time-used): Use `if' instead of
	`when'.

2001-07-03  Simon Josefsson  <jas@extundo.com>
	From Nuutti Kotivuori <nuutti.kotivuori@smarttrust.com>

	* flow-fill.el (fill-flowed): Use (1+ (point-at-eol)) instead.

2001-07-03  Simon Josefsson  <jas@extundo.com>

	* flow-fill.el (fill-flowed): If `fill-region' inserts empty line,
	remove it (workaround XEmacs `fill-region' bug).

2001-07-01  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-date-days-ago): Defeat locale.

2001-06-28 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-format-error): New function.
	(mml2015-mailcrypt-decrypt, mml2015-mailcrypt-clear-decrypt)
	(mml2015-mailcrypt-verify, mml2015-gpg-clear-verify)
	(mml2015-mailcrypt-clear-verify, mml2015-gpg-verify): Use it.

2001-06-26 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-retrieve-headers): The description may not exist.
	Suggested by Christoph Conrad <C.Conrad@cli.de>.

	* gnus-sum.el (gnus-summary-set-local-parameters): Don't override
	group variables.

2001-06-25 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-write-groups): Use gnus-prin1.

	* nnrss.el (nnrss-save-server-data): Bind print-level and print-length.
	(nnrss-save-group-data): Ditto.

	* gnus-agent.el (gnus-agent-save-alist): Ditto.

2001-06-25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-do-send-housekeeping): Narrow to headers.

2001-06-24  Simon Josefsson  <jas@extundo.com>

	* rfc2047.el (rfc2047-fold-region): The check to skip WSP
	insertion when breaking lines looked for " \t" instead of "[ \t]".
	(rfc2047-encode-message-header): Fold lines even if
	no QP encoding is done.

2001-06-23  Simon Josefsson  <jas@extundo.com>
	From Samuel Tardieu <sam@inf.enst.fr>

	* smime.el (smime-keys): Support additional certificates.
	(smime-make-certfiles): New function.
	(smime-sign-region): Use previous variables.
	(smime-get-certfiles): New function.
	(smime-sign-buffer): Use it.
	(smime-verify-region): Support both CAfile and CApath.

2001-06-23  Simon Josefsson  <jas@extundo.com>

	* smime.el (smime-decrypt-region): Perhaps work.

2001-06-22 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-copy-article-buffer): Typo.

2001-04-06  Ralph Schleicher  <rs@nunatak.allgaeu.org>

	* mm-decode.el (mm-save-part): Rewrite file name.
	(mm-file-name-rewrite-functions): New variable.
	(mm-file-name-delete-whitespace): New function.
	(mm-file-name-trim-whitespace): New function.
	(mm-file-name-collapse-whitespace): New function.
	(mm-file-name-replace-whitespace): New variable and function.

2001-06-22  Simon Josefsson  <jas@extundo.com>

	* message.el (message-make-date): Workaround locale for weekdays.

2001-06-21 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-goto-body): Return nil if not found. (revert!)

2001-06-21 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Fremlin <chief@bandits.org>

	* message.el (message-goto-body): Some messages have no header.

	* gnus-msg.el (gnus-copy-article-buffer): Use it.

2001-06-21  Ralph Schleicher  <rs@nunatak.allgaeu.org>

	* nnultimate.el (nnultimate-retrieve-headers): Date fix.

2001-06-21 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-date): Add week day.
	Suggested by Jason R. Mastaler <jason@mastaler.com>.

2001-06-19  Simon Josefsson  <jas@extundo.com>

	* message.el (message-yank-prefix): Doc fix.
	(message-yank-cited-prefix): Ditto.
	(message-delete-not-region): Keep citation prefix on first line,
	if possible and appropriate.

2001-06-19  Simon Josefsson  <jas@extundo.com>

	* imap.el (imap-process-connection-type): New variable.
	(imap-kerberos4-open, imap-gssapi-open): Use it.  This makes
	recent `imtest's work completely (no line length issues), while
	making making old `imtest's unusable.  Thanks to NAGY Andras
	<nagya@inf.elte.hu> for his work.

2000-12-30  NAGY Andras  <nagya@inf.elte.hu>

	* imap.el (imap-ssl-program): Add -quiet to shut up
	OpenSSL/SSLeay's internal debug talk.

2001-06-19  Matt Armstrong  <matt@lickey.com>

	* imap.el (imap-parse-flag-list): Workaround bug in Courier IMAP
	server.

2001-06-19 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-article-buffer): New variable.
	(nnmail-split-incoming): Use it.

2001-06-15  Eli Zaretskii  <eliz@is.elta.co.il>

	* qp.el (quoted-printable-decode-region): If called interactively,
	use coding-system-for-read.

2001-06-16 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-header-syntax): Check Reply-To.

2001-06-16 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-parse-1): Use message options.

	* message.el (message-do-fcc): Don't do anything if there is no
	FCC.

2001-06-16  Simon Josefsson  <jas@extundo.com>

	* nnimap.el (nnimap-split-articles): Support 'junk to-groups.
	(nnimap-expunge-search-string): New variable.
	(nnimap-request-expire-articles): Use it.

2001-06-15 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-with-qmail): wrong exit status is
	100 not 1. Reported by Paul Jarc <prj@po.cwru.edu>.

2001-06-15 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-strip-multiple-blank-lines): Use
	delete-region instead of replace-match.

2001-06-14 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-google-parse-1): Fix Google content regexp.
	(nnweb-google-wash-article): Ditto.

2001-06-14 Ferenc Wagner  <wferi@bolyai1.elte.hu>

	* nnweb.el (nnweb-google-parse-1): Fix Google url regexp.

2001-06-13  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus.el (gnus-define-group-parameter): Don't quote the defcustom
	specs.

2001-06-13 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-email-address): Move it here.

	* gnus-art.el (article-de-quoted-unreadable): Read charset if
	requested.
	(article-de-base64-unreadable): Ditto.
	(article-wash-html): Ditto.

2001-06-12 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-options-set-recipient): Don't add ", "
	unless necessary. Suggested by Josh Huber <huber@alum.wpi.edu>.

2001-06-12 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-group-alist): Use |fr| instead of [fr].

2001-06-12 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-plain-save-name): Use file-relative-name.
	From Marc Lefranc <Marc.Lefranc@univ-lille1.fr>.

	* nnrss.el (nnrss-node-text): Node might be nil.

2001-06-11 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-save-article): Use mml tag instead of
	part. From Katsumi Yamaoka <yamaoka@jpl.org>.

	* nnrss.el (nnrss-group-alist): More items.

2001-06-09 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-node-text): Use cddr instead xml-node-children.

2001-06-03  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Dale Hagglund  <rdh@best.com>

	* gnus-mlspl.el (gnus-group-split-fancy): Fix generation of split
	restrict clauses.

2001-06-07 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	From Benjamin Rutt <brutt+news@bloomington.in.us>

	* message.el (message-wide-reply-confirm-recipients): New variable.

2001-06-06  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Mark Thomas  <mthomas@edrc.cmu.edu>

	* nnmail.el (nnmail-fix-eudora-headers): Change the In-Reply-To
	fix so it works with XEmacs.

2001-06-07 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-retrieve-headers): Support description as extra
	headers.

2001-06-07 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el: Fix a few bugs.

2001-06-05  Simon Josefsson  <jas@extundo.com>

	* mm-decode.el (mm-handle-set-external-undisplayer): Don't
	generate compiler warnings.  From Alex Schroeder <alex@gnu.org>.

2001-06-04  Hrvoje Niksic  <hniksic@arsdigita.com>

	* mm-decode.el (mm-pipe-part): Bind coding-system-for-write to
	binary so that we don't transmit ISO 2022 garbage to the process.
	This is needed under XEmacs.

2001-06-03  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-ssl-open): Require ssl. (Otherwise ssl.el is
	autoloaded incorrectly below because ssl-program-* is bound.)
	Thanks to Amos Gouaux for report.

2001-06-02  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-kerberos4-open):
	(imap-gssapi-open):
	(imap-ssl-open):
	(imap-network-open):
	(imap-shell-open):
	(imap-starttls-open): Set buffer to workaround spurious
	`accept-process-output' buffer changes.  Thanks to Mats Lidell
	<Mats.Lidell@contactor.se> for report and partial patch and Jake
	Colman <colman@ppllc.com> for report.

2001-05-31 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-catchup): New argument.
	(gnus-summary-catchup-from-here): New function.

2001-05-30  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* mm-view.el (mm-inline-image-xemacs): Insert newline, then move
	back, then insert glyph.  (Before, the glyph was inserted first,
	then the newline.)  This works around a behavior in XEmacs where
	it is not possible to insert a character after a glyph which is at
	the end of a buffer.  Patch by Lloyd Zusman <ljz@asfast.com>.

2001-05-28  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	From Jaap-Henk Hoepman (jhh@xs4all.nl).

	* mm-decode.el (mm-keep-viewer-alive-types): New variable.
	(mm-keep-viewer-alive-p, mm-handle-set-external-undisplayer,
	mm-destroy-postponed-undisplay-list): New functions.
	(mm-display-external): Use them.

2001-05-27  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-salt.el (gnus-tree-highlight-node): Bind `default-high' and
	`default-low' when evaluating `gnus-summary-highlight'.
	From Raja R Harinath <harinath@cs.umn.edu>.

2001-05-27  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-yank-cited-prefix): New variable.
	(message-indent-citation): Use it.

	* mml2015.el (mml2015-mailcrypt-verify): Store gpg stderr output
	as details.
	(mml2015-mailcrypt-clear-verify): Ditto.

2001-05-24  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>
	From Nevin Kapur <nevin@jhu.edu>.

	* gnus-sum.el (gnus-summary-default-high-score,
	gnus-summary-default-low-score): New variables.
	(gnus-summary-highlight): Use them.

2001-05-16  Didier Verna  <didier@lrde.epita.fr>

	* message.el (message-mail): pass the 'send-actions argument to
	`message-setup'.

2001-05-16  Simon Josefsson  <simon@josefsson.org>
	From Raymond Scholz <ray-2001@zonix.de>

	* gnus-art.el (gnus-mime-view-part-as-charset):
	(gnus-mime-internalize-part): Doc fixes.

2001-05-11  Simon Josefsson  <simon@josefsson.org>

	* gnus-start.el (gnus-ignored-newsgroups): Also ignore NNTP type
	status lines without any text ("^215$").

2001-05-06 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-check-group): Reverse.

2001-05-07  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-get-reply-headers):
	(message-followup): Fix typo, suggested by David Green
	<dgreen@uab.edu>

2001-05-05 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-request-expire-articles): Fix.

	* nnrss.el (nnrss-open-server): Read server data when it is called.
	(nnrss-request-expire-articles): Fix.

2001-05-05 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-do-send-housekeeping): mail-abbrevs may
	rename buffer behind Gnus.

2001-05-04 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-check-group): Use nnheader-translate-file-chars.
	(nnrss-group-alist): Add more resources.
	(nnrss-check-group): Ignore errors.

2001-05-04 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-request-expire-articles): Correct the return value.

	* nnslashdot.el (nnslashdot-request-list): Add time.
	(nnslashdot-request-expire-articles): New function.

	* gnus-start.el (gnus-check-bogus-newsgroups): Remove bogus
	secondary methods too.

2001-05-03 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-use-followup-to): Set default value to t.

2001-05-03  Florian Weimer  <fw@deneb.enyo.de>

	* message.el (message-dont-reply-to-names): Fix documentation.
	(message-get-reply-headers): Use Mail-Followup-To only for wide
	replies.

2001-05-03 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-request-expire-articles): Calculate # of days
	correctly.
	(nnrss-check-group): Use time.

2001-05-01 19:21:19 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.03 is released.

2001-05-01 19:06:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-topic-article-to-article): Use the
	group.

2001-04-24 19:50:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-server-insert-server-line): Add a space.

2001-04-15 14:55:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Return all
	available headers.

	* gnus-sum.el (gnus-read-all-available-headers): New variable.
	(gnus-get-newsgroup-headers-xover): Use it.

2001-04-14 15:47:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Clean up.

2001-04-30 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-groups): Use throw instead of error.

2001-04-29 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el (nnrss-insert-w3): Use cache before I figure out how to
	disable it.

	* gnus.el (gnus-info-nodes): Remove a few The's.

2001-04-29 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-movemail): Call-process may return a
	signal description string.

	* gnus-start.el (gnus-read-newsrc-el-file):
	gnus-newsrc-file-version may be nil.

	* nnmail.el (nnmail-get-new-mail): Use the exact file only.
	Suggested by Michael Sperber [Mr. Preprocessor]
	<sperber@informatik.uni-tuebingen.de>.

2001-04-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mm-uu.el (mm-uu-configure-list): Fixed customize type.

2001-04-24  Hrvoje Niksic  <hniksic@arsdigita.com>

	* mm-view.el (mm-display-inline-fontify): Allow XEmacs to fully
	fontify HANDLE.

2001-04-18  Simon Josefsson  <simon@josefsson.org>

	* smime.el (smime-ask-passphrase): Rework to return value.
	(smime-sign-region): Rework to bind value and use it.
	(smime-decrypt-region): Ditto.

2001-04-18  Simon Josefsson  <simon@josefsson.org>
	Trivial patch from Mathias Herberts  <Mathias.Herberts@iroise.net>

	* smime.el (smime-ask-passphrase): New function.
	(smime-sign-region): Use it.
	(smime-encrypt-cipher): New variable.
	(smime-decrypt-region): Ditto.

2001-04-12  Jason Merrill  <jason_merrill@redhat.com>
	Committed by Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-shell-open): Erase the buffer *after* copying it into
	the log.

2001-04-14 01:14:42 Lars Magne Ingebrigtsen  <lars@ingebrigtsen.no>

	* gnus.el: Oort Gnus v0.02 is released.

2001-04-14 00:48:42  Lars Magne Ingebrigtsen  <larsi@quimby.gnus.org>

	* gnus.el: Oort Gnus v0.01 is released.

2001-04-13 22:01:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-highlight): Highlight read
	undownloaded articles as read articles.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Clean up.
	(gnus-agent-get-undownloaded-list): Mark all undownloaded
	articles, even read ones, as such.

	* gnus-sum.el (gnus-summary-find-matching): Clean up.
	(gnus-find-matching-articles): New function.
	(gnus-summary-limit-include-matching-articles): New command.
	(gnus-summary-limit-include-thread): Include articles that have
	matching subjects.
	(gnus-offer-save-summaries): Clean up.

2001-04-13  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-split-fancy-with-parent): Add docstring.

2001-04-12 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Jason Merrill <jason_merrill@redhat.com>

	* gnus-sum.el (gnus-summary-insert-new-articles): Reverse the articles.

2001-04-10 08:01:15  Katsumi Yamaoka  <yamaoka@jpl.org>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-post-news): Fill the Newsgroups header by the
	newsgroup names when the original article is a news message.

2001-04-12 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-prefix-regexp): Use POSIX regexp if
	supported. Suggest by Jim Meyering <jim@meyering.net>.

2001-04-02  Nevin Kapur  <nevin@jhu.edu>
	Committed by Kai Gro,b_(Bjohann <Kai.Grossjohann@CS.Uni-Dortmund.DE>.

	* nnmail.el (nnmail-split-it): Added check for .* at the end of
	regexp in nnmail-split-fancy.

2001-04-10  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-options-set-recipient): Look at Cc and Bcc too.

2001-04-10  Colin Marquardt  <colin@marquardt-home.de>

	* message.el (message-send-mail): Improve the interaction with the
	user.

2001-04-10  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-message-copy): Work around buggy servers that
	doesn't send TRYCREATE tags.

2001-04-09 01:15:54  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-read-newsrc-el-file): Work with Semi-gnusae.

2001-04-05 21:43:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-update-summary-mark-positions): Use a valid
	date.

2001-04-04 16:13:17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-quit): Check that the dribble buffer
	lives.

2001-04-02 00:40:12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-parse-news-url): New function.
	(gnus-button-handle-news): New function.
	(gnus-button-alist): Point to new functions.

	* gnus-group.el (gnus-group-quit): Only mark buffer in non-empty.

	* gnus-start.el (gnus-read-newsrc-el-file): Nix out
	gnus-format-specs.

	* message.el (message-check-news-header-syntax): Question even
	when Gnus doesn't know the group names.
	(message-send-news): Clean up.

	* gnus-start.el (gnus-dribble-read-file): Say whether Gnus was
	exited on purpose without saving.

	* gnus-group.el (gnus-group-quit): Mark the dribble file as `Q'.

2001-04-01 00:37:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-orphans): Clean up.

	* gnus-win.el (gnus-remove-some-windows): Leave one Gnus window.

	* gnus-sum.el (gnus-summary-exit): Kill the summary buffer a bit
	later.

	* gnus-start.el (gnus-close-all-servers): Find the right items to
	close.

	* qp.el (quoted-printable-decode-region): Just message
	malformation; don't quit.

2001-03-31 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Gerd Moellmann <gerd@gnu.org>.

	* gnus.el (gnus-interactive): A typo.

2001-03-26  Juanma Barranquero  <lektu@uol.com.br>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-delete-alist): Declare it as an alias of
	`assq-delete-all', if that function exists; otherwise use the old
	definition. Documentation changed to match the one in
	`assq-delete-all'.

2001-04-01 00:37:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-close-all-servers): New function.

	* gnus-srvr.el (gnus-server-close-all-servers): Clean up.
	(gnus-server-remove-denials): Clean up.

	* gnus-sum.el (gnus-summary-sort-by-original): New command and
	keystroke.

2001-03-31 02:56:55  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-news): Message where we are sending.
	(message-send-mail): Ditto.

	* gnus.el (gnus-server-string): New function.

	* gnus-sum.el (gnus-summary-up-thread): Doc fix.

	* mm-decode.el (mm-default-directory): Customized.
	(mm-tmp-directory): Ditto.

	* gnus-sum.el (gnus-summary-catchup-and-exit): Doc fix.
	(gnus-get-newsgroup-headers): Return -1 for articles without Lines
	or Chars.
	(gnus-summary-line-format-alist): ?l is now a string.
	(gnus-summary-prepare-threads): Output ? for unknown lines.
	(gnus-summary-insert-line): Ditto.
	(gnus-summary-print-article): Unbalanced parentheses.

	* gnus-msg.el (gnus-inews-do-gcc): Check group to allow it to find
	out whether new stuff has arrived.

2001-03-31 02:14:38  Alan Shutko  <ats@acm.org>

	* gnus-sum.el: Let printing work on ttys on Emacs.

2001-03-31 01:11:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-post-news): Add an empty Newsgroups header
	when forcing news.

	* gnus-sum.el (gnus-summary-mark-article-as-replied): Make into a
	command.

2001-03-31 01:04:54  Francis Litterio  <franl@world.std.com>

	* message.el (message-set-auto-save-file-name): Don't use
	asterisks under nt.

2001-03-31 00:03:42  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-inews-insert-draft-meta-information): Allow
	lists of articles.

	* gnus-uu.el (gnus-uu-digest-mail-forward): Mark as forwarded.

	* gnus-msg.el (gnus-put-message): Clean up.
	(gnus-summary-reply): Mark all replied-to articles as replied to.
	(gnus-inews-add-send-actions): Also mark as forwarded.
	(gnus-summary-mail-forward): Mark as forwarded.

	* gnus-sum.el (gnus-summary-mark-article-as-replied): Take a list
	of articles.
	(gnus-summary-mark-article-as-forwarded): Ditto.

	* gnus-msg.el (gnus-summary-resend-message): Mark article as
	forwarded.
	(gnus-summary-mail-forward): Clean up.

	* gnus.el (gnus-article-mark-lists): Added forward.

	* gnus-sum.el (gnus-forwarded-mark): New variable.
	(gnus-summary-prepare-threads): Use it.
	(gnus-summary-update-secondary-mark): Ditto.
	(gnus-newsgroup-forwarded): New variable.

2001-03-30 23:13:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-summary-reply): Allow very wide replies.
	(gnus-summary-very-wide-reply): New command and keystroke.
	(gnus-summary-very-wide-reply-with-original): Ditto.

	* gnus-score.el (gnus-adaptive-word-length-limit): New variable.
	(gnus-score-adaptive): Use it.

	* gnus-start.el (gnus-get-unread-articles): Clean up.

2001-03-21 20:00:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Work for other
	boards.

2001-03-21  Didier Verna  <didier@lrde.epita.fr>

	* gnus-start.el (gnus-subscribe-newsgroup-hooks): New.
	* gnus-start.el (gnus-subscribe-newsgroup): use it.

2001-03-15 09:47:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Understand
	long-form month names.

2001-03-18 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-all-headers):
	gnus-article-show-all-headers is broken. Use
	gnus-summary-toggle-header instead.

	* mml2015.el (mml2015-gpg-extract-from): No error.

2001-03-18 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Bj,Ax(Brn Mork <bmork@dod.no>.

	* mml2015.el (mml2015-gpg-extract-from): New function.
	(mml2015-gpg-verify): Use it.
	(mml2015-gpg-clear-verify): Use it.

2001-03-17 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup-fill-variables): Use
	fill-paragraph-function.
	(message-fill-paragraph): Take an argument.
	(message-newline-and-reformat): Take another argument.

2001-03-16 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (rmail-output): It is in rmailout.el not rmail.el.

2001-03-16 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward): local-variable-p takes an extra
	argument in XEmacs.

2001-03-16  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-dont-use-nov-p): Renamed from
	`nnimap-use-nov-p' (it really tested the negative).
	(nnimap-retrieve-headers): Use it.

2001-03-11  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-generate-headers-first): Update doc.

2001-03-10  Matthias Wiehl  <mwiehl@gmx.de>
	Trivial patch.

	* gnus.el (gnus-summary-line-format): Typo.

2001-03-11  Simon Josefsson  <simon@josefsson.org>

	* mailcap.el (mailcap-mime-data): Add application/sieve.
	(mailcap-mime-extensions): Add .siv, .xls.

2001-03-14 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Christoph Conrad <christoph.conrad@gmx.de>

	* gnus-score.el (gnus-summary-lower-thread): Typo.

2001-03-14 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward-decoded-p): New variable.
	(message-forward-subject-author-subject): Use it.
	(message-make-forward-subject): Use it.
	(message-forward): Use it.

	* gnus-uu.el (gnus-uu-digest-mail-forward): Use it.

	* mm-util.el, message.el, rfc2047.el, gnus-sum.el, gnus-score.el:
	Sync with Emacs 21 (tag EMACS_PRETEST_21_0_100).

;;Has been fixed -- zsh.
;;2001-03-05  Dave Love  <fx@gnu.org>
;;
;;	* mm-util.el (mm-mime-mule-charset-alist): Fix utf-8 case.
;;	Move it after definition of mm-coding-system-p.
;;
2001-03-01  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-inhibit-file-name-handlers): Add
	image-file-handler.

2001-02-11  Dave Love  <fx@gnu.org>

	* message.el (message-signature-file): Fix doc, :type.

2001-02-08  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-fold-region): Don't forward-char at EOB.
	(message-posting-charset): Defvar when compiling again.
	(rfc2047-encodable-p): Require message.

	* gnus-sum.el (gnus-alter-articles-to-read-function):
	* gnus-score.el (gnus-score-after-write-file-function): Fix :type.

2001-03-08 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnrss.el: New file.

2001-03-08 02:41:36  Katsumi Yamaoka  <yamaoka@jpl.org>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-unfold-region): Fix arg of
	`skip-chars-forward'.

2001-03-07 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-group): Restore auto save files if
	the original files do not exist.

2001-03-07 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-find-bnews): Print messages on illegal
	SCORE paths.

	* mm-decode.el (mm-dissect-buffer): Call
	mail-extract-address-components only if necessary.

2001-03-06 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-find-bnews): Maybe there is no
	directory part.
	(gnus-score-search-global-directories): Use file-directory-p.

	* gnus-score.el (gnus-score-score-files-1): Use
	gnus-kill-files-directory.
	From Adrian Aichner <adrian@xemacs.org>.

2001-03-05 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (charset): Move here from gnus-sum.el.

2001-03-04 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-preview): Disable local map.

	* gnus-sum.el (gnus-summary-make-menu-bar): Make
	gnus-article-post-menu here.

	* gnus-art.el (gnus-article-make-menu-bar): Make summary-menu bar
	if it has not been made.

2001-03-02 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-describe-key): Map key to event.
	(gnus-article-describe-key-briefly): Ditto

2001-03-01 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-limit-include-expunged): Fix.

2001-03-01 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Katsumi Yamaoka <yamaoka@jpl.org>.

	* dgnushack.el (coerce, merge, subseq): defmacro.

2001-03-01 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el (nndraft-request-group): Move it here from nndraft.el.
	A fake defalias in nndraft.el results a not-activated bug in
	uncompiled versions.

2001-02-26 11:27:27  Paul Jarc  <prj@po.cwru.edu>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-split-references): Handle malformed References:.

2001-02-26 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-mime-part-status): 1 part.

2001-02-25 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From NAGY Andras <nagya@inf.elte.hu>.

	* gnus.el (gnus-parameters): Typo.

2001-02-24 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-read-method): Remove redundancy.

2001-02-23 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-backslash-url): New variable.
	(nnslashdot-request-list): Use it.

2001-02-23 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-generate-active-info): Fix the case when there is
	no file.

	* gnus-sum.el (gnus-summary-import-article): Display it. Enable edit.
	(gnus-summary-create-article): New function.

	* gnus-group.el (gnus-group-mark-article-read): New function.

	* gnus-msg.el (gnus-inews-do-gcc): Use it.

	* gnus-art.el (gnus-article-edit-article): Set modified-p nil.

2001-02-23 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-edit-done): Don't use
	gnus-article-edit-exit.
	(gnus-article-edit-exit): Confirm and insert original-article-buffer.

	* gnus.el (gnus-parameters): New variable.
	Suggested by NAGY Andras <nagya@inf.elte.hu>.
	(gnus-parameters-get-parameter): New function.
	(gnus-group-find-parameter): Use it.

2001-02-23  Simon Josefsson  <simon@josefsson.org>

	* gnus-msg.el (gnus-post-method): Fix documentation to reflect
	change of default value to `current'.

2001-02-23 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nneething.el (nneething-get-head): Insert unreadable file too.

2001-02-22 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-insert-articles): Remove fetched headers.

	* webmail.el (webmail-type-definition): Deja is bought by google.

2001-02-22 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-fetch-headers): New function.
	(gnus-select-newsgroup): Use it.
	(gnus-summary-insert-articles): New function.
	(gnus-summary-insert-old-articles): New function.
	(gnus-summary-insert-new-articles): New function.

	* gnus-group.el (gnus-group-prepare-flat-list-dead): Use decoded-name.
	(gnus-group-list-active): Ditto.
	* gnus-sum.el (gnus-set-mode-line): Ditto.
	(gnus-summary-read-group-1): Ditto.

2001-02-21 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-get-new-news-this-topic): Redraw the
	current topic.

2001-02-21 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smiley.el (gnus-smiley-display): Don't do widening.

	* smiley-ems.el (gnus-smiley-display): Don't do widening. Smiley
	within body.

	* gnus-msg.el (gnus-inews-do-gcc): Activate group anyway.

	* gnus-art.el (gnus-mime-display-multipart-alternative-as-mixed):
	New variable.
	(gnus-mime-display-multipart-related-as-mixed): New variable.
	(gnus-mime-display-part): Use them.

2001-02-20 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-setup-news): Allow gnus-group-line-format to be
	something special.

2001-02-20 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-request-group): Set nnweb-group anyway.
	(nnweb-request-article): Call reference if exists.
	(nnweb-type-definition): Dejanews is bought by google.com.
	Beta!

2001-02-19 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-reminder): "Confirm to exit?"

2001-02-19  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-thread-sort-functions): Doc fix.  Refer to
	gnus-article-sort-functions.
	(gnus-article-sort-functions): Doc fix.  Refer to
	gnus-thread-sort-functions.

2001-02-18 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>
	From Paul Jarc <prj@po.cwru.edu>.

	* message.el (message-get-reply-headers): More fixes.

2001-02-17  Paul Jarc  <prj@po.cwru.edu>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-get-reply-headers): Fix bug with
	Mail-Followup-To/to-address interaction.

2001-02-17 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-configure-posting-styles): Match header in
	gnus-article-copy.

2001-02-16 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-do-send-housekeeping): Rename to a better
	name.

2001-02-16 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cancel-news): Check article first, then ask
	yes or no.

2001-02-16 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-type-alist): Add emacs-sources.

2001-02-16 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-range.el (gnus-range-normalize): New function.

2001-02-15  NAGY Andras  <nagya@inf.elte.hu>

	* imap.el (imap-gssapi-open): Set imap-c-l-s-first.

2001-02-14 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-server-regenerate-server): Use gnus-get-function.

	* nnagent.el (nnagent-request-regenerate): New function.

	* nnfolder.el (nnfolder-request-regenerate): New deffoo.

	* nnml.el (nnml-generate-nov-databases): Accept argument
	server. Don't open server if it is opened.
	(nnml-request-regenerate): Use it. Change to deffoo.

2001-02-14  Katsumi Yamaoka  <yamaoka@jpl.org>
	Committed by ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-define-group-parameter): Fix.

2001-02-14 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-define-group-parameter): Improved.

	* gnus-sum.el (charset): Define parameter.
	(ignored-charsets): Ditto.
	(gnus-summary-setup-default-charset): Use them.

	* gnus-start.el (gnus-read-descriptions-file): Use them.

	* gnus-cus.el (gnus-group-parameters): Remove them.

2001-02-14 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-article): Redo highlight.

2001-02-13 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-read-group-1): Remove
	gnus-summary-set-local-parameters.
	(gnus-summary-setup-buffer): Put it here.

2001-02-13 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (to-address): Define parameter.
	(to-list): Ditto.
	* gnus-art.el (article-hide-boring-headers): Use them.
	* gnus-msg.el (gnus-post-news): Ditto.
	* gnus-cus.el (gnus-group-parameters): Remove them.

2001-02-13 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-reminder): New function.

	* gnus-art.el (gnus-sender-save-name): New function.

2001-02-13 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-mime-charset): Error message.

2001-02-13 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-check-news-body-syntax): Don't check mml lines.

2001-02-12 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-subscribe-topics): Return nil if not
	subscribe.

	* gnus-start.el (gnus-call-subscribe-functions): New function.
	(gnus-find-new-newsgroups): Use it.
	(gnus-ask-server-for-new-groups): Use it.
	(gnus-check-first-time-used): Use it.
	(gnus-subscribe-newsgroup-method): Grok a list of functions.
	(gnus-subscribe-options-newsgroup-method): Ditto.
	(gnus-subscribe-hierarchically): Return gnus-subscribe-newsgroup's
	return .

2001-02-12  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-cus.el (gnus-score-customize): Doc fix.

2001-02-11  Jesper Harder  <harder@ifa.au.dk>

	* dgnushack.el (my-getenv): Typo.

2001-02-11 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-make-load): Don't autoload smiley functions.

2001-02-11 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-suspend): Offer save summaries.

	* gnus-art.el (gnus-treat-leading-whitespace): New variable.
	(gnus-treatment-function-alist): Use it.
	(article-remove-leading-whitespace): New function.
	(gnus-article-make-menu-bar): Use it.

	* gnus-sum.el (gnus-summary-wash-empty-map): Add
	remove-leading-whitespace.
	(gnus-summary-wash-map): Bind strip-headers-in-body to `W a',
	because of conflict.

2001-02-09 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in: Hack generating gnus-load.el.
	* dgnushack.el: Ditto.
	* gnus-load.el: Remove it.

2001-02-09 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el : Add URLDIR.

	* Makefile.in (EMACS_COMP): Ditto.

2001-02-09 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cus.el (gnus-score-customize): Error on no score file.

2001-02-09 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-merge-handles): New function.

	* mm-view.el (mm-inline-message): Use it.
	(mm-view-message): Ditto.

	* mm-partial.el (mm-inline-partial): Ditto.

	* mm-extern.el (mm-inline-external-body): Ditto.

	* gnus-art.el (gnus-mime-view-part): Ditto.
	(gnus-mime-view-part-as-type): Ditto.
	(gnus-mime-save-part-and-strip): Prevent users to strip in some
	cases.

2001-02-08 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cancel-news): Allow to shoot foot.
	(message-supersede): Ditto.

2001-02-08  Tommi Vainikainen  <thv@iki.fi>
	Trivial patch.

	* gnus-sum.el (gnus-simplify-subject-re): Use
	message-subject-re-regexp.

2001-02-08 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-expiry-target-group): Bind
	nnmail-cache-accepted-message-ids to nil.

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use binary
	coding system.

2001-02-07 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encode-region): Make sure characters are
	between 00 and FF.  Don't check charset.

	* mm-encode.el (mm-encode-content-transfer-encoding): Use unibyte
	in Emacs 20.
	* rfc2047.el (rfc2047-q-encode-region): Ditto.

2001-02-07 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-forward-subject): Argument decoded.
	(message-forward): Use it when digest.

	* gnus-uu.el (gnus-uu-grab-articles): Shoot down original article
	buffer.

2001-02-07  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-generate-headers-first): Doc fix.

2001-02-07 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-make-date-line): Error proof.

2001-02-06 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-listing-limit): New variable.
	(gnus-group-prepare-flat-list-dead): Use old trick to speed up.

	* gnus-topic.el (gnus-group-prepare-topics): Use gnus-killed-hashtb.

2001-02-06 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-newline-and-reformat): Special case for
	breaking at BOL.

2001-02-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-uu.el (gnus-uu-save-article): Make the topics summary a
	message/rfc822.

2001-02-06 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-encode-message-body): Don't insert
	Content-Type if it is inside a mail.

2001-02-06 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-article-menu-add): Add
	gnus-article-commands-menu.

	* gnus-sum.el (gnus-summary-make-menu-bar): Don't share menu bar
	in Emacs.

	* gnus-start.el (gnus-read-descriptions-file): Use
	gnus-group-name-charset and gnus-group-charset-alist.

2001-02-04 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-mark-as-processable): Understand
	active region.

	* gnus-start.el (gnus-group-change-level): Remove from both
	gnus-zombie-list and gnus-killed-list.

2001-02-04 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-subscribe-options-newsgroup-method): Add
	gnus-subscribe-topics.

	* gnus-cus.el (gnus-extra-topic-parameters): Fix doc.

2001-02-04 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-make-menu-bar): Make
	gnus-article-post-menu.

	* gnus-xmas.el (gnus-xmas-article-menu-add): Add post menu.

	* gnus-sum.el (gnus-summary-make-menu-bar): Use t if XEmacs.

	* gnus-group.el (gnus-group-make-menu-bar): Ditto.

	* message.el (message-mode-menu): Ditto.

	* gnus-art.el (defvar): eval-when-compile.

2001-02-02 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agentize): Fix doc.

2001-02-02  Karl Kleinpaste  <karl@charcoal.com>

	* mml.el (mml-preview): Bind `q'.

2001-02-02 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-mime-mule-charset-alist): non-Mule case.

2001-01-31  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-mime-mule-charset-alist)
	(mm-find-mime-charset-region): Consider mule-utf-8.

2001-01-31  Dave Love  <fx@gnu.org>

	* gnus-art.el (gnus-article-x-face-command)
	(gnus-treat-display-xface, gnus-treat-display-smileys): Add
	:version.

2001-01-26  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-multibyte-string-p): New.

;;	* qp.el: Remove un-logged bogus changes from 2000-12-20.
;;	(quoted-printable-encode-region): Doc fix.  Don't call
;;	string-as-multibyte on class.  Clarify line-folding.
	(quoted-printable-encode-string): Make temp buffer inherit
	string's multibyteness.

2001-01-23  Gerd Moellmann  <gerd@gnu.org>

	* nnheader.el (toplevel): Don't require `gnus-util' at
	compile-time; this creates a circular dependency, and prevents
	a bootstrap.

2001-01-22  Andreas Schwab  <schwab@suse.de>

	* nnheader.el (gnus-delete-line): Autoload it as a macro.

2001-01-31 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-remove-list-identifiers): Use consp.

	* gnus-art.el (article-hide-list-identifiers): Ditto.

	* gnus-sum.el (gnus-summary-remove-list-identifiers): Ditto.

2001-01-31 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-remove-list-identifiers): Similar.

	* gnus-art.el (article-hide-list-identifiers): Similar.

2001-01-31  Karl Kleinpaste  <karl@charcoal.com>

	* nnmail.el (nnmail-remove-list-identifiers): Improved.

2001-01-31 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-summary-score-entry): match may be an integer.

2001-01-30 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-string-equal): New function.

	* gnus-art.el (article-hide-boring-headers): Use it.

2001-01-27  Karl Kleinpaste  <karl@charcoal.com>

	* gnus-art.el (gnus-article-banner-alist): eGroups new banner.

2001-01-27 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-mail): Support switch-action.

2001-01-26 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-summary-save-in-pipe): Prompt for saving
	command if there is not last-saver.

2001-01-24 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-open-connection): 201 is possible.

2001-01-24 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode): MIME charset is not coding system.
	(rfc2047-charset-encoding-alist): Add big5.

2001-01-24 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-add-server): Redraw the line.
	(gnus-agent-remove-server): Ditto.
	(autoload): gnus-server-update-server.

	* gnus-srvr.el (gnus-server-line-format): Add %a.
	(gnus-server-line-format-alist): Add gnus-tmp-agent.
	(gnus-server-insert-server-line): Use it.

2001-01-24 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-mime-mule-charset-alist): Preferred MIME names
	GB2312 and Big5.

2001-01-24  Simon Josefsson  <sj@extundo.com>

	* mail-source.el (mail-sources): Add :program specifier to IMAP
	mail source.
	(mail-source-fetch-imap): Map :program to `imap-shell-program'.

2001-01-24 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-lower-thread): Fix a doc typo.

2001-01-24 12:22:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nntp.el (nntp-wait-for): Return the success code.
	(nntp-open-connection): Use it.

2001-01-11 11:49:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-int.el (gnus-check-server): Allow breaking the opening.

2001-01-23 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-article): Remove process mark.

2001-01-22 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-print-article): Take one prefix
	argument. Allow to print several articles in one file.

2001-01-21 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-type-definition): netaddress changes.

2001-01-21 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Fix copyright. Remove trailing spaces.

	* message.el (message-forward): Use mule4.

2001-01-20 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-string-as-unibyte): New function.

	* message.el (message-forward): Use it.

2001-01-19 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-original-without-signature): Don't peel
	off the blank line.
	(message-get-reply-headers): Add Cc if it is not in follow-to.

2001-01-20  Simon Josefsson  <sj@extundo.com>

	* mm-decode.el (mm-handle-multipart-from): Add.
	(mm-dissect-buffer): Save From: header value.
	(mm-security-from): Remove.
	(mm-possibly-verify-or-decrypt): Don't set mm-security-from.

	* mml-smime.el (mml-smime-verify): Use `mm-handle-multipart-from'
	instead of `mml-security-from'.  Protect null from value.

2001-01-20  Simon Josefsson  <sj@extundo.com>

	* mailcap.el (mailcap-mime-data): Run `gnumeric' on
	application/vnd.ms-excel attachments.

2001-01-19  Simon Josefsson  <sj@extundo.com>

	* gnus-art.el (gnus-button-alist): Add `?=' to mailto URL regexp.

2001-01-19 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-ignored-mail-headers): Ditto.

2001-01-19  Simon Josefsson  <sj@extundo.com>

	* message.el (message-ignored-news-headers): Only search beginning
	of line.

2001-01-19  ShengHuo Zhu  <zsh@cs.rochester.edu>
	Trivial patch from Alberto Lusiani  <a.lusiani@noemail.org>

	* message.el (message-send-mail): Content-Type may not be there.

2001-01-18 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ems.el (gnus-article-display-xface): Add BUFFER.
	* gnus-xmas.el (gnus-xmas-article-display-xface): Ditto.

	* gnus-art.el (article-display-x-face): Insert X-Face if there is
	not.

2001-01-18 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-read-group-1): Don't test dead
	non-native groups.

2001-01-18 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-yank-original): Understand
	universal-argument.

2001-01-18 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-boring-article-headers): Add to-address.
	(article-hide-boring-headers): Ditto.

	* mm-view.el (mm-inline-message): Insert a newline unless bolp.

2001-01-18 08:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-fold-region): Don't insert LWSP if there is
	one.

2001-01-16  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-make-in-reply-to): Add comment to message-id
	(old syntax, see 2000-08-02 change).

2001-01-16 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-url-mailto): Use gnus-msg-mail.
	(gnus-button-mailto): Setup message. Moved to gnus-msg.el.
	(gnus-button-reply): Ditto.

2001-01-16  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-display-x-face): Fix.

2001-01-15 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-display-x-face): Use
	gnus-original-article-buffer.

2001-01-15  Jack Twilley  <jmt@tbe.net>

	* message.el (message-add-header): Move to point-max.

2001-01-15  Simon Josefsson  <simon@josefsson.org>

	* smime.el (smime-CA-directory, smime-CA-file): Change default to
	nil, improve documentation.
	(smime-certificate-directory): Comment out false hints (until it
	is implemented).

	* mml-smime.el (mml-smime-sign): Place user in customize buffer if
	there aren't any keys.
	(mml-smime-verify): If smime-CA-{file,directory} set, also try to
	verify certificate.  Default is changed to only check integrity.
	Improved security status texts.  If a certificate doesn't contain
	a email address, don't fail.

	* smime.el (smime-noverify-region):
	(smime-noverify-buffer): New functions.  Verifies integrity only.

2001-01-12 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-sort-by-score): Reverse order.

2001-01-12 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-windows): switch-to-buffer in XEmacs.
	(gnus-remove-some-windows): Ditto.

2001-01-12 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-make-date-line): 11th.

2001-01-11 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-gpg-encrypt): Remove CR.
	(mml2015-gpg-sign): Ditto.

2001-01-10 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Sync with EMACS_PRETEST_21_0_95.
	* gnus.el (gnus-default-posting-charset): Bogus. Removed.

2001-01-08  Dave Love  <fx@gnu.org>

	* mm-encode.el (mm-qp-or-base64): Don't base64 for the sake of a
	single character.

	* mm-util.el (mm-mime-mule-charset-alist): Add Latin-{8,9}.

	* message.el: Doc and message fixes.
	(message-send-rename-function)
	(message-make-forward-subject-function)
	(message-send-mail-function, message-reply-to-function)
	(message-wide-reply-to-function, message-followup-to-function)
	(message-distribution-function, message-auto-save-directory): Fix
	:type.

	* gnus/mml.el (mml-parse-1): Frob mml-confirmation-set when
	proceeding after warnings.  Amend multipart warning message.

2001-01-04  Dave Love  <fx@gnu.org>

	* gnus-util.el (nnmail-pathname-coding-system): Defvar when
	compiling.
	(gnus-make-directory): Require nnmail.

	* mm-decode.el (mm-inline-media-tests): Add
	image/x-portable-bitmap.
	(mm-get-image): Grok pbm.

2001-01-10  Paul Stevenson  <p.stevenson@surrey.ac.uk>

	* nnvirtual.el (nnvirtual-request-expire-articles): delq nil.

2001-01-09  Didier Verna  <didier@xemacs.org>

	* dgnushack.el (dgnushack-compile): give a dummy value to
	`gnus-xmas-glyph-directory' for the time of compilation.
	* gnus-agent.el: moved some XEmacs specific hook add-ons from
	`gnus-xmas-[re]define' to avoid loosing user custom settings.
	* gnus-art.el: ditto.
	* gnus-group.el: ditto.
	* gnus-salt.el: ditto.
	* gnus-sum.el: ditto.
	* gnus-topic.el: ditto.
	* gnus-xmas.el (gnus-xmas-define): see above.
	* gnus-xmas.el (gnus-xmas-redefine): see above.
	* gnus-xmas.el (gnus-xmas-glyph-directory): generate a
	non-continuable error when the directory can't be found.

2001-01-09 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-interactively-view-part): Don't copy-sequence
	handle.
	* gnus-art.el (gnus-mime-view-part): Copy it.
	(gnus-mime-view-part-as-type): Add into gnus-article-mime-handles.

2001-01-09  Michael Downes  <mjd@ams.org>

	* gnus-sum.el (gnus-summary-read-group-1): More useful message.

2001-01-08 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-get-new-mail): Find group only if file is not
	orig-file. Use ',source.

2001-01-08 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-modeline-glyph):
	(gnus-xmas-group-startup-message):
	Detect gnus-xmas-glyph-directory when it is nil.

2001-01-08 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-get-message-count): Andrew Innes
	<andrewi@gnu.org>'s patch of 1999-12-01 was not fully committed.

2001-01-05 06:49:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-session): Say what we quit.

	* time-date.el (time-to-number-of-days): New function.

2001-01-04 11:06:14  Gregory Chernov  <greg@visiontech-dml.com>
	Trivial patch.

	* nnslashdot.el (nnslashdot-request-list): Always get the right
	sid.

2001-01-05 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-minibuffer-local-map): New keymap.
	(message-read-from-minibuffer): Use it.
	* gnus-msg.el (gnus-summary-resend-message): Use it

2001-01-04 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-display-time-event-handler): New function.
	(gnus-after-getting-new-news-hook): Use it.

2001-01-03 07:26:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-ignored-mail-headers): Add draft header.

2001-01-02 06:28:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-expire-articles): Don't save
	excursion.

	* nnslashdot.el (nnslashdot-request-list): Get the right year.

2001-01-01 00:52:44  Ed L. Cashin  <ecashin@coe.uga.edu>
	A revoked patch.

	* gnus-sum.el (gnus-summary-expire-articles): Save excursion.

2000-12-31 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-decode-region): Don't backward-char.

2000-12-31 03:57:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-draft.el: Mark articles as replied.

	* gnus-sum.el (gnus-summary-add-mark): New function.

	* gnus-group.el (gnus-add-mark): New function.

	* gnus-sum.el (gnus-summary-buffer-name): New function.
	(gnus-summary-setup-buffer): Use it.

	* gnus-draft.el: Set things up with the right post method and
	stuff.

	* message.el (message-ignored-news-headers): Remove X-Draft-From.

	* gnus-msg.el (gnus-inews-insert-draft-meta-information): New function.

	* gnus.el (gnus-draft-meta-information-header): New variable.

2000-12-30 00:17:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treatment-function-alist): Move the date
	functions before the header sorting functions.

	* mm-uu.el (mm-uu-pgp-signed-extract-1): Unquote "- " quotes.

	* dgnushack.el (dgnushack-compile): Message whether there is w3.
	Don't (push "/usr/share/emacs/site-lisp" load-path).

	* gnus-cite.el (gnus-article-fill-cited-article): Don't add space
	to empty fill prefixes.

2000-12-30 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-open-connection): Kill pbuffer if process is nil.
	Suggested by Christoph Conrad <christoph.conrad@gmx.de>.

2000-12-30 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (autoload): Autoload gnus-sorted-intersection.

	* nnml.el (autoload): Move to nnheader.el.

	* nnfolder.el (nnfolder-existing-articles): Reversed, i.e. sorted.
	(nnfolder-request-expire-articles): Use gnus-sorted-intersection.
	(nnfolder-retrieve-headers): Use intersection. Suggested by Jonas
	Kvarnstr,Av(Bm <jonkv@ida.liu.se>.

2000-12-30 00:17:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-make-date-line): Get the hours right.
	(gnus-ignored-headers): More hiding.

	* nnmail.el (nnmail-expiry-wait): Not an integer.

	* message.el (message-goto-body): Only expand abbrev when called
	interactively.
	(message-make-lines): Use it.

2000-12-29 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-yank-articles): Reparse headers.

2000-12-30 00:17:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-limit-include-expunged): Really
	include the expunged articles.

	* gnus-group.el (gnus-group-sort-by-server): New function.

	* gnus.el (gnus-method-to-server-name): New function.
	(gnus-group-prefixed-name): Use it.

	* gnus-group.el (gnus-group-sort-function): Doc fix.
	(gnus-group-sort-groups-by-server): New command.

2000-12-29 13:25:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-date-english): New variable.
	(article-date-english): New command.
	(gnus-english-month-names): New variable.
	(article-make-date-line): Do 'english.

	* gnus-cite.el (gnus-article-fill-cited-article): Add a space
	after the fill prefix.

	* gnus-sum.el (gnus-summary-make-menu-bar): Removed "Enter
	score...".

	* gnus-art.el (gnus-ignored-headers): Hide more headers.

	* message.el (message-mode-map): Bind comment-region.

	* gnus-art.el (gnus-mime-display-part): Let w3 display
	multipart/related.

	* mm-bodies.el (mm-long-lines-p): New function.
	(mm-body-encoding): Use it.
	(mm-body-encoding): Encode articles with lines longer than 1000
	characters.

2000-12-29 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-enable-multibyte): Use
	default-enable-multibyte-characters.
	(mm-enable-multibyte-mule4): Ditto.
	(mm-disable-multibyte): Test XEmacs.
	(mm-disable-multibyte-mule4): Ditto.
	(mm-with-unibyte-current-buffer): Simplified.
	(mm-with-unibyte-current-buffer-mule4): Ditto.

2000-12-28 19:44:56  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheaderxm.el (nnheader-string-as-multibyte): New alias.

	* nnheader.el (nnheader-string-as-multibyte): New alias.

	* mm-view.el (mm-inline-text): Warn when bugging out in w3.

	* gnus-uu.el (gnus-message-process-mark): New function.
	(gnus-uu-mark-by-regexp): Use it.
	(gnus-new-processable): New function.

2000-12-28 19:21:57  Inge Frick  <inge@nada.kth.se>
	 Trivial patch.

	* gnus-sum.el (gnus-no-mark): New variable.

2000-11-01 01:12:29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnwfm.el (nnwfm-create-mapping): Remove quote marks and
	backslashes.

2000-12-26  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-banner-alist): Remove duplicate
	definition.

2000-12-25 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): elc is in the current directory.

	* qp.el (quoted-printable-encode-region): Don't check multibyte in
	XEmacs.

2000-12-25  Lloyd Zusman  <ljz@asfast.com>
	Trivial patch.

	* mml.el (mml-read-tag): Save tag location.

2000-12-25  Simon Josefsson  <simon@josefsson.org>

	* starttls.el: Sync with Emacs 21.

2000-12-24 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mail): Support yank-action.

	* message.el (message-setup): Revoke the last change.

2000-12-24 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup): Use cons. Suggested by Johan Vromans
	<jvromans@squirrel.nl>.

2000-12-24  Simon Josefsson  <sj@extundo.com>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Preserve
	mailing list junk at end of part.

2000-12-23  Simon Josefsson  <sj@extundo.com>

	* nnimap.el (nnimap-expiry-target): New function.
	(nnimap-request-expire-articles): Use it.

2000-12-22 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-group-parameters-more): New variable.
	* gnus-cus.el (gnus-group-customize): Use it.

	* gnus.el (gnus-define-group-parameter): New macro.
	(auto-expire): Use it
	(total-expire): Use it.
	* gnus-art.el (banner): Use it.

	* mml.el (mml-parse): save-excursion. Suggested by Lloyd Zusman
	<ljz@asfast.com>.

2000-12-22 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-create-topic): Use list.

	* gnus-vm.el (gnus-summary-save-article-vm): Require gnus-art
	before binding gnus-default-article-saver.

	* gnus-sum.el (gnus-summary-save-article):
	(gnus-summary-pipe-output):
	(gnus-summary-save-article-mail):
	(gnus-summary-save-article-rmail):
	(gnus-summary-save-article-file):
	(gnus-summary-write-article-file):
	(gnus-summary-save-article-body-file): Ditto.

	* gnus-mh.el (gnus-summary-save-article-folder): Ditto.

2000-12-22 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-security-button-map):
	(gnus-mime-button-map): Add parent.

2000-12-22 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* messagexmas.el (message-xmas-redefine): New function.

	* message.el: Use it.

	* gnus-art.el (gnus-article-check-hidden-text): Return t.

	* gnus-util.el (gnus-remove-text-properties-when): Return t.

2000-12-22 03:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-multipart): Avoid errors owing to
	malformatted messages.

2000-12-22 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-image-load-path): New function.

	* gnus-group.el (gnus-group-make-tool-bar): Use it.

	* gnus-sum.el (gnus-summary-make-tool-bar): Use it.

	* message.el (message-tool-bar-map): Use it.

	* Makefile.in (install-el): New rule.

2000-12-21  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (article-treat-dumbquotes): Quote \.

2000-12-21 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treat-emphasize): Don't treat emphasis if
	Emacs 20 runs on a terminal.

2000-12-21 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-bug): Revert to save-excursion.

	* mml.el (gnus-add-minor-mode): Autoload.

	* message.el (message-forward): Save-restriction.

2000-12-21  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (article-treat-dumbquotes): More doc, provided by
	Paul Stevenson <p.stevenson@surrey.ac.uk>

2000-12-21 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-mode-map): Use C-c C-n prefix.

	* mml.el (gnus-ems): Don't require.

	* gnus.el (gnus-decode-rfc1522): Removed.
	(gnus-set-text-properties): Define.

2000-12-21 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-*): handle may be nil.

	* gnus-sum.el (gnus-summary-mode): Turn on gnus-mailing-list-mode.

	* gnus.el (gnus-group-remove-excess-properties): Not defined
	in gnus-xmas.

2000-12-20 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mail-user-agent): Add :version.

2000-12-21  Miles Bader  <miles@gnu.org>

	* message.el (message-mode): Set `comment-start' to the  yank prefix.

2000-12-20 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mail-user-agent): New variable.
	(message-setup): Renamed to message-setup-1. Support
	mail-user-agent.
	(message-mail-user-agent): New function.
	(message-mail): Use it.
	(message-reply): Use it.
	(message-resend): Use it.
	(message-mail-other-window): Use it.
	(message-mail-other-frame): Use it.

	* gnus-msg.el (gnus-bug): Support mail-user-agent.

2000-12-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-tool-bar-map): Simplify.
	(message-narrow-to-head-1): New function.
	(message-narrow-to-head): Use it.
	(message-reply): Ditto.
	(message-cancel-news): Ditto.
	(message-supersede): Ditto.
	(message-make-forward-subject): Ditto.
	(message-bounce): Ditto.

2000-12-20 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* uudecode.el (uudecode-decode-region-external): make-temp-file
	may not be defined.

	* binhex.el (defalias): eval-and-compile.

	* message.el (message-tool-bar-map): New function.
	(message-mode): Use it.

2000-12-20 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-find-connection): Remove the entry.
	(nntp-retrieve-groups): (gnus-buffer-live-p buf).

2000-12-20 05:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-mail-forward): Use original buffer.

	* message.el (message-forward): Copy buffer in unibyte mode.

2000-12-20 04:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-forward-subject): Don't widen. Decode.
	(message-forward): Don't decode subject.

2000-12-20  Christoph Conrad  <C.Conrad@cli.de>

	* qp.el (quoted-printable-encode-region): Upcase QP.

2000-12-20 03:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-possibly-verify-or-decrypt): Use
	mail-extract-a-c instead. Don't depend on Gnus.

	* mml.el (gnus-ems): Require it.

	* gnus-msg.el (gnus-summary-mail-forward):

	* message.el (message-forward):  Move mime-to-mml here.

2000-12-20 02:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el, gnus-sum.el, message.el: Add :help unless Emacs.
	* gnus-art.el (gnus-insert-mime-button): Simplify.
	(gnus-mime-display-alternative): Ditto.
	(gnus-insert-mime-security-button): Ditto.

2000-12-20 01:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-add-text-properties-when): In XEmacs,
	text-property-not-all doesn't return nil when start=mark(end).
	(gnus-remove-text-properties-when): Ditto.

2000-12-20 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-group-change-level): Remove group from
	gnus-active-hashtb if real killed.

2000-12-19 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-insert-mime-button): Emacs20 needs local-map.
	(gnus-mime-display-alternative): Ditto.
	(gnus-insert-mime-security-button): Ditto.

2000-12-19 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-group-change-level): Don't add it into
	killed-list if it was killed.

2000-12-19 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmbox.el (nnmbox-file-coding-system): Use binary.
	(nnmbox-active-file-coding-system): Ditto.

	* gnus-cus.el (gnus-group-parameters): Add posting-style.

2000-12-19 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-version):
	(gnus-version-number): Set to Oort Gnus 0.01.

	* gnus-art.el (gnus-mime-security-button-map):
	(gnus-insert-mime-security-button): Fix for Emacs21.

2000-12-19 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el, gnus-sum.el, message.el: Comment out :help in
	easymenu, because XEmacs doesn't understand :help.

	* mm-uu.el: Require binhex.

2000-12-19 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Merged. Emacs21 CVS tag is zsh-merge-ognus-1.

2000-12-19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-synonym-alist): Fix a typo.

2000-12-18  Gerd Moellmann  <gerd@gnu.org>

	* *.xpm, *.pbm: Convert icons icons to size 24x24.

2000-12-18  Dave Love  <fx@gnu.org>

	* gnus-msg.el (news-setup, news-reply-mode): Don't autoload
	(unused).

2000-12-13  Miles Bader  <miles@gnu.org>

	* smiley-ems.el (smiley-region): Bind `inhibit-point-motion-hooks'
	to t, so that we don't get stuck while trying to smilefy
	intangible text.

2000-12-12  Gerd Moellmann  <gerd@gnu.org>

	* smiley-ems.el (smiley-regexp-alist): Make regexps match
	at the end of the buffer.
	(smiley-region): In the loop, move to the end of the submatch
	matching the smiley instead of using the end of the match
	of the whole regexp.

2000-12-12  Eli Zaretskii  <eliz@is.elta.co.il>

	* message.el (message-mode): Doc fix.

2000-12-12  Gerd Moellmann  <gerd@gnu.org>

	* smiley-ems.el (smiley-region): Doc fix.

2000-12-11  Miles Bader  <miles@gnu.org>

	* gnus-sum.el (gnus-summary-recenter): When trying to keep the
	bottom line visible, check to see if it's partially obscured, and
	if so, either scroll one more line to make it fully visible, or
	revert to showing the second line from the top.

2000-12-07  Dave Love  <fx@gnu.org>

	* mailcap.el (mailcap-download-directory)
	* gnus-audio.el (gnus-audio-directory)
	* smiley-ems.el (smiley-data-directory): Fix :type.

2000-11-30  Dave Love  <fx@gnu.org>

	* message.el (message-auto-save-directory): Use
	file-name-as-directory.
	(message-set-auto-save-file-name): Create
	message-auto-save-directory if necessary.
	(message-replace-chars-in-string): Removed -- unused.
	(message-mail-alias-type): Customize.
	(message-headers): Remove duplicate defgroup.

2000-11-29  Dave Love  <fx@gnu.org>

	* qp.el (quoted-printable-decode-region): Use error, not message
	to report malformed text (like base64).  Amend message.

2000-11-29  Miles Bader  <miles@gnu.org>

	* message.el (message-header-lines): Fontify tag.

2000-11-27  Dave Love  <fx@gnu.org>

	* nnlistserv.el: Ignore errors when requiring nnweb and avoid a
	compiler warning.

;2000-11-26  Dave Love  <fx@gnu.org>
;
;	* mm-uu.el (mm-uu-configure-list): Fix typo in :type.
;
2000-11-23  Dave Love  <fx@gnu.org>

	* uu-post.pbm, uu-decode.pbm: new files from XPMs.

	* mm-uu.el (uudecode): Require.
	(uudecode-decode-region, uudecode-decode-region-external): Don't
	autoload.
	(mm-uu-copy-to-buffer): Doc fix.
	(mm-uu-decode-function, mm-uu-binhex-decode-function): Doc, custom
	type fix.

	* mailcap.el: Doc fixes.
	(mailcap-mime-data): Various adjustments.
	(mailcap): New group.
	(mailcap-download-directory): Customize.
	(mailcap-generate-unique-filename, mailcap-binary-suffixes)
	(mailcap-temporary-directory): Deleted (unused).
	(mailcap-unescape-mime-test): Simplify slightly.
	(mailcap-viewer-passes-test): Use functionp.
	(mailcap-command-p): Aliased to executable-find.

	* rfc2047.el (rfc2047-encode-message-header): Don't encode if
	default-enable-multibyte-characters is nil.

2000-11-22  Gerd Moellmann  <gerd@gnu.org>

	* gnus-group.el (gnus-group-make-tool-bar): Fix a paren typo.

2000-11-21  Dave Love  <fx@gnu.org>

	* gnus-art.el (gnus-mime-button-map): Don't inherit from
	gnus-article-mode-map.
;	(gnus-mime-button-menu): Use mouse-set-point.
	(gnus-insert-mime-button, gnus-mime-display-alternative)
	(gnus-mime-display-alternative): Don't use local-map property.

2000-11-17  Dave Love  <fx@gnu.org>

	* uudecode.el (uudecode-insert-char): Fix bogus feature test.
	(uudecode-decode-region-external): Doc fix.  Use with-temp-buffer
	and make-temp-file.
	(uudecode-decode-region): Doc fix.

2000-11-14  Dave Love  <fx@gnu.org>

	* cu-exit.pbm, exit-summ.pbm, followup.pbm, fuwo.pbm:
	* mail-reply.pbm, next-ur.pbm, post.pbm, prev-ur.pbm:
	* reply-wo.pbm, reply.pbm, rot13.pbm, save-aif.pbm, save-art.pbm:
	New files, derived from the XPMs.

2000-11-10  Dave Love  <fx@gnu.org>

	* gnus-agent.el (gnus-agent-confirmation-function): Add :version.
	(gnus-agent-lib-file, gnus-agent-load-alist)
	(gnus-agent-save-alist, gnus-agent-article-name): Use
	expand-file-name.

	* gnus-group.el (gnus-group-name-charset-method-alist): Add
	:version.
	(nnkiboze-score-file): Defvar when compiling.

	* gnus-start.el (gnus-read-newsrc-file): Add :version.

	* gnus-art.el (gnus-article-banner-alist)
	(gnus-emphasize-whitespace-regexp, gnus-ignored-mime-types)
	(gnus-article-date-lapsed-new-header)
	(gnus-article-mime-match-handle-function, gnus-mime-action-alist)
	(gnus-treat-strip-list-identifiers, gnus-treat-date-iso8601)
	(gnus-treat-strip-headers-in-body)
	(gnus-treat-capitalize-sentences, gnus-treat-play-sounds)
	(gnus-treat-translate): Add :version.
	(gnus-article-mime-part-function): Fix defcustom.

	* nnmail.el (nnmail-expiry-target)
	(nnmail-scan-directory-mail-source-once, nnmail-extra-headers)
	(nnmail-split-header-length-limit): Add :version.

	* gnus-sum.el (gnus-auto-expirable-marks)
	(gnus-inhibit-user-auto-expire, gnus-list-identifiers)
	(gnus-extra-headers, gnus-ignored-from-addresses)
	(gnus-newsgroup-ignored-charsets)
	(gnus-group-highlight-words-alist)
	(gnus-summary-show-article-charset-alist): Add :version.

	* catchup.pbm, describe-group.pbm, exit-gnus.pbm, get-news.pbm:
	gnntg.pbm, kill-group.pbm, subscribe.pbm, unsubscribe.pbm: New
	files, converted from the XPMs.

	* gnus-cache.el (gnus-cache-active-file): Don't use
	file-name-as-directory on directory.
	(gnus-cache-file-name): Use expand-file-name, not concat.  Don't
	use file-name-as-directory on directory.

	* time-date.el (timezone-make-date-arpa-standard): Autoload.
	(date-to-time): Use it.

;	* message.el (message-mode) <adaptive-fill-regexp>:
;	<adaptive-fill-first-line-regexp>: Use [:alnum:] in regexp range.
;	(message-newline-and-reformat): Likewise.
	(message-forward-as-mime, message-forward-ignored-headers)
	(message-buffer-naming-style, message-default-charset)
	(message-dont-reply-to-names, message-send-mail-partially-limit):
	Add :version.

	* mm-util.el: Doc fixes.
	(mm-mime-charset): Don't use the raw result of
	mm-preferred-coding-system.
	(mm-with-unibyte-buffer, mm-with-unibyte-current-buffer)
	(mm-with-unibyte): Simplify.

	* gnus-int.el (gnus-start-news-server): Use expand-file-name, not
	concat.

	* pop3.el (pop3-version): Deleted.
	(pop3-make-date): New function, avoiding message-make-date.
	(pop3-munge-message-separator): Use it.

2000-11-09  Dave Love  <fx@gnu.org>

	* gnus-group.el (gnus-group-make-directory-group)
	(gnus-group-fetch-faq): Use expand-file-name.
	(gnus-group-fetch-faq): Simplify completing-read form.

	* mm-bodies.el (mm-encode-body): Use mm-multibyte-p, don't just
	test for Mule.

	* message.el (tool-bar-map): Defvar when compiling.

	* gnus-setup.el (running-xemacs, gnus-use-installed-tm)
	(gnus-tm-lisp-directory): Deleted.
	(gnus-use-installed-mailcrypt, gnus-emacs-lisp-directory): Use
	(featurep 'xemacs).
	(gnus-gnus-lisp-directory, gnus-mailcrypt-lisp-directory)
	(gnus-mailcrypt-lisp-directory, gnus-bbdb-lisp-directory): Remove
	version numbers from file names.

2000-11-08  Dave Love  <fx@gnu.org>

	* mm-view.el: Use featurep for XEmacs test.
	(mm-inline-message): Test for `remove-specifier'; don't use
	condition-case.

	* mm-bodies.el (mm-encode-body): Use mm-multibyte-p.

	* gnus-score.el (gnus-score-load-file): Use expand-file-name.
	(gnus-score-find-bnews): Don't concat "".

	* cu-exit.xpm, prev-ur.xpm, next-ur.xpm, post.xpm, fuwo.xpm:
	* followup.xpm, uu-post.xpm, uu-decode.xpm, mail-reply.xpm:
	* reply.xpm, reply-wo.xpm, rot13.xpm, save-aif.xpm, save-art.xpm:
	* exit-summ.xpm: New files, renamed from icons by Luis Fernandes.

	* gnus-sum.el: Put some defvars in eval-when-compile.
	(gnus-summary-mode-hook): Add :options.
	(gnus-summary-make-menu-bar): Add some :help, used by tool bar.
	(gnus-summary-tool-bar-map): New variable.
	(gnus-summary-make-tool-bar): New function.
	(gnus-summary-mode): Put kill-all-local-variables first.

	* gnus-group.el (gnus-group-toolbar-map): New variable.
	(gnus-group-make-tool-bar): Rewritten.
	(gnus-group-mode): Put kill-all-local-variables first.

	* rfc2047.el: Require gnus-util.

	* nnml.el (gnus-sorted-intersection): Autoload.

	* nnheader.el: Wrap subst-char-in-string def in eval-and-compile.
	Put some defvars in eval-when-compile.
	(gnus-intersection, gnus-sorted-complement):  Autoload.

	* imap.el (imap-point-at-eol): New, replacing gnus-point-at-eol.

	* mm-encode.el (mm-body-7-or-8): Autoload.

	* mm-decode.el (mm-insert-inline): Autoload.

	* mml.el:
	* message.el: Put some defvars in eval-when-compile.

	* gnus-msg.el: Put some defvars in eval-when-compile.
	(gnus-msg-mail): Move after gnus-setup-message.

	* smiley-ems.el (smiley-data-directory, smiley-regexp-alist): Doc fix.

2000-11-07  Dave Love  <fx@gnu.org>

	* gnus-util.el (nnheader): Don't require message (recursive
	autoload).

	* uudecode.el: Avoid compiler warnings.

	* rfc2047.el: (rfc2047-fold-region): Use gnus-point-at-bol.
	(rfc2047-charset-encoding-alist): Add iso-8859-1[45].

2000-11-06  Dave Love  <fx@gnu.org>

	* gnus-salt.el (gnus-binary-mode): Fix call to gnus-add-minor-mode.

	* uudecode.el: Use (featurep 'xemacs).  Require cl when compiling.
	(uudecode-char-int): New alias, replacing char-int.
	(uudecode-decode-region): Don't call buffer-disable-undo.

;	* mm-uu.el (mm-uu-configure): Unquote lambda.
;	(mm-uu-configure-list): Doc fix.
;
;	* earcon.el (running-xemacs): Don't define.
;
;2000-11-03  Stefan Monnier  <monnier@cs.yale.edu>
;
;	* message.el (message-font-lock-keywords): Match a final newline
;	to help font-lock's multiline support.
;
2000-11-03  Dave Love  <fx@gnu.org>

	* gnus-nocem.el (gnus-nocem-check-article-limit): Default to 500.

	* mm-partial.el (mm-inline-partial): Space-prefix temp buffer
	name.

	* gnus-cus.el (gnus-group-parameters) <gcc-self>: Fix custom type.
	<banner>: Fix custom type, doc.

	* mm-decode.el (mm-display-external): Space-prefix temp buffer
	name.  Don't disable undo explicitly.

;2000-11-02  Dave Love  <fx@gnu.org>
;
;	* message.el (message-font-lock-keywords): Use [:alpha:] for
;	cite-prefix.

2000-11-01  Dave Love  <fx@gnu.org>

	* rfc2047.el (base64): Require unconditionally.
	(message-posting-charset): Defvar when compiling.
	(rfc2047-encode-message-header, rfc2047-encodable-p): Require
	message.

	* gnus-sum.el (nnoo): Require.
	(mm-uu-dissect): Autoload.

	* mml.el (mml-parse-1): Clarify message.
	(mml-minibuffer-read-type): Use mailcap-mime-types.

2000-11-01  Stefan Monnier  <monnier@cs.yale.edu>

	* mml.el: Fix a typo in the requiring of CL.

2000-11-01  Dave Love  <fx@gnu.org>

	* utf7.el: Require cl when compiling.

	* binhex.el: Use (featurep 'xemacs).
	(binhex-char-int): New alias, replacing char-int.  Change callers.
	(binhex-decode-region): Simplify work buffer code.
	(binhex-decode-region-external): Use expand-file-name, not concat.

2000-10-30  Dave Love  <fx@gnu.org>

	* gnus-art.el: Fix 2000-10-27 change properly.

2000-10-28  Miles Bader  <miles@gnu.org>

	* gnus-art.el (gnus-read-save-file-name): Remove extraneous paren.

2000-10-27  Dave Love  <fx@gnu.org>

	* gnus-group.el (gnus-group-make-menu-bar): Add some :help
	strings.
	(gnus-group-make-tool-bar): New function.
	(gnus-group-mode): Use it.

	* message.el (message-mode-menu): Add some :help strings.
	(message-mode) [message-tool-bar-map]: Define tool-bar-map.
	(featurep): Use (featurep 'xemacs).  Install tool bar for Emacs.

	* catchup.xpm, exit-gnus.xpm, gnntg.xpm, subscribe.xpm:
	* describe-group.xpm, get-news.xpm, kill-group.xpm:
	* unsubscribe.xpm: New files.  Renamed icons from Luis Fernandes.

	* mm-decode.el (mm-valid-and-fit-image-p): Don't test
	display-graphic-p here.

2000-10-27  Miles Bader  <miles@lsi.nec.co.jp>

	* gnus-ems.el (gnus-ems-redefine): Use (featurep 'xemacs) instead
	of the `gnus-xemacs' variable, as the latter has been removed.
	* gnus-start.el (gnus-1, gnus-read-descriptions-file): Likewise.
	* gnus-art.el (gnus-treat-display-xface)
	(gnus-treat-display-smileys, gnus-treat-display-picons)
	(gnus-article-read-summary-keys): Likewise.

2000-10-26  Dave Love  <fx@gnu.org>

	(defvar): Use rmail-spool-directory unconditionally.

2000-10-18  Dave Love  <fx@gnu.org>

	* mm-bodies.el (mm-uu-decode-function)
	(mm-uu-binhex-decode-function): Defvar when compiling.

	* gnus-nocem.el (gnus-nocem-issuers): Update.
	(gnus-nocem-check-from): New option.
	(gnus-nocem-scan-groups): Use it.
	(gnus-nocem-check-article): Bind gnus-newsgroup-name.
	(gnus-nocem-check-article-limit): Add :version.

2000-10-16  Stefan Monnier  <monnier@cs.yale.edu>

	* ietf-drums.el (mm-util): Require CL when compiling.

2000-10-15  Dave Love  <fx@gnu.org>

	* qp.el: Require mm-util.

2000-10-13  Dave Love  <fx@gnu.org>

	* qp.el (quoted-printable-decode-region): Avoid invalid
	coding-systems.

2000-10-12  Gerd Moellmann  <gerd@gnu.org>

	* mm-bodies.el: Don't require `mm-uu' at compile-time; it leads
	to a recursive load.

2000-10-12  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-charset-synonym-alist): Add windows-1252.

	* gnus.el (gnus-group-startup-message): Check for PBM image.

2000-10-09  Dave Love  <fx@gnu.org>

	* mail-source.el (mail-source-fetch-imap): Bind
	default-enable-multibyte-characters rather than using
	mm-disable-multibyte.

2000-10-05  Dave Love  <fx@gnu.org>

	* qp.el (mm-decode-coding-region, mm-encode-coding-region):
	Autoload.
	(quoted-printable-decode-region):  Rename arg which confused
	charset with coding-system.  Don't use nonascii-insert-offset.
	Coding-system encode the region initially.  Don't recognize `=='
	as valid QP.  Coding-system decode the region finally.
	(quoted-printable-decode-string): Rename arg which confused
	charset with coding-system.

	* mm-bodies.el: Require mm-uu, Don't require qp, uudecode.
	(mm-encode-body): Apply mm-charset-to-coding-system to arg of
	mm-encode-coding-region.
	(mm-decode-body, mm-decode-string): Rename variables which
	confused charset with coding-system.
	(binhex-decode-region): Don't autoload.
	(mm-body-encoding): Require message.
	(mm-decode-content-transfer-encoding): Require mm-uu in relevant
	cond branches.

	* gnus-art.el (article-de-quoted-unreadable)
	(article-de-base64-unreadable): Fold search case
	rather than downcasing string.  Apply mm-charset-to-coding-system
	to arg of quoted-printable-decode-region.

2000-10-04  Dave Love  <fx@gnu.org>

	* gnus-ems.el: Don't turn off compiler warnings in local vars.
	Require ring when compiling.
	(gnus-article-compface-xbm): New variable.

2000-10-04  Dave Love  <fx@gnu.org>

	* smiley-ems.el (smiley-regexp-alist, smiley-update-cache): Use
	pbm images.

	* frown.pbm, smile.pbm, wry.pbm: New files.

	* frown.xbm, smile.xbm, wry.xbm: Deleted.

2000-10-03  Dave Love  <fx@gnu.org>

	* mail-source.el (mail-sources): Revert to nil.

	* nnmail.el (nnmail-spool-file): Revert to `((file))'.

	* qp.el: Don't require mm-util.
	(quoted-printable-decode-region): Rewritten.
	(quoted-printable-decode-string, quoted-printable-encode-region):
	Doc fix.
	(quoted-printable-encode-region): Barf on multibyte characters.
	Maybe make the class multibyte.  Upcase chars, not formatted
	strings.  Allow mm-use-ultra-safe-encoding to be unbound.
	(quoted-printable-encode-string): Don't use
	mm-with-unibyte-buffer.

2000-09-29  Gerd Moellmann  <gerd@gnu.org>

	* smiley-ems.el (smiley-update-cache):  Use `:ascent center'.

2000-09-21  Dave Love  <fx@gnu.org>

	* smiley-ems.el (smiley-region): Test if display-graphic-p bound
	(for Emacs 20).  Tidy somewhat.

2000-09-21  Dave Love  <fx@gnu.org>

	* gnus-ems.el (gnus-article-display-xface): Use unibyte for the
	image processing.  Rationalize logic somewhat.

2000-09-20  Dave Love  <fx@gnu.org>

	* gnus-start.el (gnus-1) <gnus-simple-splash>: Don't test for X
	specifically.

	* gnus.el (gnus-version-number): Avoid some redundant
	autoloads.

2000-09-20  Gerd Moellmann  <gerd@gnu.org>

	* gnus-ems.el (gnus-article-display-xface): Don't convert PBM
	to XBM; we always have PBM support.

2000-09-14  Dave Love  <fx@gnu.org>

	* gnus.el (gnus-charset):
	* mm-decode.el (mime-display):
	* imap.el (imap) <defgroup>: Add :version.

2000-09-13  Gerd Moellmann  <gerd@gnu.org>

	* parse-time.el: Fix author's mail address.

	* earcon.el, flow-fill.el, gnus-cite.el, gnus-gl.el, gnus-ml.el:
	* gnus-mlspl.el, gnus-nocem.el, gnus-range.el, gnus-salt.el:
	* gnus-setup.el, gnus-soup.el, gnus-undo.el, gnus-vm.el:
	* messcompat.el, nnbabyl.el, nndir.el, nneething.el:
	* nngateway.el, nnheaderxm.el, nnkiboze.el, nnlistserv.el:
	* nnmbox.el, nnmh.el, nnoo.el, nnsoup.el, nnspool.el, rfc2045.el:
	* rfc2231.el, uudecode.el: Fix copyright notice.

	* nnweb.el (toplevel): To make the file bootstrap in Emacs,
	require `w3' at load-time only if not running in batch mode.

2000-12-19 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el: Before merge with Emacs21.

2000-12-19  Raymond Scholz  <ray-2000@zonix.de>

	* gnus-art.el (gnus-article-dumbquotes-map): Add EUR symbol.

2000-12-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mml.el (mml-mode-map): Change mml prefix from `M-m' to `C-c C-m'
	to avoid conflict with the standard `back-to-indentation'
	binding.

2000-12-17 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-extern.el (mm-inline-external-body): g-a-m-h may be a handle.

	* mm-util.el (mm-enable-multibyte-mule4): Test charsetp.
	(mm-disable-multibyte-mule4): Ditto.
	(mm-with-unibyte-current-buffer-mule4): Ditto.

2000-12-15 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-movemail): Use binary.
	(pop3-movemail-file-coding-system): Removed.

2000-12-14 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-synonym-alist): Add cn-gb.

2000-12-13 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnspool.el (nnspool-lib-dir): Check whether /usr/lib/news/active
	exists.

2000-12-13 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-post-method): Use backend name when the
	address is "".

2000-12-08 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-verify-x-pgp-sig): Don't test
	mm-verify-option.
	(gnus-treat-x-pgp-sig): Default value.
	(gnus-ignored-headers): Redundant.

2000-12-04 22:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-frame): Save selected window.

2000-02-15  Andrew Innes  <andrewi@gnu.org>

	* nnmbox.el: Require gnus-range.
	(nnmbox-group-building-active-articles): New variable.
	(nnmbox-group-active-articles): New variable; this is a cache of
	all active articles by group and number.
	(nnmbox-in-header-p): New function.
	(nnmbox-find-article): New function.
	(nnmbox-record-active-article): New function.
	(nnmbox-record-deleted-article): New function.
	(nnmbox-is-article-active-p): New function.
	(nnmbox-retrieve-headers): Use nnmbox-find-article.
	(nnmbox-request-article): Ditto.  Also supply extra arg to
	nnmbox-article-group-number.
	(nnmbox-request-expire-articles): Ditto.
	(nnmbox-request-move-article): Ditto.
	(nnmbox-request-replace-article): Ditto.
	(nnmbox-request-rename-group): Rename group entry in active
	article cache.
	(nnmbox-delete-mail): Update active article cache, unless article
	is being replaced.
	(nnmbox-possibly-change-newsgroup): Call nnmbox-read-mbox, rather
	than partially duplicating it.
	(nnmbox-article-group-number): Add extra `this-line' arg, to
	handle articles belonging to multiple groups.
	(nnmbox-save-mail): Update active article cache.
	(nnmbox-read-mbox): Build active article cache when loading mbox.
	Also do some repair work, if we find articles that are missing the
	appropriate X-Gnus-Newsgroup lines in the header.  We can usually
	reconstruct these from Xref info.

2000-12-04 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-report-new-mail): Use
	nnheader-run-at-time.

2000-02-15  Andrew Innes  <andrewi@gnu.org>

	* mail-source.el (mail-source-fetch-pop): Clear pop password when
	an error is thrown, and then rethrow the error.
	(mail-source-check-pop): Ditto.
	(mail-source-start-idle-timer): Prevent multiple pop checks
	running if the check takes a long time.

2000-12-04 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-mail): COMPOSEFUNC should return t if
	succeed.

2000-12-04 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-windows): Make sure
	nntp-server-buffer is live.
	(gnus-remove-some-windows): switch-to-buffer -> set-buffer.

2000-11-21  Stefan Monnier  <monnier@cs.yale.edu>

	* gnus-win.el (gnus-configure-windows): switch-to-buffer -> set-buffer.

2000-12-04  Andreas Jaeger  <aj@suse.de>

	* gnus-msg.el (gnus-summary-mail-forward): Fix typos in description.

2000-12-03 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-fix-micalg): Alg might be nil.

2000-12-01  ShengHuo ZHU  <zsh@cs.rochester.edu>
	Trivial patch from Christopher Splinter  <chris@splinter.inka.de>

	* gnus-sum.el (gnus-summary-limit-to-age): Fix typo.

2000-12-01  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Fix address parsing.

2000-12-01  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Don't modify MM buffer.  Handle
	more than one certificate inside PKCS#7 blob.  Better security
	information (clamed / actual sender, openssl output, certificates
	inside message).

	* smime.el (smime-verify-region): Output to /dev/null.
	(smime-buffer-as-string-region): Don't parse empty lines.

2000-11-30 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-security-button-line-format-alist): Add
	?d and ?D.
	(gnus-mime-security-show-details-inline): New variable.
	(gnus-mime-security-show-details): Use them.
	(gnus-insert-mime-security-button): Ditto.

	* mml2015.el (mml2015-gpg-verify): Set details when succeed.
	Suggest by Michael Duggan (md5i@cs.cmu.edu).
	(mml2015-gpg-clear-verify): Ditto.
	(mml2015-gpg-decrypt-1): Ditto.
	(mml2015-use): Prefer 'gpg.

2000-11-30 19:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-add-text-properties-when): New function.
	(gnus-remove-text-properties-when): Ditto.

	* gnus-cite.el (gnus-article-hide-citation): Use them.
	(gnus-article-toggle-cited-text): Use them.

	* gnus-art.el (gnus-signature-toggle): Use them.
	(gnus-article-show-hidden-text): Ditto.
	(gnus-article-hide-text): Ditto.

2000-11-30 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-charset-region): Remove eight-bit-*.

2000-11-30  Simon Josefsson  <sj@extundo.com>

	* smime.el (smime-point-at-eol): New alias.
	(smime-buffer-as-string-region): Use it.

2000-11-29 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-restore-buffer): Remove Date field.

2000-11-29 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-expire-articles): expiry-target.

	* nnbabyl.el (nnbabyl-request-expire-articles): Ditto.

	* nnmbox.el (nnmbox-request-expire-articles): Ditto.

2000-11-22  Jan Nieuwenhuizen  <janneke@gnu.org>

	* nnmh.el (nnmh-request-expire-articles): Implemented
	expiry-target for nnmh backend.

2000-11-30  Simon Josefsson  <sj@extundo.com>

	* mm-decode.el (mm-security-from): New variable.
	(mm-possibly-verify-or-decrypt): Use it rather than `from'.

	* mml-smime.el (mml-smime-verify): Use `mm-security-from' rather
	than `from'.

2000-11-30  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Verify that certificate mail
	address match sender address.

	* mm-decode.el (mm-possibly-verify-or-decrypt): Bind sender address.

	* smime.el (smime-verify-region): Don't copy buffer.
	(smime-decrypt-buffer): Use expand-file-name on keyfile.
	(smime-pkcs7-region): New function.
	(smime-pkcs7-certificates-region): Ditto.
	(smime-pkcs7-email-region): Ditto.
	(smime-buffer-as-string-region): Ditto.

	* gnus-art.el (gnus-mime-security-show-details): Goto beginning of
	buffer.

2000-11-23  Jens Krinke  <j.krinke@gmx.de>

	* smime.el (smime-decrypt-region): Fix keyfile argument.

2000-11-29 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-cache-accepted-message-ids): Add doc.

2000-11-28 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-shoot-gnksa-feet): New variable.
	(message-gnksa-enable-p): New function.
	(message-send): Use it.
	(message-check-news-body-syntax): Ditto.

2000-11-28  Katsumi Yamaoka  <yamaoka@jpl.org>

	* message.el (message-make-message-id): Remove the redundancy.

2000-11-22 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup): Discourage using mc-install-*-mode.

	* gnus-setup.el (gnus-use-mailcrypt): Don't hook mail-crypt.

2000-11-22 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cite.el (gnus-cite-parse): Guess citation length.

2000-11-22 14:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-insinuate): New function.

2000-11-22 13:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-archive): Find the real url.

2000-11-22 11:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-article-display-xface): Use
	insert-buffer-substring.

	* message.el (message-send-mail): Use buffer-substring-no-properties.
	(message-send-news): Ditto.

2000-11-22  David Edmondson  <dme@dme.org>

	* imap.el (imap-wait-for-tag): Message read info.

2000-11-21 20:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-encrypt): Ensure the part is encrypted.
	(mml2015-mailcrypt-encrypt): Use unibyte-buffer.
	(mml2015-gpg-encrypt): Ditto.

2000-11-21 09:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-option): Default value.

	* mml-sec.el (mml-secure-part): Error message.

2000-11-20 18:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el (gnus-mailing-list-archive): Use browse-url.

2000-11-20 17:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-make-menu-bar): Use easy-menu-add.

2000-11-20 16:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-describe-key): Use prompt.
	(gnus-article-describe-key-briefly): Ditto.

2000-11-20 15:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-expire): Ignore corrupted history.

2000-11-20 10:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-describe-key): New function.
	(gnus-article-describe-key-briefly): New function.

2000-11-19 23:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-decrypt-option): Doc typo.

	* gnus-art.el (gnus-article-read-summary-keys): lookup-key may
	return a number.

2000-11-19 21:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-newline-and-reformat): Typo.

2000-11-19 12:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-verify-x-pgp-sig): Check whether
	original-article-buffer exists.

	* rfc2047.el (rfc2047-q-encoding-alist): Match Resent-.
	(rfc2047-header-encoding-alist): Addresses are different from text.
	(rfc2047-encode-message-header): Ditto.
	(rfc2047-dissect-region): Extra parameter.
	(rfc2047-encode-region): Ditto.
	(rfc2047-encode-string): Ditto.

2000-11-19 00:00:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-pgp-encrypted-extract-1): New function.
	(mm-uu-pgp-encrypted-extract): Use it.
	(mm-uu-pgp-signed-extract-1): New function.
	(mm-uu-pgp-signed-extract): Use it.

	* gnus-art.el (gnus-mime-display-security): New function.
	(gnus-mime-display-part): Use it.
	(gnus-mime-security-verify-or-decrypt): New function.
	(gnus-mime-security-press-button): New function.
	(gnus-insert-mime-security-button): Use it.

	* mm-decode.el (mm-possibly-verify-or-decrypt): Use mm-h-m-c-p.
	(mm-find-raw-part-by-type): Ditto.
	(mm-verify-function-alist): Add x-gnus-pgp-signature handle.
	(mm-decrypt-function-alist): Add x-gnus-pgp-encrypted handle.
	(mm-destroy-parts): Kill nested multibyte buffer.

	* mml2015.el (mml2015-mailcrypt-verify): Use mm-h-m-c-p.
	(mml2015-gpg-verify): Ditto.

2000-11-18  Simon Josefsson  <sj@extundo.com>

	* mml2015.el (mml2015-mailcrypt-clear-verify): New function.
	(mml2015-function-alist): Use it.

	* mml-sec.el (mml-sign-alist): Update names.
	(mml-encrypt-alist): Ditto.
	(mml-secure-part-smime-sign): Moved to mml-smime.el
	as `mml-smime-sign-query'.
	(mml-secure-part-smime-encrypt-by-file): Moved to mml-smime.el as
	`mml-smime-get-file-cert'.
	(mml-secure-part-smime-encrypt-by-dns): Moved to mml-smime.el as
	`mml-smime-get-dns-cert'.
	(mml-secure-part-smime-encrypt): Moved to mml-smime.el as
	`mml-smime-encrypt-query'.
	(mml-smime-sign-buffer): Use mml-smime-sign.
	(mml-smime-encrypt-buffer): Use mml-smime-encrypt.

	* mml-smime.el (mml-smime-sign): New function.
	(mml-smime-encrypt):
	(mml-smime-sign-query):
	(mml-smime-get-file-cert):
	(mml-smime-get-dns-cert):
	(mml-smime-encrypt-query): Moved from mml-sec.el.

2000-11-16  Simon Josefsson  <sj@extundo.com>

	* mml2015.el (mml2015-gpg-clear-verify): New function.
	(mml2015-function-alist): Add it.

2000-11-17 14:21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-setup-fill-variables): Use
	message-cite-prefix-regexp.
	(message-newline-and-reformat): Check the end of citation, leading
	WSP, break in the cite prefix.
	(message-fill-paragraph): New function.

2000-11-17 13:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el: Shut up.

2000-11-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-msg.el (gnus-group-posting-charset-alist): No longer allow
	raw 8-bit in headers in dk.* newsgroups.

2000-11-17 08:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-newline-and-reformat): Match extra WSPs.

2000-11-16 23:31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Ignore ascii.

2000-11-16 Justin Sheehy  <justin@iago.org>

	* gnus-sum.el (gnus-summary-make-menu-bar): Fix menu items.

2000-11-16 17:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-cite-prefix-regexp): Prefix should not end
	at space.

2000-11-15 18:09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mode-syntax-table): Add - as a word
	constituent as in articles.
	(message-setup-fill-variables): Add -_. as supercite-style prefix.
	* gnus-art.el (gnus-article-mode-syntax-table): Remove ?-.
	* gnus-cite.el (gnus-cite-parse): Match from the beginning of line.

2000-11-15 13:21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-do-gcc): Expire the article.

2000-11-12  David Edmondson  <dme@dme.org>

	* message.el (message-font-lock-keywords): use
	message-cite-prefix-regexp.

2000-11-15  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-group.el (gnus-group-jump-to-group-prompt): New variable by
	Stein Arild Str,Ax(Bmme.
	(gnus-group-jump-to-group): Use it.
	(gnus-group-jump-to-group-prompt): Customize.

2000-11-14 10:32:42  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-possible-viewers): Match the entire string.

2000-11-14 10:20:56  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-verify): replace-match is
	incompatible.
	(mml2015-mailcrypt-sign): Ditto.

2000-11-14 10:12:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-do-gcc): Update summary data when the
	group is open.

2000-11-14 00:48:52  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-bcklg.el (gnus-backlog-enter-article): Don't enter
	nnvirtual articles.
	(gnus-backlog-request-article): Don't request nnvirtual articles.

2000-11-13 22:08:09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-sign): Remove "-" escape.
	* mml.el (mml-generate-mime-1): Save cont. skip multipart attributes.

2000-11-13 20:43:37  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-get-part): Don't call mm-insert-part.
	* mml.el (mml-generate-mime-1): Use charset attribute.
	* mm-bodies.el (mm-encode-body): Add parameter charset.
	* mm-util.el (mm-mime-charset): Show error when find 8-bit characters.

2000-11-13 16:09:09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-decrypt): Handle quit.
	(mml2015-mailcrypt-clear-decrypt): Ditto.
	(mml2015-mailcrypt-verify): Ditto.
	(mml2015-mailcrypt-clear-verify): Ditto.
	(mml2015-gpg-verify): Ditto.

2000-11-13 15:29:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smime.el (smime-openssl-program): Test the existence of openssl.
	* mml-smime.el: Require mm-decode.
	(mml-smime-verify-test): New function.
	* mm-decode.el (mm-verify-function-alist): Use it.

2000-11-13 09:50:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-repair-multipart): Fix Mime-Version
	anyway.

2000-11-13  Simon Josefsson  <sj@extundo.com>

	* mm-uu.el (mm-uu-pgp-signed-extract): Explain why clear
	verification doesn't work.

2000-11-12 23:36:45  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-mark-gcc-as-read): New variable.
	(gnus-inews-do-gcc): Use it.

2000-11-12 21:35:04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-encode-string): Insert semi-colon and
	leading space.
	* mm-extern.el (mm-inline-external-body): Report error when no
	access-type.

2000-11-12 19:48:30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-select-newsgroup): Change the error message.

2000-11-12 11:53:18  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-button-menu): Use select-window.

2000-11-12 09:47:54  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-part): Display multipart/related
	as multipart/mixed.

2000-11-12  David Edmondson  <dme@dme.org>

	* message.el (message-cite-prefix-regexp): moved from gnus-cite.el
	and replace `.' with `\w' to allow for different syntax tables
	(from Vladimir Volovich).
	* message.el (message-newline-and-reformat): use
	`message-cite-prefix-regexp'.
	* gnus-cite.el (gnus-supercite-regexp): use
	`message-cite-prefix-regexp'.
	* gnus-cite.el (gnus-cite-parse): use
	`message-cite-prefix-regexp'.

2000-11-12 08:52:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-verify): Replace armors with
	PGP SIGNATURE.  Escape leading "-"'s.
	(mml2015-mailcrypt-sign): Replace armors with PGP MESSAGE.

2000-11-11 15:55:35  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-type-alist): Stricter shar regexp.

2000-11-11  Simon Josefsson  <sj@extundo.com>

	* mml2015.el (mml2015-gpg-verify): Set "OK" security status.

	* smime.el (smime-details-buffer): New variable.
	(smime-sign-region):
	(smime-encrypt-region):
	(smime-verify-region):
	(smime-decrypt-region): Copy OpenSSL output to the buffer.

	* mml-smime.el (mml-smime-verify): Support security info.

2000-11-10 17:11:22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-option): Set default to nil.
	(mm-decrypt-option): Ditto.
	* gnus-art.el (article-verify-x-pgp-sig): New function.

2000-11-10 09:01:25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-alternative): Show button if no
	preferred part.

2000-11-07  Kai Gro,b_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-move-split-methods): Say that
	`gnus-split-methods' uses file names, whereas this uses group
	names.  (Report from Nevin Kapur)

2000-11-10 01:23:20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-partial.el (mm-inline-partial): Insert MIME-Version.

2000-11-09 17:02:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-directory-files-is-safe): New variable.
	(nnheader-directory-articles): Use it.
	(nnheader-article-to-file-alist): Ditto.

2000-11-09 16:20:37  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-pad-base64): New function.
	(rfc2047-decode): Use it.

2000-11-09 08:53:04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Bind the original
	select method.

2000-11-08 19:58:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-gpg-decrypt-1):
	(mml2015-gpg-verify): buffer-string has no argument in Emacs.

2000-11-08 16:37:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-cache-generate-nov-databases): Reopen cache.

2000-11-08 08:38:30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-munge-message-separator): A message may have an
	empty body.

2000-11-07 18:02:26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-type-alist): Don't test pgp stuff.
	(mm-uu-pgp-encrypted-extract): Clean mml2015 buffer.
	(mm-uu-pgp-signed-extract): Use coding-system.

2000-11-07 14:33:19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-part): Show MIME security button.
	(gnus-insert-mime-security-button): New function.
	* mm-decode.el (mm-possibly-verify-or-decrypt): Add security info.
	* mml2015.el:  Add security info when verify or decrypt.
	* mm-uu.el (mm-uu-pgp-signed-extract): Use multipart.
	(mm-uu-pgp-encrypted-extract): Ditto.

2000-11-07 08:49:36  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-display-parts): New function.
	* gnus-art.el (gnus-mime-view-all-parts): Use it. Remove parts first.

2000-02-02  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* gnus-mlspl.el: Documentation tweaks.

2000-11-06 22:06:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-possibly-verify-or-decrypt): Fix.
	* gnus-art.el (gnus-article-encrypt-body): Rename and support prefix
	argument.

2000-11-06 19:10:14  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-encode-string): Use us-ascii if charset is nil.

2000-11-06 18:17:53  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-encrypt): New function.
	(gnus-article-encrypt-protocol-alist): New variable.
	(gnus-article-encrypt-protocol): New variable.
	* mml2015.el (mml2015-self-encrypt): New function.
	(mml2015-mailcrypt-encrypt): Set mc-pgp-always-sign.

2000-11-06 16:02:52  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-gpg-key-skip-to-last): New function.
	(mm-uu-pgp-key-extract): Use application/pgp-keys, don't snarf,
	let mailcap do it.
	* mml2015.el: Remove snarf code.
	* mm-decode.el: Remove snarf code.

2000-11-06 14:03:10  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-insert-mml-markup): Ignore internal stuff.
	(mml-insert-mime): Understand gnus-decoded.
	(mime-to-mml): New parameter handles.
	* gnus-art.el (gnus-mime-save-part-and-strip): Use it.
	* gnus-sum.el (gnus-summary-edit-article): Add argument `3'.

2000-11-06 13:51:37  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mime-security): New group.
	(mm-verify-function-alist): Add test function.
	(mm-decrypt-function-alist): Ditto.
	(mm-snarf-option): Set default value as nil.
	(mm-find-part-by-type): Recursive parameter.
	(mm-possibly-verify-or-decrypt): Support draft-ietf-openpgp-multsig.
	* mml2015.el: Support draft-ietf-openpgp-multsig.

2000-11-06 13:01:27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-view-part-as-charset): New function.
	(gnus-article-view-part-as-charset): New function.

2000-11-05 22:34:07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-option): Default value.
	(mm-possibly-verify-or-decrypt): Dealing with broken messages.

2000-11-05 15:06:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnvirtual.el (nnvirtual-request-expire-articles): Uncompress range.

2000-11-05  Simon Josefsson  <sj@extundo.com>

	* mml-smime.el (mml-smime-verify): Work in original multipart
	buffert.

	* mm-decode.el (mm-handle-multipart-original-buffer): New macro.
	(mm-handle-multipart-ctl-parameter): Ditto.
	(mm-alist-to-plist): New function.
	(mm-dissect-buffer): Store CTL parameters and copy original buffer
	for multiparts.
	(mm-destroy-parts): Destroy multipart buffert.
	(mm-remove-part): Ditto.

	* mml-smime.el (mml-smime-sign): Not used.
	(mml-smime-encrypt): Ditto.

	* mm-decode.el (mml-smime-verify): Autoload mml-smime.

	Verify S/MIME signature support.

	* mm-decode.el (mm-inline-media-tests): Add
	application/{x-,}pkcs7-signature.
	(mm-inlined-types): Ditto.
	(mm-automatic-display): Ditto.
	(mm-verify-function-alist): Ditto.  Add name of method.
	(mm-decrypt-function-alist): Add name of method.
	(mm-find-part-by-type): Add documentation.
	(mm-possibly-verify-or-decrypt): Use new format of
	mm-{verify,decrypt}-function-alist.  Use method names.

	* mml-smime.el (mml-smime-verify): New function.

2000-11-04 20:38:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Move point to the end of inserted text.

2000-11-04 19:07:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-function-alist): Clear verify and decrypt.
	* mm-uu.el: Reorganized.  Add gnatsweb, pgp-signed, pgp-encrypted.
	* mm-decode.el (mm-snarf-option): New variable.

2000-11-04 13:08:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-subst-char-in-string): New function.
	(mm-replace-chars-in-string): Use it.
	* message.el (message-replace-chars-in-string): Use it.
	* nnheader.el (nnheader-replace-chars-in-string): Use it.
	* gnus-mh.el (mh-lib-progs): Shut up.

2000-11-04  ShengHuo Zhu  <zsh@cs.rochester.edu>

	* base64.el, md5.el: Moved to contrib directory.

2000-11-04 11:13:56  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-search-article-forward): Don't move
	the last article when search.

2000-11-04 10:34:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-pathname-coding-system): Default iso-8859-1.
	* nnmail.el (nnmail-pathname-coding-system): Ditto.

2000-09-29  David Edmondson  <dme@thus.net>

	* message.el (message-newline-and-reformat): Typo.

2000-11-04 10:11:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-decode-encoded-string): Test mm-multibyte-p.

2000-11-04 09:53:42  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-decode-text): Delete bogus status lines.

2000-11-03  Stefan Monnier  <monnier@cs.yale.edu>

	* message.el (message-font-lock-keywords): Match a final newline
	to help font-lock's multiline support.

2000-11-04 09:11:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnoo.el (nnoo-set): New function.

2000-11-04  ShengHuo Zhu  <zsh@cs.rochester.edu>

	* gpg.el, gpg-ring.el: Moved to contrib directory.

2000-11-04  Simon Josefsson  <sj@extundo.com>

	* nnimap.el (nnimap-split-inbox): Typo.

2000-11-03 10:46:44  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-msg-mail): Move it backwards.

2000-11-03  Simon Josefsson  <sj@extundo.com>

	* rfc2231.el (rfc2231-parse-qp-string): New function.
	(require): rfc2047.

	* mail-parse.el (mail-header-parse-content-type):
	(mail-header-parse-content-disposition): Support invalid QP
	encoded strings, by using `rfc2231-parse-qp-string'.

2000-11-03 08:58:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2231.el (rfc2231-parse-string): Decode when there is no number.
	(rfc2231-decode-encoded-string): Typo "> X 1".
	(rfc2231-encode-string): Insert the name of charset.
	* mail-parse.el (mail-header-encode-parameter): Use RFC2231.

2000-11-02 23:35:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-save-part): Return the filename.
	* gnus-sum.el (gnus-summary-edit-article): Remove a hack.
	* gnus-art.el (gnus-mime-save-part-and-strip): New function.
	(gnus-mime-action-alist): Use it.
	(gnus-mime-button-commands): Use it.
	* mm-extern.el (mm-extern-local-file): Error when the file is gone.
	(mm-inline-external-body): unwind-protect.

2000-11-02 21:08:49  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-insert-mime-button): Show url.

2000-11-02 19:51:19  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Support external url.
	* nnwarchive.el (nnwarchive-mail-archive-article): Use external url.

2000-11-02 16:53:32  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-partial.el (mm-inline-partial): Buffer name with a leading space.
	* mm-decode.el (mm-display-external): Ditto.
	* mm-extern.el: New file.
	* mm-decode.el (mm-inline-media-tests): Hook it up.
	(mm-inlined-types): Inline message/external-body.

2000-11-02  Simon Josefsson  <sj@extundo.com>

	* gnus-art.el (gnus-visible-headers): Add Mail-Followup-To.

	* message.el (message-get-reply-headers): Better handling when
	Mail-Followup-To is very large.

2000-11-02 13:27:56  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-post-news): Comment out the redundancy.
	* gnus-art.el (gnus-article-edit-done):
	* gnus-sum.el (gnus-summary-edit-article-done): Move line
	counting code here.
	* gnus-msg.el (gnus-setup-message): Remove a hack.

2000-11-02 09:33:01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-newsgroup-variables): New variable.
	(gnus-summary-mode): Make them local variables.
	(gnus-set-global-variables): Globalize them.
	(gnus-summary-exit): Kill them.

2000-11-02  Hrvoje Niksic  <hniksic@arsdigita.com>

	* rfc2047.el (rfc2047-encoded-word-regexp): Allow empty encoded
	word.

2000-11-01 10:07:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-part): Add to signed or encrypted.
	gnus-article-wash-types.
	* gnus-art.el (gnus-article-wash-status): Use them.

2000-11-01 08:54:11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-read-tag): Remove spaces and LF.

2000-11-01 08:01:03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-encrypt): Use from and sign parameters.
	* mml.el (mml-generate-mime-1): Add sender and recipients attributes.

2000-11-01 07:39:24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-force-verify-and-decrypt): New function.

2000-10-31 22:06:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-article-charset): New variable.
	(gnus-summary-display-article): Set it.
	* gnus-msg.el (gnus-copy-article-buffer): Use it.
	* gnus-art.el (gnus-article-mode): Make it local variable.

2000-11-01 01:12:29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-create-mapping): Use nreverse.

2000-10-31 23:45:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnwfm.el: New file.

	* nnweb.el (nnweb-replace-in-string): New function.

2000-10-31 17:32:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: Wrap gpg.el.
	* gpg.el (gpg-verify): The last argument of apply is a list.
	(gpg-encrypt): Add passphrase as a parameter.

2000-10-31 17:28:45  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gpg.el: New file.
	* gpg-ring.el: New file.

2000-10-31 11:44:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Fix the summary line.

2000-10-31  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-summary-insert-line): Work with quoted
	double-quote characters.
	(gnus-summary-prepare-threads): Ditto.

2000-10-31 08:36:03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-single): Forward line -1.
	* mml.el (mml-read-tag): Don't skip the leading space.
	* lpath.el (font-lock-set-defaults): Shut up.

2000-10-31 00:04:35  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: Fix doc. Remove bogus mml2015-setup.

2000-10-30 23:37:07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encode-region): Replace leading - when
	ultra safe.
	* mml.el (mml-generate-mime-postprocess-function): Removed.
	(mml-postprocess-alist): Removed.
	(mml-generate-mime-1): Use ultra-safe when sign.
	* mml2015.el (mml2015-fix-micalg): Uppercase.
	(mml2015-verify): Insert LF.
	(mml2015-mailcrypt-sign): Downcase; search backward.

2000-10-16 11:36:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-forum-table-p): Be a bit more
	restrictive.
	(nnultimate-table-regexp): New variable.
	(nnultimate-forum-table-p): Use it.

2000-10-30  Ed L Cashin  <ecashin@coe.uga.edu>
	Trivial patch.

	* gnus-sum.el (gnus-summary-expire-articles): Save point.

2000-10-30 08:52:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml-sec.el (mml-pgpmime-sign-buffer): Use mml2015-sign.
	(mml-pgpmime-encrypt-buffer): Use mml2015-encrypt.

2000-10-30 08:38:12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: Shut up.

2000-10-30 08:17:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-server-browse-hashtb): Removed.
	* gnus-group.el (gnus-group-prepare-flat-list-dead): Use gnus-active.
	(gnus-group-insert-group-line-info): Use simplified method.
	* gnus-srvr.el (gnus-browse-foreign-server): Use gnus-set-active.

2000-10-30 01:52:40  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-union): Renamed from gnus-agent-union, and
	moved here.
	* gnus-agent.el (gnus-agent-fetch-headers): Use it.
	* gnus-group.el (gnus-group-prepare-flat): Use it.
	* gnus-topic.el (gnus-group-prepare-topics): Use it.

2000-10-30 01:23:49  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-mode): Show menu in XEmacs.

2000-10-30 00:49:33  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-server-browse-in-group-buffer): New variable.
	(gnus-server-read-server-in-server-buffer): New function.
	(gnus-browse-foreign-server): Browse in group buffer.
	* gnus-group.el (gnus-group-prepare-flat): List group not in list.
	(gnus-group-prepare-flat-list-dead): Use gnus-group-insert-group-line.
	* gnus-topic.el (gnus-group-prepare-topics): Ditto.
	* gnus.el (gnus-server-browse-hashtb): New variable.

2000-10-29 22:31:40  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-open-nov): Use group.

2000-10-29 17:23:15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el: Add NOV. Set version to 2.0.
	(nnfolder-nov-is-evil): If non-nil, nnfolder acts like 1.0.

2000-10-29 10:35:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el (mml2015-mailcrypt-sign): Use mc-sign-generic.

2000-10-29 09:42:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Show level mark.
	(gnus-browse-unsubscribe-group): Unsubscribed is not killed.

2000-10-29 08:28:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-read-folder): Don't goto point-min.

2000-10-28 19:11:01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-verify-function-alist): New variable.
	(mm-verify-option): New variable.
	(mm-decrypt-function-alist): Ditto.
	(mm-decrypt-option): Ditto.
	(mm-find-raw-part-by-type): New function.
	(mm-possibly-verify-or-decrypt): New function.
	(mm-dissect-multipart): Use it.
	* mml2015.el (mml2015-fix-micalg): New function.
	(mml2015-decrypt): Use new interface.
	(mml2015-verify):  Use new interface.
	(mml2015-setup): Make it bogus.

2000-10-28 16:54:45  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-postprocess-function): Set to
	mml-postprocess.
	(autoload): Autoload mml2015 and mml-smime.
	(mml-postprocess-alist): Use mml2015-sign and mml2015-encrypt.
	* mml2015.el (mml2015-encrypt): New function.
	(mml2015-sign): New function.
	(mml2015-encrypt-function): New variable.
	(mml2015-sign-function): New variable.
	(mml2015-mailcrypt-encrypt): Use message-recipients.
	(mml2015-setup): Don't set mml-generate-mime-postprocess-function.
	* mml-smime.el (mml-smime-setup): Ditto.

2000-10-28  Simon Josefsson  <sj@extundo.com>

	* imap.el (imap-parse-resp-text-code): Workaround bug in Stalker
	Communigate Pro 3.3.1 server.

	* mml-sec.el (mml-smime-encrypt-buffer): Support certfiles stored
	in buffers.
	(mml-secure-dns-server): Removed.
	(mml-secure-part-smime-encrypt-by-dns): Use DIG interface.  Don't
	write certificates to files.

	* smime.el (smime-dns-server): New variable.
	(smime-mail-to-domain):
	(smime-cert-by-dns): New functions.

	* dig.el: New file.

2000-10-28 10:09:41  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-options): New variable.
	(message-options-set-recipient): New function.
	(message-send): Use them.
	* gnus-int.el (gnus-request-replace-article): Use them.
	(gnus-request-accept-article): Ditto.
	* mml.el (mml-preview): Use them.
	* gnus-sum.el (gnus-summary-edit-article): Use them.

	* message.el (message-options-get): New function.
	(message-options-get): New function.
	* rfc2047.el (rfc2047-encode-message-header): Use them.
	* mm-bodies.el (mm-encode-body): Use them.

2000-10-28  Simon Josefsson  <sj@extundo.com>

	* nnimap.el (nnimap-retrieve-which-headers):
	(nnimap-request-article-part): Quote message-id.

	* smime.el (smime-CA-directory): Rename from `smime-CAs'.
	(smime-CA-file): New variable.
	(smime-call-openssl-region): Don't error.
	(smime-sign-region): Return result value.
	(smime-encrypt-region): Ditto.
	(smime-verify-region): New function.
	(smime-decrypt-region): Ditto.
	(smime-verify-buffer): Ditto.
	(smime-decrypt-buffer): Ditto.

	* mml.el: Require mml-sec.
	(mml-generate-mime-1): Support "sign" and "encrypt" MML tags.
	(mml-mode-map): Add "sign" and "encrypt" maps.
	(mml-menu): Add security menu.
	(mml-preview): Use generate-new-buffer.

	* mml-sec.el: New file.

2000-10-28 03:43:03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-find-part-by-type): Move it here.
	* mml.el (mml-postprocess): Move it here.
	(mml-postprocess-alist): Move it here. Merge them.

2000-10-28 03:38:39  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-message-header): Make sure no
	unencoded stuff in the header.

2000-10-28 02:40:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-listed-groups): New variable.
	(gnus-group-list-option): New variable.
	(gnus-group-list-limit-map): New keymap.
	(gnus-group-list-flush-map): New keymap.
	(gnus-group-list-plus-map): New keymap.
	(gnus-group-prepare-logic): New function.
	(gnus-group-prepare-flat): Merge with
	gnus-group-prepare-flat-predicate. Use gnus-group-listed-groups.
	(gnus-group-prepare-flat-list-dead): Ditto.
	(gnus-group-list-matching): Use gnus-group-prepare-function.
	(gnus-group-list-dormant): Ditto.
	(gnus-group-list-cached): Ditto.
	(gnus-group-listed-groups): New function.
	(gnus-group-list-limit): New function.
	(gnus-group-list-flush): New function.
	(gnus-group-list-plus): New function.
	* gnus-topic.el (gnus-group-prepare-topics): Accept predicate.
	(gnus-topic-prepare-topic): Ditto.

2000-10-27  Paul Jarc  <prj@po.cwru.edu>

	* message.el (message-insert-to, message-get-reply-headers):
	(message-reply, message-followup): Mail-{Followup,Reply}-To.

2000-10-27 19:45:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml2015.el: New file.
	* smime.el: New file.
	* mml-smime.el: New file.

2000-10-27 19:42:12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* ChangeLog: Moved to ChangeLog.1.

2000-10-27  Jason Rumney  <jasonr@gnu.org>

	* gnus-art.el (gnus-signature-face): Use italic on any frame that
	supports it.

2000-10-27 14:19:53  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-mlspl.el: Require cl when compiling.
	* messagexmas.el: Ditto.
	* mm-util.el: Ditto.
	* rfc2047.el: Ditto.
	* rfc2231.el: Ditto.
	* smiley-ems.el: Ditto.
	* uudecode.el: Ditto.
	
	* smiley-ems.el (smiley-region): Use mapcar.

2000-10-27 Stefan Monnier <monnier@cs.yale.edu>

	* ietf-drums.el: Require cl when compiling.

2000-10-27  Dave Love  <fx@gnu.org>

	* mm-decode.el (mm-valid-and-fit-image-p): Don't test
	window-system here.

	* gnus-art.el (gnus-article-x-face-command): Check
	gnus-article-compface-xbm.
	(gnus-treat-display-xface): Check for uncompface.

	* nnheader.el (nnheader-translate-file-chars): Only kludge things
	under Doze with XEmacs.

2000-10-26  Simon Josefsson  <sj@extundo.com>

	* mail-source.el (mail-sources): IMAP predicate is a string.
	(mail-sources): Add default values for IMAP mailbox, predicate and
	fetchflag.

2000-10-26  Dave Love  <fx@gnu.org>

	* flow-fill.el: Require cl when compiling.

	* mail-source.el: Require imap when compiling and defvar
	display-time-mail-function.  Require mm-util.
	(nnheader-cancel-timer): Autoload.
	(mail-source-imap-authenticators, mail-source-imap-streams): New
	variables.
	(mail-sources): Use them.

2000-10-25 20:13:02  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-viewer-completion-map): New.
	(mm-interactively-view-part): Use it.

2000-10-25 18:51:12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-q-encode-region): Don't break if a QP-word
	could be fitted in one line.

2000-10-25  Dirk Meyer <dischi@tzi.de>

	* gnus-demon.el (gnus-demon-time-to-step): theHour was set to
	seconds instead of hour.

2000-10-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mail-source.el (mail-sources): Better `:type'.

2000-10-24 18:31:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-request-article-this-buffer):
	gnus-refer-article-method might be a single method.
	* gnus-sum.el (gnus-refer-article-methods): The second could be 
	a named method.

2000-10-23  Simon Josefsson  <simon@josefsson.org>

	* flow-fill.el (fill-flowed): Don't flow "-- " lines.
	(fill-flowed): Make "quote-depth wins" rule work when first line
	is at level 0.

2000-10-21 11:23:21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-multibyte-p): Test (featurep 'xemacs).

2000-10-21 10:54:57  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-mime-total-parts): New function.
	(gnus-mm-display-part): Use it.
	(gnus-mime-display-single): Ditto.
	(gnus-mime-display-alternative): Ditto.

2000-10-21 09:38:27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-parse-mailcaps): Don't use parse-colon-path,
	because they are files, not directories.
	(mailcap-parse-mimetypes): Ditto.

2000-10-20 19:55:59  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-inline-part): Check validity of charset.

2000-10-18  Dave Love  <fx@gnu.org>

	* mail-source.el (mm-util): Require.
	(defvar): Use rmail-spool-directory unconditionally.

	* gnus-nocem.el (gnus-nocem-issuers): Update.
	(gnus-nocem-check-from): New option.
	(gnus-nocem-scan-groups): Use it.
	(gnus-nocem-check-article): Bind gnus-newsgroup-name.

2000-10-18  Miles Bader  <miles@lsi.nec.co.jp>

	* gnus-nocem.el (gnus-nocem-check-article-limit): New variable.
	(gnus-nocem-scan-groups): Obey `gnus-nocem-check-article-limit'.

2000-10-18  Simon Josefsson  <simon@josefsson.org>

	* nnheader.el (nnheader-parse-head): Try both "from:" and "from: ".

	* gnus-sum.el (gnus-get-newsgroup-headers): Ditto.

2000-10-17  Simon Josefsson  <simon@josefsson.org>

	* gnus-sum.el (gnus-get-newsgroup-headers): Search for "from:"
	instead of "from: " for rfc822 compliance.

	* gnus-uu.el (gnus-uu-digest-mail-forward): Ditto. Insert SPC.

	* nnheader.el (nnheader-parse-head): Ditto.

2000-10-13  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* mail-source.el (mail-source-keyword-map): Use
	`rmail-spool-directory' as a default directory for the `file'
	source, if the variable is defined.  Fall back to hardcoded
	"/usr/spool/mail/", as before.  Suggestion by Steven E. Harris
	<seh@speakeasy.org>.

2000-10-13 12:01:15  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-partially): Replace the header
	 delimiter with a blank line.

2000-10-13  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el (gnus-get-split-value): Use first match only (Ed L
	Cashin <ecashin@coe.uga.edu>).

2000-10-13 10:52:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ems.el (gnus-article-compface-xbm): Ignore errors.

2000-10-11  John Wiegley  <johnw@gnu.org>

	* gnus-topic.el (gnus-topic-mode): Use `setq' to clear
	`gnus-group-change-level-function', instead of `remove-hook',
	because it's not a hook!

	* gnus-mlspl.el (gnus-group-split-update): Check the value of
	`nnmail-crosspost', and use it to set the `no-crosspost'
	argument when calling `gnus-group-split-fancy'.  Otherwise, it
	assumes that cross-posting is always OK, no matter what
	`nmail-crosspost' is set to.
	(gnus-group-split-fancy): The argument order in the
	second-to-last `push' call was wrong, but since `no-crosspost'
	was always nil, it was never being triggered.

	* gnus-art.el (gnus-treat-hide-citation-maybe): Added this
	variable to correspond with `gnus-article-hide-citation-maybe'.
	(gnus-treatment-function-alist): Added entry for the above
	correlation.

2000-10-12 08:26:30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-with-unibyte-current-buffer): Revert to old.
	(mm-with-unibyte-current-buffer-mule4): New function.
	* qp.el (quoted-printable-encode-region): Use it.
	* rfc2047.el (rfc2047-decode): Ditto.
	* webmail.el (webmail-init): Revert to use mm-disable-multibyte.

2000-10-10 08:44:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-fold-region): "=?=" is not a break point.

2000-10-10 00:00:28  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-init): Use mm-disable-multibyte-mule4.

2000-10-09 22:50:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* base64.el (base64-decode-region): Just give a message if the end
	is not sane.

2000-10-09 20:09:11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-message-header): Move fold into
	encode-region.
	(rfc2047-dissect-region): Rewrite.
	(rfc2047-encode-region): Rewrite.
	(rfc2047-fold-region): Fold any line longer than 76.
	(rfc2047-unfold-region): New function.
	(rfc2047-decode-region): Use it.
	(rfc2047-q-encode-region): Don't break at bob.

2000-10-09 17:12:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-open-connection): Kill process buffer when quit.
	(nntp-connection-timeout): Add a note. SIGALRM is ignored in both
	FSF Emacs 20 and XEmacs 21.
	* gnus-agent.el (gnus-agent-fetch-session): Catch quit.

2000-10-09  Dave Love  <fx@gnu.org>

	* gnus-audio.el: Don't require cl.
	(gnus-audio): New custom group.
	(gnus-audio-inline-sound): Change to work with Emacs.
	(gnus-audio-directory, gnus-audio-directory) 
	(gnus-audio-au-player):  Customize.
	(gnus-audio-play): Try external player if play-sound-file fails.
	Use file-name-extension, not string-match.

	* gnus-art.el (article-de-quoted-unreadable)
	(article-de-base64-unreadable): Fold search case rather than
	downcasing string.  Apply mm-charset-to-coding-system to arg of
	quoted-printable-decode-region.
	(gnus-article-dumbquotes-map): Fix dashes.
	(gnus-button-mailto, gnus-button-embedded-url): Doc fix.
	(gnus-button-reply): Just alias it.

2000-10-09  Stefan Monnier  <monnier@cs.yale.edu>

	* mm-encode.el: Require CL.  At least, for `incf'.

	* nnfolder.el (nnfolder-ignore-active-file): Typos.

	* gnus-mh.el (gnus-summary-save-in-folder): Obey mh-lib-progs.

	* gnus-kill.el (gnus-kill): Typo.

2000-10-09  Gerd Moellmann  <gerd@gnu.org>

	* smiley-ems.el (smiley-update-cache):  Use `:ascent center'.

2000-10-09  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-group-overview-filename): Create directory for
	newfile (when use long filenames is nil).  Copy+delete file if
	rename didn't work.
	(nnimap-group-overview-filename): `rename-file' and `copy-file'
	doesn't return anything useful, use ignore-errors instead.

2000-10-08 13:05:11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): Delete old elc files first.

2000-10-08 10:59:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ems.el (gnus-kill-all-overlays): Move here.
	* gnus-util.el (gnus-kill-all-overlays): Move out.
	* gnus-sum.el (gnus-cache-write-active): Auto load.
	* lpath.el: Shut up.
	* nnweb.el (nnweb-url-retrieve-asynch): url-retrieve is 
	asynchronous in Exp version.

2000-10-08 08:57:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el, gnus-ems.el, gnus-start.el: Remove gnus-xemacs.
	* gnus-ems.el: Autoload smiley.
	* gnus-art.el (gnus-treat-display-smileys): Default value in Emacs 21.

2000-10-08 08:45:48  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-display-article): Enable multibyte.
	(gnus-summary-select-article): Don't enable multibyte here.
	(gnus-summary-goto-article): Ditto.

2000-10-08 Christoph Conrad <christoph.conrad@gmx.de>

	* gnus-draft.el (gnus-draft-send-message): Typo.

2000-10-08  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-verify-uidvalidity): Delete overview file when
	uid validity changes.
	(nnimap-group-overview-filename): Store uidvalidity in filenames.
	Rename old files into new format.

2000-10-07 15:49:39  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-enable-multibyte-mule4): New.
	(mm-disable-multibyte-mule4): New.
	* gnus-sum.el (gnus-summary-mode): Use it.
	(gnus-summary-select-article): Ditto.
	(gnus-summary-goto-article): Use enable multibyte.
	* rfc2047.el (rfc2047-decode): Use unibyte.

2000-10-07 15:42:59  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-logic.el (gnus-advanced-string): Use "" if nil.

2000-10-07 10:31:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-q-encode-region): Better calculation of
	break point.
	(rfc2047-fold-region): Don't break the first non-LWSP characters.

2000-10-07 09:18:53  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-agent-fetching): New variable.
	* gnus-agent.el (gnus-agent-with-fetch): Bind it.
	* gnus-score.el (gnus-score-body): Don't score body when
	agent-fetching.
	(gnus-score-followup): Don't score followup either. 

2000-10-07 08:19:17  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el: Define dynamic variables in eval-when-compile.
	* message.el (message-sending-message): New variable.
	(message-send): Use it.
	* gnus-draft.el (gnus-draft-send-message): Ditto.
	(gnus-group-send-drafts): Ditto.

2000-10-06  Dave Love  <fx@gnu.org>

	* gnus-audio.el: Don't require cl.
	(gnus-audio): New custom group.
	(gnus-audio-inline-sound): Change to work with Emacs.
	(gnus-audio-directory, gnus-audio-directory) 
	(gnus-audio-au-player):  Customize.
	(gnus-audio-play): Try external player if play-sound-file fails.
	Use file-name-extension, not string-match.

2000-10-06 17:38:03  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-prepare): Configure it again.

2000-10-06 15:11:07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-default-charset): Default value for non-Mule
	Emacsen.

2000-10-06 14:28:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-alternative-emails): New.
	(message-use-alternative-email-as-from): New.
	(message-setup): Use them.

2000-10-06 13:46:47  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* base64.el, dgnushack.el, gnus-spec.el, messagexmas.el
	* gnus-xmas.el, nnheaderxm.el, nndraft.el: Use defalias.

	* gnus-xmas.el (gnus-xmas-define): Defalias gnus-overlay-buffer,
	gnus-overlay-start.
	* gnus.el: Ditto.
	* gnus-art.el (gnus-insert-mime-button): Use them.

2000-10-06 10:01:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-with-unibyte-current-buffer): Don't set unibyte
	if eight-bit-control is a charset, e.g. Mule 5.0 in Emacs 21.

2000-10-06 09:38:54  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encode-region): Use
	mm-with-unibyte-current-buffer within narrowed region.

2000-10-06 08:56:33  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-type-definition): Fix my-deja open url.

2000-10-06 Emerick Rogul <emerick@csa.bu.edu>

	* message.el (message-setup-fill-variables): New variable.
	(message-mode): Use it.

2000-10-05  Dave Love  <fx@gnu.org>

	* rfc2047.el (rfc2047-fold-region): Use gnus-point-at-bol.
	(rfc2047-charset-encoding-alist): Add iso-8859-1[45].

	* binhex.el: Use defalias, not fset.

	* rfc1843.el: Require cl when compiling.

2000-10-05 12:25:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-group-1): Score-param could be nil.

2000-10-05 11:43:25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-region): Merge only if regions are
	adjacent.

2000-10-05 09:41:33  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-multibyte-p): In XEmacs, it is (feature 'mule).
	(mm-find-charset-region): Merge conditions, delete ascii.
	(mm-charset-after): Rewrite.
	* mm-bodies.el (mm-encode-body): Use it.

2000-10-05 09:04:32  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-hotmail-list): Fix.

2000-10-05  Stefan Monnier <monnier+gnu/emacs@rum.cs.yale.edu>

	* nnimap.el (require): cl.

2000-10-04 15:24:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-prepare): Configure windows before
	gnus-article-prepare-display is called.  Otherwise, BBDB's popup
	window might be overrided.

2000-10-04  Dave Love  <fx@gnu.org>

	* gnus-ems.el (gnus-article-display-xface)
	[gnus-article-compface-xbm]: Fix.
	(gnus-x-splash): Bind width, height.

2000-10-04 11:45:04  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-inline-part): Use prefix argument only
	when it is called interactively.

2000-10-03 21:20:31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-action-alist): New variable.
	(gnus-mime-action-on-part): Use it.
	(gnus-mime-button-commands): Add command ".".

2000-10-03 20:37:42  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-inline-part): Support prefix argument.

2000-10-03  Katsumi Yamaoka <yamaoka@jpl.org>

	* lpath.el: "." is in the load-path because dgnushack.el.

2000-10-03  Bjorn Torkelsson  <torkel@hpc2n.umu.se>

	* uudecode.el: xemacs cleanup (use featurep ' xemacs)

	* nnheader.el: ditto

	* mm-util.el: ditto

	* message.el: ditto

	* binhex.el: ditto

	* gnus-audio.el: removed unnecessary xemacs test

	* earcon.el: ditto
	
2000-10-03 19:55:55  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnweb.el (nnweb-decode-entities): Work for non-character
	entities. 

2000-09-26 09:20:08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Message the quit parts.

2000-10-03 08:08:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-maildir): Don't insert
	newlines.

2000-10-02 20:14:27  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* dgnushack.el (dgnushack-compile): Don't compile dgnushack.el,
	lpath.el. Don't compile base64.el if there is builtin base64.

2000-10-02  Bj,Av(Brn Torkelsson  <torkel@hpc2n.umu.se>

	* base64.el (Repository): Use featurep for XEmacs test.

2000-10-02 17:38:12  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-data): Don't ignore quit.

2000-10-02 14:43:13  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-banner-alist): New variable.
	(article-strip-banner): Use it.
	* gnus-cus.el (gnus-group-parameters): Allow symbol.

2000-10-02  Dave Love  <fx@gnu.org>

	* smiley-ems.el: New file.

	* gnus-ems.el (gnus-smiley-display): Autoload.
	(mouse-set-point, set-face-foreground, set-face-background)
	(x-popup-menu): Don't clobber these.
	(gnus-article-compface-xbm): New variable.
	(gnus-article-display-xface): Move graphic test.  Use unibyte.
	Obey gnus-article-compface-xbm.  Use pbm, not xbm.

	* mml.el (require): Fix typo.
	(mml-parse-1): Modify unknown encoding prompt.

	* mail-source.el (mail-sources): Revert to nil.

	* nnmail.el (nnmail-spool-file): Revert previous change.

	* gnus.el: Don't require custom, message.
	(gnus-message-archive-method): Wrap initializer in progn and
	require message here.

2000-10-02  Gerd Moellmann  <gerd@gnu.org>

	* gnus.el (gnus-mode-line-buffer-identification) [Emacs]: Change
	image's :ascent to 80.  That gives a mode-line which is approx.
	as tall as the normal one.

2000-10-02 08:04:48  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-hotmail-list): Fix.

2000-10-01 20:55:53  ShengHuo ZHU  <zsh@cs.rochester.edu>

	Don't postpone GCC if none of GCC methods is agent-covered.  This
	fix presumes that the post-method must be agent-covered if any Gcc
	method is agent-covered.

	* gnus-msg.el (gnus-inews-group-method): New function.
	(gnus-inews-do-gcc): Use it.
	* gnus-agent.el (gnus-agent-any-covered-gcc): New function.
	(gnus-agent-possibly-save-gcc): Use it.
	(gnus-agent-possibly-do-gcc): Ditto.

2000-10-01 17:08:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-mime-types): Use mailcap-mime-data.
	* mml.el (mml-minibuffer-read-type): Use mailcap-mime-types.

2000-10-01 13:07:21  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-netscape-open, webmail-hotmail-article,
	webmail-hotmail-list): Update.

2000-10-01 08:36:09  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-report-new-mail): Use
	nnheader-cancel-timer.

2000-10-01 08:35:38  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el (overlay-*): Shut up.
	* dgnushack.el: Two implementations of smiley.

2000-10-01 08:32:42  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ml.el: Usage.
	(gnus-mailing-list-archive, gnus-mailing-list-owner,
	gnus-mailing-list-post, gnus-mailing-list-unsubscribe,
	gnus-mailing-list-subscribe, gnus-mailing-list-help): Bind list-*.
	(gnus-mailing-list-menu): Define it.
	(turn-on-gnus-mailing-list-mode, gnus-mailing-list-mode): Autoload.
	
	* gnus-xmas.el (gnus-xmas-mailing-list-menu-add): Move here.

2000-09-30 18:52:51  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-my-deja-*): Rewrite.

2000-09-30  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-request-accept-article): Remove \n's from
	From_ lines.

2000-08-05  Simon Josefsson <simon@josefsson.org>

	Make GCC to remote groups work when unplugged
	(postpone GCC until message is actually sent).

	* gnus-draft.el (gnus-draft-send): Call `gnus-agent-restore-gcc'.

	* gnus-agent.el (gnus-agent-possibly-do-gcc): 
	(gnus-agent-restore-gcc): 
	(gnus-agent-possibly-save-gcc): New functions.

	* gnus-msg.el (gnus-inews-add-send-actions): Use
	`gnus-agent-possibly-do-gcc' if Agentized.
	(gnus-inews-add-send-actions): Add `gnus-agent-possibly-save-gcc'
	to `message-header-hook'.

	* gnus.el (gnus-agent-gcc-header): New variable.

2000-07-13  Simon Josefsson <simon@josefsson.org>

	Asks the user to synch flags with server when you plug in.

	* gnus-agent.el (gnus-agent-synchronize-flags): New variable.
	(gnus-agent-possibly-synchronize-flags-server): New function, use it.
	(gnus-agent-toggle-plugged): Call it.
	(gnus-agent-synchronize-flags): Renamed from `gnus-agent-synchronize'.
	(gnus-agent-group-mode-map): `g-a-s' -> `g-a-s-flags'.
	(gnus-agent-possibly-synchronize-flags): New function.
	(gnus-agent-possibly-synchronize-flags-server): New function.

2000-09-30  Simon Josefsson  <simon@josefsson.org>

	* starttls.el: New file, by Daiki Ueno.

2000-08-02  Stanislav Shalunov <shalunov@internet2.edu>

	* message.el (message-make-in-reply-to): In-Reply-To is message-id
	(see DRUMS).
	
2000-09-29  Simon Josefsson  <simon@josefsson.org>

	* nntp.el (nntp-async-trigger): Fix authinfo in asynchronous
	prefetch.

2000-08-09 10:21:20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nntp.el (nntp-open-telnet): Wait for the telnet prompt before
	sending a command; allow the rtelnet prompt as well.

2000-09-29  Simon Josefsson  <simon@josefsson.org>

	* message.el (message-send): Make sure error is signalled if no
	send method is specified.

2000-09-29  Florian Weimer  <fw@deneb.enyo.de>

	* qp.el (quoted-printable-encode-region): Wrap with
	`mm-with-unibyte-current-buffer'.

2000-09-29 12:12:49  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-group-1): Reimplement Mike
	  McEwan's proposal.
	
2000-09-29 12:06:40  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el: Revoke Mike McEwan's 1998-09-05 patch due to
	the GNU assignment issue.

2000-09-29 09:56:34  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-dissect-mime-parts-sub): Correctly mark body-begin.

2000-09-29 09:14:08  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-enter-digest-group): Decode to-address.

2000-09-28  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-art.el (article-strip-banner): Use
	gnus-group-find-parameter rather than gnus-group-get-parameter, to
	allow inheritance on the banner.
	From elkin@tverd.astro.spbu.ru.

2000-09-26  Richard M. Alderson III <alderson@netcom2.netcom.com> 

	* gnus-art.el (gnus-read-save-file-name): expand-file-name.

2000-09-26  Dave Love  <fx@gnu.org>

	* gnus-draft.el: Don't require gnus-agent.

	* mm-view.el: Use featurep for XEmacs test.
	(mm-inline-message): Test for `remove-specifier'; don't use
	condition-case.

2000-09-24  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-request-accept-article): Remove From[^:] lines.

	* gnus-group.el (gnus-group-nnimap-edit-acl): Check if server
	support ACL's.

	* nnimap.el (nnimap-acl-get): Check capability.

	* mail-source.el (mail-source-imap-file-coding-system): New variable.
	(mail-source-fetch-imap): Use it.

	* rfc2104.el (rfc2104-hexstring-to-bitstring): New function.
	(rfc2104-hash): Use it.

	* imap.el (imap-starttls-p): Check for starttls binary.
	(imap-starttls-open): More verbose.
	(imap-gssapi-auth): Ditto.
	(imap-kerberos4-auth): Ditto.
	(imap-cram-md5-auth): Ditto.
	(imap-login-auth): Ditto.
	(imap-anonymous-auth): Ditto.
	(imap-digest-md5-auth): Ditto.
	(imap-open): Ditto.
	(imap-digest-md5-p): Check capability first.

2000-09-24  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-parse-flag-list): Correctly parse empty lists.
	(imap-login-p): Support LOGINDISABLED.

2000-09-23  Simon Josefsson  <jas@nada.kth.se>

	* rfc2104.el: Add SHA-1 example.

2000-09-22  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-parse-body): Work around bug in Sun SIMS.

2000-09-21 21:54:48  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el: Bind nnkiboze-score-file.

2000-09-21 16:15:25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-use-all-scores): New variable.
	(gnus-all-score-files): Use it.
	* nnkiboze.el (nnkiboze-generate-group): Use it. Inhibit list groups.
	(nnkiboze-enter-nov): Fix it when there is no xref.
	(nnkiboze-generate-groups): List groups.
	* gnus-group.el (gnus-group-make-kiboze-group): Use 
	nnkiboze-score-file.
	
	* nnkiboze.el (nnkiboze-request-article): Use
	gnus-cache-request-article.
	* gnus-group.el (gnus-group-make-kiboze-group): Fix prompt.

2000-07-16 Dmitry Bely <dbely@mail.ru>

	* nnheader.el (nnheader-translate-file-chars): Path splitting on NT.

2000-09-20 18:33:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-find-bnews): Use directory-sep-char.

2000-09-20 17:37:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-default-charset): Set default value in
	non-MULE XEmacsen as iso-8859-1.

2000-09-20 12:02:24  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-demon.el: Use (featurep 'xemacs).
	* gnus-agent.el: timer vs. itimer.
	* mail-source.el: Ditto.

2000-09-19 10:24:57  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-make-kiboze-group): Makedir.
	* nnheader.el (nnheader-parse-nov): Remove Xref in mail-header-xref.
	* gnus-sum.el (gnus-nov-parse-line): Ditto.
	* nnkiboze.el (nnkiboze-file-coding-system): New.
	(nnkiboze-retrieve-headers): Use it.
	(nnkiboze-request-group): Ditto.
	(nnkiboze-close-group): Ditto.
	(nnkiboze-generate-group): Ditto.
	(nnkiboze-enter-nov): Insert first Xref properly.

2000-09-19  Dave Love  <fx@gnu.org>

	* nnmail.el (nnmail-cache-accepted-message-ids): Default to nil.
	(nnmail-get-new-mail): Test `sources' in top-level conditional.

	* mail-source.el (mail-sources): Change default to '((file)).
	Add useful custom type.

2000-09-18  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-util.el (gnus-time-iso8601): Correct doc string (four digit
	year).
	(gnus-date-iso8601): Ditto.

2000-09-18 09:05:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-imap): Disable multibyte.

2000-09-17 01:13:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-q-encoding-alist): Remove = and _ from the
	pattern. Avoid using 8 bit chars.
	* qp.el (quoted-printable-encode-region): Avoid using 8 bit chars.

2000-09-16 15:57:42  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* smiley.el (smiley-buffer-ems, smiley-create-glyph-ems,
	smiley-toggle-extent-ems, smiley-toggle-extents-ems,
	smiley-toggle-buffer-ems): New functions for Emacs 21. Toggle
	functions are not implemented yet.
	
	* dgnushack.el (dgnushack-compile): Remove smiley.el and 
	x-overlay.el from the FSF Emacs black list.

2000-09-15 21:10:20  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-inlined-types): Add application/emacs-lisp.
	(mm-inline-media-tests): Ditto.
	(mm-automatic-display): Ditto.
	* mm-view.el (mm-display-inline-fontify): Generalize from 
	mm-display-patch-inline. 
	(mm-display-patch-inline): Use it.
	(mm-display-elisp-inline): Ditto.
	
2000-09-15 14:03:00  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-find-groups): Add recursive parameter.
	(gnus-topic-unmark-topic): Ditto.
	(gnus-topic-mark-topic): Ditto.
	(gnus-topic-get-new-news-this-topic): Use it.

2000-09-15 09:01:40  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treat-display-xface): By default, Emacs 21
	display xface.

2000-08-23 02:54:46  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el (gnus-group-rename-group): Inhibit renaming of
	zombie or killed groups.
	
2000-09-15 00:09:56  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-preview): Reinsert unibyte content. 
	(mml-parse-1): Remove with-unibyte-current-buffer.
	(mml-generate-mime-1): Ditto.
	* gnus-msg.el (gnus-summary-mail-forward): Ditto.
	* message.el (message-forward): Ditto.

2000-09-14 23:13:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-de-quoted-unreadable): Guess charset from
	original article buffer.
	(article-de-base64-unreadable): Ditto.
	(article-wash-html): Ditto.

2000-09-14 18:55:30  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-mail-forward): Disable multibyte
	unless forward-show-mml.

2000-09-14 14:48:57  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-save-parts-type-history): New.
	(gnus-summary-save-parts-last-directory): New.
	(gnus-summary-save-parts): Save history.

2000-09-14 Ben Gertzfield <che@debian.org>

	* gnus-sum.el (gnus-summary-save-parts-default-mime): New
	variable.
	(gnus-summary-save-parts): Use it.

2000-09-14 11:31:28  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-setup-buffer): Clean handle-alist.
	* gnus-sum.el (gnus-summary-exit): Ditto.
	(gnus-summary-exit-no-update): Ditto.
	(gnus-summary-show-article): Ditto.

2000-09-14 08:42:48  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-dissect-mime-parts-sub): Remove
	Content-Disposition.

2000-09-13 23:58:40  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Hotmail updated. Add X-Gnus-Webmail.

2000-09-13 21:41:25  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-setup-buffer): Set
	gnus-article-mime-handles to nil.
	* gnus-sum.el (gnus-summary-exit): Ditto.
	(gnus-summary-exit-no-update): Ditto.
	(gnus-summary-show-article): Ditto.
	(gnus-summary-save-parts): Use gnus-article-mime-handles if
	dissected.
	* mm-partial.el (mm-partial-find-parts): Remove redundancy.

2000-09-13 16:59:33  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-sort): Sort loose threads too.
	(gnus-sort-threads-1): New function. Sort threads recursively.
	(gnus-sort-threads): Use it.
	(gnus-sort-gathered-threads): Doc fix.

2000-09-13  Dave Love  <fx@gnu.org>

	* gnus-salt.el (gnus-binary-mode): Fix call to gnus-add-minor-mode.

	* gnus-ems.el (gnus-ems-redefine): Don't alias
	gnus-summary-set-display-table.

	* message.el (message-user-agent): Don't wrap ignore-errors around
	it.

	* mm-encode.el (mm-insert-multipart-headers): Avoid redundant
	`format'.
	(mm-content-transfer-encoding): Don't use cadar.

	* uudecode.el (uudecode-decoder-program) 
	(uudecode-decoder-switches): Customize.

	* gnus-score.el (gnus-home-score-file): Improve custom type.

	* gnus-cus.el (gnus-custom-mode): Conditionally set local
	variables for Emacs 21.
	(gnus-group-customize): Disable undo while laying out the buffer.

2000-09-13 09:38:26  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-write-active-file): Bind
	coding-system-for-write.

2000-09-13 09:14:57  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-get-new-mail): Don't test nnmail-spool-file.
	
	* gnus-cache.el (gnus-jog-cache): Temporarily disable mail-sources.
	* gnus-kill.el (gnus-batch-score): Ditto.
	* gnus-move.el (gnus-change-server): Ditto.
	* nnkiboze.el (nnkiboze-generate-groups): Ditto.

2000-09-12  Simon Josefsson  <simon@josefsson.org>

	* gnus-sum.el (gnus-update-read-articles): Undo
	`gnus-request-set-mark' operation.

2000-09-11  Dave Love  <fx@gnu.org>

	* Changelog: Use iso-2022 coding.

	* gnus-msg.el (gnus-msg-mail): New function.
	(gnus-user-agent): New mail agent.

2000-09-10  Dave Love  <fx@gnu.org>

	* message.el: Require mail-abbrevs for XEmacs for a problem with
	keybinding despite the autoloads for it.

2000-09-08  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-kerberos4-open): Erase more (fixes race condition?).

	* nnimap.el (nnimap-request-update-info-internal): Remove tick
	marks from dormant articles. (See nnimap-request-set-mark.)
	(nnimap-retrieve-headers-progress): Demule.
	(nnimap-open-server): Call nnoo-change-server twice, once for
	getting the nnimap-server-buffer and once for letting n-c-s set
	the variables in that buffer.

2000-09-08  David Edmondson <dme@dme.org>

	* gnus.el (gnus-short-group-name): Guess separator.

2000-09-07  Tadashi Watanabe  <watanabe@sigmaitec.co.jp>

	* smiley.el (smiley-buffer, smiley-create-glyph): Work with GTK
	XEmacs as well.

2000-09-06  Francis Litterio <franl-removethis@world.omitthis.std.com>

	* gnus-group.el (gnus-group-insert-group-line): Fix.

2000-09-04  Dave Love  <fx@gnu.org>

	* mm-decode.el (mime-display) <defgroup>: Add `multimedia' group.
	(mm-get-image): Avoid the losing `make-glyph' from W3.

2000-09-03  Simon Josefsson  <simon@josefsson.org>

	* gnus-sum.el (gnus-summary-delete-article): Check server.

2000-09-01  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-parse-flag-list): Rewrite.

	* nnimap.el (nnimap-retrieve-headers-from-file): Ignore errors.

	* imap.el (imap-parse-flag-list): Hack.

2000-08-29  Dave Love  <fx@gnu.org>

	* gnus-mlspl.el (gnus-group-split-fancy): Eschew mapcon.

	* dgnushack.el (mapcon, union): Remove compiler macros.

	* gnus-agent.el (gnus-agent-union): new function.
	(gnus-agent-fetch-headers): Use it.

	* gnus.el (gnus-group-startup-message): Specify foreground and
	background for xpm image.  Centre image vertically.
	From Katsumi Yamaoka <yamaoka@jpl.org> with mods.

2000-08-24 23:49:23  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail): Narrow-to-headers.

2000-08-24  Dave Love  <fx@gnu.org>

	* gnus-art.el (gnus-insert-mime-button): Fix help-echo for Emacs
	21.

2000-08-23  Dave Love  <fx@gnu.org>

	* dgnushack.el: Remove `member-if' compiler macro.

2000-08-21  Dave Love  <fx@gnu.org>

	* nnimap.el (nnimap-request-newgroups): Eschew member-if.

2000-08-21 10:09:47  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-hide-topic): Use find-topology if
	permanent is used.
	(gnus-topic-show-topic): Read topic when to show permanent hidden
	topic.
	(gnus-topic-remove-topic): Revert to the old behavior, not using
	hide.

2000-08-21  Dave Love  <fx@gnu.org>

	* gnus-ems.el (gnus-add-minor-mode): Add &rest arg.
	(gnus-xemacs): Use featurep.

	* mm-util.el (mm-read-charset): Maybe use builtin.
	(mm-replace-chars-in-string): Maybe use subst-char-in-string.
	(mm-multibyte-p, mm-with-unibyte-current-buffer)
	(mm-with-unibyte): Use featurep, not string-match.
	(mm-with-unibyte-buffer): Simplify.
	(mm-quote-arg): Maybe use shell-quote-argument.

	* mml.el (mml-make-string): Deleted (unused).

	* gnus.el (gnus-mode-line-buffer-identification): Supply
	definition for Emacs 21.

	* gnus-salt.el: Small doc fixes.
	(gnus-pick-mode, gnus-binary-mode): Supply a toggle-func arg to
	gnus-add-minor-mode.

	* gnus-topic.el (gnus-topic-mode): Supply a toggle-func arg to
	gnus-add-minor-mode.

2000-08-20  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-before-find-minmax-bugworkaround): New
	function, thanks to Lloyd Zusman for debugging.
	(nnimap-request-group): 
	(nnimap-request-list): 
	(nnimap-retrieve-groups): 
	(nnimap-request-newgroups): Use it.

	* nnimap.el (nnimap-request-article-part): Less verbose.

2000-08-19  Andreas Jaeger  <aj@suse.de>

	* lpath.el ((string-match "XEmacs" emacs-version)): Remove
	subst-char-in-string since we test elsewhere whether it's bound.
	
2000-08-18  Dave Love  <fx@gnu.org>

	* gnus-score.el (gnus-score-find-score-files-function): Fix doc,
	custom type.

	* gnus-xmas.el (gnus-group-icon-create-glyph): Don't test
	gnus-group-running-xemacs.

	* nnheader.el (nnheader-replace-chars-in-string): Use
	subst-char-in-string if available.

	* gnus-art.el (gnus-read-save-file-name, gnus-plain-save-name) 
	(gnus-request-article-this-buffer): Use expand-file-name.
	(gnus-mime-view-part-as-type): Simplify interactive spec.
	(gnus-mime-button-map): Define it all in defvar.

2000-08-17  Dave Love  <fx@gnu.org>

	* gnus-group.el (gnus-group-running-xemacs): Deleted.

	* gnus-demon.el (gnus-demon): Bind use-dialog-box and
	last-nonmenu-event.

	* uudecode.el (char-int): Use defalias, not fset.

	* score-mode.el: Don't require easymenu.  Require mm-util.
	(score-mode-coding-system): Use mm-auto-save-coding-system.

	* nneething.el (nneething-create-mapping): Don't use cadar & al.
	(nneething-file-name): Use expand-file-name, not concat.

2000-08-16 13:05:46  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-threaded-retrieve-headers):
	Failure proof for email addresses.
	(nnslashdot-sane-retrieve-headers): Ditto.

2000-08-14 20:08:40  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-mail): Only insert courtesy message
	when text/plain.

2000-08-14 19:55:04  Jesper Harder  <jesper_harder@hotmail.com>

	* message.el (message-cancel-news): Copy the From header from the
	original article.

2000-08-14 19:52:01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-async.el (gnus-asynchronous): Removed.

2000-08-14 16:12:11  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-maildir): Use MMDF mail
	format.

2000-08-14 19:12:22  Rod Whitby  <list.ding@rwhitby.net>

	* nnmail.el (nnmail-expiry-target-group): Fixed.

2000-08-14  Rod Whitby <list.ding@rwhitby.net>

	* nnmail.el (nnmail-expiry-target-group): Fix the call to
	gnus-request-accept-article so that body encoding is *not* done.
	Encoding is not done on incoming mail, so why should it be done on
	expired mail?


2000-08-14  Rod Whitby <list.ding@rwhitby.net>

	* nnml.el (nnml-request-expire-articles): Fix the calls to
	nnml-request-article (the filename was being passed instead of the
	article number) and nnmail-expiry-target-group
	(nnml-current-directory is changed by nnml-request-accept-article,
	causing it to be incorrect for the next article to be expired).

2000-08-14  Rod Whitby <list.ding@rwhitby.net>

	* gnus-sum.el (gnus-summary-expire-articles): Fix the handling of
	expiry-target group parameters. 

2000-08-13 18:53:08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-select-group): Touch the dribble
	buffer.
	(gnus-topic-hide-topic): Take a PERMANENT parameter.
	(gnus-topic-show-topic): Ditto.

	* gnus-dup.el (gnus-dup-suppress-articles): Do auto-expiry.

2000-08-12 21:48:00  John H. Palmieri  <palmieri@math.washington.edu>

	* mail-source.el (mail-source-incoming-file-prefix): New
	variable. 

2000-08-12 20:29:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-check-first-time-used): Clean up a bit.

	* mailcap.el (mailcap-maybe-eval): Be even more warning.

2000-08-11  Florian Weimer  <fw@deneb.enyo.de>

	* message.el (message-syntax-checks): New check quotin-style: 
	Text must be written below quoted text.
	(message-check-news-body-syntax): Check it.

2000-08-11  Simon Josefsson  <simon@josefsson.org>

	* imap.el (imap-authenticator-alist): Fix typo.
	(imap-gssapi-open): Copy krb4 fixes for modern imtest's, thanks to
	Jonas Oberg for debugging.

2000-08-11  Simon Josefsson  <simon@josefsson.org>

	* gnus-async.el (gnus-asynchronous): Disable by default.

2000-08-10 20:22:09  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-text): Bind fill-column.

	* nnvirtual.el (nnvirtual-request-expire-articles): Return the
	list of unexpired articles.

	* gnus-group.el (gnus-group-expire-articles-1): Return the list of
	un-expired articles. 

	* gnus-sum.el (gnus-summary-reparent-thread): Narrow to the
	headers. 

	* gnus-topic.el (gnus-topic-kill-group): Move up one line so that
	we update the right topic.. 

	* mm-decode.el (mm-display-external): Put point at start. 

2000-08-10  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-expiry-target): More explicit documentation.

	* gnus-cus.el (gnus-group-parameters): Add parameter `expiry-wait'.

2000-08-09  Simon Josefsson <simon@josefsson.org>

	* imap.el (imap-parse-body):
	(imap-parse-string-list): Add bug workarounds for Stalker
	Communigate Pro 3.0 server.
	(imap-body-lines): Remove bogus comment.

	* imap.el (imap-range-to-message-set): Move from nnimap.el.

	* nnimap.el (nnimap-retrieve-which-headers):
	(nnimap-retrieve-headers-from-server):
	(nnimap-request-set-mark):
	(nnimap-request-expire-articles): Use `i-r-t-m-set' instead.

2000-08-08 00:53:41  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-dont-reply-to-names):
	rmail-dont-reply-to-names may not be defined.

2000-08-07 09:37:01  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-iterate): Uncompiled function should 
	not use pop.

2000-07-19  Dave Love  <fx@gnu.org>

	* gnus-ems.el: Defalias some dummy funcs to `ignore'.
	(gnus-x-splash): Use expand-file-name.  Remove redundant facep
	check.
	(gnus-article-display-xface): Special-case for dark backgrounds.

2000-07-19  Kim-Minh Kaplan <kmkaplan@galaxy.fr>

	* imap.el (imap-calculate-literal-size-first): New variable.
	(imap-local-variables): Add it.
	(imap-kerberos4-open): Set it.
	(imap-send-command): Use it.

2000-07-17 14:18:16  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-mimetypes-parsed-p): New variable.
	(mailcap-parse-mimetypes): Use it.
	(mailcap-extension-to-mime): Parse mimetype.
	(mailcap-mime-types): Ditto.
	* mml.el (mml-minibuffer-read-type): Ditto.

2000-07-16 18:25:07  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-type-alist): Add outlook.
	(nndoc-outlook-type-p): New function.
	(nndoc-outlook-article-begin): Ditto.

2000-07-16  Daiki Ueno  <ueno@unixuser.org>

	* gnus-sum.el (gnus-restore-hidden-threads-configuration): Save
	excursion.

2000-07-15  Simon Josefsson  <simon@josefsson.org>

	* gnus-cus.el (gnus-group-parameters, banner): Type is regexp.

	* imap.el (imap): 
	(imap-kerberos4-program): 
	(imap-gssapi-program): 
	(imap-ssl-program): Customization.
	(imap-shell-program): 
	(imap-shell-host): New variables.
	(imap-streams): 
	(imap-stream-alist): Add shell.
	(imap-shell-p): 
	(imap-shell-open): New functions.
	(imap-open): Don't call authenticator if preauth.
	(imap-authenticate): Return t if already authenticated.

2000-07-14  Simon Josefsson  <simon@josefsson.org>

	* gnus.el (gnus-invalid-group-regexp): New variable.
	(gnus-read-group): Use it.

2000-07-14 12:40:51  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-group-1): mark-below, 
	expunge-below and orphan-score are "group variables".

2000-07-13  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-srvr.el (gnus-browse-read-group): Don't pass fully
	qualified group names to `gnus-group-read-ephemeral-group'.

2000-07-13 07:40:39  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (srcdir): Define it before use it.

2000-07-12 19:37:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el: `W t' is toggle-header in info.

2000-07-12 16:50:06  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el: Fbind subst-char-in-string.

2000-07-12 15:48:29  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in: Use W3DIR and lispdir.
	* dgnushack.el: Ditto.

2000-07-12 10:12:31  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-de-base64-unreadable): Typo.

2000-07-12  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-agent.el (require): Require timer.

2000-07-11 18:29:50  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-bounce): Call mime-to-mml.

2000-07-11 18:00:49  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-close): New function.

2000-07-04 23:23:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-threaded-retrieve-headers): Get the
	right line number for the article.

2000-07-10 22:41:58  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-threaded-retrieve-headers): Save point.
	* webmail.el (webmail-fetch): Bind 
	url-http-silence-on-insecure-redirection.

2000-07-10 11:43:22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-threaded-retrieve-headers): Use
	unibyte.
	(nnslashdot-sane-retrieve-headers): Ditto.
	(nnslashdot-request-article): Ditto.

2000-07-10 11:12:32  William M. Perry <wmperry@aventail.com>

	* mailcap.el (mailcap-parse-mimetype-file): 

2000-07-07 23:46:22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-insert): Stricter test.
	* webmail.el (webmail-refresh-redirect): Ditto.

2000-07-06 14:17:48  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-multipart): Match the EOL of boundary.

2000-07-05 21:19:22  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-insert-nov): Remove EOLs of all fields.

2000-07-05  Dave Love  <fx@gnu.org>

	* utf7.el: Doc and header fixes.

	* gnus-sum.el: Doc fixes.

	* gnus-util.el (gnus-point-at-eol, gnus-point-at-bol): Use
	defalias, not fset.

	* flow-fill.el (fill-flowed-point-at-eol)
	(fill-flowed-point-at-bol): Use defalias, not fset.

	* gnus-art.el: Don't alias article-mime-decode-quoted-printable.
	(gnus-Plain-save-name): Delete -- apparently bogus.

2000-07-03 00:12:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnsoup.el: Use expand-file-name throughout.

2000-07-03 00:07:51  Kjetil Torgrim Homme  <kjetilho@ifi.uio.no>

	* nnmail.el (nnmail-read-incoming-hook): New example.

2000-07-02 23:17:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-text): Check whether the text has already
	been decoded.

2000-07-04 15:17:05  ShengHuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-sid-strip): To strip or not to strip?

2000-07-03  Stainless Steel Rat <ratinox@peorth.gweep.net>

	* gnus-sum.el (gnus-recenter): Fix horizontal recenter.

2000-07-03  Simon Josefsson  <simon@josefsson.org>

	* gnus-sum.el (gnus-update-marks): Don't propagate download and
	unsend flags.

2000-07-03  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-open-connection): Don't look up virtual server
	name in authinfo (.authinfo now support ports, no need for the
	hack).
	(nnimap-split-find-rule): Fix.
	(nnimap-open-connection): Look for nnimap-server-address in authinfo.

2000-07-03  Paul Stodghill <stodghil@CS.Cornell.EDU>

	* message.el (message-unquote-tokens): Remove all quotes.

2000-07-03 00:29:08  Julien Gilles  <julien.gilles@bcv01y01.vz.cit.alcatel.fr>

	* gnus-ml.el: New file. 

2000-07-02 16:11:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-request-close): New function.

	* gnus-start.el (gnus-clear-system): Clear nnmail-split-history. 

2000-06-18  Norbert Koch  <norbert@s.netic.de>

	* Makefile.in: Better support for xemacs builds

Sun Jul  2 15:11:35 2000  Lars Magne Ingebrigtsen  <lmi@quimbies.gnus.org>

	* gnus.el: Gnus v5.8.7 is released.

2000-05-19 06:32:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-insert-part): Characters doubly decoded.

2000-07-01 10:23:08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-do-fcc): Encode MIME.

2000-06-28 13:52:57  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el: Fbind image-size.

2000-06-28  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-split-rule): Update doc with extended syntax.
	(nnimap-assoc-match): New function.
	(nnimap-split-find-rule): Support extended syntax.

2000-06-28  Simon Josefsson  <simon@josefsson.org>

	* nnimap.el (nnimap-open-connection): Use port stuff.

	* gnus-util.el (gnus-netrc-machine): Add defaultport parameter,
	document port and defaultport.

2000-06-27  Paul Stodghill <stodghil@CS.Cornell.EDU>

	* gnus-agent.el (gnus-agent-synchronize): Kill flags buffer.

2000-06-26  Dave Love  <fx@gnu.org>

	* mm-decode.el (mm-image-fit-p): Use `image-size' in Emacs. 

	* message.el: Remove unnecessary `require'ments.  Defvar
	gnus-list-identifiers when compiling.  Don't try to autoload
	variable `gnus-list-identifiers'.  Autoload
	gnus-group-name-charset.
	(message-fetch-field): Don't assume `format' removes text
	properties.
	(message-strip-list-identifiers, message-reply, message-followup):
	Require gnus-sum.
	(message-mode): Tidy XEmacs conditionals.
	(message-replace-chars-in-string): Use subst-char-in-string when
	available.

	* gnus-xmas.el (gnus-xmas-define) <match-string-no-properties>:
	Define if necessary.

	* gnus-art.el (gnus-article-edit-exit): Don't assume `format'
	removes text properties.

	* gnus-srvr.el (gnus-browse-group-name): Likewise.

	* gnus-msg.el (gnus-copy-article-buffer):  Likewise.

	* gnus-score.el (gnus-summary-score-entry): Likewise.

2000-06-26 11:18:57  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnimap.el (nnimap-request-post): Fix parenthesis.

2000-06-26  Paul Stodghill <stodghil@CS.Cornell.EDU>

	* message.el (message-unquote-tokens): New function.

	* gnus-msg.el (gnus-inews-do-gcc): Unquote gcc tokens.

	* nnimap.el (nnimap-request-post): Ditto.

2000-06-21  Simon Josefsson  <jas@pdc.kth.se>

	* gnus.el (gnus-asynchronous): Removed (defined in gnus-async.el).

	* nnimap.el (nnimap-callback): Update for IMAP4rev1 servers (see
	patch commited 2000-04-02).

2000-06-20  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el (imap-mailbox-examine-1): New function.
	(imap-message-copyuid-1):
	(imap-message-appenduid-1): Use it, instead of
	`imap-mailbox-examine' which would utf-7 encode mailbox name
	twice.

2000-06-19  Dave Love  <fx@gnu.org>

	* mm-uu.el Don't require message.  Require cl when compiling.

2000-06-17 18:58:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-local-variables): gnus-orphan-score is
	a local variable.
	* gnus-sum.el (gnus-orphan-score): Move here.

2000-06-10 09:33:36  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward): Remove show-mml condition.
	(message-forward-ignored-headers): Remove X-Gnus headers.

2000-06-08  Simon Josefsson  <simon@josefsson.org>

	* gnus-cus.el (gnus-extra-group-parameters): Add uidvalidity.

2000-06-08 12:34:26  Urban Engberg <ue@ccieurope.com>

	* gnus-demon.el (gnus-demon-scan-mail): Bind nnmail-fetched-sources.

2000-06-08 12:27:55  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-syntax-checks): Add type.

2000-06-07  Dave Love  <fx@gnu.org>

	* mm-view.el (mm-inline-image-emacs): Don't specify string for
	put-image.
	(mm-inline-image): Defalias, not fset.

	* gnus.el (gnus-group-startup-message): Don't specify string for
	insert-image.

	* gnus-ems.el (gnus-add-minor-mode): Make it an alias if
	add-minor-mode is available.
	(gnus-article-display-xface): Don't specify string for
	insert-image.

2000-06-06 13:28:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-remove-topic): Set hidden.
	(gnus-topic-insert-topic-line): Use shownp.
	(gnus-topic-hide-topic): Don't use hidden.
	(gnus-topic-show-topic): Don't use hidden.

2000-06-05 22:25:12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-cache-possibly-enter-article): Bind coding
	system.
	* gnus-soup.el (gnus-soup-write-prefixes): Ditto.
	* gnus-start.el (gnus-slave-save-newsrc): Ditto.
	* gnus-util.el (gnus-output-to-rmail): Ditto.
	(gnus-output-to-mail): Ditto.
	(gnus-write-buffer): Ditto.
	* gnus-uu.el (gnus-uu-save-article): Ditto.

2000-06-04 15:05:16  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-read-from-minibuffer): Typo.

2000-06-03 13:36:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-decode-charset): Override non-MIME forward
	charset.

2000-06-02 12:04:26  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-quote-region): Correct the regexp.
	* gnus-msg.el (gnus-summary-reply): mml-quote it.

2000-06-02 11:57:15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-forward): Insert raw text.
	* mml.el (mml-parse-1): Get raw text in unibyte mode.
	(mml-generate-mime-1): Insert raw text in unibyte mode.

2000-06-01  Florian Weimer  <fw@deneb.cygnus.argh.org>

	* mm-bodies.el (mm-body-encoding): Always encoded if
	`mm-use-ultra-safe-encoding' is set.

2000-05-31 14:50:52  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (ange-ftp-name-format): Typo.

2000-05-30  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-start.el (gnus-get-unread-articles): If
	`gnus-activate-group' and/or `gnus-check-server' return nil, don't
	try to do anything on that server.
	
2000-05-25  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-group.el (gnus-group-nnimap-edit-acl): Help text updated
	from latest draft.

2000-05-08  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-group.el (gnus-group-expire-articles-1): Make sure server
	is open.

2000-05-24  Dave Love  <fx@gnu.org>

	* mml.el (mml-parse-file-name): Fix ange-ftp part.

2000-05-22  Didier Verna  <didier@lrde.epita.fr>

	* gnus.el (gnus-redefine-select-method-widget): new function, call
	it once. Add an "other" entry for unknown but editable backend
	name symbols.
	* gnus-start.el (gnus-declare-backend): use it.

2000-05-19  Dave Love  <fx@gnu.org>

	* gnus-art.el (gnus-article-next-page): Revert last change.

2000-05-19 09:56:07  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-open-history): Open history in binary mode.

2000-05-19  Dave Love  <fx@gnu.org>

	* gnus-art.el (gnus-mime-externalize-part): Bind mm-inlined-types,
	not mm-inline-large-images.

2000-05-19 01:45:40  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-parse-1): Don't test multiple-charsets within mml tag.

2000-05-18  Dave Love  <fx@gnu.org>

	* gnus-art.el: Use defalias, not fset.
	(gnus-article-x-face-command): Don't test for xbm.
	(gnus-article-next-page): Redisplay before testing point in window.

2000-05-17 21:16:54  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-mode-map): Add M-SPACE.
	* mml.el (mml-mode-map): Comment out mml-narrow-to-part.

2000-05-17 21:13:38 Jim Davidson <jdavidson@acm.org>

	* gnus-sum.el (gnus-summary-save-article-rmail): Use
	gnus-summary-save-in-rmail.
	* message.el (message-output): Ditto.

2000-05-17 22:37:25  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-emphasize-whitespace-regexp): Doc fix.

2000-05-17 14:03:49  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-message-header): Encode if the method
	is a charset.
	* message.el (message-send-news): Check group name charset.
	* gnus-msg.el (gnus-post-news): Decode group name.
	(gnus-inews-do-gcc): Encode group name.

2000-05-17 10:16:32  Karl Kleinpaste <karl@charcoal.com>

	* gnus-art.el (gnus-emphasize-whitespace-regexp): New variable.
	* gnus-util.el (gnus-put-text-property-excluding-newlines): Use it.

2000-05-17 02:25:11  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-mark-line-p): New function.
	(gnus-group-goto-group): New parameter.
	(gnus-group-remove-mark): Use it.
	* gnus-topic.el (gnus-topic-move-group): Ditto.
	(gnus-topic-remove-group): Ditto.

2000-05-17 00:49:09  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-list-dormant): New function.

2000-05-16 23:20:42  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-synchronize): Use
	nnheader-insert-file-contents.
	(gnus-agent-save-active-1): Ditto.
	(gnus-agent-write-active): Ditto.
	(gnus-agent-expire): Ditto.
	* gnus-cache.el (gnus-cache-read-active): Ditto.
	* gnus-start.el (gnus-master-read-slave-newsrc): Ditto.
	* gnus-sum.el (gnus-summary-import-article): Ditto.

	* gnus-agent.el (gnus-agent-write-servers): Bind coding-system.
	(gnus-agent-save-group-info): Ditto.
	(gnus-agent-save-alist): Ditto.
	* gnus-util.el (gnus-make-directory): Ditto.

	* gnus-agent.el (gnus-agent-save-group-info): Disable multibyte.

2000-05-16 21:13:24  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-preprocess-function): New variable.
	(mml-generate-mime-postprocess-function): New variable.
	(mml-generate-mime-1): Use them.

2000-05-16 18:15:24  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-apropos): Group name charset.
	* gnus-sum.el (gnus-set-mode-line): Ditto.
	* gnus-group.el (gnus-group-decoded-name): New function.
	(gnus-group-edit-group): Use it.
	* gnus-cus.el (gnus-group-customize): Use it.

2000-05-16 17:55:57  Karl Kleinpaste <karl@charcoal.com>

	* gnus-util.el (gnus-put-text-property-excluding-newlines): Improve.

2000-05-16 16:22:17  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-name-charset-method-alist): New variable.
	(gnus-group-name-charset-group-alist): Ditto.
	(gnus-group-name-charset): New function.
	(gnus-group-name-decode): New function.
	(gnus-group-insert-group-line): Use them.
	(gnus-group-prepare-flat-list-dead): Ditto.
	(gnus-group-list-active): Ditto.
	(gnus-group-describe-all-groups): Ditto.
	(gnus-group-prepare-flat-list-dead-predicate): Ditto.
	* gnus-srvr.el: (gnus-browse-foreign-server): Decode group name and
	add gnus-group property.
	(gnus-browse-group-name): Read gnus-group property.

2000-05-16 15:27:08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-possibly-change-group): Use
	file-name-coding-system instead of pathname-coding-system.
	* nnmail.el (nnmail-find-file): Ditto.
	(nnmail-write-region): Ditto.
	* nnmh.el (nnmh-retrieve-headers): Ditto.
	(nnmh-request-article): Ditto.
	(nnmh-request-group): Ditto.
	(nnmh-request-list): Ditto.
	(nnmh-possibly-change-directory): Ditto.
	(nnmh-active-number): Ditto.
	* nnml.el (nnml-possibly-change-directory): Ditto.
	(nnml-request-list): Ditto.
	(nnml-request-article): Ditto.
	(nnml-retrieve-headers): Ditto.

2000-05-16  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-request-accept-article): Don't unselect
	mailbox if no mailbox is selected.

2000-05-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-button-url-regexp): Revert earlier change.
	Recognize domain names starting with `www.' as starting an URL.

2000-05-15 09:46:47  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-maildir): Insert "From ".
	(mail-source-keyword-map): Add "subdirs" for maildir.

2000-05-14 16:19:28  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-scan-directory-mail-source-once): New variable.
	(nnmail-get-new-mail): Use it.
	* gnus-start.el (gnus-get-unread-articles): Ditto.

2000-05-14 14:02:12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-edit-article): Better support for
	nndraft:drafts.
	* nndraft.el (nndraft-request-replace-article): New function,
	bind nnmail-file-coding-system.

2000-05-14  Dave Love  <fx@gnu.org>

	* nnheader.el: Replace uses of `fset' with `defalias'.
	(jka-compr-compression-info-list): Only defvar when compiling.

2000-05-14 12:30:28  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-netaddress-article): Refresh redirect.

2000-05-13 20:41:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): w3 might not recognize utf-8.

2000-05-13 16:49:41  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Translate &nbsp; to SP.

2000-05-13 13:00:17  Robin S. Socha <robin@socha.net>

	* message.el (message-bounce): Doc typo.

2000-05-13 12:25:21  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-soup.el (gnus-soup-encoding-type): u is USENET news format.
	(gnus-soup-store): Ditto.
	(gnus-soup-send-packet): Ditto.
	* nnsoup.el (nnsoup-replies-format-type): Ditto.
	(nnsoup-dissect-buffer): Ditto.
	(nnsoup-narrow-to-article): Ditto.
	(nnsoup-make-active): Ditto

2000-05-13 12:03:29  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-mode): Two parameters for local-variable-p.

2000-05-13 00:54:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-strip-list-identifiers): New function.
	(message-reply): Use it and use message-strip-subject-re.
	(message-followup): Ditto.
	* gnus-art.el (article-hide-list-identifiers): Remove more.
	* gnus-sum.el (gnus-summary-remove-list-identifiers): Ditto.

2000-05-12 22:28:54  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-uu.el (gnus-uu-digest-mail-forward): Bind
	mail-parset-charset and use non-numeric argument.

2000-05-12 20:54:11  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-buffer-list): New variable.
	(mml-generate-new-buffer): New function.
	(mml-destroy-buffers): Ditto.
	(mml-insert-mime): Use them.
	* gnus-msg.el (gnus-setup-message): mml-buffer leaks.
	* gnus-sum.el (gnus-summary-edit-article): Ditto.
	* message.el (message-mode): Ditto.
	* gnus-uu.el (gnus-uu-digest-headers): Keep MIME headers.
	(gnus-uu-save-article): Support show-as-mml.
	* message.el (message-forward): Ditto.

2000-05-12 15:15:55  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-type-alist): mime-digest head-begin.
	(nndoc-mime-digest-type-p): Locate article head precisely.
	* mml.el (mml-generate-default-type): New variable.
	(mml-generate-mime-1): Use it.
	(mml-insert-mime-headers): Use it.
	* gnus-uu.el (gnus-uu-digest-buffer): New variable.
	(gnus-uu-digest-mail-forward): Use it and call message-forward
	with argument digest.
	(gnus-uu-save-article): Support message-forward-as-mime.
	* message.el (message-forward): Add parameter digest.
	* mm-decode.el (mm-dissect-default-type): New variable.
	(mm-dissect-buffer): Use it.

2000-05-11 11:08:03  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-parse-singlepart-with-multiple-charsets): Set space,
	newline and paragraph to nil when got a non-ascii character. Test
	paragraph before newline.

2000-05-10 12:17:58  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encode-region): Bind tab-width to 1. Set
	limit to 76.

2000-05-10 09:11:48  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-sid-strip): New function.
	(nnslashdot-threaded-retrieve-headers): New format.
	(nnslashdot-sane-retrieve-headers): Ditto.
	(nnslashdot-request-article): Ditto.
	(nnslashdot-threaded-retrieve-headers): Thread properly.
	(nnslashdot-request-article): Be more lenient.
	(nnslashdot-threaded-retrieve-headers): Regexp search.

2000-05-09 13:23:50  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-with-article): Define it before use it.

2000-05-08 22:34:19  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-supersede): Use mime-to-mml.
	* mm-decode.el (mm-insert-part): Test the buffer if no encoding.

2000-05-08 22:34:24  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-group.el (gnus-group-list-cached): Don't use
	`subst-char-in-string'.

2000-05-08  Dave Love  <fx@gnu.org>

	* pop3.el (pop3-open-server): Fix creating name of trace buffer.

2000-05-08 01:07:47  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-interactively-view-part): Append %s if the
	method is a single word.
	* nnwarchive.el (nnwarchive-type-definition): Typo.

2000-05-07 17:24:01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-prepare-flat-list-dead-predicate): New
	function.
	(gnus-group-prepare-flat-predicate): Use it.
	(gnus-group-list-cached): List dead groups.

2000-05-07 10:50:02  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-decode-charset): Don't decode message with
	format.

2000-05-07  Florian Weimer  <fw@deneb.cygnus.argh.org>

	* mailcap.el (mailcap-maybe-eval): Honor user request not to
	evaluate the Lisp code.

2000-05-06 17:40:20  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-wash-html): New function.
	(gnus-article-wash-html): Bind.
	(gnus-article-make-menu-bar): Menu item.
	* gnus-sum.el (gnus-summary-wash-map): Bind 'h'.
	(gnus-summary-make-menu-bar): Menu item.
	* gnus.el: Autoload.

2000-05-06  Florian Weimer  <fw@deneb.cygnus.argh.org>

	* gnus-uu.el (gnus-uu-unshar-warning): New variable.
	(gnus-uu-unshar-article): Use it.

	* mailcap.el (mailcap-maybe-eval-warning): New variable.
	(mailcap-maybe-eval): Use it.

	* gnus-msg.el (gnus-group-posting-charset-alist): Speling mistake
	in docstring.

	* mml.el (mml-generate-mime-1): Small comment.

2000-05-05 12:27:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-de-base64-unreadable): New function.
	(gnus-article-de-base64-unreadable): Bind.
	(gnus-article-make-menu-bar): Menu item.
	* gnus-sum.el (gnus-summary-wash-map): Bind '6' and 'Z'.
	(gnus-summary-make-menu-bar): Menu item.
	* gnus.el: Autoload.

2000-05-05 10:32:27  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Remove en/disable multibyte.
	(gnus-summary-select-article): Add en/disable multibyte.

2000-05-05 02:47:23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-edit-article): Enable multibyte.
	(gnus-summary-edit-article): New feature: editing raw articles.

2000-05-05 00:30:12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-region): Insert a space before encoding.
	Emacs MULE can not encode adjacent iso-2022-jp and cn-gb-2312.
	* gnus-msg.el (gnus-summary-mail-forward): Use unibyte buffer.
	Emacs MULE can not copy some 8bit characters in multibyte buffers.
	* mm-decode.el (mm-insert-part): Ditto.

2000-05-04 17:49:04  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-type-alist): Extend forward regexp.
	(nndoc-forward-type-p): Ditto.

2000-05-04 17:13:04  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-with-unibyte-current-buffer): Set the default
	value of enable-multibyte-characters.

2000-05-04 10:31:24  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): En/disable multibyte.

2000-05-03  Dave Love  <fx@gnu.org>

	* gnus-ems.el (gnus-article-xface-ring-internal)
	(gnus-article-xface-ring-size): New variable.
	(gnus-article-display-xface): Use them to cache data.  Don't try
	to use XPM.  Set up binary coding for PBM's sake.

2000-05-03 14:23:38  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-inews-do-gcc): Set mail-parse-charset.
	* gnus-int.el (gnus-request-accept-article): Ditto.
	(gnus-request-replace-article): Ditto.
	* mm-util.el (mm-mime-mule-charset-alist): Add a fake mule-charset.

2000-05-03 14:11:23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode): Test the validity of coding-system.

2000-05-03 11:35:15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-message-header): Encode field by
	field.
	* mml.el (mml-to-mime): Use message-default-charset.
	(mml-preview): Narrow to headers.
	* message.el (message-send-mail): Use message-default-charset.
	(message-send-news): Narrow to headers;
	use message-default-charset.

2000-05-03 08:09:14  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-content-transfer-encoding): A better junk
	detect.
	* mml.el (mml-parse-singlepart-with-multiple-charsets): Save
	restriction.
	(mml-parse-1): Warning message.
	(mml-preview): Disable multibyte.

2000-05-03  Dave Love  <fx@gnu.org>

	* gnus.el (gnus-group-startup-message): Add newline before image.

2000-05-02 21:34:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode-message-header): Check the coding-system.
	* message.el (message-send-mail): Use unibyte-buffer.
	(message-send-mail): Ditto.

Mon May  1 15:09:46 2000  Lars Magne Ingebrigtsen  <lmi@quimbies.gnus.org>

	* gnus.el: Gnus v5.8.6 is released.

2000-05-01 07:45:43  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-parse-1): Set no-markup-p and warn to nil.

2000-04-28 21:14:21  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-q-encoding-alist): Encode HTAB.

2000-04-28 16:37:09  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-partially): Use forward-line.

2000-04-28 16:01:09  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-button-menu): Use call-interactively.

2000-04-28 15:30:17  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Ignore 0x1b.
	(mml-insert-mime): No markup only for text/plain.
	(mime-to-mml): Remove MIME headers.

2000-04-28 14:23:14  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-preview): Set gnus-newsgroup-charset.
	* rfc2047.el (rfc2047-encode-message-header): Encode non-ascii
	as 8-bit.
	* lpath.el: Fbind image functions.

2000-04-28  Dave Love  <fx@gnu.org>

	* gnus.el (gnus-group-startup-message): Maybe use image in Emacs
	21.

	* mailcap.el (mailcap-parse-mailcaps): Revert last change to
	search order.  Use parse-colon-path and remove some redundancy.
	Doc fix.
	(mailcap-parse-mimetypes): Code consistently with
	mailcap-parse-mailcaps.  Doc fix.

	* gnus-start.el (gnus-unload): Iterate over `features', not
	`load-history'.

2000-04-28 09:52:21  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-parse-1): Don't create blank parts.
	(mml-read-part): Fix mml tag.
	(mml-insert-mime): Convert message/rfc822.
	(mml-insert-mml-markup): Add mmlp parameter.

2000-04-28 01:16:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-partially): Remove CTE.

2000-04-28 00:31:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el: Fbind put-image for XEmacs.
	* mm-view.el (mm-inline-image): Fset it.

2000-04-27 23:23:37  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nndoc.el (nndoc-type-alist): Change forward regexp.

2000-04-27 21:57:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-partially-limit): Change the
	default value.

2000-04-27 21:53:32  Erik Toubro Nielsen <erik@ifad.dk>

	* gnus-util.el (gnus-extract-address-components): Name might be
	"".

2000-04-27 20:32:06  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-summary-mail-forward): Use ARG.
	(gnus-summary-post-forward): Ditto.
	* message.el (message-forward-show-mml): New variable.
	(message-forward): Use it.
	* mml.el (mml-parse-1): Add tag mml.
	(mml-read-part): Ditto.
	(mml-generate-mime): Support reentance.
	(mml-generate-mime-1): Support mml tag.

2000-04-27  Dave Love  <fx@gnu.org>

	* gnus-art.el: Don't bother to require custom, browse-url.
	(gnus-article-x-face-command): Include gnus-article-display-xface.

	* gnus-ems.el: Assume only (X)Emacs 20+.  Simplify XEmacs checks.
	Use defalias, not fset.
	(gnus-article-display-xface): New function.

	* mm-view.el (mm-inline-image-emacs): Use put-image, remove-images.

	* mm-decode.el: Small doc fixes.  Require cl when compiling.
	(mm-xemacs-p): Deleted.
	(mm-get-image-emacs, mm-get-image-xemacs): Deleted.
	(mm-get-image): Amalgamate Emacs and XEmacs code here; for Emacs,
	use create-image and don't special-case xbm.
	(mm-valid-image-format-p): Use display-graphic-p.

2000-04-27 15:27:54  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-send-mail-partially-limit): New variable.
	(message-send-mail-partially): New function.
	(message-send-mail): Use it.
	* mm-bodies.el (mm-decode-content-transfer-encoding): Remove
	all blank lines inside of base64.
	* mm-partial.el (mm-inline-partial): Add an option. Remove tail
	blank lines.

2000-04-27 10:03:36  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-insert-tag): Match more special characters.

2000-04-27 09:06:29  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-bug): Avoid attaching the external buffer.

2000-04-27 00:58:43  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-inline-media-tests): Add message/partial.
	(mm-inlined-types): Ditto.
	* mm-partial.el: New file.

2000-04-27  Dave Love  <fx@gnu.org>

	* mailcap.el (mailcap-mime-data): Fix octet-stream syntax -- might
	matter in Emacs 21.

2000-04-26  Florian Weimer  <fw@deneb.cygnus.argh.org>

	* mm-bodies.el (mm-encode-body): Remove reference to
	mm-default-charset in comment.

2000-04-24 00:56:00  Bj,Av(Brn Torkelsson  <torkel@hpc2n.umu.se>

	* rfc2047.el (rfc2047-encode-message-header): Fixing typo.

2000-04-26 12:27:41  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-send): Move gnus-draft-setup inside of
	let.

2000-04-26 12:26:10  Pavel Janik ml. <Pavel.Janik@inet.cz>

	* gnus-draft.el (gnus-draft-setup): Fix comments.

2000-04-26 10:06:12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmbox.el (nnmbox-create-mbox): Use nnmbox-file-coding-system,
	if nnmbox-file-coding-system-for-write is nil.

2000-04-26 02:17:44  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-configure-posting-styles): Just remove the
	header if nil.

2000-04-26 00:23:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Insert directly if decoded.
	* mml.el (autoload): Typo.

2000-04-25 22:46:36  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-preview): Set up posting-charset.
	* gnus-msg.el (gnus-group-posting-charset-alist): Add koi8-r.

2000-04-25 21:23:54  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Fix yahoo mail.

2000-04-25 20:12:17  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-dissect-region): Don't include LWS ahead of
	word if not necessary.
	(rfc2047-encode-region): Put space between encoded words.

2000-04-24 21:11:48  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-netrc-machine): Another default to nntp.

2000-04-24 18:14:12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-setup): Restore mml only when
	required.
	(gnus-draft-edit-message): Require restoration.

2000-04-24 16:51:04  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-score.el (gnus-score-headers): Copy gnus-newsgrou-scored
	back.

2000-04-24 16:01:15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-treat-article): Make sure that the summary
	buffer is live.

2000-04-24 15:42:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-parse-mailcaps): Reorder.
	(mailcap-parse-mailcap): Backwards parsing.
	(mailcap-possible-viewers): Remove nreverse.
	(mailcap-mime-info): Ditto.
	(mailcap-add-mailcap-entry): Keep alternative viewer.

Mon Apr 24 21:12:06 2000  Lars Magne Ingebrigtsen  <lmi@quimbies.gnus.org>

	* gnus.el: Gnus v5.8.5 is released.

2000-04-24 16:29:07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-header-encoding-alist): Doc fix.

	* gnus-util.el (gnus-netrc-machine): Default to nntp.

	* mml.el (mml-generate-mime-1): Force 8bit on message/rfc822.

2000-04-23 23:27:25  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-message): Disable prepare-hook.

2000-04-23 00:32:32  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Fix copyright statements.

	* gnus-sum.el (gnus-alter-articles-to-read-function): New
	variable.
	(gnus-articles-to-read): Use it.

	* message.el (message-get-reply-headers): Bind free variable.

2000-04-23 01:14:28  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-get-reply-headers): Fix to-address.

2000-04-22 22:51:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Hotmail fix. Add a debug function.

2000-04-23 00:32:32  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (t): M-down and M-up.

2000-04-22 20:22:03  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* gnus-sum.el: Doc fix.

2000-04-22 10:25:56  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-egroups-article): Remove < and >.

2000-04-22 14:25:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnweb.el (nnweb-dejanews-create-mapping): Remove the context
	string.
	(nnweb-request-group): Don't scan twice.
	(nnweb-request-scan): Don't nix out the hashtb.

	* message.el (message-get-reply-headers): Return a value.

2000-04-22 14:12:41  David Aspinwall  <aspinwall@TimesTen.com>

	* gnus-art.el (gnus-button-url-regexp): New value to match naked
	urls.

2000-04-22 01:23:59  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-cache.el (gnus-summary-insert-cached-articles): Reverse the
	order messages are inserted.

	* mml.el (mml-generate-mime-1): rfc2047-encode the heads of
	message/rfc822 parts.

	* gnus-art.el (gnus-article-read-summary-keys): Check for
	numerical values.

	* message.el (message-get-headers): Made into own function.
	(message-reply): Use it.
	(message-get-reply-headers): Renamed.
	(message-widen-reply): New command.

2000-04-21 20:52:09  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-data): Report the error and return nil.

2000-04-21 19:38:43  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Don't remove
	non-base64 text at the end if not found.

2000-03-01  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-read-move-group-name):
	(gnus-summary-move-article): Use `gnus-group-method' to find out
	what method the manually entered group belong to.
	`gnus-group-name-to-method' doesn't return any method parameters
	and `gnus-find-method-for-group' uses `gnus-group-name-to-method'
	for new groups so they wouldn't work.

2000-04-21 22:27:15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-configure-posting-styles): Allow nil values to
	override.

2000-04-21 21:58:20  Kai Gro,A_(Bjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnmail.el (nnmail-cache-insert): Does some stuff that is
	probably good to do, or something.  I dunno.  I just write these
	ChangeLog entries, and my name is Lars.

1999-12-06  Hrvoje Niksic  <hniksic@iskon.hr>

	* message.el (message-caesar-region): Use translate-region.

2000-04-21 21:20:32  Mike Fabian  <mike.fabian@gmx.de>

	* gnus-group.el (gnus-group-catchup-current): Doc fix.

2000-04-21 20:36:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-setup-buffer): Don't kill local
	variables, because that makes Emacs flash.

	* gnus-group.el (gnus-group-insert-group-line): Don't call
	gnus-group-add-icon unconditionally.

	* gnus-xmas.el (gnus-group-add-icon): Moved here.

	* gnus-group.el (gnus-group-glyph-directory): Don't depend on
	xmas.
	(gnus-group-glyph-directory): Removed.

2000-04-21 20:26:23  Jaap-Henk Hoepman  <hoepman@cs.utwente.nl>

	* gnus-msg.el (gnus-inews-insert-archive-gcc): Don't do stuff if
	gnus-newsgroup-name is "".

2000-04-21  Florian Weimer  <fw@deneb.cygnus.argh.org>

	* mm-util.el (mm-mime-mule-charset-alist): Add support for UTF-8
	in conjunction with MULE-UCS.

1999-12-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* rfc2047.el (rfc2047-fold-region): Don't use the same break twice.

1999-12-14 04:14:44  Katsumi Yamaoka  <yamaoka@jpl.org>

	* dgnushack.el (last, mapcon, member-if, union): New compiler
	macros for emulating cl functions.

1999-12-21  Jan Vroonhof  <vroonhof@math.ethz.ch>

	* message.el (message-shorten-references): Only cater to broken
	INN for news. This caters for broken smtpd.

2000-04-21 18:20:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-info): Use the first match; not the
	last.

	* gnus-agent.el (gnus-category-kill): Save the category list.

2000-04-21 16:41:50  Chris Brierley  <brierley@pobox.com>

	* gnus-sum.el (gnus-summary-move-article): Do something or other.

2000-04-21 16:07:07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-add-icon): Fixed indentation.

2000-04-21 16:07:07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-add-icon): Fixed indentation.

2000-04-21 10:43:16  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-prepare-flat-predicate): New function.
	(gnus-group-list-cached): Use it.

2000-04-21 16:07:07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Update all the copyright notices.

2000-04-21 15:38:06  Vladimir Volovich  <vvv@vvv.vsu.ru>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Remove
	non-base64 text at the end.

2000-04-21 15:21:30  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mm-bodies.el (mm-body-charset-encoding-alist): defcustomized.

2000-04-21 15:15:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el: Don't autoload cancel-function-timers.

	* message.el (message-fetch-field): Fold case.

2000-04-21 15:11:09  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-forward-before-signature): New variable.

2000-04-21 15:10:31  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* gnus-mlspl.el: Fix stuff.

2000-04-21 14:41:09  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-update-article-line): Don't hide
	subjects when unthreaded.

2000-04-21 14:11:39  David S. Goldberg  <dsg@mitre.org>

	* gnus-art.el (gnus-boring-article-headers): Work on long CCs as
	well.

2000-04-21 14:06:43  Rui Zhu  <sprache@iname.com>

	* gnus-art.el (gnus-article-mode): Fix variable name.

2000-04-21 13:54:51  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el: Fix autoload.

	* flow-fill.el (flow-fill): Fix provide.

	* gnus-draft.el (gnus-draft-send): Bind message-setup-hook to
	nil.

2000-04-20 22:24:04  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-win.el (gnus-configure-windows): Revert to switch-to-buffer.

2000-04-21 05:22:18  Katsumi Yamaoka  <yamaoka@jpl.org>

        * gnus-util.el (gnus-netrc-machine): Didn't work.

2000-04-20 21:22:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-setup): Restore to mml.

2000-04-21 01:24:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* flow-fill.el: Renamed from fill-flowed.

	* message.el (message-forward-ignored-headers): Default to
	removing CTE.

2000-04-21 00:48:48    <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* message.el (message-mode): Don't fill headers.

2000-04-20 23:12:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-pipe-buffer-body): Use shell

2000-02-21  Yoshiki Hayashi  <yoshiki@xemacs.org>

	* nnvirtual.el (nnvirtual-request-article):
	Bind gnus-override-method to nil.
	(nnvirtual-request-update-mark): Don't update mark when
	article is not there.

2000-04-20 16:35:41  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Check forwarded message.

2000-04-20 21:17:48  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-parse-netrc): Allow "port".
	(gnus-netrc-machine): Take a port param.
	(gnus-netrc-machine):

	* gnus-art.el (gnus-request-article-this-buffer): Allow
	re-selecting referenced articles.

	* message.el (message-cancel-news): Allow editing.
	(message-cancel-message): Add newline.

2000-04-20 21:03:54  William M. Perry  <wmperry@aventail.com>

	* mm-view.el (mm-inline-image-emacs): New function.

2000-04-20 20:44:55  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-delete-incoming): Change default in
	cvs.

2000-04-20 20:43:34  Kim-Minh Kaplan  <kmkaplan@vocatex.fr>

	* gnus-art.el (gnus-mime-view-part-as-type-internal): New
	function.

2000-04-20 14:45:20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnml.el (nnml-request-expire-articles): Use it.

	* nnmail.el (nnmail-expiry-target): New variable.
	(nnmail-expiry-target-group): New function.

2000-04-20 02:36:31  Emerick Rogul  <emerick@cs.bu.edu>

	* message.el (message-forward): Add non-MIME separators.

2000-04-20 02:25:39  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-generate-headers): Respect the syntax check
	spec.

	* gnus-sum.el (gnus-remove-thread-1): Show thread.
	(gnus-remove-thread): Don't show all threads.

Thu Apr 20 01:39:25 2000  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v5.8.4 is released.

2000-04-19  Dave Love  <fx@gnu.org>

	* mailcap.el (mailcap-parse-mimetypes): Add ...mime.types.

2000-04-18 12:28:24  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-type-definition): New egroups html.
	(nnwarchive-egroups-*): Ditto.
	(nnwarchive-url): Unibyte buffer and single line cookie.

2000-04-14 18:50:04  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-char-or-char-int-p): New alias.
	* nnweb.el (nnweb-decode-entities): Check the validity of numeric
	entities.

2000-04-10   Daiki Ueno  <ueno@unixuser.org>

        * lisp/imap.el (imap-body-lines): Check Content-Type: of the
        article case insensitively.

2000-04-10 20:35:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-webmail): Use the default
	password provided in mail-sources; use webmail:subtype:user as
	the key.

2000-04-10 20:35:46  John Wiegley <johnw@gnu.org>

	* mail-source.el (mail-source-fetch-webmail): Use
	mail-source-password-cache.

2000-04-09 18:13:47  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Add netscape mail and fix HotMail mail.

2000-04-08  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el (imap-kerberos4-open): Work with recent `imtest's.

2000-04-02  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-request-article): Use BODY.PEEK[] instead of
	RFC822.PEEK if server support IMAP4rev1.
	(nnimap-request-body): Use BODY.PEEK[TEXT] instead of
	RFC822.TEXT.PEEK if server support IMAP4rev1.
	(nnimap-request-head): Use BODY.PEEK[HEADER] instead of
	RFC822.HEADER if server support IMAP4rev1.
	(nnimap-request-article-part): Support bodydetail in response
	data.

2000-03-11  Simon Josefsson  <jas@pdc.kth.se>

	* fill-flowed.el: New file.

	* mm-decode.el (mm-dissect-singlepart): Create a MIME handle for
	text/plain parts with `format' parameters.

	* mm-view.el (autoload): Autoload fill-flowed.
	(mm-inline-text): For "plain" parts with a format=flowed
	parameter, call `fill-flowed'.

2000-03-21 10:32:44  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-list): Fudge new-style
	slashdot ids.

2000-03-20 00:12:42  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-list): Use the new slashdot
	format.

2000-03-16  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el: GSSAPI support, support kerberos 4 with Cyrus v1.6.x
	`imtest' too.
	(imap-kerberos4-program): Renamed from `imap-imtest-program'.
	(imap-gssapi-program): New variable.
	(imap-streams): Add gssapi.
	(imap-stream-alist): Ditto.
	(imap-authenticators): Ditto.
	(imap-authenticator-alist): Ditto.
	(imap-kerberos4-stream-p): Rename from `imap-kerberos4s-p'.
	(imap-kerberos4-open): Loop over imtest programs, support Cyrus
	1.6.x `imtest' syntax.
	(imap-gssapi-stream-p): New function.
	(imap-gssapi-open): Ditto.
	(imap-gssapi-auth-p): Ditto.
	(imap-gssapi-auth): Ditto.
	(imap-kerberos4-auth-p): Renamed from `imap-kerberos4a-p'.
	(imap-send-command): Use buffer-local `imap-client-eol' value.

	* nnimap.el (nnimap-retrieve-headers-progress): Fold continuation
	lines and turn TAB into SPC before parsing.

2000-03-15  Simon Josefsson <jas@pdc.kth.se>

	* nnheader.el (nnheader-group-pathname): Make sure to return a
	directory.
	* nnmail.el (nnmail-group-pathname): Ditto.

2000-02-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nnmail.el (nnmail-fix-eudora-headers): Fix `In-Reply-To' too, it
	might split in the middle of a message-id.

2000-03-13 13:51:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-srvr.el (gnus-server-kill-server): Offer to kill all the
	groups from the server.

	* gnus-sum.el (gnus-summary-save-parts): Fix interactive spec.
	(gnus-summary-toggle-header): Update the wash status.

	* gnus-uu.el ((gnus-uu-extract-map "X" gnus-summary-mode-map)):
	Moved here.

	* gnus-agent.el (gnus-agent-save-group-info): Respect old
	setting.

	* nnmail.el (nnmail-get-active): Use it.
	(nnmail-parse-active): New function.

	* mm-view.el (mm-inline-text): Support the new version of
	vcard.el.

	* gnus-sum.el (gnus-summary-move-article): Only delete article
	when moving junk.
	(gnus-deaden-summary): Bury the buffer.

	* nnmail.el (nnmail-group-pathname): Ditto.

	* nnheader.el (nnheader-group-pathname): Use expand-file-name.

2000-03-13 20:23:06  Christoph Rohland  <hans-christoph.rohland@sap.com>

	* rfc2047.el (rfc2047-encode-message-header): Encode no matter
	whether Mule.

2000-03-10 14:57:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-mail): Protect against unloaded Gnus.

	* gnus-topic.el (gnus-topic-update-topic-line): Don't update the
	parent.
	(gnus-topic-update-topic-line): Yes, do.
	(gnus-topic-goto-missing-group): Tally the correct number of
	unread articles before inserting the topic line.

2000-03-01 09:55:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Ignore errors.

2000-02-13 13:53:08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-dissect-buffer): Ditto.

	* gnus-art.el (article-decode-charset): Strip CTE.

	* ietf-drums.el (ietf-drums-strip): New function.

	* gnus-sum.el (gnus-summary-move-article): Don't use the prefix
	when prompting in read-only groups.

2000-02-23  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el (imap-send-command): Change EOL-chars when
	`imap-client-eol' differs from default, not only for kerberos4.
	(imap-mailbox-status): Get encoded mailbox's status.

2000-02-19  Simon Josefsson  <jas@pdc.kth.se>

	* mail-source.el (mail-source-fetch-imap): Copy `imap-password'
	into `mail-source-password-cache'.

2000-02-17  Florian Weimer  <fw@deneb.cygnus.argh.org>

	* mm-util.el (mm-mime-charset): Check for presence of
	`coding-system-get' and `get-charset-property' (recent XEmacs has
	the former, but not the latter).

2000-01-28  Dave Love  <fx@gnu.org>

	* message.el (message-check-news-header-syntax): Fix typo
	`newsgroyps'.
	(message-talkative-question): Put temp buffer in fundamental-mode.
	(message-recover): Use fundamental-mode in the right buffer.

	* nnmail.el (nnmail-split-history): Use fundamental-mode in the
	right buffer.

2000-01-26 12:01:18  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-decode-region): Add charset parameter.
	(quoted-printable-decode-string): Ditto.

	* gnus-art.el (article-de-quoted-unreadable): Use it.

2000-01-21  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-split-predicate): New variable.
	(nnimap-split-articles): Use it.

2000-01-20  Simon Josefsson  <jas@pdc.kth.se>

	* utf7.el: Change email address.

2000-01-18 22:03:51  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-catchup): Purge split history.

2000-01-14 02:43:55  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-generate-active): Support extended group name.
	(nnmail-get-active): Ditto.

2000-01-13 15:16:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-write-active): Since no prefix in
	group names, don't remove anything.

2000-01-13 15:10:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-my-deja-open): My-deja changes.

2000-01-13  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-retrieve-headers-progress): Create xref field.

2000-01-10 23:35:33  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-headers): Translate full path.

2000-01-09 22:52:35  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-other-frame): Fix typo.

1999-06-25  Andreas Jaeger  <aj@arthur.rhein-neckar.de>

	* gnus-cus.el (gnus-group-customize): Fix typo.

2000-01-08 08:36:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnweb.el (nnweb-insert): Simplified.

2000-01-06 18:32:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-mode-map): "e" is
	gnus-summary-edit-article.

2000-01-06 18:25:37  Jari Aalto  <jari.aalto@poboxes.com>

	* mailcap.el (mailcap-mime-extensions): Add .diff.

2000-01-06 00:06:40 Kim-Minh Kaplan <kmkaplan@vocatex.fr>

        * mm-decode.el (mm-mailcap-command): handle "%%" and the case where
        there is no "%s" in the method.

2000-01-08 21:01:04  Kim-Minh Kaplan <kmkaplan@vocatex.fr>

	* gnus-sum.el (gnus-summary-select-article): Return 'old.

2000-01-06 13:41:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnfolder.el (nnfolder-read-folder): Use nnfolder-save-buffer.

	* gnus.el: Really always pop up a new frame.

	* parse-time.el (parse-time-rules): Allow 100-110 to be
	2000-2010.

	* time-date.el (date-to-time): Don't use timezone.

2000-01-06  Dave Love  <fx@gnu.org>

	* time-date.el: Add keywords.
	(date-to-time): Add autoload cookie.  Canonicalize with
	timezone-make-date-arpa-standard.
	(time-to-seconds): Avoid caddr.
	(safe-date-to-time): Add autoload cookie.

	* base64.el: Require cl when compiling.

2000-01-05  BrYan P. Johnson  <beej@mindspring.net>

	* gnus-group.el (gnus-group-line-format-alist): Added %E for
	eyecandy.
	(gnus-group-insert-group-line): Now groks %E and inserts icon in
	group line using gnus-group-add-icon.
	(gnus-group-icons): Added customize group.
	(gnus-group-icon-list): Added variable.
	(gnus-group-glyph-directory): Added variable.
	(gnus-group-icon-cache): Added variable.
	(gnus-group-running-xemacs): Added variable.
	(gnus-group-add-icon): Added function. Add an icon to the current
	line according to gnus-group-icon-list.
	(gnus-group-icon-create-glyph): Added function.

2000-01-05 17:31:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-select-article): Return whether we
	selected something new.
	(gnus-summary-search-article): Start searching at the window
	point.

	* gnus-group.el (gnus-fetch-group): Complete over
	gnus-active-hashtb.

Wed Jan  5 17:06:41 2000  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v5.8.3 is released.

2000-01-05 15:56:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-preserve-marks): New variable.
	(gnus-summary-move-article): Use it.
	(gnus-group-charset-alist): Added more entries.

2000-01-03 01:18:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inline-override-types): Removed duplicate.

	* gnus-uu.el (gnus-uu-mark-over): Use gnus-summary-default-score
	as the default score.

	* gnus-score.el (gnus-score-delta-default): Changed name.

2000-01-04  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el (imap-parse-literal):
	(imap-parse-flag-list): Don't care about props.
	(imap-parse-string): Handle quoted characters.

2000-01-02 08:37:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-goto-unread): Doc fix.
	(gnus-summary-mark-article): Doc fix.
	(gnus-summary-mark-forward): Doc fix.
	(t): Changed keystroke for gnus-summary-customize-parameters.

	* gnus-art.el (gnus-article-mode-map): Use gnus-article-edit for
	"e".
	(gnus-article-mode-map): No, don't.

	* gnus-sum.el (gnus-summary-next-subject): Don't show the thread
	of the final article.

	* mm-decode.el (mm-interactively-view-part): Error on no method.

2000-01-02 06:10:32  Stefan Monnier  <monnier+gnu/emacs@tequila.cs.yale.edu>

	* gnus-score.el (gnus-score-insert-help): Something.

	* gnus-art.el (gnus-button-alist): Exclude < from <URL:

	* gnus-win.el (gnus-configure-frame): Ditto.

	* gnus-mh.el (gnus-summary-save-in-folder): Use
	with-current-buffer.

2000-01-02 05:00:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnwarchive.el: Changed file perms.

1999-12-19 21:42:15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-delete-groups): New command.
	(gnus-group-delete-group): Extra no-prompt parameters.

1999-12-14 10:18:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-article): Translate <br> into
	<p>.

1999-12-28 12:20:18  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-hotmail-article): Don't insert message id.

1999-12-28  Kai.Grossjohann@CS.Uni-Dortmund.DE (Kai Gro,A_(Bjohann)

	* nnimap.el (nnimap-split-fancy): New variable.
	(nnimap-split-fancy): New function.

1999-12-28  Simon Josefsson  <jas@pdc.kth.se>

	(nnimap-split-rule): Document symbol value.

1999-12-28  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-retrieve-headers-progress): Let
	`nnheader-parse-head' parse article.
	(nnimap-retrieve-headers-from-server): Don't request ENVELOPE,
	request headers needed by `nnheader-parse-head'.

1999-12-23  Florian Weimer  <fw@s.netic.de>

	* gnus-msg.el (gnus-group-posting-charset-alist): Correct default
	value (crosspostings are handled), improve documentation.

	* smiley.el: Declare file coding system as iso-8859-1.

	* nnultimate.el: Dito.

	* message.el: Dito.

	* gnus-cite.el: Dito.

	* gnus-spec.el: Dito.

1999-12-21  Florian Weimer  <fw@s.netic.de>

	* gnus-msg.el (gnus-group-posting-charset-alist): New layout.
	(gnus-setup-message): No longer make `message-posting-charset'
	buffer-local.
	(gnus-setup-posting-charset): Reflect the new layout of
	`gnus-group-posting-charset-alist' and `message-posting-charset'.

	* message.el (message-send-mail): Bind `message-this-is-mail' and
	`message-posting-charset'.
	(message-send-news): Dito, and honour new layout of
	`message-posting-charset'.
	(message-encode-message-body): Ignore `message-posting-charset'.

	* mm-bodies.el (mm-body-encoding): Consider
	`message-posting-charset' when deciding whether to use 8bit.

	* rfc2047.el (rfc2047-encode-message-header): Back out change.
	(rfc2047-encodable-p): Now solely for headers; use
	`message-posting-charset'.

1999-12-20 14:10:39  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-type-definition): Set default value.

1999-12-19 22:49:13  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnagent.el (nnagent-server-opened): Optional.
	(nnagent-status-message): Optional.

1999-12-19  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-cite.el (gnus-article-toggle-cited-text): Restore beg and
	end (referenced by instructions in
	`gnus-cited-opened-text-button-line-format-alist').

1999-12-18  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el (imap-starttls-open): Typo.

1999-12-18 16:43:37  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-after): Non-MULE case.
	* mail-prsvr.el (mail-parse-mule-charset): New variable.
	* rfc2047.el (rfc2047-dissect-region): Bind it.

1999-12-18  Florian Weimer  <fw@s.netic.de>

	* mml.el (mml-generate-multipart-alist): Correct default value.

	* mm-encode.el (mm-use-ultra-safe-encoding): New variable.
	(mm-safer-encoding): New function.
	(mm-content-transfer-encoding): Use both.

	* mm-bodies.el (mm-body-encoding): Use mm-use-ultra-safe-encoding.
	* qp.el (quoted-printable-encode-region): Dito.

1999-12-18 14:08:48  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-hotmail-article): Snarf the raw file.

1999-12-18 14:08:12  Victor S. Miller  <victor@idaccr.org>

	* webmail.el (webmail-hotmail-list): raw=0.

1999-12-18 11:14:51  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-enter-history): Back-compatible in
	group name.

1999-12-18 11:02:00  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-expire): Convert to symbol if stringp.

1999-12-18  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el: Don't autoload digest-md5.
	(imap-starttls-open): Bind coding-system-for-{read,write}.
	(imap-starttls-p): Check if we can find starttls.el.
	(imap-digest-md5-p): Check if we can find digest-md5.el.

1999-12-17   Daiki Ueno  <ueno@ueda.info.waseda.ac.jp>

	* base64.el (base64-encode-string): Accept 2nd argument
	`no-line-break'.

	* imap.el: Require `digest-md5' when compiling; add autoload
	settings for `digest-md5-parse-digest-challenge',
	`digest-md5-digest-response', `starttls-open-stream' and
	`starttls-negotiate'.
	(imap-authenticators): Add `digest-md5'.
	(imap-authenticator-alist): Setup for `digest-md5'.
	(imap-digest-md5-p): New function.
	(imap-digest-md5-auth): New function.
	(imap-stream-alist): Add STARTTLS entry.
	(imap-starttls-p): New function.
	(imap-starttls-open): New function.

1999-12-18 01:08:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-enter-history): Bad group name.

1999-12-17 19:36:47  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-dissect-region): Use mapcar instead of
	string-to-x function.

1999-12-17 13:08:54  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-fold-region): Fold a line more than once.

1999-12-17 11:54:41  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Enhance hotmail-snarf.

1999-12-17 10:38:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-dissect-region): Rewrite.

1999-12-16 22:59:22  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-hotmail-list): Search no-error.

1999-12-15 22:07:15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el: Support nov-is-evil.
	* gnus-bcklg.el (gnus-backlog-request-article): Buffer is optional.
	Set it if non-nil.
	* gnus-agent.el (gnus-agent-fetch-articles): Use it.

1999-12-15 08:55:19  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnagent.el (nnagent-server-opened): Redefine.
	(nnagent-status-message): Ditto.

1999-12-14 23:37:44  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc1843.el (rfc1843-decode-region): Use
	buffer-substring-no-properties.
	* gnus-art.el (article-decode-HZ): New function.

1999-12-14 22:07:26  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-translate-file-chars): Only in full path.

1999-12-14 16:21:45  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-charset-region): mail-parse-charset is a
	MIME charset not a MULE charset.

1999-12-14 15:08:03  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-ems.el: Translate more ugly characters.
	* nnheader.el (nnheader-translate-file-chars): Don't translate
	the second ':'.

1999-12-14 10:40:33  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-request-article-this-buffer): Use all refer
	method if cannot find the article.

1999-12-14 01:13:50  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-request-article-this-buffer): Don't use refer
	method if overrided.

1999-12-13 23:38:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-webmail): Parameter
	dontexpunge.

1999-12-13 23:31:17  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Support my-deja. Better error report.

1999-12-13 18:59:33  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-date-to-date): Error proof when input
	is bad.
	* gnus-sum.el (gnus-list-of-unread-articles): When (car read)
	is not 1.

1999-12-13 18:22:08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-request-article): A space.

1999-12-13 17:20:25  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnagent.el: Support different backend with same name.

1999-12-13 13:14:42  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnslashdot.el (nnslashdot-threaded-retrieve-headers): Support
	archived group.
	(nnslashdot-sane-retrieve-headers): Ditto.
	(nnslashdot-request-article): Ditto.

1999-12-13 11:41:32  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-insert): Narrow to point.

1999-12-13 10:59:42  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-insert): Follow refresh url.
	* nnslashdot.el: Use it.

1999-12-13 10:39:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-decode-entities): Decode numerical entities.
	(nnweb-decode-entities-string): New function.

	* nnwarchive.el (nnwarchive-decode-entities-string): Rename to
	nnweb-* and move to nnweb.el.
	* nnwarchive.el: Use nnweb-decode-entities, etc.
	* webmail.el: Ditto.

	* nnslashdot.el: Use nnweb-decode-entities-string.
	(nnslashdot-decode-entities): Remove.

1999-12-13 10:40:56  Eric Marsden <emarsden@mail.dotcom.fr>

	* nnslashdot.el: Decode entities.

1999-12-12  Dave Love  <fx@gnu.org>

	* gnus-agent.el (gnus-category-edit-groups)
	(gnus-category-edit-score, gnus-category-edit-predicate): Replace
	expansion of setf, fixed.

1999-12-12 12:50:30  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el: Revoke last Dave Love's patch, because of
	incompatibility of XEmacs.

1999-12-12 12:27:03  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el: Change headers.
	* rfc1843.el: Ditto.
	* uudecode.el: Ditto.

1999-12-07  Dave Love  <fx@gnu.org>

	* gnus-agent.el (gnus-category-edit-predicate)
	(gnus-category-edit-score, gnus-category-edit-score): Expand setf
	inside backquote to avoid it at runtime.

1999-12-07  Dave Love  <fx@gnu.org>

	* binhex.el: Require cl when compiling.

1999-12-04  Dave Love  <fx@gnu.org>

	* gnus-cus.el (gnus-group-parameters): Allow nil for banner.

1999-12-04  Dave Love  <fx@gnu.org>

	* mm-util.el (mm-delete-duplicates): New function.
	(mm-write-region): Use it.

	* mml.el (mml-minibuffer-read-type): Use mm-delete-duplicates.

	* mailcap.el (mailcap-mime-types): Require mm-util.  Use
	mm-delete-duplicates.

	* imap.el (imap-open, imap-debug): Avoid mapc.

	* nnvirtual.el (nnvirtual-create-mapping): Likewise.

	* gnus-sum.el (gnus-summary-exit-no-update): Avoid copy-list.
	(gnus-multi-decode-encoded-word-string): Avoid mapc.

	* gnus-start.el (gnus-site-init-file): Avoid ignore-errors at
	runtime.

	* gnus.el (gnus-select-method): Likewise.

	* nnheader.el (nnheader-nov-read-integer): Likewise.

	* mm-view.el (mm-inline-message): Require cl when compiling.
	Avoid ignore-errors at runtime.
	(mm-inline-text): Avoid mapc.

1999-12-12 10:36:51  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-decode-charset): Widen is bad.

1999-12-12 10:17:42  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-after): `charset-after' may not be defined.

1999-12-12  Florian Weimer  <fw@s.netic.de>

	* rfc2047.el (rfc2047-encodable-p): New parameter header used to
	indicate that only US-ASCII is permitted.
	(rfc2047-encode-message-header): Use it.  Now, Gnus should never
	use unencoded 8-bit characters in message headers.

1999-12-12 03:08:15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* ietf-drums.el (ietf-drums-narrow-to-header): Make it work with
	CRLF.

1999-12-11 14:42:26  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Require url-cookie.

1999-12-11 14:21:23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-make-caesar-translation-table): A
	new function to make modified caesar table.
	(nnwarchive-from-r13): Use it.
	(nnwarchive-mail-archive-article): Improved.

1999-12-11 12:30:20  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-url): Use mm-with-unibyte-current-buffer.

1999-12-10 16:22:24  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-request-article): Return cons.

1999-12-10 16:06:04  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-setup-default-charset): Typo.

1999-12-10 12:14:04  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-with-unibyte): New macro.
	* nnweb.el (nnweb-init): Use it.

1999-12-09 20:39:49  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-charset-after): New function.
	(mm-find-mime-charset-region): Set charsets after
 	delete-duplicates and use find-coding-systems-region.
	(mm-find-charset-region): Remove composition.

	* mm-bodies.el (mm-encode-body): Use mm-charset-after.

	* mml.el (mml-parse-singlepart-with-multiple-charsets): Ditto.

1999-12-09 17:47:56  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-mime-charset-region): Revoke last change.
	* mml.el (mml-confirmation-set): New variable.
	(mml-parse-1): Ask user to confirm.

1999-12-09  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-start.el (gnus-get-unread-articles): Make sure all methods
	are scanned when we have directory mail-sources (the mail source
	is modified in that case, so we must scan it for all
	groups/methods).

1999-12-09 12:05:28  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnml.el (nnml-request-move-article): Save nnml-current-directory
	and nnml-article-file-alist.

1999-12-09 10:20:07  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-get-new-news-this-group): Binding
	nnmail-fetched-sources.

1999-12-09 10:19:01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-charset-region): Use the last charset.

1999-12-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-select-method): Made the option list prettier.

1999-12-08  Florian Weimer  <fw@s.netic.de>

	* gnus-msg.el (gnus-group-posting-charset-alist): Use iso-8859-1
	for the `de' newsgroups hierarchy, as it is common practice there.


1999-12-07 16:17:12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-mail-archive-article): Fix
	buffer-string arguments. Fix references.

1999-12-07 15:04:18  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-confirmation-function): New variable.
	(gnus-agent-batch-fetch): Use it.
	(gnus-agent-fetch-session): Use it.

1999-12-07 12:32:43  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-mime-charset-region): Delete nil.

1999-12-07 11:45:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-find-charset-region): Don't capitalize.  Delete
 	nil.

1999-12-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nnslashdot.el (nnslashdot-request-list): There were two
	top-level body-forms.  Put a `progn' around them.

	* gnus.el (gnus-select-method): Use `condition-case'
	instead of `ignore-errors', since cl may not be loaded when the
	form is evaluated.

1999-12-06 23:57:47  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el: Support www.mail-archive.com.

1999-12-06 23:55:55  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-get-new-mail): Remove fetched sources before
	do anything.

1999-12-06  Simon Josefsson  <jas@pdc.kth.se>

	* utf7.el: New file, written by Jon K Hellan.

	* imap.el (imap-use-utf7): Renamed from `imap-utf7-p', change
	default to t.

1999-12-06 04:40:24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-delete-group): New function.

	* gnus-sum.el (gnus-summary-refer-article): Work for lists with
	current.
	(gnus-refer-article-methods): New function.
	(gnus-summary-refer-article): Use it.

1999-11-13  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-retrieve-groups): Return active format.

	* nnimap.el (nnimap-replace-in-string): Removed.
	(nnimap-request-list):
	(nnimap-retrieve-groups):
	(nnimap-request-newgroups): Quote group instead of escaping SPC.

1999-12-05  Simon Josefsson  <jas@pdc.kth.se>

	* imap.el: Use format-spec for ssl program.
	* imap.el (imap-ssl-arguments): Removed.
	(imap-ssl-open-{1,2}): Removed.

1999-12-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-start.el (gnus-site-init-file): Use `condition-case'
	instead of `ignore-errors', since cl may not be loaded when the
	form is evaluated.

1999-12-04 11:34:22  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-8bit-char-regexps): Removed.
	(mm-7bit-chars): New variable.
	(mm-body-7-or-8): Use it in both cases.

1999-12-04  Michael Welsh Duggan  <md5i@cs.cmu.edu>

	* gnus-start.el (gnus-site-init-file): Don't use cl macros in
	  defcustom definitions.

1999-12-04  Simon Josefsson  <jas@pdc.kth.se>

	* mm-decode.el (mm-display-part): Let mm-display-external return
	inline or external.
	(mm-display-external): For copiousoutput methods, insert output in
	buffer.

1999-12-04 03:29:13  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-headers-with-xover): Goto the end of
 	buffer.

1999-12-04 08:31:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-audio.el: An M too far.

	* gnus-msg.el (gnus-setup-message): One backtick too many.

	* gnus-art.el (gnus-mime-view-part-as-type): mailcap-mime-types is
	a function, not a variable.

1999-12-04 08:14:08  Max Froumentin  <masmef@maths.bath.ac.uk>

	* gnus-score.el (gnus-score-body): Widen before requesting.

1999-12-04 08:06:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-prepare-flat): Comment fix.

1999-12-04 03:01:55  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-fetch-webmail): Bind
 	mail-source-string.

1999-12-04 07:18:23  Matt Swift  <swift@alum.mit.edu>

	* gnus-uu.el (gnus-uu-mark-by-regexp): Doc fix.
	(gnus-uu-unmark-by-regexp): Ditto.

	* gnus-group.el (gnus-group-catchup-current): Would bug out on
	dead groups.

1999-12-04 01:34:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-setup-message): Allow the charset setting to
	do their real thing.

	* nnmh.el (nnmh-be-safe): Doc fix.

	* gnus-sum.el (gnus-summary-exit): Write cache active file.

	* nntp.el (nntp-retrieve-headers-with-xover): Make sure the entire
	status line has arrived before we count it.

	* mailcap.el (mailcap-mime-data): Removed save-file from audio/*.

	* gnus-sum.el (gnus-thread-header): Fixed after indent.
	Whitespace problems.

	* gnus-win.el (gnus-configure-windows): Error fix.

	* gnus-demon.el (gnus-demon-add-nntp-close-connection): Add the
	right function.

	* gnus.el: Fixed all the doc strings to match the FSF convetions.
	Indent all functions.  Fix all comments to match the comment
	conventions.  Double-space after full stop.

1999-12-04 01:14:55  YAMAMOTO Kouji  <kouji@pobox.com>

	* nnmail.el (nnmail-split-it): I redefined nnmail-split-fancy's
 	value to divide received mails into my favorite groups and I met
 	an error.  It takes place if the length of a element "VALUE" in
 	nnmail-split-fancy is less than two.

1999-10-10  Robert Bihlmeyer  <robbe@orcus.priv.at>

	* mml.el (mml-insert-part): New function.

1999-09-29 04:48:14  Katsumi Yamaoka  <yamaoka@jpl.org>

	* lpath.el: Add `sc-cite-regexp'.

1999-12-02  Dave Love  <fx@gnu.org>

	* mm-decode.el: Customize.

1999-12-03  Dave Love  <fx@gnu.org>

	* nnslashdot.el, nnultimate.el: Don't lose at compile time when
	the W3 stuff isn't available.

1999-12-03  Dave Love  <fx@gnu.org>

	* imap.el, mailcap.el, nnvirtual.el, rfc2104.el: Don't require cl
	at runtime.

1999-12-04 00:47:35  Dan Christensen  <jdc@jhu.edu>

	* gnus-score.el (gnus-score-headers): Fix orphan scoring.

1999-12-01  Andrew Innes  <andrewi@gnu.org>

	* nnmbox.el (nnmbox-read-mbox): Count messages correctly, and
	don't be fooled by "From nobody" lines added by respooling.

	* pop3.el (pop3-movemail): Write crashbox in binary.
	(pop3-get-message-count): New function.

	* mail-source.el (mail-source-primary-source): New variable.
	(mail-source-report-new-mail-interval): New variable.
	(mail-source-idle-time-delay): New variable.
	(mail-source-new-mail-available): New internal variable.
	(mail-source-fetch-pop): Clear new mail flag, when mail from
	primary source has been fetched.
	(mail-source-check-pop): New function.
	(mail-source-new-mail-p): New function.
	(mail-source-start-idle-timer): New function.
	(mail-source-report-new-mail): New function.
	(mail-source-report-new-mail): New internal variable.
	(mail-source-report-new-mail-timer): New internal variable.
	(mail-source-report-new-mail-idle-timer): New internal variables.

1999-12-04 00:39:34  Andreas Schwab  <schwab@suse.de>

	* gnus-cus.el (gnus-group-customize): Customize fix.

1999-12-04 00:38:24  Andrea Arcangeli  <andrea@suse.de>

	* message.el (message-send-mail-with-sendmail): Use
	message-make-address.

Fri Dec  3 20:34:11 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v5.8.2 is released.

Fri Dec  3 20:09:41 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v5.8.1 is released.

1999-11-11  Hrvoje Niksic  <hniksic@iskon.hr>

	* mml.el (mml-insert-tag): Don't close the tag.
	(mml-insert-empty-tag): New function.
	(mml-attach-file): Use mml-insert-empty-tag instead of
	mml-insert-tag.
	(mml-attach-buffer): Ditto.
	(mml-attach-external): Ditto.
	(mml-insert-multipart): Ditto.

1999-12-03 08:49:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-article): Return -1 if not find
 	the article number.

1999-12-03 01:12:41  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus.el (gnus-find-method-for-group): The method of a new group
 	is not the native one.

1999-12-03 01:26:55  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-button-embedded-url): Always call browse-url.

1999-12-02 18:00:15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Use
	mm-with-unibyte-current-buffer.
	(nnultimate-request-article): Ditto.

1999-12-02 14:57:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-groups): Set to process buffer.

1999-12-02 11:14:50  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-with-unibyte-current-buffer): New macro.
	* nnweb.el (nnweb-retrieve-headers): Use it.
	(nnweb-request-article): Use it.

	* nnweb.el (nnweb-dejanews-create-mapping): Set a default date in
 	case matching failed.

1999-12-02  John Wiegley <jwiegley@inprise.com>

	* mail-source.el (mail-source-keyword-map): Add backslash to
	Delete-flag.

1999-12-02 07:24:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-group-charset-alist): Default nnweb groups to
	Latin-1.
	(gnus-group-charset-alist): No, don't.

	* nnweb.el (nnweb-init): Make the buffer unibyte.

1999-12-01 23:02:48  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-set-common-1): Fix to get the
 	default value.

1999-12-02 00:27:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-read-groups): Unibyte.

	* nnultimate.el (nnultimate-request-list): Use unibyte.

	* gnus-uu.el (gnus-uu-grab-articles): Bind
	gnus-display-mime-function to nil.

	* message.el (message-send-mail-with-sendmail): Use the
	user-mail-address variable.

	* gnus-art.el (gnus-ignored-headers): More headers.

	* message.el (message-shorten-1): Use list.

1999-12-01 21:59:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-configure-posting-styles): Ignore nil
	signatures.

	* nnweb.el (nnweb-dejanews-create-mapping): Get the data.
	(nnweb-dejanews-create-mapping): Do the properish date.

1999-12-01 17:41:21  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-common-keyword-map): New variable.
	(mail-source-bind-common): New macro.
	(mail-source-fetch): Support plugged mail source.
	* gnus-int.el (gnus-request-scan): Use them.

1999-12-01 21:59:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-message): Check whether charset is a
	string.

	* nnslashdot.el (nnslashdot-request-post): Insert <p>'s.

	* message.el (message-mode-map): Changed keystroke for
	message-yank-buffer.

1999-11-26  Hrvoje Niksic  <hniksic@iskon.hr>

	* message.el (message-shorten-references): Cut references to 31
	elements, then either fold them or shorten them to 988 characters.
	(message-shorten-1): New function.
	(message-cater-to-broken-inn): New variable.

1999-12-01 21:47:10  Eric Marsden  <emarsden@mail.dotcom.fr>

	* nnslashdot.el (nnslashdot-lose): New function.

1999-12-01 21:08:48  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-message): Not the right type of charset is
	being fetched here.  Let the group charset rule.
	(mm-inline-message): Ignore us-ascii.

1999-11-24  Carsten Leonhardt  <leo@arioch.oche.de>

	* mail-source.el (mail-source-fetch-maildir): work around the
	ommitted "file-regular-p" in efs/ange-ftp

1999-12-01 19:59:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-generate-mime-1): Don't insert extra empty line.
	(mml-generate-mime-1): Use the encoding param.

	* gnus-sum.el (gnus-summary-show-article): Don't bind gnus-visual.

	* gnus-cache.el (gnus-cache-possibly-enter-article): Require
	gnus-art before binding its variables.

	* gnus-art.el (gnus-article-prepare-display): Run the prepare
	after the MIME.

1999-12-01 19:48:14  Rupa Schomaker  <rupa-list@rupa.com>

	* message.el (message-clone-locals): Use it.

	* gnus-msg.el (gnus-configure-posting-styles): Make
	user-mail-address local.

1999-11-20  Simon Josefsson  <jas@pdc.kth.se>

        * gnus-start.el (gnus-get-unread-articles): Scan each method only
	once.

1999-12-01 17:37:18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-generate-new-buffer-clone-locals): Use varstr.
	(message-clone-locals): Ditto.

	* gnus-sum.el (gnus-summary-enter-digest-group): Have the digest
	group inherit reply-to or from.

1999-12-01 13:04:09  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-show-article): Support numbered ARG
	for charset.
	(gnus-summary-show-article-charset-alist): New variable.

	* mm-bodies.el (mm-decode-string): Support gnus-all and
	gnus-unknown.
	(mm-decode-body): Ditto.
	* rfc2047.el (rfc2047-decode): Ditto.

1999-12-01 17:37:18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-delete-incoming): Change default to
	t.

Wed Dec  1 16:31:31 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.99 is released.

1999-12-01 14:28:49  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* dgnushack.el (dgnushack-compile): No webmail under Emacs.

	* gnus-sum.el (gnus-summary-refer-article): Wrong interactive
	spec.

	* gnus-msg.el (gnus-configure-posting-styles): Eval `eval'.
	(gnus-configure-posting-styles): No, don't.
	(gnus-configure-posting-styles): Allow overriding files.

	* gnus-art.el (gnus-header-button-alist): Use browse-url
	directly.

	* mm-decode.el (mm-inline-media-tests): Check feature vcard.

	* gnus-msg.el (gnus-summary-yank-message): New command and
	keystroke.

	* message.el (message-yank-buffer): New command.
	(message-buffers): New function.

	* gnus-sum.el (gnus-summary-catchup-and-goto-next-group): Select
	next group in a more normal fasion.

	* mml.el (mml-boundary-function): New variable.
	(mml-compute-boundary): Use it.

	* nnmh.el (nnmh-active-number): Skip past files that have buffers
	that exist for them.

	* gnus-async.el (gnus-async-prefetch-next): Cancel timers.
	(gnus-async-timer): New variable.

1999-11-30 02:07:18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-request-list): Be more lenient with
	root addresses.

1999-11-28 20:22:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treatment-function-alist): Do
	gnus-treat-capitalize-sentences.

1999-11-30 09:07:53  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el (webmail-hotmail-article): Hotmail changes the
 	format.

1999-11-29  Simon Josefsson  <jas@pdc.kth.se>

	* mm-decode.el (mm-display-external): For `copiousoutput' methods,
	switch to buffer after calling program.
	(mm-display-external): Use `shell-command-switch' instead of "-c".

1999-11-27 15:21:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-possibly-change-server): Don't always
	read groups file.

	* nnslashdot.el (nnslashdot-request-article): Convert <br><br> to
	<p>.

1999-11-24 20:18:24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-mode): Doc fix.

1999-11-24 09:25:00  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-emphasize): Check group variable.
	* rfc1843.el (rfc1843-decode-article-body): Ditto.

1999-11-24 00:11:27  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-save-part-to-file): Inhibit jka-compr for any
 	type.

1999-11-23 17:21:05  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Support www.netaddress.com, i.e. usa.net.

1999-11-23  Hrvoje Niksic  <hniksic@iskon.hr>

	* mml.el (mml-quote-region): Insert ! after the hash.

1999-11-23 05:08:23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-warchive-address-history): Change to
 	nil.

1999-11-23 02:33:13  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* webmail.el: Support mail.yahoo.com.

	* mail-source.el (mail-source-fetch-webmail): Add password check.
	(mail-source-keyword-map): Use `subtype'.

1999-11-22 04:35:43  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-keyword-map): Add webmail.
	(mail-source-fetcher-alist): Ditto.
	(mail-source-fetch-webmail): New function.
	* webmail.el: New file.

1999-11-21 12:20:02  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el (nnwarchive-request-group): Print 0 if it is nil.

1999-11-21 12:19:11  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-parse-mailcap): Don't skip double semicolon.

1999-11-20 12:54:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-request-list): Add fetch-time slot.
	(nnultimate-prune-days): New function.
	(nnultimate-create-mapping): Use it.
	(nnultimate-request-group): Only fetch the groups list if it has
	not been done before.
	(nnultimate-retrieve-headers): Don't write groups.
	(nnultimate-create-mapping): Off-by-one error.

1999-11-19 12:17:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-sane-retrieve-headers): Fix to match
	threaded subjects.

1999-11-20 02:22:52  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el: Lots of changes make agent happy.

1999-11-19 21:37:41  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-get-unread-articles): Assert group is in
 	hashtb.

1999-11-19 19:53:08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-display-external): Write region with binary
 	mode.

1999-11-18 14:52:05  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnweb.el (nnweb-dejanews-create-mapping): Bind `text'.

1999-11-18 14:35:01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Use fake charset `gnus-decoded'.
	(mm-uu-test): Now it is in restricted region.

	* gnus-art.el (article-decode-charset): Don't mm-uu-test.

	* mm-view.el (mm-view-message): Fix buffer leak.
	(mm-inline-message): Support 'gnus-decoded.

	* mm-bodies.el (mm-decode-body): Ditto.

	* rfc2047.el (rfc2047-decode-region): Ditto.

1999-11-18  Matthias Andree  <ma@dt.e-technik.uni-dortmund.de>

	* imap.el (require): Added autoload for base64-encode-string.

1999-11-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus.el (gnus-refer-article-method): Made list value
	customizable.

1999-11-17 13:09:37  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-recenter): set-window-start with
	NOFORCE in Emacs case.

1999-11-17 13:04:01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-request-article-this-buffer): Set
	gnus-newsgroup-name.

1999-11-16 23:53:22  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-summary-recenter): set-window-start with
 	NOFORCE.

1999-11-17  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-start.el (gnus-get-unread-articles): Check server before
	scanning.

1999-11-16 10:01:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-valid-select-methods): nnslashdot is news.

	* nnslashdot.el (nnslashdot-login-name): New variable.
	(nnslashdot-password): Ditto.
	(nnslashdot-request-post): New function.

	* gnus-art.el (gnus-treat-buttonize): More testing.

	* mm-encode.el: Another CVS test.

	* gnus-art.el (gnus-treat-emphasize): Change default.
	(gnus-treat-buttonize): Ditto.
	(gnus-treat-buttonize): This is a test.

	* gnus-sum.el (gnus-build-old-threads): Bind mail-parse-charset.
	(gnus-build-sparse-threads): Ditto.
	(gnus-build-all-threads): Ditto.

	* nnheader.el (make-full-mail-header): Make into a subst.

	* dgnushack.el (dgnushack-compile): Skip all w3-dependent files
	unless w3 is supplied.

	* gnus.el (gnus-refer-article-method): Doc fix.

	* gnus-sum.el: Do not accept a prefix.
	(gnus-summary-refer-article): Accept a list of select methods.

1999-11-15 21:28:40  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* Makefile.in: Change `^  *' to `\t'.

1999-11-11  Matt Pharr  <mmp@graphics.stanford.edu>

	* message.el (message-forward): Pay attention to prefix argument
	again and forward all headers when it is set, regardless of the
	value of message-forward-ignored-headers.

1999-11-15 20:44:50  William M. Perry  <wmperry@aventail.com>

	* dgnushack.el (dgnushack-compile): Vpath file.

	* Makefile.in (SHELL): VPATH support.

1999-11-15 20:37:17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-ems.el: Check for cygwin32.

1999-11-14 18:15:28  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-display-external): Use 'non-viewer.

1999-11-14 15:21:06  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* base64.el (base64-encode-string): An alias for base64-encode for
	compatibility.

1999-11-14 01:58:18  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-groups): Erase nntp-sever-buffer before
 	nntp-inhibit-erase.

1999-11-13  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-start.el (gnus-get-unread-articles): Use
	nnfoo-retrieve-groups to find new news, if available.
	(gnus-read-active-file-2): New function.
	(gnus-get-unread-articles): Use it.
	(gnus-read-active-file-1): Ditto.

1999-11-13 17:59:18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-find-mime-charset-region): Make sure
	find-coding-systems-for-charsets is fbound.

	* gnus-ems.el: Typo fix.

1999-11-13  Florian Weimer  <fw@s.netic.de>

	* mm-util.el (mm-find-mime-charset-region): Use UTF-8 if
	it's available and makes sense.

1999-11-12 19:56:23  Fabrice POPINEAU <Fabrice.Popineau@supelec.fr>

	* gnus-score.el (gnus-score-save): Translate score file.

1999-11-13  Simon Josefsson  <jas@pdc.kth.se>

	* mail-source.el (mail-source-keyword-map): For IMAP mail source,
	added fetchflag and dontexpunge keywords.
	(mail-source-fetch-imap): Use them.

1999-11-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-start.el (gnus-level-subscribed, gnus-level-unsubscribed,
	gnus-level-zombie, gnus-level-killed): Changed from `defcustom' to
	`defconst'.

	* gnus-cus.el (gnus-group-parameters): Changed from `defcustom' to
	`defconst'.
	Mention that it is both for group and topic parameters.
	(gnus-extra-topic-parameters): New constant, including `subscribe'
	parameter.
	(gnus-extra-group-parameters): New constant.
	(gnus-group-customize): Use them.

	* gnus.el (gnus-select-method): Added default value and tag.
	(gnus-refer-article-method): Added `DejaNews' customization option.

1999-11-12 05:04:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-int.el (gnus-server-opened): Ignore denied servers.

	* gnus-ems.el (gnus-mule-max-width-function): New backquote
	syntax.

	* nndoc.el (nndoc-mime-digest-type-p): Reinstated.

	* nnslashdot.el (nnslashdot-group-number): Changed default.

	* nnweb.el (nnweb-dejanews-create-mapping): Work with new deja.
	(nnweb-dejanews-wash-article): Removed.
	(nnweb-type-definition): Fetch by id.

	* gnus-msg.el (gnus-configure-posting-styles): Don't insert unless
	we mean it.

	* nnslashdot.el (nnslashdot-group-number): Doc fix.
	(nnslashdot-request-list): Use Ultramode as well.
	(nnslashdot-date-to-date): Be more lenient.
	(nnslashdot-threaded): New function.

1999-11-11 17:40:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-internalize-part): Doc fix.

1999-11-11 14:32:48  Steinar Bang  <sb@metis.no>

	* nnweb.el (nnweb-type-definition): /=dnc

1999-11-11 10:58:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Work with american
	dates.
	(nnultimate-retrieve-headers): Wrong ordering.

1999-11-11 07:31:51  Matt Pharr  <mmp@graphics.stanford.edu>

	* message.el (message-forward-as-mime): New variable.

1999-11-11 05:24:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-dd-mmm): Beware buggy dates.

1999-11-10 16:50:01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mail-source.el (mail-source-movemail-and-remove): New function.
	(mail-source-keyword-map): Add `function' for `maildir'.
	(mail-source-fetch-maildir): Use it.

1999-11-10 13:48:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnwarchive.el: New file.
	* gnus-group.el (gnus-group-make-warchive-group): New function.
	* gnus.el (gnus-valid-select-methods): Add `nnwarchive'.

1999-11-10 12:13:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-retrieve-headers): Work for multi-page
	subjects.

1999-11-10 11:33:23  Rajappa Iyer  <rajappa@mindspring.com>

	* gnus-salt.el (gnus-pick-article-or-thread): Don't move point.

1999-11-10 05:22:56  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnultimate.el (nnultimate-open-server): Do address.
	(nnultimate-forum-table-p): New function.

	* nnweb.el (nnweb-insert-html): Renamed.
	(nnweb-insert): New function.

	* nnultimate.el (nnultimate-insert-html): New function.

	* nnslashdot.el (nnslashdot-retrieve-headers): Don't do anything
	if nov is evil.
	(nnslashdot-retrieve-headers): use the sane version instead.

1999-11-09 00:13:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-request-article): Fold case.

	* nnultimate.el: New file.

	* nnslashdot.el (nnslashdot-retrieve-headers): Skip the article
	unless wanted.

	* gnus-start.el (gnus-active-to-gnus-format): Catch errors.
	(gnus-read-active-file-1): Separated into own function.
	(gnus-read-active-file): Catch quits.

	* nnslashdot.el (nnslashdot-request-article): Search better on
	first article.
	(nnslashdot-request-list): Fold case.
	(nnslashdot-retrieve-headers): Ditto.

1999-11-08 05:33:15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Autoload gnus-subscribe-topics.

1999-11-07 22:56:46  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-save-group-info): Remove backslash
	before dot.
	* gnus-util.el (gnus-write-active-file): Ditto.

1999-11-07 22:31:10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-replace-duplicate-chars-in-string): New
	function.
	* gnus-cache.el (gnus-cache-file-name): Use it.
	* gnus-agent.el (gnus-agent-group-path): Use it.
	* nnmail.el (nnmail-group-pathname): Use it.

1999-11-07 21:07:55  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-start.el (gnus-active-to-gnus-format): Don't insert backslash
	if cooked.
	* gnus-util.el (gnus-write-active-file): Write cooked active file.
	* gnus-agent.el (gnus-agent-save-group-info): Ditto.
	* gnus.el (gnus-short-group-name): "..." proof.

1999-11-07 20:03:16  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Keep using `read' to
	support nnslashdot.

1999-11-08 00:06:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el (nnslashdot-retrieve-headers): Don't fetch too
	many articles.
	(nnslashdot-generate-active): New function.
	(nnslashdot-request-newgroups): Use it.

	* gnus-start.el (gnus-active-to-gnus-format): Intern strings group
	names.

	* nnslashdot.el (nnslashdot-request-newgroups): New function.
	(nnslashdot-request-list): Not moderated.

1999-11-07  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el (nnimap-open-server): Remove error signal if
	nnimap-server-buffer is nil (the check should've been `boundp').

	* imap.el (imap-log):
	* nnimap.el (nnimap-debug): Disable debugging by default.

1999-11-07 01:17:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-subscribe-newsgroup-method): Doc fix.

	* gnus-topic.el (gnus-subscribe-topic): New function.

	* nnslashdot.el (nnslashdot-request-list): Give out extended group
	names.

	* gnus-start.el (gnus-ignored-newsgroups): Disregard bogus chars
	if starting with a quote.

1999-11-07 13:06:11  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Support backslash in
 	group name.

1999-11-07 01:17:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnslashdot.el: New file.

	* nnheader.el (nnheader-insert-header): New function.

	* gnus-art.el (gnus-mime-internalize-part): Bind
	mm-inlined-types.

	* nndraft.el (nndraft-request-expire-articles): Do all the backup
	files.

1999-10-29  David S. Goldberg  <dsg@mitre.org>

	* emacs-mime.texi (Customization): Document mm-inline-override-types

1999-10-29  David S. Goldberg  <dsg@mitre.org>

	* emacs-mime.texi (Customization): Document mm-inline-override-types

1999-10-29  David S. Goldberg  <dsg@mitre.org>

	* emacs-mime.texi (Customization): Document mm-inline-override-types

1999-10-26  Katsumi Yamaoka <yamaoka@jpl.org>

	* smiley.el (gnus-smiley-display): Use `smiley-toggle-buffer'.
	(smiley-toggle-buffer): New function.
	(smiley-buffer): Don't quote the function.
	(smiley-toggle-extents): Ditto.

1999-11-07 01:00:32  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-goto-missing-topic): Work even in
	empty buffers.

1999-11-06 23:16:24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-mode-map): Use the summary article
	edit.

1999-11-06 22:56:49  Jens-Ulrik Petersen  <Jens-Ulrik.Petersen@nokia.com>

	* gnus-group.el (gnus-group-read-ephemeral-group): Doc fix.

1999-11-06 21:40:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-uu.el (gnus-uu-mark-thread): Don't move point around.

1999-10-07  Katsumi Yamaoka <yamaoka@jpl.org>

	* gnus-art.el (gnus-treat-predicate): Examine whether the argument
	is list or not before condition.

1999-10-07  Yoshiki Hayashi <t90553@mail.ecc.u-tokyo.ac.jp>

	* gnus-art.el (gnus-treat-predicate): Work for (typep "something").

1999-11-06 19:18:14  Kevin the Bandicoot  <user42@zip.com.au>

	* gnus-art.el (gnus-emphasis-alist): New value.

1999-11-06 13:57:13  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Use both `read' and
 	`buffer-substring'.

1999-11-06 04:24:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-date-ut): Keep the updated timer.
	(gnus-emphasis-underline-italic): Doc fix.

	* gnus-msg.el (gnus-post-method): Doc fix.
	(gnus-post-method): Change default.

1999-11-06 04:12:13  Francisco Solsona  <flsc@hp.fciencias.unam.mx>

	* message.el (message-newline-and-reformat): Improvements.

1999-11-06 03:51:24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-newline-and-reformat): Don't insert too many
	newlines.
	(message-newline-and-reformat): Work even if not sc.

	* mm-view.el (mm-inline-message): Insert a delimiter at the end.

	* mm-decode.el (mm-inline-media-tests): Only if diff mode.

1999-11-06 03:48:02  Toby Speight  <Toby.Speight@streapadair.freeserve.co.uk>

	* mm-view.el (mm-display-patch-inline): New function.

1999-11-06 03:47:54  Robert Bihlmeyer  <robbe@orcus.priv.at>

	* mm-view.el (mm-display-patch-inline): New function.

1999-11-06 02:17:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-read-move-group-name): Subscribe to the
	group.

	* message.el (message-forward): Narrow to the right header.

	* gnus-sum.el (gnus-summary-limit-to-age): Protect against bogus
	dates.

	* gnus-msg.el (gnus-configure-posting-styles): Use the
	user-full-name function.

	* mm-bodies.el (mm-body-encoding): Use the choosing function.
	(mm-body-charset-encoding-alist): Default to nil.

	* message.el (message-elide-ellipsis): Fix typo.
	(message-elide-region): Ditto.
	(message-elide-region): Don't insert a newline first.

1999-11-05 20:28:27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-cut-thread): Also cut for numberp
	gnus-fetch-old-headers.
	(gnus-cut-threads): Ditto.
	(gnus-summary-initial-limit): Ditto.
	(gnus-summary-limit-children): Ditto.

	* gnus-msg.el (gnus-configure-posting-styles): Allow `header'
	matches.

1999-11-06  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-art.el (article-decode-encoded-words):
	(gnus-mime-display-single): Don't assume gnus-summary-buffer is
	live.

	* gnus.el (gnus-read-method): Add methods from
	`gnus-opened-servers' to completion. Map entered method/address
	into existing methods if possible.

	* gnus-group.el (gnus-group-make-group): Simplify method.

	* gnus-srvr.el (gnus-browse-unsubscribe-group): Simplify method.

        * mml.el (mml-preview): Remove mail-header-separator before
        encoding.

1999-11-05 20:28:27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-read-from-minibuffer): New function.

Fri Nov  5 19:10:02 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.98 is released.

1999-11-05 01:27:49  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-expire): Remove bad line in NOV.

1999-11-04 22:20:35  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-generate-mime-1): Read attached binary file in
 	binary mode.

1999-11-03 16:08:56  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-toggle-header): Fix arg bug.

1999-11-03 15:27:38  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-viewer-lessp): Fix bug.

1999-11-02 17:28:33  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-search-article): Fix loop search bug.

1999-10-31 21:24:59  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-mime-match-handle-first): New function.
	(gnus-article-mime-match-handle-function): New variable.
	(gnus-article-view-part): Make `b' customizable.

1999-10-29 14:30:07  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-article-get-xrefs): Test eobp.

1999-09-27  Hrvoje Niksic  <hniksic@srce.hr>

	* mm-decode.el (mm-attachment-override-types): Exclude text/plain.

1999-10-26 23:27:44  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-buffer): CTE may come without CTL.

1999-10-26 21:44:05  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Use
 	`buffer-substring' instead of `read'.

1999-10-23  Simon Josefsson  <jas@pdc.kth.se>

	* nnimap.el, imap.el, rfc2104.el: New files.

	* gnus.el (gnus-valid-select-methods): Add nnimap.

	* gnus-group.el (gnus-group-group-map): Add
	gnus-group-nnimap-edit-acl, gnus-group-nnimap-expunge.
	(gnus-group-nnimap-expunge): New function.
	(gnus-group-nnimap-edit-acl): New function.

	* gnus-agent.el (gnus-agent-group-mode-map): Add
	gnus-agent-synchronize.
	(gnus-agent-synchronize): New function.
	(gnus-agent-fetch-group-1): Check if server is open.

	* nnagent.el (nnagent-request-set-mark): Save marks.

	* mail-source.el (mail-source-keyword-map): New imap mail-source.
	(mail-source-fetcher-alist): Map to imap fetcher function.
	(mail-source-fetch-imap): New function.

	* gnus-art.el (article-hide-pgp): Hide all headers, not just
	Hash:.

1999-10-22 11:03:00  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-topic.el (gnus-topic-sort-topics-1): New function.
	(gnus-topic-sort-topics): New function.
	(gnus-topic-make-menu-bar): Add sort-topics.
	(gnus-topic-move): New function.
	(gnus-topic-move-group): Move the topic if no group selected.

1999-10-13 21:31:50  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-setup-buffer): Fix buffer leak.

1999-10-13 12:52:18  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-message): Fix leaving group bug.

1999-10-07 17:59:49  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-post-method): Use normal method if current is
	not available.

1999-10-07 17:09:34  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-insert-xref): Dealing with empty articles.
	(nnmail-insert-lines): Ditto.

1999-10-07  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-insert-newsgroup-line): Insert a blank
	line.

	* message.el (message-unsent-separator): One more separator.

1999-10-06  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-move-article): For empty article,
	search till (point-max).
	(nnfolder-retrieve-headers): Ditto.
	(nnfolder-request-accept-article): Ditto.
	(nnfolder-save-mail): Ditto.
	(nnfolder-insert-newsgroup-line): Ditto.

1999-10-05  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encode-region): Check eobp.

1999-10-03  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-retrieve-headers-with-xover): Fix hanging problem.

1999-10-02  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nntp.el (nntp-send-xover-command): Wait for nothing if not
	wait-for-reply.

1999-09-29  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-forward-begin-line): Change the regexp.
	(mm-uu-forward-end-line): Ditto.

1999-09-29  Didier Verna  <verna@inf.enst.fr>

	* binhex.el (binhex-decode-region): don't consider the value of
	`enable-multibyte-characters' in XEmacs.

	* gnus-start.el (gnus-read-descriptions-file): ditto.

	* mm-util.el (mm-multibyte-p): ditto.
	(mm-with-unibyte-buffer): ditto.
	(mm-find-charset-region): use `mm-multibyte-p'.

	* mm-bodies.el (mm-decode-body): ditto.
	(mm-decode-string): ditto.

	* lpath.el ((string-match "XEmacs" emacs-version)): Don't define
	`enable-multibyte-characters' in XEmacs.

1999-09-29  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-binary-coding-system): Try binary first.

1999-09-14  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc1843.el (rfc1843-decode-article-body): Don't decode twice.

1999-09-10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-make-date-line): Add time-zone in iso8601
	format.
	(article-date-ut): Find correct insert position.

1999-09-03  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Do not dissect quoted-printable
	forwarded message.

1999-09-27 20:33:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-topic.el (gnus-topic-find-groups): Work for unactivated
	groups.

	* message.el (message-resend): Use message mode when prompting.

	* gnus-art.el (article-hide-headers): Mark wash.
	(article-emphasize): Ditto.

1999-09-27 19:52:14  Vladimir Volovich  <vvv@vvv.vsu.ru>

	* message.el (message-newline-and-reformat): Work for SC.

1999-09-27 19:38:33  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-group-posting-charset-alist): 2047 in de.*.

	* gnus-sum.el (gnus-newsgroup-ignored-charsets): Add x-unknown.

1999-10-20  David S. Goldberg  <dsg@mitre.org>

	* mm-decode.el mm-inline-override-types: New variable

	* mm-decode.el (mm-inline-override-p): New function

	* mm-decode.el (mm-inlined-p): Use it

1999-10-20  David S. Goldberg  <dsg@mitre.org>

	* mm-decode.el mm-inline-override-types: New variable

	* mm-decode.el (mm-inline-override-p): New function

	* mm-decode.el (mm-inlined-p): Use it

Mon Sep 27 15:18:05 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.97 is released.

1999-09-01  Brendan Kehoe  <brendan@zen.org>

	* gnus-sum.el (gnus-summary-catchup-and-goto-next-group): Use
	gnus-summary-next-group, not gnus-summary-next-article.  Only give
	3 args.

1999-09-25 08:07:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-fetch-group-1): Look in the group
	buffer for params.

	* gnus-xmas.el (gnus-xmas-summary-recenter): Display one more
	line.

	* message.el (message-forward-ignored-headers): New variable.

	* gnus-art.el (gnus-article-prepare-display): Nix out
	gnus-article-wash-types.

	* gnus-agent.el (gnus-agent-create-buffer): New function.
	(gnus-agent-fetch-group-1): Use it.
	(gnus-agent-start-fetch): Ditto.

	* gnus-sum.el (gnus-summary-exit): Don't use
	`gnus-use-adaptive-scoring'.

	* mail-source.el (mail-source-fetch-pop): Only store password when
	successful.

	* gnus-nocem.el (gnus-nocem-scan-groups): Message better.

1999-09-24 18:43:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-reply): Use it.
	(message-dont-reply-to-names): New variable.

	* nntp.el (nntp-open-telnet): Don't erase-buffer.

	* mm-util.el (mm-preferred-coding-system): Typo fix.

	* message.el (message-bounce): Work for non-MIME.

	* gnus.el (gnus-short-group-name): Short the right parts of the
	name.

1999-09-24 18:17:48  Johan Kullstam  <kullstam@ne.mediaone.net>

	* mm-encode.el (mm-qp-or-base64): New version.

1999-09-10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-make-date-line): Fix time-zone bug.

1999-09-09  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-article-add-buttons): Don't delete markers out
	of restricted region.
	(gnus-mime-display-single): Set beg at correct point.

1999-09-09  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-process-maildir-mail-format): Typo.

1999-09-09  Jens-Ulrik Petersen <jens-ulrik.petersen@nokia.com>

	* gnus-msg.el (gnus-configure-posting-styles): Let
	`gnus-posting-styles' have its say in posting-style: local
	variable `styles' is already bound to `gnus-posting-styles' so
	don't rebind it to nil.

1999-09-24 18:10:56  Robert Bihlmeyer  <robbe@orcus.priv.at>

	* gnus-score.el (gnus-summary-increase-score): Allow editing of
	Message-ID.

1999-09-08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-encode.el (mm-encode-content-transfer-encoding): Fold
	quoted-printable-encode-region.

	* qp.el (quoted-printable-encode-region): Assume charset
	encoded. Fold every line in the region.

1999-09-02  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Read the first line
	of active file.

1999-09-01  Didier Verna  <verna@inf.enst.fr>

	* message.el (message-mode): allows whitespaces between multiple
	instances of the fill character ">".

1999-09-24 18:02:50  Kim-Minh Kaplan  <kmkaplan@vocatex.fr>

	* mm-encode.el (mm-qp-or-base64): Fix.

1999-09-01 12:18:01  Katsumi Yamaoka  <yamaoka@jpl.org>

        * message.el (message-send): Too much and.

1999-09-24 17:58:07  Andreas Schwab  <schwab@suse.de>

	* gnus-art.el (gnus-mime-view-part-as-type): Renamed.

1999-08-28 12:44:20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-headers): Work for nil scores.

1999-08-27 20:46:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-cache.el (gnus-cache-write-active): Write full names.

	* gnus-util.el (gnus-write-active-file): Accept full name.

	* mm-decode.el (mm-inlinable-p): Use string-match on the types.
	(mm-assoc-string-match): New function.
	(mm-display-inline): Use it.

	* gnus-group.el (gnus-group-set-info): Work for nil group params.

	* gnus-msg.el (gnus-configure-posting-styles): Allow eval.

1999-08-27 19:08:10  Florian Weimer  <fw@s.netic.de>

	* mml.el (mml-generate-multipart-alist): New variable.

1999-08-27 15:30:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-predicate): Work for (not 5).

1999-08-27  Peter von der Ahe <pahe@daimi.au.dk>

	* message.el (message-send): More helpful error message if sending
	fails

1999-09-06  Robert Bihlmeyer  <robbe@orcus.priv.at>

	* gnus-score.el (gnus-summary-increase-score): "Lars" was broken
	in newer emacsen, where ?r isn't equal 114.

Fri Aug 27 13:17:48 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.96 is released.

1999-08-17  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-start.el (gnus-groups-to-gnus-format): Only use agent
	to get active info if method is covered by agent, otherwise
	active info is lost.

1999-08-17  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-summary-move-article): Report backend errors.

1999-08-09  Dave Love  <fx@gnu.org>

	* mm-util.el: Use `defalias', not `fset' for dummy functions.

1999-08-09  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-art.el (gnus-ignored-headers): Remove "X-Pgp-*"
          (already matched by "^X-Pgp"), removed duplicate
          X-Mailing-List, added several new junk headers.

1999-08-01  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-art.el (article-decode-charset): Don't assume
	gnus-summary-buffer is live.

1999-08-27 15:07:43  Paul Flinders  <paul@dawa.demon.co.uk>

	* smiley.el (smiley-deformed-regexp-alist): Fix % smileys.

1999-08-27 15:02:58  Florian Weimer  <fw@s.netic.de>

	* gnus-score.el (gnus-home-score-file): Work with absolute path
	names.

1999-07-17  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-articles-to-read): Return cached articles if
 	nothing else in the group.

1999-07-16  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-bcklg.el (gnus-backlog-enter-article): Check the size of
 	the article.

1999-07-15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Fix for base64 message.

1999-07-15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-forward-end-line): Support forwarded message
 	from mutt.

1999-07-14  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Delete
 	whitespace.

1999-07-14  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-text-coding-system-for-write): New variable.
	(mm-append-to-file): New function.
	(mm-write-region): New function.

	* gnus-art.el (gnus-output-to-file): Use it.
	* gnus-util.el (gnus-output-to-rmail): Ditto.
	(gnus-output-to-mail): Ditto.
	* gnus-uu.el (gnus-uu-binhex-article): Ditto.

1999-07-14  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-find-file): Use mm-auto-mode-alist.

	* nnheader.el (nnheader-insert-file-contents): Revert and use
 	mm-insert-file-contents.
	(nnheader-find-file-noselect): Use mm-auto-mode-alist.
	(nnheader-auto-mode-alist): Removed.

	* mm-util.el (mm-inhibit-file-name-handlers): New variable.
	(mm-insert-file-contents): Add a new parameter for inserting
 	compressed file literally.

	* mml.el (mml-generate-mime-1): Insert non-text literally.

	* gnus.el: Change most mm-insert-file-contents back to nnheader.

1999-07-13  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-art.el (gnus-unbuttonized-mime-types): Fix docstring.

1999-08-27 14:53:42  Oleg S. Tihonov  <ost@benetnash.ffke-campus.mipt.ru>

	* gnus-sum.el (gnus-group-charset-alist): Default fido7 to
	koi8-r.

1999-07-11  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-insert-mime): Decode text.
	(mml-to-mime): Narrow to headers-or-head.

1999-07-11  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Check
	w3-meta-content-type-charset-regexp.

1999-07-10  Simon Josefsson  <jas@pdc.kth.se>

       * gnus-agent.el (gnus-agent-fetch-group-1): Search topics for
       predicate.

1999-07-10  Alexandre Oliva  <oliva@dcc.unicamp.br>

        * gnus-mlspl.el: Documentation fixes.

1999-08-27 14:42:14  Rui Zhu  <sprache@iname.com>

	* gnus-sum.el (gnus-summary-limit-to-age): Prompt better.

1999-08-27 14:40:52  Michael Cook  <cook@sightpath.com>

	* gnus-art.el (gnus-article-setup-buffer): Kill all local
	variables.

1999-08-27 14:39:34  Hrvoje Niksic  <hniksic@srce.hr>

	* nnmail.el (nnmail-get-new-mail): "Done".

1999-08-27 14:38:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-kill-all-zombies): Only prompt when
	interactive.

1999-07-12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-decode-charset): Fix broken CT.

1999-07-12  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-group-1): Recreate agent
 	overview buffer if it is killed.

1999-08-27 14:26:03  Eric Marsden  <emarsden@mail.dotcom.fr>

	* gnus-art.el (article-babel): New version.

1999-08-27 14:22:39  Jon Kv  <jonkv@ida.liu.se>

	* nnfolder.el (nnfolder-request-list-newsgroups): Faster expiry.

1999-07-10  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus.texi (More Threading): Document new variable
	`gnus-sort-gathered-threads-function'.

1999-07-10  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus.texi (More Threading): Document new variable
	`gnus-sort-gathered-threads-function'.

1999-07-11  Andreas Jaeger  <aj@arthur.rhein-neckar.de>

	* gnus-uu.el (gnus-uu-digest-mail-forward): Delete file after
	usage.

1999-07-10  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-running-xemacs): Removed.
	(mm-coding-system-p): New function.
	(mm-binary-coding-system): Safe guess.
	(mm-text-coding-system): Ditto.
	(mm-auto-save-coding-system): Ditto.

1999-07-11 11:02:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-encode.el (mm-qp-or-base64): Also consider control chars.
	(mm-qp-or-base64): Reversed logic.

	* mm-decode.el (mm-save-part-to-file): Let coding system be
	binary.

1999-07-15  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus-agent.el (gnus-agent-fetch-group-1): Allow 'agent-score' to
	be set in topic parameters.

1999-07-10  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus-sum.el (gnus-sort-gathered-threads-function): New variable.
	(gnus-sort-gathered-threads): Allow the user to specify the
	function to use when sorting gathered threads.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Don't
	mark cached articles as `undownloaded'.

Tue Jul 20 02:39:56 1999  Peter von der Ahe  <peter@ahe.dk>

	* gnus-sum.el (gnus-summary-exit): Allow gnus-use-adaptive-scoring
	to have buffer local values.

1999-07-25  Matt Pharr  <mmp@graphics.stanford.edu>

	* gnus-group.el (gnus-group-make-doc-group): Notice when user
	types 'g' for 'guess group type.

1999-07-30  Simon Josefsson  <jas@pdc.kth.se>

	* nnmail.el (nnmail-remove-list-identifiers): Remove whitespace
	after each regexp in nnmail-list-identifiers, not just after last
	one.

	* gnus-sum.el (gnus-list-identifiers): New variable.
	(gnus-summary-remove-list-identifiers): New function.
	(gnus-select-newsgroup): Use it.
	(gnus-summary-wash-hide-map): Bind
	`gnus-article-hide-list-identifiers' to W W l.
	(gnus-summary-make-menu-bar): Add list-identifiers command.

	* gnus-art.el (gnus-treat-strip-list-identifiers): New variable.
	(gnus-treatment-function-alist): Add variable.
	(article-hide-list-identifiers): New function.
	(mapcar): Add function.
	(gnus-article-hide): Use it.

Fri Jul  9 22:21:16 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.95 is released.

1999-07-09 21:46:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-mailcap-command): New function.
	(mm-display-external): Use it.

	* gnus-art.el (article-make-date-line): Work for India.

	* mm-encode.el (mm-qp-or-base64): Typo.

	* gnus-topic.el (gnus-topic-goto-topic): Made into command.

Fri Jul  9 19:28:29 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.94 is released.

1999-07-09 21:19:23  Stainless Steel Rat  <ratinox@peorth.gweep.net>

	* pop3.el: New version.

1999-07-09 20:01:44  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-encode.el (mm-qp-or-base64): New function.
	(mm-content-transfer-encoding): Use it.

	* gnus-util.el (gnus-parse-netrc): Allow quoted names.

1999-07-08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-display-external): Fix typo and use 'non-viewer.

	* mailcap.el (mailcap-mailcap-entry-passes-test): Add needsterminal.

1999-07-09 18:52:22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-view-part-as-media): New command and
	keystroke.

	* mailcap.el (mailcap-mime-types): New function.

	* nnmh.el (nnmh-request-group): Update nnmh-group-alist.

	* message.el (message-goto-eoh): Really go to the end.

1999-07-09 18:40:23  Puneet Goel  <puneet@computer.org>

	* message.el (message-make-date): Do the right thing in with
	sub-hour time zones.

1999-07-09 18:36:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-make-menu-bar): Removed double bug
	report.

1999-07-08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-request-rename-group): Create directory.

1999-07-08  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mailcap.el (mailcap-parse-mailcap): Skip \;.
	(mailcap-parse-mailcap-extras): Fix "nonterminal;" and empty name,
 	and use t as default value.

Wed Jul  7 18:40:30 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-get-newsgroup-headers): Don't assume
 	gnus-summary-buffer is live.

1999-07-09 17:44:03  Robert Pluim  <rpluim@nortelnetworks.com>

	* mm-util.el (mm-enable-multibyte): Check whether var bound.

1999-07-09 17:31:39  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-bounce): Do MIME bounces MIMEy.

	* gnus-sum.el (gnus-summary-read-group-1): Update mark positions.

1999-07-08 08:41:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-extensions): Changed patch to
	text/x-patch.

	* mm-decode.el (mm-display-external): Wrong placement of paren.

Wed Jul  7 13:09:51 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.93 is released.

1999-07-08  Alexandre Oliva  <oliva@dcc.unicamp.br>

        * gnus-cus.el (gnus-group-parameters): New entries for
        gnus-group-split.

        * gnus-mlspl.el: Renamed functions and variables so as to
        start with gnus-group-split.
        * gnus.el: Adjust autoload entries.

1999-07-07 ??:??:??  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* gnus-mlspl.el: Removed trailing t from comment and provide.
	Renamed functions and variables to start with gnus-mlsplit.
	Added autoload comments.
	* gnus.el: Added autoload entries.

1999-07-06 05:37:46  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* nnmail.el (nnmail-split-it): Search the regexp multiple times,
	so that matches excluded by RESTRICTs do not cause the whole split
	to be ignored.  This also fixes a long-standing bug in which a
	split with \N substitutions wouldn't cause cross-posting as
	expected.

	* nnmail.el (nnmail-split-fancy): Document RESTRICT clauses.
	(nnmail-split-it): Implement them.

	* nnmail.el (nnmail-split-fancy): Document ! splits.

1999-07-07 10:41:11  Stainless Steel Rat  <ratinox@peorth.gweep.net>

	* pop3.el: New version.

1999-07-05  Simon Josefsson

        * gnus-srvr.el (gnus-browse-foreign-server): Use read.

1999-07-07 10:37:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-display-alternative): Do treatment.

1999-07-06  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-write-active-file): Use real name.

	* gnus-agent.el (gnus-agent-expire): Update active file
	method by method.

1999-07-06  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nndraft.el (nndraft-request-article): Use difference
 	coding-systems for queue and drafts.

	* gnus-sum.el (gnus-summary-setup-default-charset): Special-case
	nndraft:drafts.

	* mm-util.el (mm-auto-save-coding-system): New coding system.

	* message.el (message-draft-coding-system): Use it.

1999-07-06  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el: More customizable and less aggressive.

1999-07-07 07:53:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-groups-to-gnus-format): Only gnus-active
	when plugged.

	* mml.el (mml-generate-mime-1): Don't insert nofile files.
	(mml-insert-mml-markup): Accept a nofile.
	(mml-insert-mime): Insert nofile.

	* gnus-art.el (gnus-treat-strip-blank-lines): Removed.

	* mm-decode.el (mm-handle-media-type): New function.
	(mm-handle-media-supertype): New function.
	(mm-handle-media-subtype): New function.
	Use new functions throughout. "/"))

1999-05-18 03:03:50  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-treat-predicate): Typo.

1999-07-07 06:21:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-summary-score-entry): Made un-interactive.

1999-07-06 17:57:16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-date-ut): UT!  Default it!

Tue Jul  6 10:59:24 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.92 is released.

1999-07-06 12:30:59  Johannes Weinert  <Johannes.Weinert@Informatik.Uni-Oldenburg.DE>

	* gnus-sum.el (gnus-summary-catchup-and-exit): Doc fix.

1999-07-06 07:41:07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nntp.el (nntp-retrieve-groups): Don't do anything when not
	connected.

	* gnus-start.el (gnus-active-to-gnus-format): Only save active
	when plugged.

	* mm-view.el (mm-inline-message): Ignore remove-spec.

	* gnus-agent.el (gnus-agent-write-active): Check whether orig sym
	is bound.

	* gnus-msg.el (gnus-summary-mail-forward): Rename From_ lines.

	* nndoc.el (nndoc-guess-type): Remove blank lines at the start.

	* nnfolder.el (nnfolder-read-folder): Remove blank lines at the
	start.

	* message.el (message-fill-yanked-message): Remove `t' arg.

	* gnus-group.el (gnus-group-kill-group): Message killing of
	groups.

	* mm-util.el (mm-preferred-coding-system): New function.
	(mm-mime-charset): Use it.

	* mml.el (mml-generate-mime-1): Charset-encode message parts.

1999-07-06 07:03:31  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* gnus-mlsplt.el: New file.

1999-07-06 05:47:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inline-Media-tests): Changed from forms to
	functions.
	(mm-attachment-override-p): Take a handle instead of a type.
	(mm-inlined-p): Ditto.
	(mm-automatic-display-p): Ditto,
	(mm-inlinable-p): Ditto.

	* nndraft.el (nndraft-request-expire-articles): Delete backup
	files.

	* mailcap.el (mailcap-parse-mailcap): Regexp-quote stuff.

	* gnus-sum.el (gnus-summary-limit-to-extra): Typo.

1999-07-06 05:37:46  Alexandre Oliva  <oliva@dcc.unicamp.br>

	* nnmail.el (nnmail-split-it): Allow .*.

1999-07-05 05:04:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inline-large-images-p): Renamed.

	* gnus-art.el (article-date-ut): Always look in the current buffer
	for the Date header.

	* mml.el (mml-validate): New command.

	* mailcap.el (mailcap-possible-viewers): Revert to string-match
	since we are dealing with regexps.

Sun Jul  4 06:31:01 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.91 is released.

1999-07-04 04:35:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-save-active-1): New function.
	(gnus-agent-save-active): use it.
	(gnus-agent-save-groups): Ditto.

	* gnus-cache.el (gnus-cache-write-active): Use it.

	* gnus-agent.el (gnus-agent-write-active): Use it.

	* gnus-util.el (gnus-write-active-file): New function.

	* gnus-agent.el (gnus-agent-write-active): New function to keep
	lower boundaries and canceled groups.
	(gnus-agent-save-groups): Use it.
	(gnus-agent-save-active): Use it.
	(gnus-agent-save-group-info): Only write active files.
	(gnus-agent-expire): Update active file.

	* mm-decode.el (mm-inlinable-part-p): Removed.
	(mm-user-display-methods): Default to nil.
	(mm-user-display-methods): Removed.
	(add-mime-display-method): Removed.
	(mm-automatic-display): Renamed.
	(mm-automatic-display-p): Use it.
	(mm-inlined-types): New variable.
	(mm-inlined-p): New function.

	* message.el (message-reply): Bind message-this-is-mail.

1999-07-03 13:16:31  Michael Klingbeil  <mklingbeil@knuut.de>

	* smiley.el (smiley-buffer): Fix for NT.

1999-07-03 11:26:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-encode.el (mm-encode-buffer): Check whether we have 7bit.

	* message.el (message-check-news-header-syntax): Protect against
	nil froms.

	* mm-util.el (mm-auto-mode-alist): New.

	* mml.el (mml-generate-mime-1): Ditto.

	* gnus.el: Use mm-insert-file-contents throughout instead of
	nnheader.

	* mm-util.el (mm-insert-file-contents): New function.

Sat Jul  3 07:35:35 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.90 is released.

1999-07-03 09:31:10  Sven Fischer  <herpes@kawo2.rwth-aachen.de>

	* mailcap.el (mailcap-possible-viewers): Use string=.

1999-07-01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-forward-begin-line): New variable.
	(mm-uu-forward-end-line): New variable.
	(mm-uu-begin-line): Handle forwarded message.
	(mm-uu-identifier-alist): Ditto.
	(mm-uu-dissect): Ditto.

1999-06-29  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* lpath.el: Two free variables.

1999-07-02  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnheader.el (nnheader-file-coding-system): Use raw-text.
	* gnus-agent.el (gnus-agent-file-coding-system): Ditto.
	* gnus-cache.el (gnus-cache-coding-system): Ditto.

	* nnfolder.el (nnfolder-file-coding-system): Use mm-text-coding-system.
	(nnfolder-file-coding-system-for-write): New variable.
	(nnfolder-active-file-coding-system): New variable.
	(nnfolder-active-file-coding-system-for-write): New variable.
	(nnfolder-save-active): New function.
	(nnfolder-save-buffer): Use them.
	(nnfolder-possibly-change-group): Ditto.
	(nnfolder-request-list-newsgroups): Ditto.
	(nnfolder-request-create-group): Ditto.
	(nnfolder-request-expire-articles): Ditto.
	(nnfolder-request-move-article): Ditto.
	(nnfolder-request-accept-article): Ditto.
	(nnfolder-request-delete-group): Ditto.
	(nnfolder-request-rename-group): Ditto.
	(nnfolder-possibly-change-folder): Ditto.
	(nnfolder-read-folder): Ditto.
	(nnfolder-request-list): Remove pathname-coding-system.
	(nnfolder-possibly-change-group): Use nnmail-pathname-coding-system.

	* nnmail.el (nnmail-file-coding-system): Use raw-text.
	(nnmail-file-coding-system-1): Removed.
	(nnmail-find-file): Use nnmail-pathname-coding-system.
	(nnmail-write-region): Ditto.

	* nnmbox.el (nnmbox-file-coding-system): New variable.
	(nnmbox-file-coding-system-for-write): New variable.
	(nnmbox-active-file-coding-system): New variable.
	(nnmbox-active-file-coding-system-for-write): New variable.
	(nnmbox-save-buffer): New function.
	(nnmbox-save-active): New function.
	(nnmbox-request-scan): Use them.
	(nnmbox-request-expire-articles): Ditto.
	(nnmbox-request-move-article): Ditto.
	(nnmbox-request-accept-article): Ditto.
	(nnmbox-request-replace-article): Ditto.
	(nnmbox-request-delete-group): Ditto.
	(nnmbox-request-rename-group): Ditto.
	(nnmbox-request-create-group): Ditto.

	* mm-util.el (mm-text-coding-system): raw-text or -dos.
	(mm-running-ntemacs): Removed.

	* nnml.el (nnml-file-coding-system): Use nnmail-file-coding-system.

1999-07-02  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnfolder.el (nnfolder-read-folder): Use nnheader-file-coding-system.

1999-07-01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* qp.el (quoted-printable-encoding-characters): Support lower case.

1999-07-01  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode): Fold before B-encoding.
	(rfc2047-b-encode-region): Encode line by line.

1999-07-03 09:20:16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-find-mime-charset-region): Fix.

1999-06-30  KOSEKI Yoshinori  <kose@yk.NetLaputa.ne.jp>

	* mm-util.el (mm-mime-mule-charset-alist): Fix iso-2022-jp(-2) bug.
	(mm-find-mime-charset-region): Ditto.

1999-07-03 09:15:35  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-summary-move-article): Fix something or
	other.

1999-06-29  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-newsgroup-ephemeral-charset): New variable.
	(gnus-newsgroup-ephemeral-ignored-charsets): New variable.
	(gnus-summary-enter-digest-group): Use them.
	(gnus-summary-setup-default-charset): Ditto.

1999-06-15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* base64.el (base64-run-command-on-region): Use unibyte buffer.

1999-06-15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-msg.el (gnus-configure-posting-styles): Fix bug when
          gnus-newsgroup-name is nil.

1999-06-15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-encode): Chop the tail newline.

1999-06-15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-emphasize): Use correct
 	gnus-article-emphasis-alist.

1999-06-15  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Fix text/html bug.

Mon Jun 28 17:54:01 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.89 is released.

1999-06-24  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-file-coding-system-1): For NTEmacs in Windows.
	* message.el (message-draft-coding-system): Ditto.
	* mm-util.el (mm-running-ntemacs): Ditto.

1999-06-23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-summary-recenter): A blank line may
 	cause problem.

1999-06-23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Ignore error in w3-region.

1999-06-23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el: require mm-decode.

1999-06-23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-display-mime): Treat as head only if necessary.

1999-06-23  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-image): Fix image undisplayer.

1999-06-22  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mml.el (mml-insert-multipart): Error in compeling-read.
	(mml-insert-tag): Match tags.

1999-06-19  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-cache-braid-nov): Fix coding-system bug.
	(gnus-cache-braid-heads): Ditto.
	(gnus-cache-retrieve-headers): Ditto.

1999-06-16  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-draft.el (gnus-draft-send): Fix encoding bug.

1999-06-16 10:17:29  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-art.el (gnus-article-read-summary-keys): Convert key events
	to string under XEmacs.

1999-06-28 19:34:03  Petersen Jens-Ulrik  <jens-ulrik.petersen@nokia.com>

	* gnus-start.el (gnus-find-new-newsgroups): Doc fix.

1999-06-22  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-message): Fix message view bug.
	* gnus-art.el (gnus-article-prepare): Ditto.

1999-06-16  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-cache-possibly-enter-article): Fetch headers.

Tue Jun 15 04:13:01 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.88 is released.

1999-06-15 04:13:45  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-save-parts): Destroy handles after
	usage.

	* nnmail.el (nnmail-get-new-mail): Save info.

Mon Jun 14 01:15:59 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.87 is released.

1999-06-14 02:46:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-file): Use prescript-delay.
	(mail-source-run-script): New function.
	(mail-source-fetch-pop): Use it.

1999-06-13 09:52:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-setup-highlight-words): Moved here.

Sun Jun 13 07:30:40 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.86 is released.

1999-06-13 08:51:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-translate): New variable.
	(gnus-treat-predicate): Accept a list of regexps.
	(gnus-article-treat-custom): Allow a list of regexps.

1999-06-09  Markus Rost  <markus.rost@mathematik.uni-regensburg.de>

	* gnus/gnus-group.el (gnus-permanently-visible-groups): Fix custom
	type.

1999-06-13 05:15:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-babel): Narrow a bit.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Was too slow.

1999-06-12  Simon Josefsson  <jas@pdc.kth.se>

        (gnus-agent-get-undownloaded-list): Operate on all articles, not
        only unread ones.
        (gnus-agent-fetch-headers): Fetch headers from unread and marked
        articles, not only unread ones.

1999-06-13 03:01:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-limit-to-extra): New command and
	keystroke.

	* gnus-art.el (gnus-article-x-face-command): Ditto.

	* gnus-uu.el (gnus-uu-default-view-rules): Default to "display".

	* gnus.el (gnus-method-simplify): Accept server names.

1999-06-13 02:36:15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (article-babel-prompt): New function.
	(article-babel): New command.

1999-06-13 01:01:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-part-wrapper): Go to part.

	* mml.el (mml-generate-mime-1): Don't insert literally.

	* gnus-util.el (gnus-parse-netrc): Skip lines with #'s.
	(gnus-netrc-syntax-table): Removed.
	(gnus-parse-netrc): Don't use syntax table; just use whitespace.

Wed May  5 13:51:13 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Fix charset for text/html.

Wed May  5 01:15:08 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-draft-coding-system): Use emacs-mule-dos.

1999-06-12 07:29:39  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-split-incoming): Return the number of split
	mails.
	(nnmail-process-babyl-mail-format): Ditto.
	(nnmail-process-unix-mail-format): Ditto.
	(nnmail-process-mmdf-mail-format): Ditto.
	(nnmail-process-maildir-mail-format): Ditto.

	* mail-source.el (mail-source-callback): Return the number from
	the callback.

	* message.el (message-send-mail): Generate Lines.

	* mail-source.el (mail-source-call-script): New function.
	(mail-source-call-script): New function.

Sun May  2 02:00:27 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-setup-highlight-words): New function.
	(gnus-select-newsgroup): Use it.
	(gnus-group-highlight-words-alist): New variable.
	(gnus-newsgroup-emphasis-alist): New variable.
	(gnus-summary-local-variables):  Use it.
	* lpath.el: Use it.
	* gnus-art.el (article-emphasize): Use it.
	(gnus-emphasis-highlight-words): New face.
	* gnus-cus.el (gnus-group-parameters): New parameter.

Sun May  2 01:00:02 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cache.el (gnus-cache-possibly-enter-article): Remove
 	parameter `headers'.
	(gnus-cache-enter-article): Ditto.
	(gnus-cache-update-article): Ditto.
	* gnus-sum.el (gnus-summary-move-article): Ditto.
	(gnus-summary-mark-article-as-unread): Ditto.
	(gnus-summary-mark-article): Ditto.

1999-06-12 03:59:56  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-message-insert-stylings): Removed.
	(gnus-posting-style-alist): Removed.
	(gnus-message-style-insertions): Ditto.
	(gnus-configure-posting-styles): Reimplementation.

	* mail-source.el (mail-source-fetch): Error the message.

	* gnus-msg.el (gnus-inews-do-gcc): Do mml and encoding.

Sat Jun 12 00:19:57 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.85 is released.

1999-04-20  Michael Cook  <cook@sightpath.com>

	* gnus-cite.el (gnus-cite-attribution-prefix): Tweak for MS
	  Outlook citation regex.

1999-06-12 02:09:49  Lars Magne Ingebrigtsen  <pinard@iro.umontreal.ca>

	* nndoc.el (nndoc-mime-parts-type-p): Accept space before
	semicolon.

1999-05-24  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-range.el (gnus-remove-from-range): Document range1
	modification, protect range2.

1999-05-24  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-update-marks): Protect lists from
	gnus-remove-from-range, don't sort twice.

1999-05-21  Simon Josefsson  <jas@pdc.kth.se>

        * gnus-start.el (gnus-read-descriptions-file): Protect if no
        function in backend.

1999-05-15  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-valid-move-group-p): Check for a
	request-accept-article function in the backend instead of using
	the 'respool capability.

1999-04-18  Hrvoje Niksic  <hniksic@srce.hr>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Handle
	spurious whitespace at eob.

1999-06-12 02:02:06  Adrian Aichner  <aichner@ecf.teradyne.com>

	* nnmail.el (nnmail-get-new-mail): Check right variable.

1999-06-12 01:57:39  Karl Kleinpaste  <karl@justresearch.com>

	* mailcap.el (mailcap-mime-data): Fix rfc822.

1999-06-11 23:48:50  TOZAWA Akihiko  <miles@is.s.u-tokyo.ac.jp>

	* nndoc.el (nndoc-nsmail-type-p): New function.
	(nndoc-type-alist): Recognize nsmail.

1999-05-12  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus-art.el (gnus-treatment-function-alist): Display `x-face'
	*before* `article-hide-headers' deletes the information.

1999-05-22 00:26:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-save-parts): New command and
	keystroke.
	(gnus-summary-save-parts-1): New function.
	(gnus-summary-iterate): Buggy.

	* mm-decode.el (mm-save-part-to-file): Made into own function.

1999-05-11 05:53:16  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-set-info): Resist nils.

1999-05-04 19:26:08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-data): Ditto.

	* gnus-uu.el (gnus-uu-default-view-rules): Ditto.

	* gnus-art.el (gnus-article-x-face-command): Default to ee.

1999-05-02  Gareth Jones  <gdj1@gdjones.demon.co.uk>

	* gnus-art.el (article-make-date-line): Put X-Sent below Date if
	gnus-article-date-lapsed-new-header is t.

Sat May  1 20:27:43 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.84 is released.

1999-05-01 22:23:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-bug-message): Mime change.

1999-04-22  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-update-marks): Process null mark lists.

1999-04-21  Hrvoje Niksic  <hniksic@srce.hr>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Recognize
 	`x-uue'.

1999-03-04  Aaron M. Ucko  <amu@mit.edu>

	* mail-source.el (mail-source-fetch-pop): Only prompt for password
	when authentication is 'password.

1999-05-01 22:17:55    <pinard@iro.umontreal.ca>

	* gnus-win.el (gnus-configure-windows): Accept a setting.

1999-04-21 20:51:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-quote-arg): Moved here.

	* mm-decode.el (mm-quote-arg): Quote more chars.

1999-04-18 20:12:49  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (nnheader-parse-head): Message-ID in In-Reply-To
	with newlines would create buggy .nov files.

	* gnus-art.el (gnus-article-date-lapsed-new-header): Default to nil.

	* qp.el (quoted-printable-encode-region): Encode whitespace at the
	end of lines.

	* message.el (message-mode): Doc fix.

	* gnus-art.el (article-hide-headers): Delete the hidden headers.

	* gnus-msg.el (gnus-setup-posting-charset): Default group to "".

	* gnus-art.el (article-date-ut): Rewrite.

	* mm-decode.el (mm-preferred-alternative-precedence): Reverse the
	order.

	* gnus-msg.el (gnus-message-insert-stylings): Remove duplicate
	headers.

	* gnus-art.el (gnus-article-date-lapsed-new-header): Doc fix.

1999-04-18  Didier Verna  <verna@inf.enst.fr>

	* gnus-art.el (gnus-article-date-lapsed-new-header): new variable.
	(article-date-ut): use it.

1999-04-18 20:06:20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-pop): Call script
	asynchronously.

Sun Apr 18 12:40:04 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.83 is released.

1999-04-18 10:55:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-draft.el (gnus-draft-mode): Use mml minor mode.

	* gnus-cite.el (gnus-dissect-cited-text): Off-by-one error.

	* gnus-uu.el (gnus-uu-mark-thread): Save hidden threads.

	* gnus-art.el (gnus-mime-inline-part): Don't do a charset param.

	* gnus-msg.el (gnus-bug): Use application/x-emacs-lisp.

	* message.el (message-generate-headers): Accept continuation
	headers.

1999-04-18 10:48:57  Renaud Rioboo  <Renaud.Rioboo@lip6.fr>

	* gnus-demon.el (gnus-demon-time-to-step): Not strings.

1999-04-18 08:21:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treatment-function-alist): use
	maybe-hide-headers.

	* message.el (message-inhibit-body-encoding): Typo.
	(message-resend): Inhibit encoding.

	* gnus-sum.el (gnus-summary-toggle-header): Decode rfc2047.

	* gnus-art.el (article-remove-cr): Use re-search.

	* rfc2231.el (rfc2231-parse-string): Allow broken elm MIME
	headers.

	* mm-decode.el (mm-quote-arg): Quote '.

	* gnus-ems.el (gnus-x-splash): Would place splash wrongly.

	* mm-decode.el (mm-insert-part): Use multibyte for text.

	* gnus-start.el (gnus-read-newsrc-file): New variable.
	(gnus-read-newsrc-file): Use it.

1999-04-17 18:51:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnvirtual.el (nnvirtual-request-expire-articles): New function.

	* gnus-group.el (gnus-group-expire-articles-1): Made into own
	function.

Sat Apr 17 16:41:30 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.82 is released.

1999-04-15  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-sum.el (gnus-group-charset-alist): Include Croatian groups
	for iso8859-2.

1999-04-17 18:23:50  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-charset-synonym-alist): Remove iso-2022-jp-2 from
	synonym alist.

1999-04-17 18:03:38  Adam P. Jenkins  <ajenkins@netway.com>

	* gnus-sum.el (gnus-summary-local-variables): Mark as global.

1999-04-17 18:02:05  Ettore Perazzoli  <ettore@comm2000.it>

	* mail-source.el (mail-source-fetch): Ask before bugging out.

1999-03-19  Hrvoje Niksic  <hniksic@srce.hr>

	* uudecode.el (uudecode-decode-region-external): Don't assume
	uudecode-temporary-file-directory ends with a slash.

1999-03-18  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-update-marks):
	(gnus-update-read-articles):
	(gnus-summary-expire-articles): Check server.

1999-03-16  Simon Josefsson  <jas@pdc.kth.se>

	* mml.el (mml-preview): New function.

1999-04-17 17:10:21  William M. Perry  <wmperry@aventail.com>

	* mail-source.el (mail-source-fetch-file): Return the right
	value.

1999-04-17 07:52:17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-insert-parameter): New function.
	(mml-insert-parameter-string): New function.

	* nnmail.el (nnmail-get-new-mail): Say how many new articles.

	* gnus-art.el (gnus-mime-multipart-functions): New variable.
	(gnus-mime-display-part): Use it.

	* mm-decode.el (mm-alternative-precedence): Removed.
	(mm-discouraged-alternatives): New variable.
	(mm-preferred-alternative-precedence): New function.

	* nnmail.el (nnmail-get-new-mail): Use mail-sources.

	* mail-source.el (mail-sources): New variable.

	* gnus-art.el (article-remove-cr): Remove several trailing CRs.

	* mm-decode.el (mm-valid-image-format-p): New function.
	(mm-inline-media-tests): Use it.
	(mm-valid-and-fit-image-p): New function.

	* gnus-agent.el (gnus-agent-fetch-groups): Error when unplugged.
	(gnus-agent-fetch-group): Ditto.

1999-04-12  Didier Verna  <verna@inf.enst.fr>

	* nnmail.el (nnmail-article-group): in case of a group name
	containing "\\n" constructs, be sure to pass the expanded value to
	nn*-save-mail.

Sat Apr 17 05:40:45 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.81 is released.

1999-04-16 15:54:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-get-split-value): Reverse result.

1999-04-03 00:17:24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el (gnus-always-read-dribble-file): Doc fix.

1999-04-02 15:33:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-insert-tag): Insert concluding part.

	* message.el (message-send-mail): Encode later.
	(message-send-news): Ditto.

	* nnfolder.el: Don't use mail delim.

1999-03-28 19:14:27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-cus.el (gnus-group-customize): Put point at min.

	* mm-view.el (mm-inline-text): Allow toggling html.

1999-03-28 17:11:15  William M. Perry  <wmperry@aventail.com>

	* mail-source.el: Added prescript and postscript to file.

1999-03-28 13:46:00  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el: Reverted.

	* gnus-msg.el (gnus-setup-posting-charset): Didn't work.
	(gnus-setup-posting-charset): Did work.

1999-03-28 13:19:50  Jae-you Chung  <jay@pllab.kaist.ac.kr>

	* gnus.el (gnus-short-group-name): Use
	gnus-group-uncollapsed-levels.

1999-03-28 13:11:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-cite.el (gnus-dissect-cited-text): Don't remove overlays.

1999-03-26 13:18:45  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-strip-headers-in-body): New variable.
	(article-strip-headers-from-body): New command and keystroke.

1999-03-14 16:09:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-pop): Check for symbol first.

	* nnheader.el (nnheader-insert-file-contents): Bind
	enable-local-eval to nil.
	(nnheader-find-file-noselect): Ditto.

	* nnmail.el (nnmail-article-group): Don't remove long lines.
	(nnmail-remove-long-lines): New function.
	(nnmail-split-header-length-limit): Removed.

	* mml.el (mml-generate-mime-1): Use unibyte buffers.

	* gnus-group.el (gnus-group-kill-all-zombies): Query user.

1999-03-06 07:20:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-generic-mark): New function.

	* nnmail.el (nnmail-split-header-length-limit): Increased.
	(nnmail-article-group): Allow nil.

	* gnus-cite.el (gnus-cite-parse-wrapper): Inhibit point-motion.

	* nndoc.el (nndoc-generate-mime-parts-head): Insert real headers
	first.

	* mml.el (mml-minibuffer-read-type): Include types from
	mailcap-mime-data.

	* nndraft.el (nndraft-request-article): Would clobber Japanese.

1999-03-05  Hrvoje Niksic  <hniksic@srce.hr>

	* mml.el (mml-insert-tag): New function.
	(mml-read-file): Renamed to mml-minibuffer-read-file to avoid
 	confusion with functions like `mml-read-tag'.
	(mml-read-type): Ditto with `mml-minibuffer-read-type'.
	(mml-minibuffer-read-description): Ditto with
 	`mml-minibuffer-read-description'.
	(mml-attach-buffer): New function.
	(mml-mode-map): New entry for /.
	(mml-minibuffer-read-type): Accept DEFAULT.

	* mml.el (mml-quote-region): Narrow the region.

	* message.el (message-mode-menu): message-mime-attach-file is now
 	mml-attach-file.

1999-03-05 21:24:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treatment-function-alist): Do emphasis earlier.

1999-03-05 21:08:10  Robert Bihlmeyer  <robbe@orcus.priv.at>

	* mml.el (mml-attach-buffer): New command.

1999-02-27  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-update-marks): Call gnus-remove-from-range
	with a proper range. Compress range.

	* gnus-range.el (gnus-remove-from-range): Protect arguments.

1999-03-05 20:59:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-get-image): Create a temporary file for xbms.

1999-03-04 04:20:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-x-face-file-name): Removed.
	(gnus-picons-convert-x-face): Removed.
	(gnus-picons-article-display-x-face): Removed.
	(gnus-picons-x-face-sentinel): Ditto.
	(gnus-picons-display-x-face): Ditto.

Thu Mar  4 01:38:00 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.80 is released.

1999-03-02 16:04:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mm-display-part): Narrow to the part itself.

	* gnus-sum.el (gnus-with-article): Moved here.

	* mail-source.el (mail-source-fetch-pop): Ask for password even
	when program.

1999-02-28 13:16:12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-bug): Add description.

	* mml.el (mml-insert-mml-markup): Insert disposition.

	* message.el (message-send-mail): Always encode mail headers.

	* smiley.el (gnus-smiley-display): Goto body.

1999-02-28 13:15:47  Petr Konecny  <pekon@informatics.muni.cz>

	* smiley.el (gnus-smiley-display): Don't search to blank line.

1999-02-28 00:38:40  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-article): Only run the highlight stuff
	when requested.

	* nnmail.el (nnmail-current-spool): Removed.

	* gnus-salt.el (gnus-tree-inhibit): New varible.

	* gnus.el (mm-util): Required.

1999-02-27 23:44:52  paul stevenson  <spaul@mail.phy.ornl.gov>

	* gnus-sum.el (gnus-summary-toggle-header): Narrow to head first.

1999-02-27 17:17:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-bind): Doc fix.

1999-02-26 20:35:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-mode): Doc fix.

	* mm-encode.el (mm-content-transfer-encoding-defaults): Use 8bit
	encoding.

	* gnus.el (gnus-methods-equal-p): Moved here.

	* mail-source.el: pop at 110.

	* pop3.el (pop3-movemail): Use write-region instead of
	append-to-file to avoid excessive messaging.

1999-02-27  lantz moore  <lmoore@contigo.com>

	* nnmail.el (nnmail-get-new-mail): honor suffix for spool-files of
	type directory.

1999-03-04  Robert Bihlmeyer  <robbe@orcus.priv.at>

	* gnus-art.el (article-hide-boring-headers): Field names must not
	contain whitespace.

Fri Feb 26 18:54:16 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.79 is released.

1999-02-26 18:11:04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-cite.el (gnus-cite-toggle): Don't remove highlighting.

	* mml.el (mml-mode): Don't use add-minor-mode.

	* message.el (messgage-inhibit-body-encoding): New variable.
	(message-encode-message-body): Use it.

Fri Feb 26 17:00:25 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.78 is released.

1999-02-26 07:45:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-mode): Switch on MML mode.

	* mml.el: Included commands and functions.
	(mml-mode-map): New keymap.

	* message.el: Removed the insertion commands and functions.

	* gnus-ems.el (gnus-mule-cite-add-face): Removed.

	* gnus-sum.el (gnus-summary-sort-by-chars): New command and
	keystroke.

	* gnus-art.el (gnus-narrow-to-page): Revert.

	* gnus-cite.el (gnus-cite-delete-overlays): New function.
	(gnus-cite-parse-maybe): Always reparse.

	* message.el (message-encode-message-body): Don't insert
	"multipart warning".

	* gnus-art.el (gnus-article-treat-head-custom): New variable.

1999-02-25  Miles Bader  <miles@ccs.mt.nec.co.jp>

	* mail-source.el (mail-source-fetch-pop): Return 1 for success.

	* nnmail.el: Require mm-util.

1999-02-26 07:39:33  Justin Sheehy  <justin@linus.mitre.org>

	* nnmail.el (nnmail-get-new-mail): Only get mail for the one
	group.

1999-02-26 07:38:08  SeokChan LEE  <chan@smoky-blue.com>

	* mm-bodies.el (mm-body-charset-encoding-alist): Add euc-kr.

1999-02-21  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-msg.el (gnus-extended-version): Better regexp.

1999-02-25  Didier Verna  <verna@inf.enst.fr>

	* nnmail.el (nnmail-split-it): new syntax: `(! FUNC SPLIT)'. FUNC
	is called with the result of SPLIT and should return a new split.

        * gnus.texi: update the doc.

1999-02-23  Didier Verna  <verna@inf.enst.fr>

	* gnus-picon.el (gnus-picons-display-bar-p): when picons are
	displayed in the article buffer, output bars if
	`gnus-picons-display-article-move-p'.

1999-02-20  Aaron M. Ucko  <amu@mit.edu>

	* mail-source.el (mail-source-fetch-pop): Typo.

1999-02-26 07:15:12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-toggle-header): Save restriction.

1999-02-23 03:07:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-cite.el (gnus-cite-parse-wrapper): Always parse.

1999-02-21 11:11:39  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-insert-buffer): New function.

	* message.el (message-forward): Insert the buffer in the buffer.

Sun Feb 21 01:20:50 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-message): Insert part in narrowed region.

Sat Feb 20 23:09:40 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-toggle-header): Save restriction.

Sat Feb 20 21:34:28 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.77 is released.

1999-02-20 17:32:17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-displaying-mime): New variable.
	(article-narrow-to-head): New function.

	* mail-source.el (mail-source-fetch-pop): Include pre/postscript.
	Default to pop instead of pop3.

1999-02-19 16:16:04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-hide-pgp): Goto body.

	* gnus-uu.el (gnus-uu-digest-mail-forward): Don't kill buffer.

	* gnus-cite.el: Don't use goto-line.

	* gnus-art.el (gnus-article-treat-html): Removed.
	(gnus-treat-article): Save restriction.

1999-02-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-send-mail): Don't untabify.
	(message-mode): Don't use tabs for indentation.

1999-02-19 14:54:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-mail): Don't untabify.

	* nnml.el (nnml-save-mail): Typo fix.

1999-02-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* message.el (message-cite-function): Add
	`message-cite-original-without-signature' customization option.

1999-02-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nnmail.el (nnmail-fix-eudora-headers): Mark as option to
	`nnmail-prepare-incoming-header-hook'.

1999-02-19 14:41:43  Justin Sheehy  <justin@linus.mitre.org>

	* gnus-util.el (gnus-make-sort-function-1): Typo fix.

1999-02-19 14:40:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-get-new-news): Require nnmail.

1999-02-18  Michael Cook  <cook@sightpath.com>

	* Recognize Microsoft Outlook's cite attribution conventions.

1999-02-19 14:33:11  James H. Cloos, Jr.  <cloos@jhcloos.com>

	* gnus-sum.el: Bind M.

1999-02-19 14:31:29  Neil Crellin  <neilc@wallaby.cc>

	* mail-source.el (mail-source-fetch-pop): Bind pop3-port.

1999-02-15  Didier Verna  <verna@inf.enst.fr>

	* gnus-picon.el (gnus-group-display-picons): ensures that
	`article-goto-body' really goes to the article body.

1999-02-19 12:57:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-text): Bind url-standalone-mode.

	* gnus-msg.el (gnus-summary-mail-forward): Create unique names.

	* mm-view.el (mm-view-message): Enable multibyte.

1999-02-11 18:37:15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-get-new-mail): Message later.

	* mm-util.el (mm-find-charset-region): Revert to checking
	multibyte.

1999-02-11  Matt Pharr  <mmp@graphics.stanford.edu>

      * gnus-msg.el (gnus-bug): Encode environment info as a MIME
      attachment.

Thu Feb 11 04:58:51 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.76 is released.

1999-02-06  Felix Lee  <flee@cygnus.com>

	* gnus.el (gnus-group-change-level-function): Typo.

1999-02-11 05:47:51  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-nov-skip-field): Removed.
	(gnus-nov-field): Ditto.
	(gnus-nov-parse-extra): Ditto.
	(gnus-nov-read-integer): Ditto.

1999-02-05 09:44:20  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnheader.el (nnheader-nov-read-message-id): New macro.
	(nnheader-parse-nov): Use it.

	* gnus-sum.el (gnus-nov-read-message-id): New macro.
	(gnus-nov-parse-line): Use it; use `(eobp)' instead of
	`(eq (char-after) ?\n)'.

1999-02-11 05:16:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-other-frame): Always pop up a new frame.

Wed Feb 10 01:03:43 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-range.el (gnus-range-add): Rewrite.

1999-02-02 18:12:00  Carsten Leonhardt  <leo@arioch.oche.de>

	* nnmail.el (nnmail-split-incoming): Added detection of maildir
 	format.
	(nnmail-process-maildir-mail-format): New function.

	* mail-source.el (mail-source-fetch-maildir): New function.
	(mail-source-keyword-map): Add default for maildir method.
	(mail-source-fetcher-alist): Changed "qmail" to "maildir".

1999-02-10 02:29:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetcher-alist): Remove apop.

	* nndoc.el (nndoc-type-alist): Remove MIME-digest.
	(nndoc-mime-digest-type-p): Removed.

1999-02-09 15:25:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-read-summary-keys): Set the point
	where it is supposed to be.
	(gnus-treat-play-sounds): New variable.

	* gnus-sum.el (gnus-newsgroup-ignored-charsets): New variable.

	* gnus-art.el (article-display-x-face): Narrow to head.
	(gnus-article-washed-types): New variable.
	(article-hide-pgp): Is not a toggle.
	(gnus-article-hide-text-type): Save types.
	(article-decode-charset): Use it.

	* nnmail.el (nnmail-get-new-mail): Ignore procmail.

	* message.el (message-forward-start-separator): Removed.
	(message-forward-end-separator): Removed.
	(message-signature-before-forwarded-message): Removed.
	(message-included-forward-headers): Removed.
	(message-check-news-body-syntax): Don't check forward.
	(message-forward): Use MIME.

	* nnvirtual.el (nnvirtual-request-article): Bind
	gnus-article-decode-hook to nil.

1999-02-06 16:55:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-parse-singlepart-with-multiple-charsets): Check for
	us-ascii.

1999-02-04 00:00:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* format-spec.el (format-spec): Be more robust.

	* message.el (message-encode-message-body): Default
	mail-parse-charset to mail-parse-charset.

	* gnus-sum.el (gnus-summary-edit-article-done): Don't encode.
	(gnus-summary-edit-article): Bind mail-parse-charset.

	* mml.el (mml-read-tag): Ignore white space after end of tag.

	* message.el (message-goto-body): Also work in separatorless
	articles.

	* mml.el (mml-translate-from-mime): New function.
	(mml-insert-mime): Ditto.
	(mml-to-mime): New function.
	(mime-to-mml): New name.

	* gnus-sum.el (gnus-summary-edit-article): Always select raw
	article.

	* gnus-group.el (gnus-group-catchup-current): Unmark groups.

	* gnus-sum.el (gnus-summary-setup-default-charset): Don't
	special-case nndraft groups.

1999-02-03 16:44:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-get-newsgroup-headers): Bind charset.
	(gnus-get-newsgroup-headers): Already bound.

	* message.el (message-encode-message-body): Use posting charset.

	* mm-bodies.el (mm-encode-body): Use MIME charsets.
	(mm-body-encoding): Do CTE.
	(mm-body-7-or-8): New function.

	* mm-util.el (mm-mime-charset): Always fall back on alist.
	(mm-mime-mule-charset-alist): Include katakana-jisx0201.
	(mm-mime-mule-charset-alist): Add arabic-*-column.
	(mm-find-mime-charset-region): New function.

	* format-spec.el (format-spec-make): New function.

	* mail-source.el (format-spec): Required.
	(mail-source-fetch-with-program): Removed.
	(mail-source-fetch-with-program): New function.

	* format-spec.el: New file.

1999-02-03 16:00:41  Tatsuya Ichikawa  <ichikawa@hv.epson.co.jp>

	* mail-source.el (mail-source-fetch-with-program): Take optional
	parameter.

1999-02-03 00:31:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-start.el: Ignore some groups.
	(gnus-setup-news): Bind nnmail-fetched-sources.

	* message.el (message-send-mail): Remove all tabs.

	* mm-util.el (mm-find-charset-region): Just check whether
	find-charset-region is defined.

1999-02-02 23:35:20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-group-get-new-news): Use
	nnmail-fetched-sources.

	* nnmail.el (nnmail-fetched-sources): New variable.
	(nnmail-get-new-mail): Use it.

	* mail-source.el (mail-source-fetched-sources): New variable.
	(mail-source-fetch): Use it.

1999-02-02 23:20:20  Mark W. Eichin  <eichin@thok.org>

	* gnus.el (gnus-getenv-nntpserver): if the file that
 	gnus-nntpserver-file names has a trailing newline, the
 	string-match will always match, and thus the file will never be
 	read.  (^ matches start of "line", \\` matches start of "buffer",
 	which is what was intended...)

1999-02-02 23:17:40  Kim-Minh Kaplan  <kmkaplan@western.fr>

	* gnus-picon.el (gnus-picons-parse-filenames): Quote group names.

1999-01-28 04:15:46  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-start.el (gnus-read-active-file): Eliminate duplicated
	select methods.

1999-01-27  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-range.el (gnus-remove-from-range): Sort second argument.

1999-02-02 10:55:23  Scott Hofmann  <shofmann@mindspring.com>

	* nntp.el: Use mail-source-read-passwd instead of nnmail-read-passwd.

Mon Feb  1 23:23:03 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-cus.el (gnus-group-parameters): Charset as symbol, and fix
	a typo.
	* gnus-sum.el (gnus-summary-setup-default-charset): Set nndraft's
	charset to nil.
	* gnus-agent.el (gnus-agent-queue-setup): Remove charset setting.
	* gnus-start.el (gnus-start-draft-setup): Ditto.

1999-02-02 22:13:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-directory): Use the predicate.
	(mail-source-value): Don't do variables.

	* nnmail.el (nnmail-get-new-mail): Set the predicate.

	* gnus-sum.el (gnus-summary-toggle-header): Fix, and bound to t.

1999-02-01  Michael Cook  <cook@sightpath.com>

	* Defenestrate spurious ?a.

1999-02-02 21:59:51  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-pop): Instead use
	:authentication.

1999-02-01  Tatsuya Ichikawa <t-ichi@po.shiojiri.ne.jp>

	* lisp/mail-source.el : Support APOP authentication scheme.

1999-02-02 21:56:14  Tatsuya Ichikawa  <t-ichi@niagara.shiojiri.ne.jp>

	* pop3.el (pop3-movemail): Return t.

1999-02-02 21:48:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-fold-region): New function.
	(rfc2047-encode-message-header): Use it.

1999-02-02 21:07:27  Hallvard B. Furuseth  <h.b.furuseth@usit.uio.no>

	* gnus-sum.el (gnus-group-charset-alist): Add more.

Mon Feb  1 21:18:00 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.75 is released.

1999-02-01 21:54:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-display-x-face): Don't narrow to head.

1999-02-01 21:48:39  Michael Cook  <cook@sightpath.com>

	* gnus-cite.el (gnus-cited-lines-visible): Accept a cons.

1999-02-01 20:59:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-fetch-directory): Ignore
	directories.

	* gnus-cus.el (gnus-group-parameters): Addition.

	* gnus-art.el (article-strip-banner): Do symbolic banners.
	(article-strip-banner): New keystroke.

1999-02-01 20:54:32  Michael Cook  <cook@sightpath.com>

	* gnus-art.el (article-strip-banner): New command.

1999-02-01 20:53:45  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-strip-banners): New variable.

1999-01-28 05:34:56  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mail-source.el (mail-source-read-passwd): Use `read-passwd' if it
	has been exist.

Thu Jan 28 01:38:34 1999  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-draft-coding-system): Check coding-system.
	* mm-util.el (mm-text-coding-system): Ditto.

1999-01-28 12:11:31  Katsumi Yamaoka  <yamaoka@jpl.org>

	* mail-source.el (mail-source-fetch-pop): Save excursion.

1999-01-28 08:14:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-movemail-args): Not constant.
	(mail-source-movemail-args): Removed.
	(mail-source-fetch-with-program): New function.
	(mail-source-fetch-pop): Use program and function.
	(mail-source-movemail-program): Removed.

	* gnus-art.el (gnus-treat-date-iso8601): New variable.
	(gnus-treat-date-user-defined): New variable.

1999-01-28 08:07:12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nnmail.el (nnmail-fix-eudora-headers): New function.

1999-01-28 08:05:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-encode-body): Use mail-parse-charset.

1999-01-27 08:06:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* smiley.el (smiley-deformed-regexp-alist): Removed =>.
	(smiley-nosey-regexp-alist): Ditto.

	* gnus-art.el (gnus-treatment-function-alist): Do
	gnus-article-add-buttons-to-head later.
	(gnus-treat-capitalize-sentences): New variable.
	(article-capitalize-sentences): New command and keystroke.

	* gnus-group.el (gnus-group-catchup-current): Do group.

	* message.el (message-default-charset): Add group.

Wed Jan 27 05:24:53 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.74 is released.

1999-01-27 05:56:29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-fill-long-lines): Renamed.
	(article-fill-long-lines): New keystroke.

1999-01-26 06:35:07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-setup-posting-charset): Check for group.

	* gnus-group.el (gnus-group-catchup-current): Skip groups now
	displayed.
	(gnus-group-catchup-current): Be more robus.

	* gnus-sum.el (gnus-summary-select-article): Reselect for showing
	headers.

1999-01-25  Dave Love  <fx@gnu.org>

	* message.el (message-mode-menu): Add message-mime-attach-file.
	(message-mode): Doc fix.

1999-01-26 05:24:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-check-duplication): Insert the mail source
	string.

	* mail-source.el (mail-source-fetch-pop): Bind mail-source-string.
	(mail-source-fetch-directory): Ditto.
	(mail-source-fetch-file): Ditto.
	(mail-source-string): New variable.

	* gnus-start.el (gnus-get-unread-articles): Nix out groups over
	the level.

	* rfc2047.el (rfc2047-encodable-p): Convert to MIME charsets
	before handling.

	* mm-util.el (mm-mime-charset): Use the parameters.
	(mm-mime-charset): Removed region paremeters.

	* nnmail.el (nnmail-get-new-mail): Don't message the entire
	source.

1999-01-25 12:05:16  Lloyd Zusman  <ljz@asfast.com>

	* nnmail.el (nnmail-get-split-group): Quote right.

1999-01-25 05:55:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-source.el (mail-source-movemail): Would kill an arbitrary
	buffer.

1999-01-24 03:02:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-group.el (gnus-clear-inboxes-moved): Removed.
	(gnus-group-mode): Don't hook.

	* mail-source.el (mail-source-bind): Doc fix.
	(mail-source-bind): Take only one param.

	* gnus-art.el (gnus-treat-highlight-signature): typep.

	* mail-source.el (mail-source-movemail): Ignore empty file.
	(mail-source-callback): Check before deleting.

	* message.el (message-mime-attach-file): Include name.

1999-01-23 17:01:12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-read-charset): Return a symbol.

	* mm-view.el (mm-inline-text): Insert signature separator.

	* gnus-art.el (gnus-treat-predicate): New function.
	(gnus-treat-article): Allow all types to be checked.

	* gnus-util.el (gnus-or): New function.
	(gnus-and): Ditto.

	* gnus-art.el (gnus-mime-display-single): Use override.

	* mm-decode.el (mm-attachment-override-types): New variable.
	(mm-attachment-override-p): New function.

	* gnus-picon.el (gnus-group-display-picons): Don't go backward.

1999-01-23 16:45:06  Andrew J. Cosgriff  <ajc@bing.wattle.id.au>

	* mm-view.el (mm-inline-text): Do vcards.

Sat Jan 23 14:23:27 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.73 is released.

1999-01-23 11:38:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-spool-file): Changed to use mail-source.
	(nnmail-crash-box, nnmail-use-procmail, nnmail-procmail-directory,
	nnmail-procmail-suffix, nnmail-resplit-incoming): Removed.
	(nnmail-movemail-program): Removed.
	(nnmail-movemail-args): Removed.
	(nnmail-pop-password-required): Ditto.
	(nnmail-tmp-directory): Ditto.
	(nnmail-delete-incoming): Removed.
	(nnmail-pop-password, nnmail-moved-inboxes,
	nnmail-internal-password, nnmail-move-inbox): Removed.
	(nnmail-read-passwd): Ditto.
	(nnmail-get-spool-files): Removed.
	(nnmail-resplit-incoming): Reinstated.

	* mail-source.el: New file.

1999-01-23 09:08:31  James H. Cloos, Jr.  <cloos@jhcloos.com>

	* gnus-art.el (gnus-article-mode-map): Bind backspace.

1999-01-23 09:05:04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-make-date-line): Fix iso8601 display.

1999-01-20 02:53:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treat-display-smileys): Check xpm.

	* gnus-picon.el (gnus-group-display-picons): Goto body.

	* gnus.el: Indented all functions; broke long lines; changed all
 	instances of illegal/legal to invalid/valid.  Yes, I'm bored.

Wed Jan 20 00:50:53 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.72 is released.

1999-01-20 01:39:48  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Cleaned up trailing whitespace.

	* mm-util.el (mm-read-charset): Work.

1999-01-17  Matt Armstrong  <mattdav+matt@best.com>

	* gnus-score.el (gnus-score-find-bnews): Match regexp on the
	nnheader-translate-file-chars'd group name.

1999-01-20 01:30:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-encode-message-body): Fold case.

1999-01-20 01:28:16  Alexei V. Barantsev  <barancev@ispras.ru>

	* gnus-xmas.el (gnus-xmas-modeline-glyph): Backquote.

1999-01-20 00:46:15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-add): New function.

1999-01-18 09:40:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-goto-body-goes-to-point-min-p): New variable.
	(article-goto-body): Use it.
	(gnus-treat-article): Ditto.

	* gnus-agent.el (gnus-agent-get-undownloaded-list): Remove the
	downloaded articles from the downloadeble list.

1999-01-16 17:31:08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-encode-message-body): Bind
	mail-parse-charset.

	* mm-util.el (mm-charset-synonym-alist): New variable.
	(mm-charset-to-coding-system): Use it.
	(mm-charset-coding-system-alist): Removed.
	(mm-charset-to-coding-system): Don't use it.
	(mm-find-charset-region): Use mail-parse-charset.

	* gnus-art.el (gnus-treatment-function-alist): Use
	gnus-article-display-picons.
	(gnus-treat-display-xface): Only do if we have xface feature.
	(gnus-part-display-hook): New function.
	(gnus-treat-article): Use it.
	(gnus-treat-article): Use gnus-visual.

	* gnus-msg.el (gnus-setup-posting-charset): Check elem.

	* gnus-art.el (gnus-mm-display-part): Fix the MIME button after
	displaying.

	* mm-decode.el (mm-insert-part): Use insert-buffer-substring.

	* gnus-score.el (gnus-score-find-bnews): Protect against invalid
	regexp file names.

Sat Jan 16 03:15:57 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.71 is released.

1999-01-16 00:13:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-image): Don't add a dot.

	* gnus-art.el (gnus-treat-article): New function.

	* gnus.el (gnus-article-display-hook): Removed.

	* gnus-art.el (gnus-article-treat-custom): New variable.

	* gnus-start.el (gnus-ignored-newsgroups-has-to-p): Removed.

	* gnus-msg.el (gnus-setup-posting-charset): Allow variables and
	functions.

	* message.el (message-posting-charset): New variable.
	(message-send-mail): Use it.

	* gnus-msg.el (gnus-group-posting-charset-alist): Moved here.
	(gnus-setup-posting-charset): New function.
	(gnus-setup-message): Use it.

	* message.el (message-encode-message-body): Just look for
	Content-Type before inserting a new one.

1999-01-15 23:08:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-default-charset): Removed.

	* mail-prsvr.el: New file.
	(mail-parse-charset): New variable.

	* gnus-sum.el (gnus-newsgroup-charset): Changed name.
	Changed name.

	* gnus.el (gnus-charset): New group.

	* nnmail.el (nnmail-pathname-coding-system): Default to binary.

	* gnus-sum.el (gnus-default-charset): Default to nil.
	(gnus-newsgroup-iso-8859-1-forced-regexp): Removed.
	(gnus-newsgroup-iso-8859-1-forced): Removed.

	* mm-util.el (mm-known-charsets): Removed.
	(mm-default-coding-system): Removed.
	(mm-default-charset): Removed.
	(mm-read-charset): New function.

	* message.el (message-default-charset): Removed.

	* rfc2047.el (rfc2047-default-charset): Default to nil.

	* mm-util.el (mm-charset-iso-8859-1-forced): Removed.

Fri Jan 15 20:50:38 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.70 is released.

1999-01-15 00:06:04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-save-part): Use mm-get-part.
	(mm-insert-part): New function.
	(mm-get-part): Use it.
	(mm-get-image): Ditto.
	(mm-display-external): Ditto.

	* mm-view.el (mm-inline-text): Ditto.

	* gnus-move.el (gnus-move-group-to-server): Protect against nil
	ranges.

	* mm-decode.el (mm-display-external): Save the buffer.
	(mm-remove-part): Kill it.

	* qp.el (quoted-printable-decode-region): Do the right thing at eobp.

	* nnagent.el (nnagent-request-set-mark): Defined stub.

1999-01-14 23:05:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-load-score-alist): Bind
	coding-system-for-read.

	* gnus-sum.el (gnus-summary-exit): Do adaptive scoring before
	prepare-exit-hook.

	* mm-view.el (mm-setup-w3): Require w3.

1999-01-13  Kiyokazu SUTO  <suto@merry.xmath.ous.ac.jp>

	* lisp/nnspool.el (nnspool-retrieve-headers): Protect against empty
	body.

1999-01-14 21:17:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-encode.el: Ditto.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Message the
	error.

	* mailcap.el (mailcap-mime-data): SAFER ps.

	* message.el (message-encode-message-body): Always insert a
	Content-Type header.

	* mm-decode.el (mm-inline-media-tests): Default all text/* to be
	shown inline.

	* mm-view.el (mm-inline-text): Handle all sorts of text.

	* mailcap.el (mailcap-mime-data): non-viewer for viewers that
	don't view.

	* mm-decode.el (mm-display-external): Use it.

	* gnus-art.el (gnus-visible-headers): Added bcc, gcc, fcc.

	* mm-decode.el (mm-save-part): Removed double code.

1999-01-12  Dave Love  <fx@gnu.org>

	* mm-decode.el (mm-save-part): Avoid doubly-compressed
	application/octet-stream .gz & al files with jka-compr.

1999-01-12  Dave Love  <fx@gnu.org>

	* gnus-ems.el (gnus-down-mouse-3): New variable.
	* gnus-art.el (gnus-mime-button-map): Use it.
	(gnus-mime-button-menu): Set the clicked-on buffer initially.

1999-01-13 19:41:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-data): Added ImageMagic and ee.

1999-01-12 17:34:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-kill-buffer): Don't kill article
	buffers.

	* gnus-sum.el (gnus-summary-exit): Destroy all MIME.

	* gnus-cache.el (gnus-cache-read-active): Reversed check.

1999-01-12 17:18:25  Matt Armstrong  <matta@geoworks.com>

	* mml.el (mml-parameter-string): Strip directory component.

1999-01-12 17:02:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-use-demon): Removed.

1999-01-12 05:53:23  Katsumi Yamaoka  <yamaoka@jpl.org>

	* nnmail.el (nnmail-article-group): Don't infloop.

1999-01-11  Colin Rafferty  <colin@xemacs.org>

	* gnus-art.el (article-update-date-lapsed): Made it work with
	picons, and make it update on all visible frames.
	(article-date-ut): Get summary-buffer's current-headers.

1999-01-12 07:20:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-setup-buffer): Don't set major mode.
	(gnus-picons-setup-p): New variable.

1999-01-11 02:13:12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-split-header-length-limit): Lowered to 512.

1999-01-04 12:58:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-exit-no-update): Don't use run-hooks.
	(gnus-summary-exit-no-update): Use mapcar.

1999-01-02 14:36:32  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-agent.el (gnus-category-write): Make directory.

1998-09-26 19:39:31 Simon Josefsson <jas@pdc.kth.se>

	* gnus-sum.el (gnus-update-read-articles):
	(gnus-update-marks): Request backend update of mark.

1999-01-03 15:29:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-body-encoding): Use mm-find.

1999-01-03 15:28:27  Kim-Minh Kaplan  <kmkaplan@western.fr>

	* gnus-picon.el (gnus-article-display-picons): Fix.

Sun Jan  3 13:32:02 1999  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.69 is released.

1999-01-03 06:45:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-setup-buffer): Run the hook.

	* gnus-agent.el (gnus-agent-remove-group): New command and
	keystroke.

	* rfc2047.el (rfc2047-decode-region): Check for us-ascii.

1999-01-02 14:12:41  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-agent.el (gnus-agent-write-servers): Make directory.

1998-12-26 02:38:01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-text): Bind current id.

	* mm-decode.el (mm-handle-id): New macro.
	(mm-make-handle): Accept id.
	(mm-dissect-singlepart): Use it.

1998-12-23  Matt Pharr  <mmp@graphics.stanford.edu>

      * message.el (message-cite-original-without-signature): Use
      message-signature-separator when searching for signature in
      message-cite-original-without-signature.

1998-12-24 16:25:38  Simon Josefsson  <jas@pdc.kth.se>

	* gnus.el (gnus-server-to-method): Check named methods.

1998-12-24 03:27:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-view-message): Goto point-min.

	* nnmail.el (nnmail-article-group): Don't delete lines, only
	shorten them.

	* gnus-msg.el (gnus-configure-posting-styles): Also do nil
	values.

	* nnheader.el (nnheader-temp-directory): New variable.
	(nnheader-temp-directory): Removed.

1998-12-22  Jack Vinson  <jvinson@chevax.ecs.umass.edu>

	* mailcap.el (mailcap-parse-mailcaps): Add "~/.mailcaps" to the
	list of files to check for mailcap entries under windows-nt.

1998-12-24 03:02:15  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-maybe-hide-headers): Check whether the
	summary buffer exists.

1998-12-22  Aaron M. Ucko  <amu@mit.edu>

	* nnsoup.el (nnsoup-store-reply): Remove code to deal with
	irrelevant Sun sendmail bug.
	(nnsoup-store-reply): Stop mucking with	mail-header-separator.

	* message.el (message-send-news): Bind mail-header-separator to
	"" when asking backend to post.

1998-12-22  Karl Kleinpaste  <karl@justresearch.com>

	* mm-uu.el (mm-dissect-disposition): New variable.
	(mm-uu-dissect): Use it.

1998-12-21 21:34:22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-text): Bind url-current-object.

1998-12-06 03:05:41  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-range.el (gnus-remove-from-range): Rewrite.

1998-12-09  SL Baur  <steve@altair.xemacs.org>

	* gnus-picon.el (annotations): Remove bogus require 'xpm.

1998-12-18  Hrvoje Niksic  <hniksic@srce.hr>

	* message.el (message-encode-message-body): Insert `MIME-Version'
	instead of `Mime-Version'.

1998-12-04  Hrvoje Niksic  <hniksic@srce.hr>

	* message.el (message-insert-mime-part): Add the attachment
 	disposition.
	(message-insert-mime-part): Make TYPE and DESCRIPTION optional.
	(message-mime-query-type): New function.
	(message-mime-query-description): Ditto.
	(message-mime-query-file): Ditto.
	(message-insert-mime-part): Use them.
	(message-mime-insert-external): Use the new stuff.

1998-12-19 23:02:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-split-header-length-limit): New variable.

	* mm-decode.el (mm-dissect-buffer): Check syntax.

	* rfc2231.el (rfc2231-parse-string): Remove check for syntax.

	* rfc2047.el (rfc2047-encodable-p): Use mm-find-charset-region.
	(rfc2047-dissect-region): Ditto.

1998-12-17 18:36:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-view-message): Decode charset.

1998-12-16 16:01:22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2231.el (rfc2231-parse-string): Ignore syntactically invalid
	CT headers.

Wed Dec 16 01:44:40 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Use
	mm-uu-*-function.
	* mm-uu.el (mm-uu-dissect): Use x-uuencode.

1998-12-16 10:20:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-mail): Do MML first.
	(message-send-news): Ditto.

1998-12-15 20:57:18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-face): New face.
	(gnus-picons-try-face): Use it.

Tue Dec 15 19:17:43 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.68 is released.

Tue Dec 15 18:28:24 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.67 is released.

Tue Dec 15 17:31:44 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.66 is released.

1998-12-13 11:00:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-insert-mime-button): Decode description.

Sat Dec  5 16:50:49 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (article-decode-encoded-words): Rollback to 0.55.
	(gnus-decode-header-methods): Ditto.
	(gnus-decode-with-mail-decode-encoded-word-region): Ditto.

1998-12-13 10:04:39  Lloyd Zusman  <ljz@asfast.com>

	* gnus-xmas.el (gnus-xmas-summary-recenter): Allow numbers.

1998-12-13 09:32:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-insert-mime-headers): Encode description.

	* nnfolder.el (nnfolder-request-expire-articles): Go to the date
	line.

	* gnus-sum.el (gnus-default-charset): Doc fix.

Wed Dec  9 15:18:39 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-display-part): Forward a line.

Wed Dec  9 13:30:29 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-running-ntemacs): New variable.
	(mm-text-coding-system): Ditto.
	* nnmail.el (nnmail-incoming-coding-system): Ditto.
	(nnmail-split-incoming): Use nnmail-incoming-coding-system.

1998-12-13 08:52:45  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-network-display-internal): Don't set
	buffer.

	* message.el (message-insert-headers): New command and keystroke.

1998-12-07 23:42:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inline-media-tests): Recognize x-xbitmap.
	(mm-get-image): Ditto.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Only for
	base64, uudecode and binhex.

Sun Dec  6 21:58:31 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Replace CRLF
	in text/plain.
	* mm-uu.el (mm-uu-dissect): Use inline.

1998-12-07 23:19:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-view-message): New function.

	* mm-encode.el (mm-content-transfer-encoding-defaults): Changed to
	qp.

1998-12-07  Karl Kleinpaste  <karl@justresearch.com>

	* mm-encode.el (mm-content-transfer-encoding-defaults): Add an
	entry for message/rfc822 as 8bit.

1998-12-07 23:16:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-extensions): Add patch.

1998-12-05  Dale Hagglund  <rdh@best.com>

	* gnus-sum.el (gnus-summary-display-buttonized): Use prefix
	argument to force all multipart/* to look like multipart/mixed.

	* gnus-art.el (gnus-mime-display-multipart-as-mixed): New
	variable.
	(gnus-mime-display-part): Use it.

1998-12-07 22:46:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-draft.el (gnus-draft-send): Only disable checks for
	non-interactive use.
	(gnus-draft-send-message): Use it.

Sun Dec  6 19:36:53 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.65 is released.

1998-12-06 20:11:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-prepare-display): Don't init w3.

	* mm-view.el (mm-inline-text): Bind url-standalone-mode here.

Sat Dec  5 18:35:42 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.64 is released.

1998-12-05 18:51:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-setup-w3): Don't load.

	* gnus-msg.el (gnus-setup-message): Set group name.
	(gnus-group-mail): Avoid leaking local vars.

	* message.el (message-attach-file): Renamed.
	(message-mime-attach-file): Renamed again.

1998-12-05  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-art.el (article-decode-encoded-words): Bind
	rfc2047-default-charset here.

	* gnus-art.el (gnus-insert-mime-button): Nix slashes in file name.

1998-12-05 18:33:27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-picon.el (gnus-picons-setup-buffer): Run picons hook.
	(gnus-picons-setup-hook): New hook.

1998-12-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mailcap.el (mailcap-mime-data): Remove "*" from documentation
	string.
	(mailcap-mime-extensions): Ditto.  Made first sentense fit a
	line.

1998-12-05 17:11:04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-prepare-display): Setup w3.
	(gnus-mime-view-part): Ditto.
	(gnus-mime-inline-part): Dotii.
	(gnus-mime-externalize-part): Daddo.
	(gnus-mime-internalize-part): Tutti frutti.
	(gnus-widget-press-button): Da da do.

	* mm-view.el (mm-setup-w3): Require url-vars.

Fri Dec  4 12:13:12 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-draft-coding-system): Fix for XEmacs-NT.
	* mm-util.el (mm-find-charset-region): Ditto.

1998-12-05 16:30:01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send): Don't encode here.
	(message-send-mail): But here.
	(message-send-news): And here.

1998-12-04 15:29:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-message-insert-stylings): Don't insert twice.

Fri Dec  4 04:09:15 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.63 is released.

1998-12-04 04:59:20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-base-boundary): Shorten.

	* message.el (message-insert-mime-part): Use default.

	* gnus-art.el (gnus-insert-mime-button): Bind gnus-tmp-type-long.

1998-12-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-art.el (gnus-mime-display-alternative): Use (*) for radio
	buttons, not [*].

1998-12-04  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-art.el (gnus-insert-mime-button): Do proper help-echo.

1998-12-04 04:48:37  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-art.el (gnus-insert-mime-button): Fix.

1998-12-03  Hrvoje Niksic  <hniksic@srce.hr>

	* message.el (message-insert-mime-part): Nicify prompts.
	(message-insert-mime-part): Really delete duplicates.
	(message-insert-mime-part): Check against common errors.
	(message-insert-mime-part): Fix docstring.

1998-12-04 04:41:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-internalize-part): Bugged out.

1998-12-03  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-art.el (gnus-mime-button-line-format): Nicify.
	(gnus-insert-mime-button): Modify accordingly.

1998-12-04 01:50:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-display-mime): Set window point.

	* mm-decode.el (mm-display-external): Only decode when not
	saving.
	(mm-alternative-precedence): Prefer multiparts.
	(mm-inline-media-tests): Inline multiparts.

	* gnus-picon.el (gnus-picons-next-job-internal): Do bar if asked.
	Ignore errors when requiring url.

	* mml.el (mml-quote-region): New command.

	* message.el (message-cite-original): Use it.
	(message-cite-original-without-signature): Ditto.

Thu Dec  3 12:53:58 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.62 is released.

1998-12-03 13:38:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-view-all-parts): Work with multiparts.

1998-12-03  Hrvoje Niksic  <hniksic@srce.hr>

	* mm-view.el (mm-inline-text): Use `point-min-marker' and
 	`point-max-marker'.

1998-12-03 13:22:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-extensions): Use image/xpm for xpms.

	* gnus-art.el (gnus-mime-display-single): Check for attachment
	before other tests.

1998-12-03  Didier Verna  <verna@inf.enst.fr>

	* gnus-msg.el (gnus-configure-posting-styles): find a
	posting-style entry in the group parameters, if any, and honor it
	at the end.

1998-12-03 13:03:37  Felix Lee  <flee@teleport.com>

	* nntp.el (nntp-after-change-function): Fix.

1998-12-03 12:44:30  Mike McEwan  <mike@lotusland.demon.co.uk>

	* mml.el (mml-generate-mime-1): Insert literally.

1998-12-03 00:23:17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-insert-mime-headers): Removed debug.

1998-12-02 22:22:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-show-article): Destroy parts when
	prefixed.

	* mm-encode.el (mm-content-transfer-encoding-defaults): Default
	application/emacs-lisp to 8bit.

1998-12-03  Dale Hagglund  <rdh@best.com>

	* mm-decode.el (mm-quote-arg): Add quoting of '()', '<>', and '|'.

Wed Dec  2 20:24:27 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.61 is released.

1998-12-02 21:12:56  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-parse-1): Skipped parts.
	(mml-insert-mime-headers): Nil is a list.
	(mml-generate-mime-1): Don't insert literally.
	(mml-read-tag): Drop text props.
	(mml-read-part): Ditto.
	(mml-parse-singlepart-with-multiple-charsets): Ditto.

Wed Dec  2 20:07:16 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.60 is released.

1998-12-02 20:11:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-parse-1): Don't throw contents away.

1998-12-02  Hrvoje Niksic  <hniksic@srce.hr>

	* mml.el (mml-compute-boundary-1): Regexp-quote the boundary.

1998-12-02 18:42:24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-parse-singlepart-with-multiple-charsets): New
	function.
	(mml-parse-1): Use it.

Tue Dec  1 23:04:25 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-decode-with-mail-decode-encoded-word-region):
	Use gnus-newsgroup-default-charset.
	(article-decode-encoded-words): Remove charset codes.
	* gnus-sum.el (gnus-newsgroup-default-charset): Use
	gnus-default-charset.

1998-12-02 03:14:20  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-mail): Don't encode here.
	(message-send-news): Nor here.
	(message-send): ... but here instead.

	* gnus-picon.el (gnus-picons-display-article-move-p): Changed
	default to nil.
	(gnus-article-display-picons): Replace From line.
	(gnus-group-display-picons): Replace Newsgroups line.
	(gnus-picons-display-glyph): Set baseline.
	(gnus-group-display-picons): Piconize the entire Newsgroups line.
	(gnus-picons-xbm-face): Revert to old, standard colors.

	* message.el (message-fetch-field): Remove text props.

	* gnus-art.el (gnus-article-normalized-header-length): New
	variable.
	(article-normalize-headers): New command and keystroke.

	* gnus-picon.el (gnus-picons-xbm-face): Changed colors.

Wed Dec  2 01:43:48 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.59 is released.

1998-12-02 01:38:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-insert-mime-headers): Beep at multiple charsets.

	* gnus-art.el (gnus-mime-copy-part): Set buffer-file-name.

1998-11-30  Hrvoje Niksic  <hniksic@srce.hr>

	* mml.el (mml-generate-mime-1): Handle unquoting end-tags.

1998-12-02 00:15:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-all-images-fit): New variable.
	(mm-image-fit-p): Use it.

	* gnus-art.el (gnus-mime-display-single): Use it.
	(gnus-mime-internalize-part): New command and keystroke.

	* mm-decode.el (mm-user-automatic-external-display): New
	variable.
	(mm-automatic-external-display-p): New function.

	* gnus-picon.el (gnus-picons-xbm-face): Default to sensible
	colors.

1998-12-01 23:52:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-repair-multipart): Reselect article.

	* gnus-art.el (gnus-with-article): Work in the original article
	buffer.
	(gnus-with-article): Work in read-only groups.

Tue Dec  1 00:15:36 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-string): Return original string if not
	decode.

Mon Nov 30 23:38:02 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Use mm-make-handle.

1998-12-01 01:53:49  Francois Pinard  <pinard@iro.umontreal.ca>

	* nndoc.el (nndoc-mime-parts-type-p): Do related.

Tue Dec  1 00:46:20 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.58 is released.

1998-11-30  Hrvoje Niksic  <hniksic@srce.hr>

	* mm-decode.el (mm-get-image): Return a glyph, not an image
 	specifier.

1998-11-29  Hrvoje Niksic  <hniksic@srce.hr>

	* rfc2047.el (rfc2047-decode): Bind mm-default-charset.

1998-12-01 01:23:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-parse.el (rfc2045): Required.

1998-12-01 00:59:53  William M. Perry  <wmperry@aventail.com>

	* mm-view.el (mm-inline-text): Remove props.

1998-12-01 00:18:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-setup-w3): Protect url-misc.

	* message.el (message-ignored-resent-headers): Remove
	Gnus-Warning.

	* mml.el (mml-insert-mime-headers): Use encoding.
	(mml-parameter-string): Ditto.

	* rfc2045.el: New file.
	(rfc2045-encode-string): New function.

1998-11-30 23:11:22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mail-parse.el (mail-header-encode-parameter): New function.

	* rfc2231.el (rfc2231-encode-string): New function.

Mon Nov 30 13:52:50 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-string): New function.
	* mm-view.el (mm-inline-text): Use mm-decode-string.

Mon Nov 30 21:57:00 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.57 is released.

1998-11-23  Felix Lee  <flee@cygnus.com>

	* nntp.el (nntp-async-needs-kluge): new setting.
	(nntp-async-timer): new var.
	(nntp-async-process-list): new var.
	(nntp-async-kluge): new function.
	(nntp-async-timer-handler): new function.
	(nntp-async-wait): new function.
	(nntp-async-stop): new function.
	(nntp-after-change-function): renamed, and split apart.
	(nntp-async-trigger): new function.
	(nntp-do-callback): new function.
	(nntp-accept-process-output): add optional timeout arg.

	* gnus-async.el (gnus-async-request-fetched-article): fixed.
	(gnus-async-wait-for-article): new function.
	(gnus-async-with-semaphore): s/asynch/async/.

1998-11-30 16:54:56  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-with-article): Don't encode.
	(gnus-insert-mime-button): Fall back on filename from C-D.
	(gnus-mime-display-single): Have dots right on text/plain
	attachments.

	* mm-decode.el (mm-dissect-buffer): Respect Content-Disposition in
	broken parts.

	* gnus-art.el (gnus-with-article): Flush cache and backlog.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Also do
	binhex.

	* gnus-sum.el (gnus-summary-reparent-thread): Use new macro.
	(gnus-summary-repair-multipart): New command and keystroke.

	* gnus-art.el (gnus-with-article-buffer): New macro.

Sun Nov 29 23:51:57 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-inline-part): Do not get part when
	undisplay the part.

1998-11-30 03:38:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-make-sort-function-1): Allow lambdas.

	* mml.el (mml-read-part): Partition right.

	* mm-decode.el (mm-handle-set-cache): New macro.
	(mm-handle-cache): Ditto.
	(mm-make-handle): Ditto.
	(mm-dissect-singlepart): Use it.
	(mm-get-image): Use the cache.

1998-11-29 23:44:44  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-display-mixed): Rewrite.
	(gnus-mime-display-single): Don't insert lines between parts.

Sun Nov 29 04:55:40 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* nnmail.el (nnmail-file-coding-system-1): New variable.
	* nnfolder.el (nnfolder-file-coding-system): Ditto.
	(nnfolder-read-folder): Use nnfolder-file-coding-system.
	* nnml.el (nnml-file-coding-system): New variable.
	(nnml-request-article): Use nnml-file-coding-system.

Sun Nov 29 15:12:52 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.56 is released.

1998-11-29 00:52:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-display-part): New function.
	(gnus-mime-display-mixed): Use it.

	* mm-view.el (mm-setup-w3): Don't register.

	* message.el (message-cite-original): Cite parts.

1998-11-28 23:51:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-parameter-string): New function.
	(mml-insert-mime-headers): Separated into new function.

1998-11-28  Hrvoje Niksic  <hniksic@srce.hr>

	* mml.el (mml-make-boundary): Use `make-string'.

1998-11-27  Hrvoje Niksic  <hniksic@srce.hr>

	* binhex.el (binhex-insert-char): Ditto.

	* base64.el (base64-insert-char): Ditto.

	* uudecode.el (uudecode-insert-char): Code correctly.

1998-11-28 01:08:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-generate-mime): Don't generate multiparts for
	empties.

	* gnus-art.el (gnus-display-mime): Save excursion.

	* message.el (message-remove-first-header): New function.
	(message-encode-message-body): Use it.

Fri Nov 27 12:26:10 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.55 is released.

1998-11-27 12:38:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-setup-w3): New function.

	* mm-decode.el (mm-content-id-get-contents): New function.
	(mm-content-id-get-type): Ditto.
	(mm-content-id-get-encoding): Ditto.
	(mm-get-handle-by-content-id): Removed.

1998-11-25  Colin Rafferty  <colin@xemacs.org>

	* message.el (message-generate-new-buffers): Fix tag.

1998-11-25 10:43:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-buffer-name): Check for unique first.

	* gnus-art.el (gnus-unbuttonized-mime-type-p): use
	gnus-inhibit-mime-unbuttonizing.

	* gnus-sum.el (t): Bind M-t.
	(gnus-inhibit-unbuttonizing): New variable.
	(gnus-summary-toggle-display-buttonized): New command.

	* gnus-art.el (gnus-display-mime): Select article window.
	(article-strip-trailing-space): New command and keystroke.

	* nneething.el (nneething-include-files): New variable.
	(nneething-create-mapping): Use it.

	* nntp.el (nntp-possibly-change-group): Use nntp-send-command.

	* nnvirtual.el (nnvirtual-request-update-mark): Only yodate
	ayto-expirable marks.

1998-11-24 21:00:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-view-all-parts): Set buffer.

	* gnus-sum.el (gnus-summary-display-buttonized): Don't pass on
	ARG.

	* gnus-art.el (gnus-article-mode-line-format): Doc fix.

Tue Nov 24 14:57:41 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-binary-coding-system): New variable.
	(mm-with-unibyte-buffer): Use mm-binary-coding-system.
	* mm-decode.el (mm-display-external): Ditto.

Tue Nov 24 10:43:06 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.54 is released.

1998-11-24 11:21:32  Katsumi Yamaoka  <yamaoka@jpl.org>

	* gnus-sum.el (gnus-newsgroup-default-charset-alist): Note fj.

1998-11-24 11:14:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-save-part): Unquote.

1998-11-24 11:14:39  Matt Armstrong  <matta@geoworks.com>

	* mm-decode.el (mm-save-part): Bind coding system for write.

1998-11-24 10:42:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-mode-line-format): New default.
	(gnus-article-mime-part-status): New function.

	* message.el (message-send-news): Check the body syntax before
	encoding.

	* gnus-art.el (gnus-unbuttonized-mime-type): New function.
	(gnus-mime-display-single): Use it.
	(gnus-mime-display-alternative): Ditto.

	* mm-decode.el: Check for whether we are running under a term.

1998-11-22 08:12:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-preferred-alternative): Default to first
	alternative.
	(mm-preferred-alternative): No, we dont.

Tue Nov 24 03:01:48 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-display-external): Use binary instead of
	no-conversion.
	* gnus-agent.el (gnus-agent-file-coding-system): Ditto.
	* nnheader.el (nnheader-file-coding-system): Ditto.
	* mm-util.el (mm-with-unibyte-buffer): Use binary instead of nil.

Mon Nov 23 01:51:57 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-newsgroup-setup-default-charset): Use group
	name without method.

Mon Nov 23 01:26:40 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-newsgroup-default-charset): Rename
	coding-system -> default-charset.
	(gnus-newsgroup-default-charset-alist): Ditto.
	(gnus-summary-local-variables): Ditto.
	(gnus-set-global-variables): Ditto.
	(gnus-get-newsgroup-headers): Ditto.
	(gnus-summary-from-or-to-or-newsgroups): Ditto.
	(gnus-get-newsgroup-headers-xover): Ditto.
	(gnus-newsgroup-setup-default-charset): Ditto.
	(article-decode-mime-words): Ditto.
	(article-decode-charset): Ditto.
	(article-decode-encoded-words): Ditto.
	(article-de-quoted-unreadable): Ditto.
	(gnus-mime-view-all-parts): Ditto.
	(gnus-mime-externalize-part): Ditto.
	(gnus-mm-display-part): Ditto.
	(gnus-mime-display-single): Ditto.
	(gnus-mime-display-alternative): Ditto.
	* lpath.el : Ditto.

Mon Nov 23 00:54:33 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* rfc2047.el (rfc2047-decode-region): Do not decode nil charset.
	* gnus-art.el (article-decode-charset): Overlay
	rfc2047-default-charset.
	* message.el (message-draft-coding-system): New variable.
	(message-set-auto-save-file-name): Use message-draft-coding-system.
	* nndraft.el (nndraft-request-article): Ditto.
	* gnus-start.el (gnus-start-draft-setup): Set charset nil.
	* gnus-agent.el (gnus-agent-queue-setup): Ditto.

Sun Nov 22 04:42:22 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-test): New function.
	(mm-uu-dissect): Inherit charset and cte from head.
	* gnus-art.el (article-decode-charset): Use mm-uu-test.

Sat Nov 21 09:57:01 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.53 is released.

1998-11-21 05:54:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-get-image): New function.
	(mm-image-fit-p): New function.

	* gnus-xmas.el (gnus-xmas-annotation-in-region-p): Ditto.

	* gnus-util.el (gnus-annotation-in-region-p): New definition.

	* gnus-art.el (gnus-article-insert-newline): New function.
	(article-goto-body): New function.

1998-11-20 10:34:04  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-display-single): Insert blank line before
	buttons.

	* gnus-sum.el (gnus-summary-display-buttonized): New command and
	keystroke.

	* gnus-art.el (gnus-mime-display-single): Don't insert a blank
	line between parts.

	* message.el (message-remove-header): Go to end if wanted.

1998-11-20  Karl Kleinpaste  <karl@justresearch.com>

	* gnus-art.el (gnus-mime-display-alternative): Avoid window
	movement with save-window-excursion.

Fri Nov 20 03:50:30 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-inline-part): Use argument as charset.

Fri Nov 20 03:37:53 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-bodies.el (mm-decode-body): Remove buffer-file-coding-system.

Fri Nov 20 01:20:38 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): Use
	gnus-newsgroup-coding-system.
	(gnus-get-newsgroup-headers): Ditto.
	(gnus-get-newsgroup-headers-xover): Ditto.
	(gnus-set-global-variables): Ditto.
	* gnus-art.el (article-decode-mime-words): Ditto.
	(article-decode-charset): Ditto.
	(article-decode-encoded-words): Ditto.
	(article-de-quoted-unreadable): Ditto.
	(gnus-mime-view-all-parts): Ditto.
	(gnus-mime-externalize-part): Ditto.
	(gnus-mm-display-part): Ditto.
	(gnus-mime-display-alternative): Ditto.
	(gnus-mime-display-single): Ditto.
	* mm-view.el (mm-inline-text): Use default coding system.

Fri Nov 20 00:54:37 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-newsgroup-coding-system-alist): New variable.
	(gnus-newsgroup-iso-8859-1-forced-regexp): New variable.
	(gnus-newsgroup-coding-system): New local variable.
	(gnus-newsgroup-iso-8859-1-forced): New local variable.
	(gnus-summary-local-variables): Add two new local variables.
	(gnus-newsgroup-setup-coding-system): New function.
	(gnus-select-newsgroup): Setup coding system.
	* lpath.el: Add two new variables.
	* mm-util.el (mm-charset-iso-8859-1-forced): New variable.
	(mm-charset-to-coding-system): Use mm-charset-iso-8859-1-forced.
	* gnus-cus.el (gnus-group-parameters): Customizable
	iso-8859-1-forced.

Fri Nov 20 05:30:26 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.52 is released.

1998-11-20 04:32:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-encode-message-header): Encode the default
	encoding.

	* gnus-art.el (gnus-mime-display-single): Insert buttons for
	undisplayed text types.

	* mm-decode.el (mm-automatic-display-p): Only prefer inlinable
	types.

1998-11-19  Felix Lee  <flee@cygnus.com>

	* nntp.el (nntp-after-change-function-callback): recover from C-g.

1998-11-19  Felix Lee  <flee@cygnus.com>

	* gnus-async.el (gnus-asynch-obarray): rename to
	gnus-async-hashtb, and don't buffer-local it.

	(gnus-async-article-callback): new function.
	(gnus-make-async-article-function): use it.

	(gnus-async-current-prefetch-group): new var.
	(gnus-async-current-prefetch-article): new var.
	(gnus-async-request-fetched-article): are we fetching it already?

	(gnus-async-delete-prefected-entry): s/prefected/prefetched/

1998-11-20 02:49:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-show-article): Require.

	* message.el: Provide before hooks.
	(message-send-news): Do MIME before headers.

	* gnus-art.el (gnus-article-check-buffer): New function.
	(gnus-article-read-summary-keys): Use it.

	* mm-decode.el (mm-user-automatic-display): Display all inline
	images.

	* gnus-art.el (gnus-mime-display-single): Don't buttonize so
	much.
	(gnus-unbuttonized-mime-types): New variable.

1998-11-19 06:29:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-inhibit-user-auto-expire): Changed to t.

	* mm-decode.el (mm-quote-arg): Quote semicolons.

	* gnus-art.el (gnus-mime-display-single): Don't display
	attachments.
	(gnus-mime-externalize-part): New command and keystroke.

	* mm-decode.el (mm-dissect-buffer): Pass on the description info.
	(mm-alternative-precedence): Changed order.

1998-11-07 17:41:47  Simon Josefsson  <jas@pdc.kth.se>

	* gnus.el (gnus-method-simplify): New function.
	(gnus-native-method-p): New function.
	(gnus-secondary-method-p): Use gnus-method-equal.

	* gnus-start.el (gnus-group-change-level): Shorten select method.

Thu Nov 19 04:48:42 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.51 is released.

1998-11-19 04:02:34  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Applied patches from 5.6.45.

	* gnus-score.el (gnus-score-find-trace): Print complete file
	paths.
	(gnus-score-find-trace): Truncate lines.

	* gnus.el (gnus-message-archive-group): Allow function.

	* message.el (message-encode-message-body): Remove Mime-Version
	before inserting.

	* gnus-cus.el (gnus-group-customize): Optional topic.

	* gnus-sum.el (gnus-summary-customize-parameters): New command and
	keystroke.

Wed Nov 18 13:46:08 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-encode-message-body): Rewrite.

1998-11-18 07:37:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-base-boundary): New variable.
	(mml-make-boundary): New function.

	* gnus-cache.el (gnus-cache-coding-system): New variable.
	(gnus-cache-request-article): Use it.

	* message.el (message-insert-mime-part): Delete duplicates.

Wed Nov 18 11:52:19 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-alternative): Set end of
	multipart and display even when nothing is preferred.

Wed Nov 18 05:06:44 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.50 is released.

1998-11-18 04:42:01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inline-media-tests): Check that device-type is
	fbound.

	* gnus-sum.el (gnus-summary-sort): Didn't do reverse.

1998-11-07 23:39:48  Simon Josefsson  <jas@pdc.kth.se>

	* gnus.el (gnus-similar-server-opened): Compare backend.

1998-11-08 03:37:42  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-topic.el (gnus-topic-expire-articles): New function.
	(gnus-topic-mode-map): Bind it.

	* gnus.texi (Topic Commands): New expiry command. Reordered.

1998-11-10  Miles Bader  <miles@ccs.mt.nec.co.jp>

	* gnus-sum.el
	(gnus-auto-expirable-marks): New variable.
	(gnus-inhibit-user-auto-expire): New variable.
	(gnus-summary-mark-article-as-read, gnus-summary-mark-article):
	When looking to see if we should expire instead, check
	gnus-auto-expirable-marks instead of using a hard-wired list.
	(gnus-summary-mark-as-read-forward,
	gnus-summary-mark-as-read-backward):
	Pass gnus-inhibit-user-auto-expire for the no-expire argument to
	gnus-summary-mark-forward, instead of `t'.

1998-11-18 03:30:26  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-compute-boundary): New function.
	(mml-compute-boundary-1): New function.
	(mml-generate-mime-1): Use it.

1998-11-18  Hrvoje Niksic  <hniksic@srce.hr>

	* mml.el (mml-generate-mime-1): Always precede closing boundary
	with newline.

1998-11-18 02:36:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-generate-mime-1): Do right boundaries when several
	multiparts.

	* mm-decode.el (mm-user-automatic-display): Default to inline
	jpeg.

	* mml.el (mml-generate-mime-1): Encode non-text parts.

Wed Nov 18 02:22:23 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.49 is released.

1998-11-18 00:37:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-view.el (mm-inline-text): Require w3-vars.

	* gnus-setup.el (gnus-use-tm): Removed.

	* gnus-art.el (gnus-article-goto-part): Don't beep.
	(gnus-article-view-part): Check return value.
	(gnus-mime-display-alternative): Don't display when there is
	nothing to display.

	* mml.el (mml-generate-mime-1): Don't use a unibyte buffer.
	(mml-generate-mime-1): Use unibyte for binaries.

	* gnus-art.el (gnus-display-mime): Call
	gnus-article-mime-part-function.
	(gnus-mime-part-function): New function.
	(gnus-article-mime-part-function): New function.

	* mml.el (mml-generate-mime-1): Don't insert so many newlines.

1998-11-16 06:44:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mml.el (mml-generate-mime-1): Do it in unibyte buffers.

	* message.el (message-font-lock-keywords): Highlight MML.
	(message-mml-face): New font.

Mon Nov 16 23:34:12 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-display-mime): Clean up even when no handles.
	(gnus-mm-display-part): Do not select-window if the article window
 	is not found.

Mon Nov 16 02:26:40 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-move-article): Use no-encode for B m.

Mon Nov 16 02:00:05 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.48 is released.

1998-11-15 23:18:56  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-encode-body): Disbabled for nonmule.

	* mm-util.el (mm-find-charset-region): Bogus change for non-Mule.

	* message.el (message-cite-original-without-signature): Ditto.
	(message-cite-original): Quote parts.

Sun Nov 15 22:01:55 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.47 is released.

1998-11-15 20:11:33  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-encode-message-body): Insert MIME warning.

	* mml.el (mml-read-tag): Look for #tag.

	* mm-util.el (mm-find-charset-region): Check whether
	enable-multibyte-characters is bound.

Sun Nov 15 02:01:31 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.46 is released.

1998-11-15 01:54:40  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-encode-message-body): Insert headers at the
	right spot.

Sun Nov 15 01:13:41 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.45 is released.

1998-11-15 00:28:49  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nndraft.el (nndraft-save-mime-part): Removed.
	(nndraft-get-mime-part): Ditto.

	* message.el (message-format-mime-old): Removed.
	(message-encode-message-body): Removed.
	(message-encode-message-body): Renamed.

1998-11-14 18:27:19  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-get-newsgroup-headers): Translate \r's.

	* message.el (message-format-mime): Check message-mime-part.

	* mm-encode.el (mm-mime-file-types): Removed.
	(mm-default-file-encoding): New definition.

Sat Nov 14 01:29:39 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-image): Use mm-insert-inline.
	* gnus-art.el (gnus-mm-display-part): Go to correct position.

Sat Nov 14 05:47:57 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.44 is released.

1998-11-14 03:59:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-format-mime): New function.

	* nndraft.el (nndraft-save-mime-part): New function.
	(nndraft-get-mime-part): New function.

	* mm-encode.el (mm-default-file-encoding): New function.
	(mm-content-transfer-encoding): New function.
	(mm-encode-buffer): New function.

	* message.el: New command.
	(message-mime-part): New variable.
	(message-insert-mime-part): New command.

	* mm-encode.el (mm-encode-content-transfer-encoding): New
	function.

	* mm-util.el (mm-content-transfer-encoding-defaults): New
	variable.
	(mm-mime-file-types): Taken from TM.

Sat Nov 14 01:51:06 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.43 is released.

1998-11-07  Karl Kleinpaste  <karl@jprc.com>

	* gnus-cus.el (gnus-score-customize): Add "Extra" element.
	* gnus-score.el (gnus-score-default-header): Ditto.
	(gnus-header-index): Ditto.
	(gnus-summary-increase-score): Ditto, & process "extra" requests.
	(gnus-summary-header): Handle extra headers.
	(gnus-summary-score-entry): Ditto, & provide new score element.
	(gnus-summary-score-effect): Ditto.
	(gnus-score-string): Avoid "extra" string sort, & modify match in
	"extra" case.
	* gnus-sum.el (gnus-make-score-map): Add "extra" element.

1998-11-13 20:30:40  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-resend): Bind message-required-mail-headers
	to nil.

	* mm-view.el (mm-inline-text): Bind w3-strict-width.

	* nngateway.el (require): Require cl.

	* gnus-art.el (gnus-button-alist): Exclude more chars from news:
	things.

Wed Nov 11 02:15:06 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-headers): Create directory even
	when no articles.

1998-11-13 19:25:10  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-ignored-resent-headers): Remove X-Gnus.

1998-11-10  Colin Rafferty  <colin@xemacs.org>

	* gnus-sum.el (gnus-ignored-from-addresses): Only quote
	user-mail-address if non-nil.

1998-11-13 18:50:18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-make-sort-function): Do `reverse'.
	(gnus-make-sort-function-1): Ditto.

	* gnus-art.el (gnus-mm-display-part): Switch to mm in right
	window.

1998-11-12 22:31:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-with-unibyte-buffer): Ditto.

	* binhex.el (binhex-decode-region): Quote.

1998-11-10 05:32:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-decode-charset): Don't downcase charset.

	* gnus-sum.el (gnus-get-newsgroup-headers-xover): Translate CR's.

Sun Nov  8 23:17:24 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.42 is released.

Sun Nov  8 02:36:33 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-display-mime): Add id for alternative part.

1998-11-08 02:24:47  Simon Josefsson  <jas@pdc.kth.se>

	* nntp.el (nntp-send-mode-reader): Revert.

Sun Nov  8 00:45:13 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-articles): Use with-temp-buffer.

Sat Nov  7 23:07:24 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* message.el (message-make-date): Fix for negative time zones.

Sun Nov  8 01:00:16 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.41 is released.

1998-11-08 00:52:38  Hrvoje Niksic  <hniksic@srce.hr>

	* mm-decode.el (mm-dissect-multipart): Quote regexp.

1998-10-29  Sudish Joseph  <sj@eng.mindspring.net>

	* gnus.el (gnus-short-group-name): When shortening foreign select
	methods, do not scan for plusses beyond the first colon.

1998-11-07  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus-agent.el (gnus-agent-save-group-info): Cater for group info
	lines where `group' is the last thing on the line.

1998-11-08 00:35:09  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-view-part): Do alternative.
	(gnus-mime-display-alternative): Insert marker.

1998-11-07 14:33:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-dissect-multipart): Quote regexp.

	* nnmail.el (nnmail-expired-article-p): Protect against bogus
	dates.

	* gnus-cus.el (gnus-topic): Required.

	* nnheader.el (nnheader-parse-nov): Parse extra.
	(nnheader-nov-parse-extra): New macro.

1998-10-31 12:33:22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-view-part): Internal move.

1998-10-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* gnus-cus-new.el (gnus-custom-topic): New free variable.
	(gnus-group-customize): Support editing topic parameters.

1998-10-29 12:09:20  Karl Kleinpaste  <karl@jprc.com>

	* gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): Add
	indicators.

1998-10-29 11:31:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mm-display-part): Return.
	(gnus-article-view-part): Only go if external.
	(gnus-article-dumbquotes-map): Do 205.

	* mm-decode.el (mm-display-part): Return what was done.

	* message.el (message-buffer-naming-style): New variable.
	(message-generate-new-buffers): Extended.
	(message-buffer-naming-style): Removed.
	(message-buffer-name): Use it.
	(message-do-send-housekeeping): Rename new styling.

	* gnus-sum.el (gnus-summary-recenter): Allow
	gnus-auto-center-summary to be a number.

Wed Nov  4 02:24:39 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* pop3.el (pop3-open-server): Use "binary" instead of
 	"no-conversion".

Sun Nov  1 01:26:42 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-srvr.el (gnus-browse-foreign-server): Set
 	gnus-browse-current-method to the result of gnus-server-to-method.

Thu Oct 29 01:47:44 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-util.el (gnus-pull): Another optional argument.
	* nnweb.el (nnweb-request-delete-group): Delete from
	nnweb-group-alist and update active file.

Thu Oct 29 01:05:08 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-group.el (gnus-group-make-group): Accept group of new
	method.

Wed Oct 28 02:19:16 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-group-1): Update dribble.

Tue Oct 27 11:59:31 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-view.el (mm-inline-text): Postion of html portion.

1998-10-29 10:26:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nntp.el (nntp-list-active-group): Waited for short strings.
	(nntp-send-mode-reader): Ditto.
	(nntp-open-connection): Ditto.

	* gnus-int.el (gnus-request-group-articles): New function.

	* nntp.el (nntp-request-listgroup): New function.
	(nntp-request-group-articles): Renamed.

1998-10-27 10:37:52  Karl Kleinpaste  <karl@jprc.com>

	* nnheader.el (nnheader-parse-nov): Supply extra.

1998-10-26 23:03:48  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-button-push): Don't go to
	gnus-article-buffer.

	* mm-view.el (mm-inline-image): Add a newline.

	* gnus-start.el (gnus-check-first-time-used): Check more.

1998-10-26 23:03:29  Francois Felix Ingrand  <felix@laas.fr>

	* gnus-start.el (gnus-check-first-time-used): Check current.

1998-10-26 22:07:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-find-charset-region): New function.

	* ietf-drums.el (ietf-drums-narrow-to-header): Work when no header.

	* gnus-art.el (gnus-mime-button-menu): Fix.

1998-10-26 22:07:43  Michael Welsh Duggan  <md5i@cs.cmu.edu>

	* gnus-art.el (gnus-mime-button-menu): New definition.

1998-10-26 01:46:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-decode-charset): Downcase charset.
	(article-decode-charset): Pass on type.
	(article-decode-charset): Check nil charsets.
	(article-remove-cr): Translate CR to LF.
	(gnus-ignored-mime-types): Default to nil.

	* nnheader.el (nnheader-insert-nov): Work when not Xref.

	* gnus-sum.el (gnus-ignored-from-addresses): Default to
	user-mail-address.
	(gnus-nov-parse-extra): Didn't return right thing.

1998-10-25 23:25:27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-xmas.el: Use compiled-function-p.

Mon Oct 26 14:37:19 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-copy-Yo-buffer): Make it works when no header.

Sun Oct 25 23:11:44 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.40 is released.

1998-10-25 21:41:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-mark-forward): Show thread.

	* gnus-start.el (gnus-check-first-time-used): Ignore dribble.

	* gnus-agent.el (gnus-agent-fetch-group-1): Bind name.

	* nnml.el (nnml-possibly-create-directory): Check before making.

1998-10-25 19:43:08  Kai Grossjohann  <Kai.Grossjohann@CS.Uni-Dortmund.DE>

	* nnheader.el (nnheader-insert-nov): Don't infloop.

1998-10-25 19:26:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-set-mode-line): Check that the spec has been
	set up.

1998-10-25 19:22:03  Joerg Lenneis  <lenneis@statrix2.wu-wien.ac.at>

	* nneething.el (nneething-file-name): New definition.

1998-10-25 17:56:23  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-treatment-function-alist): Fix.
	(gnus-summary-save-in-rmail): Use gnus-output-to-rmail.

	* nndoc.el (nndoc-dissect-mime-parts-sub): Recognize first part.

Sun Oct 25 06:23:13 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.39 is released.

1998-10-25 00:34:39  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-ignored-mime-types): New variable.
	(gnus-mime-display-single): Use it.
	(gnus-treatment-function-alist): New variable.

	* gnus.el (gnus-mime): New group.

	* gnus-art.el (gnus-mime-display-alternative): Don't destroy
	things for other parts.
	(gnus-mime-display-alternative): Place point.

	* gnus.el: autoload gnus-uu-post-news.

	* mailcap.el (mailcap-mailcap-entry-passes-test): Also check
	needsterm/DISPLAY.

	* mm-decode.el (mm-display-part): Default to inline text/.*
	parts.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Default to
	8bit.

	* gnus-art.el (gnus-mime-copy-part): Use normal-mode.
	(gnus-mime-display-single): Inline all text parts.
	(gnus-article-narrow-to-signature): Removed mime:: stubs.

1998-10-24 21:38:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnml.el (nnml-possibly-create-directory): Rewrite.
	(nnml-request-create-group): Change to right server.

	* gnus-xmas.el (gnus-xmas-define): Use byte-code-function-p.

	* gnus-sum.el (gnus-set-mode-line): Use truncate-string-to-width.

	* gnus.el: rmail-output-to-rmail-file autoload.

	* gnus-util.el (gnus-output-to-rmail): Didn't work if not in
	Gnus.

	* nnheader.el (nnheader-parse-head): Checked wrong variable.

	* gnus-sum.el (gnus-summary-update-mark): Ignore nil'd marks.

Tue Oct 20 23:37:43 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-mixed): Multipart in
	mixed part.

Tue Oct 20 23:36:43 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-exit): Use mm-destroy-parts.

	* gnus-sum.el (gnus-summary-exit-no-update): Ditto.

Tue Oct 20 16:22:51 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Create pseudo multipart head.

1998-10-24 20:51:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-valid-move-group-p): Make sure group has a
	value.

	* gnus-art.el (gnus-article-hidden-text-p): Return nil when not
	hidden.

	* gnus-spec.el (gnus-update-format-specifications): Use the
	article mode line spec.

	* gnus-art.el (gnus-insert-mime-button): Put right type.
	(gnus-insert-prev-page-button): Ditto.
	(gnus-insert-next-page-button): Dutti.

	* pop3.el: New version installed.

Sat Oct 24 16:48:51 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Delete the begining spurious newline
	and display last part.

Sat Oct 24 20:31:55 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.38 is released.

1998-10-24 07:54:58  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-mime-decode-quoted-printable-buffer):
	Removed.
	(article-de-quoted-unreadable): Narrow to default.

	* qp.el (quoted-printable-encode-region): Encode before QP-ing.

	* gnus-art.el (article-decode-charset): Decode even when broken
	MIME.

	* gnus-sum.el (gnus-summary-from-or-to-or-newsgroups): Return
	name.

	* gnus-msg.el (gnus-copy-article-buffer): Delete headers.

	* gnus-cache.el (gnus-cache-possibly-enter-article): Use
	nnheader.

	* nnmail.el (nnmail-extra-headers): New variable.

	* nnheader.el (nnheader-insert-nov): Insert extra.

	* gnus.el (gnus-summary-line-format): Doc fix.

	* gnus-sum.el (gnus-get-newsgroup-headers): Parse extra.
	(gnus-nov-parse-line): Ditto.
	(gnus-nov-parse-extra): New macro.
	(gnus-header): New function.
	(gnus-update-summary-mark-positions): Change.
	(gnus-ignored-from-addresses): New variable.
	(gnus-summary-insert-from-or-to): New function.

	* gnus.el (gnus-extra-headers): New variable.

	* nnheader.el (make-mail-header): Expand.
	(mail-header-extra): New macro.
	(mail-header-set-extra): Ditto.
	(make-full-mail-header): Expand.

Sat Oct 24 07:41:42 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.37 is released.

1998-10-24 07:29:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-decode-body): Check for multibyticity.

	* mm-util.el (mm-enable-multibyte): Don't always switch multibyte
	on.

1998-10-22  Didier Verna  <verna@inf.enst.fr>

	* gnus-spec.el (gnus-balloon-face-function): new function
	(gnus-parse-format): understand the %< %> specifiers
	(gnus-parse-complex-format): ditto.

1998-10-24 06:31:33  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Changed following-char to char-after throughout.

1998-10-22 04:05:55  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-display-external): Protect more and message.

Wed Oct 21 03:26:30 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-xmas.el (gnus-xmas-article-push-button): Go to the
	position.

Tue Oct 20 23:37:43 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-display-mixed): Multipart in
	mixed part.

Tue Oct 20 23:36:43 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-exit): Use mm-destroy-parts.

	* gnus-sum.el (gnus-summary-exit-no-update): Ditto.

Tue Oct 20 16:22:51 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el (mm-uu-dissect): Create pseudo multipart head.

1998-10-21  Hrvoje Niksic  <hniksic@srce.hr>

	* mailcap.el (mailcap-save-binary-file): Use unwind-protect.

	* mm-decode.el (mm-display-external): Set undisplayer to mm
	buffer, not the current buffer; use unwind-protect.

1998-10-21 00:07:59  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-exit): Destroy parts.
	(gnus-summary-exit-no-update): Ditto.

1998-10-20 22:02:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inline-media-tests): Look for w3.

	* mailcap.el (mailcap-mime-data): Inline html.

Tue Oct 20 20:25:03 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.36 is released.

1998-10-20 18:13:08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-translate-strings):
	(gnus-article-dumbquotes-map): Don't dot.

	* pop3.el (pop3-open-server): Set point right.

	* mm-decode.el (mm-dissect-multipart): Dissect hierarchically.
	(mm-dissect-buffer): Ditto.
	(mm-destroy-part): Ignore non-handles.
	(mm-remove-part): Ditto.
	(mm-destroy-parts): New function.
	(mm-remove-parts): Ditto.

	* gnus-art.el (gnus-mm-display-part): Don't move point.

Tue Oct 20 02:16:36 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-uu.el : New file.

	* gnus-art.el (gnus-display-mime): Dissect uu stuffs.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Encoding as
	a function.

1998-10-20 00:35:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-display-external): Check before selecting.

Sat Sep 26 02:03:00 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-multi-decode-encoded-word-string): Rewrite.

	* gnus-sum.el (gnus-decode-encoded-word-methods): New variable.

	* gnus-sum.el (gnus-decode-encoded-word-methods-cache): New
	variable.

	* gnus-sum.el (gnus-encoded-word-method-alist): Deleted.

	* gnus-art.el (gnus-decode-header-methods): New variable.

	* gnus-art.el (gnus-decode-header-methods-cache): New variable.

	* gnus-art.el (gnus-multi-decode-header): New function.

Tue Oct 20 00:24:16 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.35 is released.

1998-10-20 00:00:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* uudecode.el (uudecode-decode-region-external): Insert
	literally.

	* gnus-xmas.el (gnus-xmas-mime-button-menu): Moved here.

	* mm-bodies.el (mm-decode-body): Optional encoding.

1998-10-19 23:57:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-ems.el (gnus-mouse-3): New variable.

	* binhex.el (binhex-decode-region-external): Don't use -internally.

1998-10-16 14:54:02  Simon Josefsson  <jas@pdc.kth.se>

	* mailcap.el (mailcap-parse-mailcaps): Only open regular
	files.

1998-09-26 22:28:01  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-group.el (gnus-add-marked-articles): Request backend update
	of flags.

1998-09-26 19:39:31  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-update-read-articles):
	(gnus-update-marks): Request backend update of mark.

1998-09-26 19:33:58  Simon Josefsson  <jas@pdc.kth.se>

	* gnus.texi (Optional Backend Functions): New item,
	nnchoke-request-set-mark.

1998-09-26 16:27:27  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-range.el (gnus-remove-from-range): Don't add stuff in
          list to range.

1998-10-19 23:45:13  Simon Josefsson  <jas@pdc.kth.se>

	* gnus-sum.el (gnus-summary-exit-no-update): Don't expire.

1998-10-14  SL Baur  <steve@altair.xemacs.org>

	* gnus-sum.el: Move gnus-save-hidden-threads above where it is
	first used.

1998-10-10  SL Baur  <steve@altair.xemacs.org>

	* mm-view.el: Require mm-decode for macros.

	* mm-decode.el (mm-handle-type): Move macro declarations above the
	place where they are used.

Sun Oct 18 13:59:07 1998  Kurt Swanson  <ksw@dna.lth.se>

        * gnus-msg.el (gnus-summary-mail-forward): Erase old forward
        buffer.

1998-10-19 23:38:11  Katsumi Yamaoka  <yamaoka@ga.sony.co.jp>

	* nnagent.el (nnagent-open-server): Error message.

1998-10-19 23:35:08  Joerg Lenneis  <lenneis@statrix2.wu-wien.ac.at>

	* nnheader.el (nnheader-article-p): Recognize lower-case headers.

1998-10-19  Hrvoje Niksic  <hniksic@srce.hr>

	* score-mode.el (gnus-score-mode-map): Ditto.

	* message.el (message-mode-map): Ditto.

	* gnus-uu.el (gnus-uu-post-news): Ditto.

	* gnus-kill.el (gnus-kill-file-mode-map): Ditto.

	* gnus-eform.el (gnus-edit-form-mode-map): Ditto.

	* gnus-art.el (gnus-article-edit-mode-map): Use
	`set-keymap-parent' rather than `copy-keymap'.

1998-10-18  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-art.el (gnus-mime-button-commands): New variable.
	(gnus-mime-button-map): Initialize it from
 	`gnus-mime-button-commands'.
	(gnus-mime-button-menu): New function.
	(gnus-insert-mime-button): Use `gnus-mime-button-map'.

1998-10-11  Hrvoje Niksic  <hniksic@srce.hr>

	* message.el (message-insert-to): Make `nobody' and `poster'
 	synonymous to `never' and `always' in Mail-Copies-To.
	(message-reply): Ditto.
	(message-followup): Ditto.

1998-10-19 23:17:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-data): Save sound.

1998-09-24  Hrvoje Niksic  <hniksic@srce.hr>

	* message.el (message-ignored-supersedes-headers): Include
 	`NNTP-Posting-Date'.

1998-10-19 01:25:27  Jonas Steverud  <d4jonas@dtek.chalmers.se>

	* gnus-art.el (gnus-article-dumbquotes-table): New variable.

1998-10-19 00:50:22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-decode-content-transfer-encoding): Use
	uudecode.

1998-10-18 18:20:34  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-display-external): Don't switch on save.

1998-10-18 18:14:06  Andy Piper  <andyp@parallax.co.uk>

	* nnmail.el (nnmail-movemail-args): New variable.

1998-10-18 00:17:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-translate-strings):

1998-10-17 22:51:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-view-part): Use it.
	(gnus-mm-display-part): New function.
	(article-de-quoted-unreadable): Yse mm-default-coding-system.

	* mm-decode.el (mm-handle-displayed-p): New function.

	* gnus-art.el (gnus-mime-copy-part): Create better names.
	(gnus-mime-button-line-format): Include dots spec.

1998-10-15  Matt Pharr  <mmp@graphics.stanford.edu>

      * gnus-msg.el (gnus-summary-mail-forward): Erase contents of old
      forward buffer first.

1998-10-17 21:16:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-set-window-start): New function.

	* message.el (message-send): Don't check changed.

1998-10-12 15:26:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-setup-buffer): Set params.

	* mm-decode.el (mm-user-display-methods): Inline
	"message/delivery-status".

1998-10-11 07:06:38  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-auto-save-directory): Rename.
	(message-mode): Dof fix.

	* gnus-art.el (gnus-summary-save-in-pipe): Default to "cat".
	(gnus-summary-save-in-pipe): No, check gnus-last-shell-command.

	* nndoc.el (nndoc-mime-parts-type-p): Be a bit more forgiving.

	* message.el (message-make-date): Avoid locale.

	* gnus-art.el (gnus-article-edit-done): Allow update before doing
	cache.

	* mm-decode.el (mm-display-inline): Goto point-min.

	* gnus-art.el (gnus-article-prepare-display): Not read-only.

	* mm-decode.el (mm-display-external): Reverse before sorting.

	* gnus-draft.el (gnus-draft-send): Allow mail.

1998-10-10 -SL Baur  <steve@altair.xemacs.org>

	* message.el (message-check): Move message-check macro above where
	it is first used.

	* gnus-art.el (article-hide-pgp): Hide the PGP 5/GNUPG Hash: line.

1998-10-11 06:45:37  Lloyd Zusman  <ljz@asfast.com>

	* gnus-sum.el (gnus-summary-make-menu-bar): Fix.

Sun Oct 11 02:28:40 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.34 is released.

1998-10-11 02:15:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inline-media-tests): delivery-status.

	* mm-view.el (mm-inline-text): Provide default.

1998-10-11 01:01:37  Lloyd Zusman  <ljz@asfast.com>

	* mailcap.el (mailcap-possible-viewers): Fix nils.

1998-10-11 00:03:37  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-edit-exit): Don't do updates.
	(article-update-date-lapsed): Record the buffer.
	(article-update-date-lapsed): Do all windows that display article
	buffers.

	* nnml.el (nnml-generate-nov-databases-1): Ditto.

	* gnus-score.el (gnus-score-score-files-1): Ignore dotted files.

	* gnus-art.el (gnus-insert-mime-button): Mark buttons as
	annoations.

	* gnus-msg.el (gnus-summary-mail-forward): Decode properly.

1998-10-10 22:07:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-category-add): Change default category to
	'false.

	* nnvirtual.el (nnvirtual-update-read-and-marked): Don't nix out
	scores.

	* gnus-draft.el (gnus-draft-send): Check server more.

	* gnus-art.el (gnus-article-view-part): New command and keystroke.
	(gnus-article-goto-part): New function.

	* mm-view.el (mm-inline-text): Insert richtext properly.

	* gnus-art.el (gnus-insert-mime-button): Store handle in alist.

1998-10-03 15:04:27  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* parse-time.el (parse-time-rules): Accept dates far into the past
	and the future, and parse single-digit numbers as years.

1998-10-02 04:46:46  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-display-external): Chop off directories.

1998-10-01 07:33:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* uudecode.el (uu-decode-region-external): Use
	insert-file-contents-literally.

	* gnus-cache.el (gnus-cache-generate-active): Translate _ to :.

1998-10-01 07:02:11  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* uudecode.el: New file.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Do
	x-uuencode.

1998-10-01 05:19:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-display-alternative): Set faces.

	* message.el (message-fetch-field): Unfold properly.

	* mm-bodies.el (mm-decode-content-transfer-encoding): Replace CRLF
	in text/plain.

1998-09-30 05:47:49  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-first-unread-subject): New command.
	(gnus-auto-select-first): Removed.
	(gnus-auto-select-first): Extended.
	(gnus-summary-read-group-1): Use new value.

1998-09-29 13:21:06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-fix-before-sending): Space.

	* nnmail.el (nnmail-find-file): Don't erase.

Wed Sep 30 23:49:03 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-agent.el (gnus-agent-fetch-headers): Do not decode headers.

Wed Sep 30 23:46:29 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-soup.el (gnus-soup-add-article): Do not decode headers.

Wed Sep 30 23:44:08 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-soup.el (gnus-soup-pack-packet): Pack only if necesary.

Sat Sep 26 03:04:18 1998  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* mm-util.el (mm-with-unibyte-buffer): Make it work in XEmacs
 	20.4.

1998-09-29 11:35:09  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-view-all-parts): New command and
	keystroke.

	* mm-decode.el (mm-display-external): Translate slashes.

	* nnmail.el (nnmail-find-file): Restrict auto-mode-alist.

	* nndraft.el (nndraft-retrieve-headers): Don't copy so much.

	* mm-decode.el (mm-quote-arg): Quote spaces.
	(mm-display-external): Quote args.

1998-09-24 22:27:55  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-inlinable-part-p): New function.

1998-09-25 22:28:01  Simon Josefsson  <jas@pdc.kth.se>

       * mm-util.el (mm-disable-multibyte): New function.

Thu Sep 24 20:28:31 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.33 is released.

1998-09-24 18:47:31  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-insert-mime-button): Get buffer size.

	* mm-decode.el (mm-display-external): Don't switch for externals.
	(mm-dissect-multipart): Don't include end-sep.

	* mm-util.el (mm-get-coding-system-list): New function.
	(mm-coding-system-list): New variable.

Thu Sep 24 02:08:10 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* gnus-cus.el (gnus-group-parameters): Add charset as a parameter

Thu Sep 24 02:05:48 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* gnus-cus.el (gnus-group-customize): Use variable as cons not as
 	group

Thu Sep 24 01:41:03 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* base64.el (base64-run-command-on-region): External base64
	decoder do not use coding system

Thu Sep 24 01:39:44 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-interactively-view-part): Typo.

Thu Sep 24 01:37:30 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-multipart): Display last part when the
	article has no close-delimiter

Thu Sep 24 01:28:54 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* mm-decode.el (mm-dissect-buffer): Display parts which have no
	content-type.

Thu Sep 24 01:23:57 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-display-mime): Typo.

Thu Sep 24 02:29:57 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.32 is released.

1998-09-24 00:27:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-kill.el (gnus-batch-score): Protect against errors.

	* gnus-art.el: Protect against broken headers.

	* mm-decode.el (mm-display-external): Respect needsterm.
	(mm-display-external): Create buffer for external commands.

1998-09-23 22:04:05  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mailcap.el (mailcap-mime-info): Return the proper viewer.

	* mm-decode.el (mm-display-external): Use file name.

1998-09-22  Markus Rost  <markus.rost@mathematik.uni-regensburg.de>

	* gnus-util.el (gnus-output-to-rmail):  adjust to
          `rmail-output-to-rmail-file'

1998-09-23 20:07:00  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-output-to-rmail): Reinstated function.

	* gnus-sum.el (gnus-select-newsgroup): Set global variables before
	headers.

	* gnus-art.el (article-decode-charset): Fold case.

1998-09-17 15:49:10  Simon Josefsson  <jas@pdc.kth.se>

        * mailcap.el (mailcap-save-binary-file): Goto point-min.

1998-09-23 19:48:52  Aaron M. Ucko  <amu@mit.edu>

	* nnmail.el (nnmail-check-duplication): Enter into duplicate list
	after being stored.

Tue Sep 15 16:15:16 1998  Kurt Swanson  <ksw@dna.lth.se>

	* gnus-salt.el (gnus-pick-setup-message): Return from whence ye
	come.

1998-09-23 19:42:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-xmas.el (wid-edit): Required.

	* gnus-ems.el (gnus-widget-button-keymap): New variable.

Sun Sep 20 00:27:55 1998  ZHU Shenghuo  <zsh@cs.rochester.edu>

	* gnus-art.el (gnus-mime-inline-part): remove part if necessary

1998-09-23 19:30:52  Matt Armstrong  <matta@geoworks.com>

	* gnus-art.el (article-decode-charset): Narrow to the correct
	region.

	* mm-bodies.el: Fix autoload.

1998-09-22 18:35:12  Lee Willis  <lee@gbdirect.co.uk>

	* gnus-art.el (gnus-mime-button-line-format): Doc fix.

1998-09-22 14:53:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-decode): Use rfc2047-default-charset.

1998-09-19 13:58:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-insert-mime-button): Specify keymap.
	(gnus-article-add-button): Ditto.

	* gnus-sum.el (gnus-summary-insert-pseudos): Use mm.

	* gnus-art.el (gnus-article-prepare-display): Make article mode.
	(gnus-article-prepare-display): Bind url-standalone-mode.

	* mm-decode.el (mm-remove-part): Also delete directory.
	(mm-display-external): Create a private sub-dir.

	* mailcap.el (mailcap-binary-suffixes): New variable.
	(mailcap-command-p): Use it.

1998-09-16 10:38:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmbox.el (nnmbox-request-group): Change server.
	(nnmbox-possibly-change-newsgroup): Enable multibyte.

	* message.el (message-encode-message-body): Don't stomp MIME
	headers.

	* gnus-sum.el (gnus-summary-edit-article-done): Don't encode
	unless useful.
	(gnus-summary-exit): Check for a live article buffer.
	(gnus-summary-exit-no-update): Ditto.

	* gnus-int.el (gnus-request-replace-article): Accept no-encode
	param.

	* gnus-sum.el (gnus-article-decoded-p): New variable.

	* mm-decode.el (mm-display-external): Use no-conv.

	* rfc2047.el (rfc2047-q-encode-region): Bound properly.
	(rfc2047-charset-encoding-alist): Use B encoding for koi8-r.

	* gnus-art.el (gnus-article-mode-map): Bind button2 to
	mouse-click.

1998-09-15 14:38:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-agent.el (gnus-agent-expire): Protect against nil infos.

Mon Sep 14 18:55:38 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.31 is released.

1998-09-14 15:12:59  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-exit): Destroy MIME.

	* mm-decode.el (mm-display-part): Accept no-default.

	* gnus-art.el (gnus-insert-mime-button): buffer-size doesn't take
	a parameter.

	* gnus-sum.el (gnus-summary-insert-line): Don't exclude faces.
	(gnus-summary-prepare-threads): Ditto.

	* gnus.el (gnus-article-mode-map): Make sparse keymap.

	* gnus-art.el (gnus-mime-button-line-format-alist): Allow a %d spec.
	(gnus-mime-button-line-format): Doc fix.
	(gnus-insert-mime-button): Use it.
	(gnus-article-add-button): Use widget-convert-button.

	* gnus.el ((featurep 'gnus-xmas)): Defalias gnus-decode-rfc1522 to
	ignore.

	* mm-decode.el (mm-alternative-precedence): Ditto.

1998-09-14 15:12:49  Conrad Sauerwald  <conrad@stack.nl>

	* mm-decode.el (mm-user-automatic-display): Use enriched.

1998-09-14 15:09:12  Paul Fisher  <rao@gnu.org>

	* mm-decode.el (mm-dissect-multipart): Have the part start on the
	right place.

1998-09-14 14:33:34  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-inews-add-send-actions): Mark silently.

	* gnus-art.el (article-update-date-lapsed): Only update header if
	buffer is dispalyed in frame.
	(gnus-article-prepare-display): New function.
	(gnus-article-prepare): Use it.

1998-09-14 08:16:43  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-inline-part): New command and keystroke.

	* mm-view.el (mm-insert-inline): New function.

	* mm-decode.el (mm-pipe-part): Bugged.

	* gnus-agent.el (gnus-agent-send-mail): Don't encode.

	* mm-bodies.el (mm-encode-body): Move over the body.

	* nnmbox.el (nnmbox-read-mbox): Enable multibyte.

	* rfc2047.el (rfc2047-q-encode-region): Would bug out.

1998-09-13  Francois Pinard  <pinard@iro.umontreal.ca>

	* nndoc.el: Make nndoc-dissection-alist simpler for MIME, adjust all
          related functions.  Handle message/rfc822 parts.  Display subject on
          multipart summary lines.  Display name on sub-parts when available.

1998-09-14 07:36:38  Hallvard B. Furuseth  <h.b.furuseth@usit.uio.no>

	* mailcap.el (mailcap-command-p): New version.

1998-09-13  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus-agent.el (gnus-agent-expire): Stop expiry barfing on killed
	groups.

1998-09-13 18:34:06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-make-date): Remove weekday name.

	* mm-decode.el (mm-dissect-buffer): Protect against broken
	headers.

	* mailcap.el (mailcap-command-in-path-p): New function.
	(mailcap-command-p): Renamed.

1998-09-13 17:58:47  Hallvard B. Furuseth  <h.b.furuseth@usit.uio.no>

	* rfc2047.el (eval): Autoload.

1998-09-13 12:22:40  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-decode-encoded-word-functions): New variable.
	(gnus-multi-decode-encoded-word-string): New function.
	(gnus-encoded-word-method-alist): New variable.
	(gnus-decode-encoded-word-functions): Removed.

1998-09-13  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-int.el (gnus-request-replace-article): Replace
	message-narrow-to-headers with message-narrow-to-head

1998-09-13 12:05:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* drums.el (drums-quote-string): Reversed match.

	* message.el (message-make-date): Use weekday name.

Sun Sep 11 10:27:15 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.30 is released.

1998-09-13 08:00:41  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-decode-encoded-words): Use it.
	(gnus-decode-header-function): New variable.

	* gnus-sum.el (gnus-nov-parse-line): Use it.
	(gnus-decode-encoded-word-function): New variable.

	* gnus-msg.el (gnus-copy-article-buffer): Decode the right
	buffer.

	* gnus-art.el (gnus-insert-mime-button): Use widget.
	(gnus-widget-press-button): New function.
	(gnus-article-prev-button): Removed.
	(gnus-article-next-button): Ditto.
	(gnus-article-add-button): Ditto.

	* gnus.el (gnus-article-mode-map): Inherit from widget.
	(gnus-article-mode-map): No, don't.

	* mm-decode.el (mm-dissect-buffer): Store Content-ID things.
	(mm-content-id-alist): New variable.
	(mm-get-content-id): New function.

	* gnus-art.el (gnus-request-article-this-buffer): Only decode
	articles if we are fetching to the article buffer.

1998-09-13 07:58:59  Shenghuo ZHU  <zsh@cs.rochester.edu>

	* gnus-sum.el (gnus-summary-move-article): Don't decode accepting
	articles.

1998-09-13 07:23:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-mime-charset): Try to use safe-charsets.
	(mm-default-mime-charset): New variable.

	* rfc2047.el (rfc2047-dissect-region): Dissect using tspecials.

	* drums.el (drums-quote-string): Reversed test.

1998-09-12 14:29:21  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-insert-rfc822-headers): Possibly not quote
	string.

	* drums.el (drums-quote-string): New function.

	* rfc2047.el (rfc2047-encode-message-header): Goto point-min.
	(rfc2047-b-encode-region): Chop lines.
	(rfc2047-q-encode-region): Ditto.

Sat Sep 12 13:27:15 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.29 is released.

1998-09-12 12:46:30  Istvan Marko  <imarko@pacificnet.net>

	* mm-decode.el (mm-save-part): Message right.

1998-09-12 11:30:01  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* drums.el (drums-parse-address): Returned a list instead of a
	string.
	(drums-remove-whitespace): Skip comments.
	(drums-parse-addresses): Didn't work.

Sat Sep 12 09:17:30 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.28 is released.

1998-09-12 04:57:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-mime-button-map): Use the article keymap as a
	starting point.
	(article-decode-encoded-words): Rename.

	* message.el (message-narrow-to-headers-or-head): New function.

	* gnus-int.el (gnus-request-accept-article): Narrow to the right
	region.

	* message.el (message-send-news): Encode body after checking
	syntax.

	* gnus-art.el (gnus-mime-button-line-format): Allow descriptions.

	* mm-decode.el (mm-save-part): Use Content-Disposition filename.

	* gnus-art.el (gnus-display-mime): Respect disposition.

	* mm-decode.el (mm-preferred-alternative): Respect disposition.

	* gnus-art.el (article-strip-multiple-blank-lines): Don't delete
	text with annotations.

	* message.el (message-make-date): Fix sign for negative time
	zones.

	* mm-view.el (mm-inline-image): Insert a space at the end of the
	image.

	* mail-parse.el: New file.

	* rfc2231.el: New file.

	* drums.el (drums-content-type-get): Removed.
	(drums-parse-content-type): Ditto.

	* mailcap.el (mailcap-mime-data): Use symbols instead of strings.

Fri Sep 11 18:23:34 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.27 is released.

1998-09-11 12:42:07  Lars Magne Ingebrigtsen- <larsi@gnus.org>

	* mm-decode.el (mm-alternative-precedence): New variable.
	(mm-preferred-alternative): New function.

	* gnus-art.el (gnus-mime-copy-part): New command.

	* mm-decode.el (mm-get-part): New function.

	* mm-view.el: New file.

	* mm-decode.el (mm-dissect-buffer): Downcase cte.
	(mm-display-part): Default to mailcap-save-binary-file.

Fri Sep 11 12:32:50 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.26 is released.

1998-09-11 08:25:33  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el (mm-interactively-view-part): New function.

	* gnus-art.el (gnus-mime-view-part): New command.

	* mm-decode.el (mm-last-shell-command): New variable.

	* mailcap.el (mailcap-mime-info): Allow returning all matches.

	* mm-decode.el (mm-save-part): New function.

	* gnus-art.el (article-decode-charset): Protect against buggy
	content-types.
	(gnus-mime-pipe-part): New command.
	(gnus-mime-save-part): New command.
	(gnus-mime-button-map): New keymap.
	(gnus-mime-button-line-format): New variable.
	(gnus-insert-mime-button): New function.
	(gnus-display-mime): Use it.

	* gnus-util.el (gnus-dd-mmm): Removed length spec.

	* mm-decode.el (mm-inline-text): Decode charsets.

	* gnus-art.el (gnus-article-save): Comment fix.

	* gnus-int.el (gnus-start-news-server): When in batch, don't
	prompt.

	* gnus-cache.el (gnus-cache-possibly-enter-article): Don't
	decode.

	* mm-decode.el (mm-inline-media-tests): Add audio.
	(mm-inline-audio): New function.

1998-09-11 08:19:22  Katsumi Yamaoka  <yamaoka@ga.sony.co.jp>

	* gnus-art.el (article-make-date-line): Didn't work.

	* parse-time.el (parse-time-string): One too many nils.

Fri Sep 11 08:09:40 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.25 is released.

1998-09-11 07:38:14  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-remove-trailing-blank-lines): Don't remove
	annotations.

	* gnus.el ((featurep 'gnus-xmas)): New
	'gnus-annotation-in-region-p alias.

1998-09-10 06:20:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-with-unibyte-buffer): New function.

	* gnus-uu.el (gnus-quote-arg-for-sh-or-csh): Renamed.

	* mm-decode.el (mm-inline-media-tests): New variable.

	* gnus-sum.el (gnus-summary-exit): Destroy handles.

	* gnus-art.el (gnus-article-mime-handles): New variable.

	* drums.el (drums-narrow-to-header): New function.

	* gnus-art.el (article-decode-charset): Use it.

	* drums.el (drums-content-type-get): New function.

	* mm-util.el (mm-content-type-charset): Removed.

	* drums.el (drums-syntax-table): @ is word.
	(drums-parse-content-type): New function.

	* parse-time.el (parse-time-rules): Parse "Wed, 29 Apr 98 0:26:01
	EDT" times.

	* gnus-util.el (gnus-date-get-time): Use safe date.

	* gnus-sum.el (gnus-show-mime): Removed.
	(gnus-summary-toggle-mime): Removed.

	* gnus-art.el (gnus-strict-mime): Removed.
	(gnus-article-prepare): Don't do MIME.
	(gnus-decode-encoded-word-method): Removed.
	(gnus-show-mime-method): Removed.

Thu Sep 10 04:03:29 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.24 is released.

1998-09-10 01:58:24  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-sum.el (gnus-summary-show-article): Don't decode chars if
	PREFIX.

	* parse-time.el (parse-time-rules): Accept times that look like
	"h:mm".

	* message.el (message-make-date): Use zone properly.

	* gnus.el: Autoload gnus-batch.

	* gnus-art.el (article-de-quoted-unreadable): Do not do
	gnus-article-decode-rfc1522.

	* gnus-msg.el (gnus-inews-do-gcc): Use it.

	* gnus-int.el (gnus-request-accept-article): Accept a no-encode
	param.

	* message.el (message-encode-message-body): Check for us-ascii.

	* gnus-msg.el (gnus-extended-version): Move Gnus version comments
	to the left.

1998-09-09 13:18:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (article-decode-charset): Rename.

Wed Sep  9 12:25:48 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.23 is released.

1998-09-09 12:14:47  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-parent-id): Ditto.
	(gnus-put-text-property-excluding-newlines): Ditto.

	* gnus-sum.el (gnus-dependencies-add-header): Make into subst.

1998-09-08  Karl Kleinpaste  <karl@jprc.com>

	* message.el (message-generate-headers): Generate User-Agent
	instead of X-Mailer & X-Newsreader.

	* gnus-msg.el (gnus-extended-version): Reformat for USEFOR
	User-Agent header format.

Tue Sep  8 22:38:27 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.22 is released.

1998-09-08 22:36:54  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-multibyte-p): Typo.

Tue Sep  8 22:25:53 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.21 is released.

1998-09-08  Hrvoje Niksic  <hniksic@srce.hr>

	* gnus-art.el (article-treat-dumbquotes): Handle \224 correctly.

1998-09-08 22:18:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el (mm-multibyte-p): New function.

Tue Sep  8 21:43:03 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.20 is released.

1998-09-08 11:40:45  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-decode-region): Only decode when in
	multibyte.

	* nnheader.el (nnheader-pathname-coding-system): Changed to binary.

	* gnus-int.el (gnus-request-replace-article): Encode.
	(gnus-request-accept-article): Encode.

	* gnus-art.el (gnus-request-article-this-buffer): Decode charsets
	here.

	* gnus.el (gnus-article-display-hook): Take the charset functions
	out.

	* time-date.el (safe-date-to-time): New function.

	* gnus-util.el (gnus-dd-mmm): Protect against bogus dates.

Tue Sep  8 07:09:28 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.19 is released.

1998-09-08 04:51:39  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* base64.el (base64-encode-region): Accept no-line-break.

	* mm-util.el (mm-mime-charset): New function.

	* gnus-draft.el (gnus-draft-edit-message): Delete article.

Tue Sep  8 04:29:23 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.18 is released.

1998-09-08 02:21:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-and-exit): Return t on success.
	(message-make-date): Make a proper time zone.

	* gnus-draft.el (gnus-draft-send): Only remove article if the
	sending is successful.

	* drums.el (drums-get-comment): Return the last comment.
	(drums-parse-address): Parse old-style From headers.

1998-09-07  SL Baur  <steve@altair.xemacs.org>

	* gnus-sum.el (gnus-data-compute-positions): Move below
	`gnus-save-hidden-threads' so the former is correctly detected as
	a macro.

1998-09-06  Dave Love  <fx@gnu.org>

	* gnus/nnweb.el (require): Wrap requirement of w3 and url in
	ignore-errors too, eval'd when compile.  Require w3 stuff at load
	time for nicer failure if it's not available.

1998-09-08 00:38:39  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* time-date.el (time-to-seconds): Renamed.

	* parse-time.el (parse-time-string): Downcase before handling.
	(parse-time-rules): Times without seconds have 0 seconds.

	* rfc2047.el (rfc2047-encode-region): New version.
	(rfc2047-dissect-region): New function.

1998-09-07 01:08:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-make-date): Use symbolic zone.

1998-09-06 23:23:06  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* time-date.el (parse-time): Always use parse-time.

	* parse-time.el (parse-time-syntax): Use vectors.

Sun Sep  6 21:19:26 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.17 is released.

1998-09-06 05:45:17  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* time-date.el: Renamed from "date".

	* gnus.el: Removed all timezone dependencies.

	* score-mode.el: Removed.
	(gnus-score-edit-insert-date): Use date.

	* date.el (float-to-time): New function.

	* nnspool.el (nnspool-seconds-since-epoch): Removed.

	* date.el (time-to-float): New function.

	* message.el (message-make-date): Use format-time-string.
	(message-make-expires): Use make-date.

	* gnus-xmas.el (gnus-xmas-seconds-since-epoch): Removed.

	* gnus-util.el (gnus-dd-mmm): Use date.
	(gnus-sortable-date): Ditto.

	* message.el (message-make-date): Take an optional time.

	* gnus: Applied patches from 5.6.43.

	* date.el (if): Use parse-time.

	* gnus-score.el (gnus-summary-score-entry): Make into a command
	again.

	* gnus-group.el (gnus-group-get-new-news-this-group): Only call if
	gnus-agent.

	* gnus.el (gnus-agent-meta-information-header): Moved here.

1998-09-05  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus-agent.el (gnus-agent-scoreable-headers): New variable.
	(gnus-agent-fetch-group-1): Score article headers using normal
 	group score files if the download score rule of a category/group
 	is `file'.
	(gnus-agent-fetch-group-1): Don't parse the entire .overview when
 	deciding what articles to download.
	(gnus-agent-fetch-group-1): Don't push headers through scoring and
 	predicate processing if predicate is `true' or `false'.

1998-09-06 01:56:02  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-score.el (gnus-score-load-score-alist): Bind coding system.

	* gnus-art.el (gnus-article-setup-buffer): Enable multibyte.

	* score-mode.el (score-mode-coding-system): New variable.
	(gnus-score-edit-exit): Use it.

1998-09-04  Jason R Mastaler  <jason@4b.org>

	* drums.el: Corrected typo.

1998-09-05 23:24:43  Hallvard B. Furuseth  <h.b.furuseth@usit.uio.no>

	* mm-bodies.el (mm-body-encoding): Faster version.

1998-09-05 22:23:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-decode-charset): Only decode text
	things.

	* message.el (message-output): Use rmail.

	* rfc2047.el (rfc2047-encoded-word-regexp): Allow spaces in the
	word part.

	* mm-util.el (mm-charset-to-coding-system): Use
	rfc2047-default-charset.
	(mm-known-charsets): New variable.

	* message.el (message-caesar-region): Bugged out.

1998-09-06  Mike McEwan  <mike@lotusland.demon.co.uk>

	* gnus-agent.el (gnus-agent-fetch-group-1): Allow lists when
	specifying `agent-predicate' in a group's parameters.

Sat Sep  5 21:55:01 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.16 is released.

1998-09-05 17:30:11  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnmail.el (nnmail-expired-article-p): Use predicate.

	* date.el (time-less-p): Renamed.

	* gnus-art.el (gnus-article-decode-charset): Really fetch headers
	from the headers.

	* rfc2047.el (rfc2047-decode-region): Use the mm decoding
	functions.

	* gnus-group.el (gnus-group-sort-selected-flat): Didn't work at
	all.
	(gnus-group-sort-selected-groups-by-alphabet): Changed interface
	to all functions.

Sat Sep  5 01:45:52 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.15 is released.

1998-09-05 00:21:22  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* date.el: New file.

	* gnus-util.el (gnus-encode-date): Removed.
	(gnus-time-less): Ditto.

	* nnmail.el (nnmail-date-to-time): Removed.
	(nnmail-time-less): Ditto.
	(nnmail-days-to-time): Ditto.
	(nnmail-time-since): Ditto.

	* drums.el: New file.

1998-09-04 00:25:52  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-encode-message-body): Encode headers with
	body encoding.

	* rfc2047.el (rfc2047-default-charset): Renamed.
	(rfc2047-encodable-p): Use it.

	* base64.el (mm-util): Required.

1998-09-03 16:28:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-post-method): Peel off real info from opened
	servers.

	* gnus-util.el (gnus-output-to-rmail): Removed.

	* gnus-art.el (gnus-summary-save-in-rmail): Use
	gnus-output-to-rmailrmail-output-to-rmail-file.

	* rfc2047.el (rfc2047-decode-region): Fold case.
	(rfc2047-decode): Use decode-string.

	* mm-util.el: Provide mm-char-int.

Thu Sep  3 15:23:22 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.14 is released.

1998-09-03 15:08:30  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-body-encoding): Go through the buffer to make
	sure we have 7bit.

1998-09-02 14:38:18  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-msg.el (gnus-post-method): Use opened servers, and remove
	ducplicates.
	(gnus-inews-insert-mime-headers): Removed.

	* message.el (message-caesar-region): Protect against MULE chars.

1998-09-02 00:36:23  Hallvard B. Furuseth  <h.b.furuseth@usit.uio.no>

	* mm-util.el (if): fset the right function.

1998-09-02 00:31:53  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-decode-charset): Use real
	read-coding-system.

1998-09-01 17:58:40  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-decode-body): Protect against malformed
	base64.
	(mm-decode-body): Check that buffer-file-coding-system is
	non-nil.

Tue Sep  1 10:29:33 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.13 is released.

1998-09-01 09:14:33  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-util.el (gnus-strip-whitespace): Already defined.
	Removed.

	* gnus-art.el (gnus-article-decode-charset): Strip whitespace.

	* gnus-util.el (gnus-strip-whitespace): New function.

	* mm-util.el (mm-content-type-charset): Downcase.

1998-08-31 23:04:29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-decode-charset): Accept a prefix.
	(gnus-article-decode-charset): Don't fetch all headers.

	* mm-util.el (mm-read-coding-system): New function.

	* mm-bodies.el (mm-decode-body): Check the right charset.

	* gnus-sum.el (gnus-summary-mode-line-format): Ditto.

	* gnus-art.el (gnus-article-mode-line-format): Use short group
	format.

Mon Aug 31 23:03:13 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.12 is released.

1998-08-31 22:39:36  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-bodies.el (mm-decode-body): Don't do charset unless MULE.

	* gnus-art.el (gnus-article-decode-charset): Supply cte.
	(gnus-article-decode-charset): Always run.

	* mm-bodies.el (mm-decode-body): Decode cte.

Mon Aug 31 22:14:50 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.11 is released.

1998-08-31 14:27:25  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-encode-message-body): Ditto.

	* gnus-art.el (gnus-article-decode-mime-words): New command and
	keystroke.
	(gnus-article-decode-charset): Ditto.
	(gnus-article-decode-charset): Only work under MULE.

	* mm-util.el (mm-content-type-charset): New function.

	* nnmail.el (nnmail-delete-incoming): Changed to nil.

	* message.el (message-send-mail): Insert MIME headers.
	(message-check-news-body-syntax): Don't warn for escape sequences.
	(message-check-news-body-syntax): Insert MIME headers.

	* mm-bodies.el (mm-body-encoding): New function.

	* message.el (message-encode-message-body): New function.

	* mm-bodies.el: New file.

	* mm-util.el (mm-narrow-to-head): New function.

	* rfc2047.el (rfc2047-encode): Use it.

	* mm-util.el: Provide mm-encode-coding-region.

	* gnus-sum.el (gnus-summary-mode): Enable multibyte.

	* gnus-util.el (gnus-set-work-buffer): Enable multibyte.

	* mm-util.el (mm-enable-multibyte): New function.

	* message.el (message-set-work-buffer): Set multibyte.

	* gnus.el (gnus-continuum-version): Be valid forever and ever.

	* gnus-util.el (gnus-point-at-eol): Removed.
	(gnus-point-at-bol): Ditto.

	* base64.el (base64-decode-region): Commented out messaging.

1998-08-31  Didier Verna  <verna@inf.enst.fr>

	* gnus-msg.el (gnus-group-mail): make it behave like
	gnus-group-post-news with regards to the prefix (this enables the
	use of posting styles).

1998-08-31 12:53:32  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el (gnus-article-display-hook): Added
	gnus-article-decode-rfc1522 to hook.

Mon Aug 31 12:43:46 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.10 is released.

1998-08-31 11:45:13  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnfolder.el (nnfolder-delete-mail): Narrow to mail and allow
	hook to be run.

1998-08-30 17:59:07  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* rfc2047.el (rfc2047-encodable-p): Use find-charset-region.

	* mm-util.el (mm-charsets-in-region): Removed.

	* rfc2047.el: Renamed file.

	* gnus-msg.el (gnus-copy-article-buffer): Multibyte.

	* message.el (message-mode): Set multibyte.

	* mm-util.el (mm-charsets-in-region): Copied here.

	* gnus-util.el: Removed gnus-truncate-string.

	* gnus-art.el (gnus-article-decode-mime-words): Use 1522.

	* rfc1522.el (rfc1522-unencoded-charsets): New variable.
	(rfc1522-encodable-p): New function.
	(rfc1522-encode-message-header): Use it.

Sun Aug 30 17:46:01 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.9 is released.

1998-08-30 16:13:08  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-util.el: Shadow encode-coding-string.

	* base64.el (base64-encode-region): Don't add newline.

	* rfc1522.el (rfc1522-narrow-to-field): Copied here.

	* mm-util.el: New file.

	* mm-decode.el: Somewhat depleted.
	* mm-encode.el: Ditto.

	* rfc1522.el: New file.

	* mm-util.el (mm-replace-chars-in-string): Copied here.

	* mm-encode.el (mm-q-encode-region): New function.

	* qp.el (quoted-printable-encode-region): Take an optional CLASS
	param.

	* mm-encode.el (mm-encode-word-region): Downcase.

Sun Aug 30 15:28:01 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.8 is released.

1998-08-30 12:23:03  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* message.el (message-send-mail): Encode headers.

	* qp.el (quoted-printable-encode-region): Encode 8-bit words.
	(quoted-printable-encode-region): Upcase.

	* message.el (message-default-charset): New variable.

	* qp.el (quoted-printable-encode-region): Optional param FOLD.

	* message.el (message-narrow-to-field): Changed name.

	* mm-encode.el: New file.

	* message.el (message-narrow-to-header): New function.

	* gnus-art.el (gnus-article-decode-mime-words): Place point in the
	right buffer.

Sun Aug 30 12:15:54 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.7 is released.

1998-08-30 01:26:12  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus.el: Remove autoload for
	gnus-article-mime-decode-quoted-printable.

	* mm-decode.el (mm-charset-to-coding-system): Allow iso-8859-1 to
	be decoded in non-MULE Emacsen.

	* gnus-xmas.el (gnus-xmas-logo-color-alist): More brown.

1998-08-29  SL Baur  <steve@altair.xemacs.org>

	* gnus-xmas.el (gnus-xmas-logo-color-alist): Try shades of brown.

1998-08-30 01:04:57  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* mm-decode.el: Check for coding-system-list.

Sun Aug 30 00:59:15 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.6 is released.

1998-08-30 00:36:28  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* nnheader.el (fboundp): Protect code-coding-string.

	* gnus-art.el (gnus-article-mode): Check that set-buffer-multibyte
	is available.

Sat Aug 29 23:24:31 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Pterodactyl Gnus v0.5 is released.

1998-08-29 22:38:35  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-mode): Make article buffer multibyte.
	(gnus-hack-decode-rfc1522): Removed.

	* mm-decode.el (mm-charset-coding-system-alist): Check better.

Sat Aug 29 22:20:39 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Gnus v0.4 is released.

1998-08-29 20:53:29  Lars Magne Ingebrigtsen  <larsi@gnus.org>

	* gnus-art.el (gnus-article-decode-mime-words): New command and
	keystroke.

	* qp.el (quoted-printable-decode-region): Don't use hexl.

	* gnus-xmas.el (gnus-xmas-logo-color-style): Changed to dino.

	* gnus-sum.el (gnus-parse-headers-hook): Default to nil.
	(gnus-structured-field-decoder): Removed.
	(gnus-unstructured-field-decoder): Ditto.

	* mm-decode.el: New file.

	* qp.el: New file.

	* gnus-art.el (article-mime-decode-quoted-printable): Removed.

	* gnus-ems.el (fboundp): Removed gnus-split-string.

	* gnus.el (gnus-splash-face): Doc fix.

	* gnus-ems.el (fboundp): Don't bind mail-file-babyl-p.

	* gnus-art.el (article-mime-decode-quoted-printable): Don't use
	hexl.

	* nnheader.el (nnheader-temp-write): Removed.

Sat Aug 29 20:34:17 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Gnus v0.3 is released.

Sat Aug 29 19:32:06 1998  Lars Magne Ingebrigtsen  <larsi@menja.ifi.uio.no>

	* gnus.el: Gnus v0.2 is released.

    Copyright (C) 1998, 1999, 2000 Free Software Foundation, Inc.
  Copying and distribution of this file, with or without modification,
  are permitted provided the copyright notice and this notice are preserved.
	
;; Local Variables:
;; coding: iso-2022-7bit
;; End:
